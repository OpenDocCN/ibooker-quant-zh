- en: Chapter 12\. Risk Management and Trading Psychology
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Risk management* is one of the pillars of any trading system, and in fact
    it may be the most important pillar. Finding a predictive and profitable trading
    strategy is what will make you money, but a sound risk management system is what
    will allow you to keep it.'
  prefs: []
  type: TYPE_NORMAL
- en: This chapter discusses the subjective part of the trading process and explains
    the known biases that you may encounter when trading.
  prefs: []
  type: TYPE_NORMAL
- en: Basics of Risk Management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Risk management does not have to be complex. You can create a solid risk management
    system by using the few simple rules given in this section.
  prefs: []
  type: TYPE_NORMAL
- en: Stops and Targets
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As previously discussed in the book, a *stop-loss order* is an automatic order
    set during the trade initiation to ensure a minimal predetermined loss. For example,
    if you buy a few contracts on gold at $1,500 in anticipation that it will go to
    $2,000, you may place your stop-loss order at $1,250 so that if the price drops
    to $1,250, you limit your losses to no more than $250\. At the same time, your
    anticipation of selling when the market price reaches $2,000 is known as a *take-profit
    order* (*target*).
  prefs: []
  type: TYPE_NORMAL
- en: The most basic risk management system for any trade is setting proper stops
    and targets so that you are framing your expectations and limiting your risks.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'One rule that you must never violate: always place stops and targets.'
  prefs: []
  type: TYPE_NORMAL
- en: Trailing Stops
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A *trailing stop* is a dynamic stop-loss order that follows the market price
    whenever it goes in the expected direction, thus ensuring less loss and at some
    point in time ensuring a no-loss trade. The best way to understand the trailing
    stop order is through an example. Suppose you go long on EURUSD at $1.0000 to
    target $1.0500\. You set your stop-loss order at $0.9900 to limit your losses.
    Now suppose two days have passed and the current market price is at $1.0230 and
    you want to ensure your trade never loses money. The solution to this is a trailing
    stop order where you move your stop from $0.9900 to $1.0000 so that, in the worst
    case, when the market drops back to $1.0000, you close out and break even. Another
    way of ensuring at least some profit is to move the stop to $1.0100, thus ensuring
    a profitable trade no matter what. Of course, the closer you move your stop to
    the current market price, the more likely you are to be stopped out (of profitably
    in this case).
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: It is always a good idea to use trailing stops with trend-following strategies.
  prefs: []
  type: TYPE_NORMAL
- en: Position Sizing
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '*Position sizing* is the choice of the number of contracts or lots to allocate
    for each trade. Some traders use the same size for all their trades, while others
    prefer to weight them differently depending on one or more factors. There are
    many ways of sizing your positions, and some use historical data, which takes
    into account your previous results to optimize the size. The following is a list
    of the techniques:'
  prefs: []
  type: TYPE_NORMAL
- en: Fixed amount
  prefs: []
  type: TYPE_NORMAL
- en: This is the simplest sizing technique as it does not require any effort. For
    example, you do not need to choose the number of contracts or how much money to
    allocate to trades. For example, you can invest $1,000 in each trade regardless
    of your capital or of the risk. This may be considered a simplistic technique,
    but some traders prefer to direct their efforts elsewhere and leave position sizing
    neutral.
  prefs: []
  type: TYPE_NORMAL
- en: Percentage of portfolio
  prefs: []
  type: TYPE_NORMAL
- en: This technique is a more dynamic version of the fixed-amount technique as the
    positions the trader takes grow and shrink since they are pegged to the portfolio’s
    size. For example, you have a 3% position size rule. If your portfolio is $100,000,
    then you should take $3,000 trades. If the market value of the portfolio changes
    to $120,000, then you should take $3,600 trades.
  prefs: []
  type: TYPE_NORMAL
- en: Conviction-wise
  prefs: []
  type: TYPE_NORMAL
- en: This is a subjective technique of sizing positions that is based on the degree
    of conviction of the trader. For example, if you have more faith in buying EURUSD
    than in buying Microsoft stocks, then you might allocate more money into the EURUSD
    trade. The difference in amounts depends on you.
  prefs: []
  type: TYPE_NORMAL
- en: Kelly criterion
  prefs: []
  type: TYPE_NORMAL
- en: 'This is an objective mathematical formula that tells you how much to invest
    by using your historical results. Created by John Kelly, the formula is mainly
    used in horse betting, but it is also used in trading. The formula is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: <math alttext="Kelly weight equals upper W minus StartFraction left-parenthesis
    1 minus upper W right-parenthesis Over upper R EndFraction"><mrow><mtext>Kelly</mtext>
    <mtext>weight</mtext> <mo>=</mo> <mi>W</mi> <mo>-</mo> <mfrac><mrow><mo>(</mo><mn>1</mn><mo>-</mo><mi>W</mi><mo>)</mo></mrow>
    <mi>R</mi></mfrac></mrow></math>
  prefs: []
  type: TYPE_NORMAL
- en: 'Here, *Kelly weight* is the percentage size of the trade you should take with
    regard to your portfolio’s overall value, *W* is the historical hit ratio, and
    *R* is the ratio between the average gain and the average loss. See the following
    example:'
  prefs: []
  type: TYPE_NORMAL
- en: Historical hit ratio of the past 100 trades = 56%
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Historical loss ratio of the past 100 trades = 44%
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Average gain per trade = $110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Average loss per trade = $100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Win-to-loss ratio = 1.1
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What is the recommended trade allocation if you find an opportunity?
  prefs: []
  type: TYPE_NORMAL
- en: By using the formula, the answer is 16%. Naturally, the Kelly criterion is not
    a perfect measure as sometimes it tends to give big weights that are suboptimal
    with regard to diversification. The user must exercise caution when using the
    Kelly criterion. You can also use a deflator to decrease the size given by the
    formula.
  prefs: []
  type: TYPE_NORMAL
- en: '*The hit ratio technique*: This is a personal technique that I use from time
    to time. It is based on the *clustering of performance*, which means that, generally,
    profitable trades come together and so do bad trades. This can be true especially
    because some strategies perform well during certain periods and bad during others.
    In essence, this is like saying that traders sometimes have good periods and sometimes
    they are on the losing side, as happens to the most experienced veterans. [Table 12-1](#table12-1)
    illustrates how to use the hit ratio technique to size your positions.'
  prefs: []
  type: TYPE_NORMAL
- en: Table 12-1\. Chronological hit ratio measures
  prefs: []
  type: TYPE_NORMAL
- en: '| Element | t | t+1 | t+2 | t+3 | t+4 | t+5 |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| **Hit ratio** | 50% | 60% | 40% | 40% | 70% | 60% |'
  prefs: []
  type: TYPE_TB
- en: '| **Position size** |  $5,000 |  $6,000 |  $4,000 |  $4,000 |  $7,000 |  $6,000
    |'
  prefs: []
  type: TYPE_TB
- en: The table shows the recommended position size with regard to a default size
    of $10,000 per trade. Basically, when you have a historical hit ratio of 50%,
    the system recommends 50% allocation of the default size, or $5,000\. The system
    rewards the trader with more allocation and size in case of good results.
  prefs: []
  type: TYPE_NORMAL
- en: Economic Calendar
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The economic calendar is the simplest risk management technique as it is a form
    of risk avoidance. The *economic calendar* shows the important news releases that
    are expected to have an impact on the m**​**arkets. [Table 12-2](#table12-2) shows
    a hypothetical example of an economic calendar on a certain day.
  prefs: []
  type: TYPE_NORMAL
- en: Table 12-2\. Economic calendar
  prefs: []
  type: TYPE_NORMAL
- en: '| Time | Country | Event | Impact | Previous value | Expected value | Actual
    value |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 9:00 AM | United Kingdom | CPI | High | 1.00% | 1.20% | 1.10% |'
  prefs: []
  type: TYPE_TB
- en: '| 11:30 AM | Germany | Core CPI | High | 0.50% | 0.75% | 0.75% |'
  prefs: []
  type: TYPE_TB
- en: '| 4:30 PM | USA | Initial Jobless Claims | Low | 232,000 | 215,000 | 229,000
    |'
  prefs: []
  type: TYPE_TB
- en: '| 7:30 PM | USA | Interest Rate Decision | High | 1.50% | 1.50% | TBA |'
  prefs: []
  type: TYPE_TB
- en: Some traders trade based on the news, and therefore they like to trade ahead
    of news releases or seconds after them in order to profit from volatility. Risk
    management-wise, this is not recommended as fluctuations are random around news
    events, which can surprise the markets from time to time.
  prefs: []
  type: TYPE_NORMAL
- en: The best thing to do is to avoid trading around the times of an important release
    that has historically caused some extreme variations. Examples may include political
    announcements, GDP numbers, and FOMC meetings.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: FOMC stands for Federal Open Market Committee. This committee oversees the country’s
    open market treasury operations and makes decisions about the interest rate.**​**
  prefs: []
  type: TYPE_NORMAL
- en: 'Behavioral Finance: The Power of Biases'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Behavioral finance*, a field stemming from behavioral economics, attempts
    to explain market anomalies and traders’ actions. By having a deep understanding
    of behavioral finance, you will better understand why the market reacts the way
    it does, especially around certain events and levels. According to behavioral
    finance, patterns are psychological in nature and are therefore caused by behavioral
    traits.'
  prefs: []
  type: TYPE_NORMAL
- en: Financial markets are composed of the actions and reactions of different human
    and robotic participants, which makes for a psychological and quantitative stew.
    This explains the low signal-to-noise ratio—in other words, why it is difficult
    to accurately forecast the market on a regular basis. These actions and reactions
    are also referred to as *biases*, and they are human shortcomings in response
    to certain events.
  prefs: []
  type: TYPE_NORMAL
- en: 'Biases are the main protagonists of this section, and they are divided into
    two categories:'
  prefs: []
  type: TYPE_NORMAL
- en: Cognitive biases
  prefs: []
  type: TYPE_NORMAL
- en: These biases come from a lack of knowledge. Cognitive biases generally involve
    incorrect conclusions based on wrong market assumptions or bad research.
  prefs: []
  type: TYPE_NORMAL
- en: Emotional biases
  prefs: []
  type: TYPE_NORMAL
- en: These biases are mostly feelings driven and are impulsive in nature. They are
    not caused by a lack of education but by a lack of self-control and self-management.
  prefs: []
  type: TYPE_NORMAL
- en: Cognitive Biases
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'This subsection lists some of the most common cognitive biases and their market
    impact and offers recommendations on how to avoid them:'
  prefs: []
  type: TYPE_NORMAL
- en: Conservatism bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when a market participant is slow to react to new information and
    places too much weight on base rates. It is a type of failure-to-adapt. The way
    to deal with this bias to force yourself to be skeptical of the basic analysis
    and to always be dynamic and ready for change. The market does not always behave
    as it did in the past since it is forward looking.
  prefs: []
  type: TYPE_NORMAL
- en: Confirmation bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when the trader focuses on the type of information that benefits
    their ongoing position and dismisses the type of information that is not favorable
    to their position. This is by far one of the most common biases and is actually
    a normal state of mind that leads to overconfidence over time. The best way to
    remedy this is to remain impartial and neutral, which is easier said than done.
    Another way is to automate the decision-making process through scorecards highlighting
    the attractiveness (or not) of the analyzed underlying assets. Humans in general
    suffer from this bias—it is not just finance specific.
  prefs: []
  type: TYPE_NORMAL
- en: Illusion of control bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when the trader overestimates their ability to control the trade
    outcome. Mainly caused by a streak of winning trades, this bias can lead to concentrated
    positions due to a sense of power over the invested asset. Markets are composed
    of a huge number of participants with trillions of invested dollars and as such
    are unlikely to be impacted by any single person (there are a few, very rare exceptions
    involving small and illiquid assets). The way to remove the illusion of control
    is to stay focused and humble and understand that you are facing a semirandom
    environment that changes its dynamics and drivers every day.
  prefs: []
  type: TYPE_NORMAL
- en: Hindsight bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when a trader overestimates their past accuracy and can lead to
    excessive risk-taking. It is easy to look at past charts and conclude that the
    subsequent direction was obvious. Most back-tests include a form of hindsight
    bias since conditions were created at the end of the analyzed period. Market technicians
    overestimate their abilities when they see that some techniques worked well in
    the past but fail to take into account the environment of the tested period. Also,
    some configurations do not look the same when they’re happening as when they are
    complete. Hindsight bias can be hard to cure, but the best way is to take into
    consideration the variables that were present during the analyzed period to simulate
    the past environment in a more realistic way.
  prefs: []
  type: TYPE_NORMAL
- en: Anchoring bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when the trader’s opinion is anchored to a certain base point and
    fails to change to incorporate new information. As I have mentioned, the analyst
    or trader must maintain a dynamic and open mindset. The best way to cure this
    bias is to stay up-to-date with regard to new information and pieces of data.
  prefs: []
  type: TYPE_NORMAL
- en: Mental accounting bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when traders give different values to the same amount of money because
    it is allocated into different funds. For example, people generally treat money
    earned through work and money earned without work differently. This is a cognitive
    bias. The best way to remedy this is to treat all money as fungible when allocating
    it to separate portfolios.
  prefs: []
  type: TYPE_NORMAL
- en: Availability bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when the trader selects positions based on how easily the trader
    can retrieve memories of them. This means that familiar assets are more attractive
    than nonfamiliar assets, which is a wrong assumption as opportunities may come
    from any type of market. It is a type of mental shortcut where the trader does
    not expend much effort in research. To cure this bias, you must practice full
    due diligence before selecting a universe of investable assets. Do not just trade
    the EURUSD because you are familiar with it: expand your horizons.
  prefs: []
  type: TYPE_NORMAL
- en: Loss aversion bias^([1](ch12.xhtml#idm46762846737424))
  prefs: []
  type: TYPE_NORMAL
- en: 'This occurs when the pain of losing is greater than the joy of winning. It
    is by far the most common bias. Humans are known to prefer not to lose money than
    to gain money as was demonstrated in “Prospect Theory: An Analysis of Decision
    Making Under Risk” by Daniel Kahneman and Amos Tversky (1977). Loss aversion could
    lead to decreased risk taking and therefore decreased expected return. However,
    the most significant effect is on the stop levels. Loss-averse humans do not want
    to accept that they are losing money and will see a losing position as an ongoing
    position and, therefore, prefer to wait until it turns positive. This is highly
    dangerous as leaving positions without a stop-loss levels could lead to disastrous
    results. In addition, some people close out of winning positions too fast in fear
    that they will turn negative (a form of fear of regret). The best way to handle
    loss aversion is to automate the risk management process and to respect the stop-loss
    and target orders established at the initiation of the trade.'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Whenever there is money to be made, irrationality looms nearby.
  prefs: []
  type: TYPE_NORMAL
- en: Emotional Biases
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'This subsection lists some of the most common emotional biases and their impact.
    As a reminder, while cognitive biases are related to a lack of knowledge, emotional
    biases are related to psychological traits:'
  prefs: []
  type: TYPE_NORMAL
- en: Overconfidence bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when a trader enjoys a winning streak and believes it is due to
    their superior ability to trade the markets, which leads to holding concentrated
    positions and excessive trading. A good streak will come to an end, and thus the
    trader must always follow procedures and ensure they do not stray from the strategy.
  prefs: []
  type: TYPE_NORMAL
- en: Regret-aversion bias
  prefs: []
  type: TYPE_NORMAL
- en: This refers to staying in low-risk investments out of fear. This really is all
    about the risk profile of the trader. There is no right or wrong answer, but the
    fear of regret can make the trader lose out on interesting opportunities. You
    should take risks to make money, but only calculated risks.
  prefs: []
  type: TYPE_NORMAL
- en: Endowment bias
  prefs: []
  type: TYPE_NORMAL
- en: This occurs when the trader believes that the owned assets are more valuable
    than the ones that are not owned. This may hamper the trader’s opportunities and
    cause them to be limited to the assets they already own, even if they decay over
    time. The market has opportunities everywhere, and participants must always be
    on the lookout for the next big thing.
  prefs: []
  type: TYPE_NORMAL
- en: Trading Framework
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Theoretical trading topics, paper trading, and real trading are all different.
    The aim of any trader is to make real money, and this is harder than it seems.
    Let’s define these three concepts:'
  prefs: []
  type: TYPE_NORMAL
- en: Theoretical trading topics
  prefs: []
  type: TYPE_NORMAL
- en: This is where the trader thinks about trading strategies and simplifies them
    in their head. This is where biases are formed, especially hindsight bias.
  prefs: []
  type: TYPE_NORMAL
- en: Paper trading
  prefs: []
  type: TYPE_NORMAL
- en: This is when the trader simulates trades using a platform. It is very similar
    to real trading, but the money used is not real, and therefore, it fails to simulate
    the rush of real-life emotions.
  prefs: []
  type: TYPE_NORMAL
- en: Real trading
  prefs: []
  type: TYPE_NORMAL
- en: This is when the trader uses actual money through an actual broker to buy and
    sell assets in an attempt to increase wealth.
  prefs: []
  type: TYPE_NORMAL
- en: 'Real trading has the following chronological steps:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Idea generation*: This is where strategy ideas are formed. For example, you
    think about combining the Tweezers pattern with a technical indicator in a certain
    market regime. You have formed an idea, and now you want to back-test it to see
    if it performed well in the past.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Back-testing*: In this phase, you evaluate past results and decide whether
    to take the strategy live or not. This is perhaps the most important step because
    it involves many factors, such as proper back-testing practices and validation,
    as well as back-testing with risk management techniques.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Pre-trade management*: This is where you prepare the trade setups, such as
    the stop-loss and take-profit orders, and decide whether to use trailing stops.
    Also, you must decide on position sizing using one of the techniques discussed
    earlier in the chapter.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '*Trade management*: This is where you monitor your profit and loss statement
    and ongoing trades in order to evaluate your situation. Discipline is paramount
    in this step as you must not let your emotions bias your judgment and make you
    close out too early or too late.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This marks the end of this chapter where you learned a variety of information
    about how to better manage trades. Trading is a mind game, and you have the responsibility
    to overcome your emotional and cognitive obstacles through proper training so
    that you maximize your chances of survival.
  prefs: []
  type: TYPE_NORMAL
- en: This also marks the end of the adventure on candlestick patterns. I would like
    to thank you and congratulate you for finishing this book and for taking the time
    to understand my research and techniques. Patterns, with all their formidability
    and sophistication, must be used with caution and in appropriate combinations
    with other technical tools. As you saw in this chapter, a trading system must
    comprise idea generation, back-testing, risk management, and trade management.
  prefs: []
  type: TYPE_NORMAL
- en: If you want to dig deeper into the world of technical pattern recognition and
    especially candlestick patterns, make sure to start with the rationale of any
    configuration. The *why* is as important as the *what.* Python is an extremely
    powerful and versatile coding language and will facilitate your research. As such,
    I recommend mastering it in order to speed up your research.
  prefs: []
  type: TYPE_NORMAL
- en: ^([1](ch12.xhtml#idm46762846737424-marker)) This is also considered as an emotional
    bias.
  prefs: []
  type: TYPE_NORMAL
