<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 2. Two-State Economy" class="calibre4"><div class="preface" id="two_state_economy">
<h1 class="calibre11"><span class="firstname">Chapter 2. </span>Two-State Economy</h1>

<blockquote class="calibre12 pcalibre1 pcalibre2">
<p class="calibre13">As <a data-type="indexterm" data-primary="Duffie, Darrell" id="idm44853711205784" class="calibre6"/>an empirical domain, finance is aimed at specific answers, such as an appropriate value for a given security, or an optimal number of its shares to hold.</p>
<p data-type="attribution" class="pcalibre3 calibre16">Darrell Duffie (1988)</p>
</blockquote>
<blockquote class="calibre12 pcalibre1 pcalibre2">
<p class="calibre13">The <a data-type="indexterm" data-primary="Delbaen and Schachermayer quote" id="idm44853711202920" class="calibre6"/>notion of arbitrage is crucial to the modern theory of Finance.</p>
<p data-type="attribution" class="pcalibre3 calibre16">Delbaen and Schachermayer (2006)</p>
</blockquote>

<p class="author1">The analysis <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" id="idm44853711200792" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" id="idm44853711199784" class="calibre6"/>in this chapter is based on the most simple <em class="calibre7">model economy</em> that is still rich enough to introduce many important notions and concepts of finance: an economy with two relevant points in time and two uncertain future states only. It also allows us to present some important results in the field, like the <em class="calibre7">Fundamental Theorems of Asset Pricing</em>, that are discussed in this chapter.<sup class="calibre14"><a data-type="noteref" id="idm44853711197832-marker" href="ch02_split_001.xhtml#idm44853711197832" class="calibre15">1</a></sup></p>

<p class="author1">The simple model chosen is a means to simplify the formal introduction of the sometimes rather abstract mathematical concepts and financial ideas by avoiding as many technicalities as possible. Once these ideas are fleshed out and well understood, the transfer to more realistic financial models usually proves seamless.</p>

<p class="author1">This chapter covers mainly the following central topics from finance, mathematics, and Python programming:</p>
<table class="calibre34">
<thead class="calibre35">
<tr class="calibre36">
<th class="calibre37">Finance</th>
<th class="calibre37">Mathematics</th>
<th class="calibre37">Python</th>
</tr>
</thead>
<tbody class="calibre38">
<tr class="calibre36">
<td class="calibre39"><p class="author1">Time</p></td>
<td class="calibre39"><p class="author1">Natural numbers <math alttext="double-struck upper N">
  <mi>ℕ</mi>
</math></p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">int</code>, <code class="calibre40">type</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Money (currency)</p></td>
<td class="calibre39"><p class="author1">Real numbers <math alttext="double-struck upper R">
  <mi>ℝ</mi>
</math></p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">float</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Cash flow</p></td>
<td class="calibre39"><p class="author1">Tuple</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">tuple</code>, <code class="calibre40">list</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Return, interest</p></td>
<td class="calibre39"><p class="author1">Real numbers <math alttext="double-struck upper R">
  <mi>ℝ</mi>
</math></p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">abs</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">(Net) present value</p></td>
<td class="calibre39"><p class="author1">Function</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">def</code>, <code class="calibre40">return</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Uncertainty</p></td>
<td class="calibre39"><p class="author1">Vector space <math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math></p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">NumPy</code>, <code class="calibre40">ndarray</code>, <code class="calibre40">np.array</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Financial asset</p></td>
<td class="calibre39"><p class="author1">Process</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">ndarray</code>, <code class="calibre40">tuple</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Risk</p></td>
<td class="calibre39"><p class="author1">Probability, state space, power set, mapping</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">ndarray</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Expectation, expected return</p></td>
<td class="calibre39"><p class="author1">Dot product</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">np.dot</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Volatility</p></td>
<td class="calibre39"><p class="author1">Variance, standard deviation</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">np.sqrt</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Contingent claims</p></td>
<td class="calibre39"><p class="author1">Random variable</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">np.arange</code>, <code class="calibre40">np.maximum</code>, <code class="calibre40">plt.plot</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Replication, arbitrage</p></td>
<td class="calibre39"><p class="author1">Linear equations, matrix form</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">ndarray(2d)</code>,
<span class="firstname"><code class="calibre40">np.linalg.solve</code></span>, <code class="calibre40">np.dot</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Completeness, Arrow-Debreu securities</p></td>
<td class="calibre39"><p class="author1">Linear independence, span</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">np.linalg.solve</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Martingale pricing</p></td>
<td class="calibre39"><p class="author1">Martingale, martingale measure</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">np.dot</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Mean-variance</p></td>
<td class="calibre39"><p class="author1">Expectation, variance, standard deviation</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">np.linspace</code>, <code class="calibre40">.std()</code>,
<span class="firstname"><code class="calibre40">[x for y in z]</code></span></p></td>
</tr>
</tbody>
</table>






<section data-type="sect1" data-pdf-bookmark="Economy" class="calibre4"><div class="preface" id="idm44853711146728">
<h1 class="calibre17">Economy</h1>

<p class="author1">The <a data-type="indexterm" data-primary="economy" data-seealso="model economies" id="idm44853711145224" class="calibre6"/><a data-type="indexterm" data-primary="economy" data-secondary="defined" id="idm44853711144216" class="calibre6"/>first element of the financial model is the idea of an <em class="calibre7">economy</em>. An economy is an abstract notion that subsumes other elements of the financial model, like assets (real, financial), agents (people, institutions), or money. Like in the real world, an economy cannot be seen or touched. Nor can it be formally modeled directly—it rather simplifies communication to have such a summary term available. The single model elements together form the economy.<sup class="calibre14"><a data-type="noteref" id="idm44853711142360-marker" href="ch02_split_001.xhtml#idm44853711142360" class="calibre15">2</a></sup></p>








<section data-type="sect2" data-pdf-bookmark="Real Assets" class="calibre4"><div class="preface" id="idm44853711140392">
<h2 class="calibre55">Real Assets</h2>

<p class="author1">Multiple <em class="calibre7">real assets</em> are <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="real assets" id="idm44853711138648" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="real assets" id="idm44853711137368" class="calibre6"/><a data-type="indexterm" data-primary="assets" data-secondary="real" id="idm44853711136424" class="calibre6"/><a data-type="indexterm" data-primary="real assets" id="idm44853711135480" class="calibre6"/>available in the economy that can be used for different purposes. A real asset might be a chicken egg or a complex machine to produce other real assets. At this point, it is not relevant who, for example, produces the real assets or who owns them.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Agents" class="calibre4"><div class="preface" id="idm44853711134168">
<h2 class="calibre55">Agents</h2>

<p class="author1"><em class="calibre7">Agents</em> can <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="agents" id="idm44853711132584" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="agents" id="idm44853711131304" class="calibre6"/><a data-type="indexterm" data-primary="agents" id="idm44853711130360" class="calibre6"/>be thought of as individual human beings being active in the economy. They might be involved in producing real assets or consuming them or trading them. They accept money during transactions and spend it during others. An agent might also be an institution like a bank that allows other agents to deposit money on which it then pays interest.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Time" class="calibre4"><div class="preface" id="idm44853711128952">
<h2 class="calibre55">Time</h2>

<p class="author1">Economic activity, <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="time" id="idm44853711127416" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="time" id="idm44853711125816" class="calibre6"/><a data-type="indexterm" data-primary="time" id="idm44853711124872" class="calibre6"/>like trading real assets, takes place at discrete points in time only. Formally, it holds for a point in time <math alttext="t element-of 0 comma 1 comma 2 comma 3 comma period period period">
  <mrow>
    <mi>t</mi>
    <mo>∈</mo>
    <mrow>
      <mn>0</mn>
      <mo>,</mo>
      <mn>1</mn>
      <mo>,</mo>
      <mn>2</mn>
      <mo>,</mo>
      <mn>3</mn>
      <mo>,</mo>
      <mo>.</mo>
      <mo>.</mo>
      <mo>.</mo>
    </mrow>
  </mrow>
</math> or <math alttext="t element-of double-struck upper N 0">
  <mrow>
    <mi>t</mi>
    <mo>∈</mo>
    <msub><mi>ℕ</mi> <mn>0</mn> </msub>
  </mrow>
</math>. In the following, only the two points in time <math alttext="t equals 0">
  <mrow>
    <mi>t</mi>
    <mo>=</mo>
    <mn>0</mn>
  </mrow>
</math> and <math alttext="t equals 1">
  <mrow>
    <mi>t</mi>
    <mo>=</mo>
    <mn>1</mn>
  </mrow>
</math> are relevant. They should be best interpreted as <em class="calibre7">today</em> and <em class="calibre7">one year from today</em>, although it is not necessarily the only interpretation of the relevant time interval. In many contexts, one can also think of <em class="calibre7">today</em> and <em class="calibre7">tomorrow</em>. In any case, financial theory speaks of <a data-type="indexterm" data-primary="static economy" id="idm44853711106248" class="calibre6"/>a <em class="calibre7">static economy</em> if only two points in time are relevant.</p>

<p class="author1">The Python data type to model <a data-type="indexterm" data-primary="integers in Python" id="idm44853711104648" class="calibre6"/><a data-type="indexterm" data-primary="natural numbers" id="idm44853711103944" class="calibre6"/>the natural numbers <math alttext="double-struck upper N">
  <mi>ℕ</mi>
</math> is <code class="calibre22">int</code>, which stands for <em class="calibre7">integers</em>.<sup class="calibre14"><a data-type="noteref" id="idm44853711101112-marker" href="ch02_split_001.xhtml#idm44853711101112" class="calibre15">3</a></sup> Typical arithmetic operations are possible on integers like addition, subtraction, multiplication, and more:</p>
<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">1</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="mi">3</code><code class="calibre22">  </code><a class="calibre6" id="manual_co_two_state_economy_CO1-1" href="ch02_split_000.xhtml#manual_callout_two_state_economy_CO1-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">4</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">3</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="mi">4</code><code class="calibre22">  </code><a class="calibre6" id="manual_co_two_state_economy_CO1-2" href="ch02_split_000.xhtml#manual_callout_two_state_economy_CO1-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">12</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">t</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">0</code><code class="calibre22">  </code><a class="calibre6" id="manual_co_two_state_economy_CO1-3" href="ch02_split_000.xhtml#manual_callout_two_state_economy_CO1-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">4</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">t</code><code class="calibre22">  </code><a class="calibre6" id="manual_co_two_state_economy_CO1-4" href="ch02_split_000.xhtml#manual_callout_two_state_economy_CO1-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">5</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">t</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">1</code><code class="calibre22">  </code><a class="calibre6" id="manual_co_two_state_economy_CO1-5" href="ch02_split_000.xhtml#manual_callout_two_state_economy_CO1-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">6</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">type</code><code class="p">(</code><code class="n">t</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="manual_co_two_state_economy_CO1-6" href="ch02_split_000.xhtml#manual_callout_two_state_economy_CO1-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">6</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">int</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="manual_callout_two_state_economy_CO1-1" href="ch02_split_000.xhtml#manual_co_two_state_economy_CO1-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Adds up two integer values.</p></dd>
<dt class="calibre19"><a class="calibre6" id="manual_callout_two_state_economy_CO1-2" href="ch02_split_000.xhtml#manual_co_two_state_economy_CO1-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Multiplies two integer values.</p></dd>
<dt class="calibre19"><a class="calibre6" id="manual_callout_two_state_economy_CO1-3" href="ch02_split_000.xhtml#manual_co_two_state_economy_CO1-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Assigns a value of 0 to the variable name <code class="calibre22">t</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="manual_callout_two_state_economy_CO1-4" href="ch02_split_000.xhtml#manual_co_two_state_economy_CO1-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Prints out the value of variable <code class="calibre22">t</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="manual_callout_two_state_economy_CO1-5" href="ch02_split_000.xhtml#manual_co_two_state_economy_CO1-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Assigns a new value of 1 to <code class="calibre22">t</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="manual_callout_two_state_economy_CO1-6" href="ch02_split_000.xhtml#manual_co_two_state_economy_CO1-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up and prints the Python type of <code class="calibre22">t</code>.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Money" class="calibre4"><div class="preface" id="idm44853711096776">
<h2 class="calibre55">Money</h2>

<p class="author1">In the <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="money" id="idm44853712250168" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="money" id="idm44853712249000" class="calibre6"/><a data-type="indexterm" data-primary="money" id="idm44853712248056" class="calibre6"/>economy, <em class="calibre7">money</em> (or <em class="calibre7">currency</em>), is available in unlimited supply. Money is also infinitely divisible. Money and currency should be thought of in abstract terms only and not in terms of cash (physical coins or bills).</p>

<p class="author1">Money in general serves as the <em class="calibre7">numeraire</em> in <a data-type="indexterm" data-primary="numeraire" id="idm44853712245304" class="calibre6"/>the economy in that the value of one unit of money (think USD, EUR, GBP, etc.) is normalized to exactly 1. The prices for all other goods are then expressed in such units and are fractions or multiples of such units. Formally, units of the currency are represented as (non-negative) real numbers
<math><mrow><mi>c</mi><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>.</p>

<p class="author1">In Python, <code class="calibre22">float</code> is the<a data-type="indexterm" data-primary="floating point numbers" id="idm44853712240872" class="calibre6"/><a data-type="indexterm" data-primary="real numbers" id="idm44853712240136" class="calibre6"/> standard data type used to represent real numbers <math alttext="double-struck upper R">
  <mi>ℝ</mi>
</math>. It stands for <em class="calibre7">floating point numbers</em>. Like the <code class="calibre22">int</code> type, it allows, among others, for typical arithmetic operations, like addition and subtraction:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">1</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="mi">0.5</code><code class="calibre22">   </code><a class="calibre6" id="co_two_state_economy_CO1-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO1-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">1.5</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">10.5</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="mi">2</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO1-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO1-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">8.5</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">9</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">2</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="mi">0.75</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO1-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO1-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO1-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO1-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">2.75</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">type</code><code class="p">(</code><code class="n">c</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO1-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO1-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">float</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO1-1" href="ch02_split_000.xhtml#co_two_state_economy_CO1-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Adding two numbers.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO1-2" href="ch02_split_000.xhtml#co_two_state_economy_CO1-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Subtracting two numbers.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO1-3" href="ch02_split_000.xhtml#co_two_state_economy_CO1-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Assigning the result of the addition to the variable <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO1-4" href="ch02_split_000.xhtml#co_two_state_economy_CO1-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Printing the value of the variable <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO1-5" href="ch02_split_000.xhtml#co_two_state_economy_CO1-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looking up and printing out the Python type of the variable <code class="calibre22">c</code>.</p></dd>
</dl>

<p class="author1">Beyond serving as a numeraire, money also allows agents to buy and sell real assets or to store value over time. These two functions rest on the trust that money indeed has intrinsic value today and also in one year. In general, this translates into trust in 
<span class="firstname">people</span> and institutions being willing to accept money both today and later for any kind of transaction. The numeraire function is independent of this trust since it is a numerical operation only.</p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Cash Flow" class="calibre4"><div class="preface" id="idm44853712093816">
<h1 class="calibre17">Cash Flow</h1>

<p class="author1">Combining <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="cash flow" id="model-two-state-cashflow" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="cash flow" id="two-state-cashflow" class="calibre6"/><a data-type="indexterm" data-primary="cash flow" id="cashflow" class="calibre6"/>time with currency leads to the notion of <em class="calibre7">cash flow</em>. Consider an investment project that requires an investment of, say, 9.5 currency units today and pays back 11.75 currency units after one year. An investment is generally considered to be a <a data-type="indexterm" data-primary="outflows (cash)" id="idm44853712087432" class="calibre6"/>cash <em class="calibre7">outflow</em>, and one often represents this as a negative real number,
<math><mrow><mi>c</mi><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>&lt;0</mn></mrow> </msub></mrow></math>,
or, more specifically, <math alttext="c equals">
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
  </mrow>
</math> –9.5. The payback is a<a data-type="indexterm" data-primary="inflows (cash)" id="idm44853712081992" class="calibre6"/> cash <em class="calibre7">inflow</em> and therewith a positive real number,
<math><mrow><mi>c</mi><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>,
or <math alttext="c equals">
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
  </mrow>
</math> +11.75 in the example.</p>

<p class="author1">To indicate the points in time when cash flows happen, a time index is used: in the example, <math alttext="c Subscript t equals 0 Baseline equals">
  <mrow>
    <msub><mi>c</mi> <mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow> </msub>
    <mo>=</mo>
  </mrow>
</math> –9.5 and <math alttext="c Subscript t equals 1 Baseline equals">
  <mrow>
    <msub><mi>c</mi> <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> </msub>
    <mo>=</mo>
  </mrow>
</math> 11.75, or for short, <math alttext="c 0 equals">
  <mrow>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> –9.5 and <math alttext="c 1 equals">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> 11.75.</p>

<p class="author1">A pair of cash flows now and one year from now is modeled mathematically as an <em class="calibre7">ordered pair</em> or <em class="calibre7">two-tuple</em>, which combines the <a data-type="indexterm" data-primary="ordered pairs" id="idm44853712061864" class="calibre6"/><a data-type="indexterm" data-primary="two-tuples" id="idm44853712061128" class="calibre6"/>two relevant cash flows into one object: <math alttext="c element-of double-struck upper R squared">
  <mrow>
    <mi>c</mi>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mn>2</mn> </msup>
  </mrow>
</math> with <math alttext="c equals left-parenthesis c 0 comma c 1 right-parenthesis">
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math> and <math alttext="c 0 comma c 1 element-of double-struck upper R">
  <mrow>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>.</p>

<p class="author1">In Python, there are multiple data structures available to model such a mathematical object. The <a data-type="indexterm" data-primary="tuples in Python" id="tuples" class="calibre6"/><a data-type="indexterm" data-primary="lists in Python" id="lists" class="calibre6"/>two most basic ones are <code class="calibre22">tuple</code> and <code class="calibre22">list</code>. Objects of type <code class="calibre22">tuple</code> are immutable, that is, they cannot be changed after instantiation, while those of type <code class="calibre22">list</code> are mutable and can be changed after instantiation. First, an illustration of <code class="calibre22">tuple</code> objects (characterized by parentheses):</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">12</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c0</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">9.5</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">13</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">11.75</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">14</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="n">c0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">c1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="p">(</code><code class="o">-</code><code class="mi">9.5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11.75</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">16</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">type</code><code class="p">(</code><code class="n">c</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">16</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">tuple</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">17</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-6" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">17</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">9.5</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">18</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO2-7" href="ch02_split_000.xhtml#callout_two_state_economy_CO2-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">18</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">11.75</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-1" href="ch02_split_000.xhtml#co_two_state_economy_CO2-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the cash outflow today.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-2" href="ch02_split_000.xhtml#co_two_state_economy_CO2-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the cash inflow one year later.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-3" href="ch02_split_000.xhtml#co_two_state_economy_CO2-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the <code class="calibre22">tuple</code> object <code class="calibre22">c</code> (note the use of parentheses).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-4" href="ch02_split_000.xhtml#co_two_state_economy_CO2-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Prints out the cash flow pair (note the parentheses).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-5" href="ch02_split_000.xhtml#co_two_state_economy_CO2-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up and shows the type of object <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-6" href="ch02_split_000.xhtml#co_two_state_economy_CO2-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the first element of object <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO2-7" href="ch02_split_000.xhtml#co_two_state_economy_CO2-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the second element of object <code class="calibre22">c</code>.</p></dd>
</dl>

<p class="author1">Second, an illustration of the <code class="calibre22">list</code> object (characterized by square brackets):</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">19</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">[</code><code class="n">c0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">c1</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">20</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">20</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="p">[</code><code class="o">-</code><code class="mi">9.5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11.75</code><code class="p">]</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">21</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">type</code><code class="p">(</code><code class="n">c</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">21</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">list</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">22</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">22</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">9.5</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">23</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">23</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">11.75</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">24</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">10</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-6" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">25</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO3-7" href="ch02_split_000.xhtml#callout_two_state_economy_CO3-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">25</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11.75</code><code class="p">]</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-1" href="ch02_split_000.xhtml#co_two_state_economy_CO3-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the <code class="calibre22">list</code> object <code class="calibre22">c</code> (note the use of square brackets).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-2" href="ch02_split_000.xhtml#co_two_state_economy_CO3-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Prints out the cash flow pair (note the square brackets).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-3" href="ch02_split_000.xhtml#co_two_state_economy_CO3-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up and shows the type of object <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-4" href="ch02_split_000.xhtml#co_two_state_economy_CO3-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the first element of object <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-5" href="ch02_split_000.xhtml#co_two_state_economy_CO3-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the second element of object <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-6" href="ch02_split_000.xhtml#co_two_state_economy_CO3-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Overwrites the value at the first index position in the object <code class="calibre22">c</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO3-7" href="ch02_split_000.xhtml#co_two_state_economy_CO3-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows the resulting <a data-type="indexterm" data-primary="tuples in Python" data-startref="tuples" id="idm44853711647592" class="calibre6"/><a data-type="indexterm" data-primary="lists in Python" data-startref="lists" id="idm44853711646584" class="calibre6"/>changes.</p></dd>
</dl>








<section data-type="sect2" data-pdf-bookmark="Return" class="calibre4"><div class="preface" id="idm44853711698232">
<h2 class="calibre55">Return</h2>

<p class="author1">Consider<a data-type="indexterm" data-primary="cash flow" data-secondary="return and rate of return" id="cashflow-return" class="calibre6"/><a data-type="indexterm" data-primary="return" data-secondary="defined" id="return" class="calibre6"/><a data-type="indexterm" data-primary="rate of return" data-secondary="defined" id="rate-return" class="calibre6"/> an investment project with cash flows <math alttext="c equals left-parenthesis c 0 comma c 1 right-parenthesis equals">
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>)</mo>
    <mo>=</mo>
  </mrow>
</math> (–10, 12). The <em class="calibre7">return</em> <math alttext="upper R element-of double-struck upper R">
  <mrow>
    <mi>R</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math> of the project is the sum of the cash flows <math alttext="upper R equals c 0 plus c 1 equals">
  <mrow>
    <mi>R</mi>
    <mo>=</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>+</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> –10 + 12 = 2. The <em class="calibre7">rate of return</em>, <math alttext="r element-of double-struck upper R">
  <mrow>
    <mi>r</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>, is the return, <math alttext="upper R">
  <mi>R</mi>
</math>, divided by <math alttext="bar c 0 bar">
  <mrow>
    <mo>|</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>|</mo>
  </mrow>
</math>, that is by the absolute value of the investment outlay today:</p>
<div data-type="equation" class="calibre42">
<math alttext="r equals StartFraction upper R Over bar c 0 bar EndFraction equals StartFraction negative 10 plus 12 Over 10 EndFraction equals two-tenths equals 0.2" display="block">
  <mrow>
    <mi>r</mi>
    <mo>=</mo>
    <mfrac><mi>R</mi> <mrow><mo>|</mo><msub><mi>c</mi> <mn>0</mn> </msub><mo>|</mo></mrow></mfrac>
    <mo>=</mo>
    <mfrac><mrow><mo>-</mo><mn>10</mn><mo>+</mo><mn>12</mn></mrow> <mn>10</mn></mfrac>
    <mo>=</mo>
    <mfrac><mn>2</mn> <mn>10</mn></mfrac>
    <mo>=</mo>
    <mn>0.2</mn>
  </mrow>
</math>
</div>

<p class="author1">In Python, this boils down to simple arithmetic operations:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">26</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="o">-</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">12</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO4-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO4-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">27</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">R</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="nb">sum</code><code class="p">(</code><code class="n">c</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO4-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO4-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">28</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">R</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO4-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO4-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">28</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">2</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">29</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">r</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">R</code><code class="calibre22"> </code><code class="o">/</code><code class="calibre22"> </code><code class="nb">abs</code><code class="p">(</code><code class="n">c</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO4-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO4-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">30</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">r</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO4-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO4-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">30</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.2</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO4-1" href="ch02_split_000.xhtml#co_two_state_economy_CO4-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the cash flow pair as <code class="calibre22">tuple</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO4-2" href="ch02_split_000.xhtml#co_two_state_economy_CO4-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates the return <code class="calibre22">R</code> by taking the sum of all elements of <code class="calibre22">c</code> and…</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO4-3" href="ch02_split_000.xhtml#co_two_state_economy_CO4-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">…prints out the result.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO4-4" href="ch02_split_000.xhtml#co_two_state_economy_CO4-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates the rate of return <code class="calibre22">r</code> with <code class="calibre22">abs(x)</code>, giving the absolute value of <code class="calibre22">x</code> and…</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO4-5" href="ch02_split_000.xhtml#co_two_state_economy_CO4-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">…prints out the result.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Interest" class="calibre4"><div class="preface" id="idm44853715589736">
<h2 class="calibre55">Interest</h2>

<p class="author1">There is a <a data-type="indexterm" data-primary="cash flow" data-secondary="interest" id="idm44853715549384" class="calibre6"/><a data-type="indexterm" data-primary="interest" id="idm44853715548376" class="calibre6"/>difference between a cash flow today and a cash flow in one year. The difference results from <em class="calibre7">interest</em> that is being earned on currency units or that has to be paid to borrow currency units. Interest in this context is the <em class="calibre7">price</em> being paid for having control over money that belongs to another agent.</p>

<p class="author1">An agent that has currency units that they do not need today can deposit these with a bank or lend them to <a data-type="indexterm" data-primary="earning interest" id="idm44853715545976" class="calibre6"/>another agent <em class="calibre7">to earn interest</em>. If the agent needs more currency units than they currently have available, they can borrow them from a bank or other<a data-type="indexterm" data-primary="paying interest" id="idm44853715544600" class="calibre6"/> agents, but they will need <em class="calibre7">to pay interest</em>.</p>

<p class="author1">Suppose an agent deposits <math alttext="c 0 equals">
  <mrow>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> –10 currency units today with a bank. According to the deposit contract, they receive <math alttext="c 1 equals 11">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <mn>11</mn>
  </mrow>
</math> currency units after one year from the bank. The interest, <math alttext="upper I element-of double-struck upper R">
  <mrow>
    <mi>I</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>, being paid on the deposit<a data-type="indexterm" data-primary="interest rate" id="idm44853715533976" class="calibre6"/> is <math alttext="upper I equals c 0 plus c 1 equals">
  <mrow>
    <mi>I</mi>
    <mo>=</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>+</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> -10 + 11 = 1. The <em class="calibre7">interest rate</em>, <math alttext="i element-of double-struck upper R">
  <mrow>
    <mi>i</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>, accordingly is <math alttext="i equals StartFraction upper I Over bar c 0 bar EndFraction equals">
  <mrow>
    <mi>i</mi>
    <mo>=</mo>
    <mfrac><mi>I</mi> <mrow><mo>|</mo><msub><mi>c</mi> <mn>0</mn> </msub><mo>|</mo></mrow></mfrac>
    <mo>=</mo>
  </mrow>
</math> 0.1.</p>

<p class="author1">In the following, it is assumed that the relevant interest rate for both lending and borrowing is the same and that it is fixed for the entire economy.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Present Value" class="calibre4"><div class="preface" id="idm44853715519064">
<h2 class="calibre55">Present Value</h2>

<p class="author1">Having<a data-type="indexterm" data-primary="cash flow" data-secondary="present value" id="cashflow-present-value" class="calibre6"/><a data-type="indexterm" data-primary="present value" id="present-value" class="calibre6"/><a data-type="indexterm" data-primary="discounting" id="discounting" class="calibre6"/><a data-type="indexterm" data-primary="opportunity costs" id="idm44853715514104" class="calibre6"/> lending or depositing options available leads to <em class="calibre7">opportunity costs</em> for deploying money in an investment project. A cash flow of, say, <math alttext="c 1 equals">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> 12.1 in one year cannot be compared directly in terms of value with a cash flow of <math alttext="c 0 equals">
  <mrow>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> 12.1 today since interest can be earned on currency units not deployed in a project.</p>

<p class="author1">To appropriately compare cash flows in one year with those of today, the <em class="calibre7">present value</em> needs to be calculated. This is accomplished by <em class="calibre7">discounting</em> using the fixed 
<span class="firstname">interest rate</span> in the economy. Discounting can be modeled as a function <math alttext="upper D colon">
  <mrow>
    <mi>D</mi>
    <mo>:</mo>
  </mrow>
</math> <math alttext="double-struck upper R right-arrow double-struck upper R comma c 1 right-arrow from bar upper D left-parenthesis c 1 right-parenthesis">
  <mrow>
    <mi>ℝ</mi>
    <mo>→</mo>
    <mi>ℝ</mi>
    <mo>,</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>↦</mo>
    <mi>D</mi>
    <mrow>
      <mo>(</mo>
      <msub><mi>c</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>, which maps a real number (cash flow in one year) to another real number (cash flow today). It holds</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column c 0 2nd Column equals 3rd Column upper D left-parenthesis c 1 right-parenthesis 2nd Row 1st Column Blank 2nd Column equals 3rd Column StartFraction c 1 Over 1 plus i EndFraction 3rd Row 1st Column Blank 2nd Column equals 3rd Column StartFraction 12.1 Over 1 plus 0.1 EndFraction 4th Row 1st Column Blank 2nd Column equals 3rd Column 11 EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <msub><mi>c</mi> <mn>0</mn> </msub>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>D</mi>
          <mo>(</mo>
          <msub><mi>c</mi> <mn>1</mn> </msub>
          <mo>)</mo>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfrac><msub><mi>c</mi> <mn>1</mn> </msub> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfrac><mrow><mn>12</mn><mo>.</mo><mn>1</mn></mrow> <mrow><mn>1</mn><mo>+</mo><mn>0</mn><mo>.</mo><mn>1</mn></mrow></mfrac>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mn>11</mn>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">for an interest rate of <math alttext="i equals">
  <mrow>
    <mi>i</mi>
    <mo>=</mo>
  </mrow>
</math> 0.1. This relationship results from the alternative “investment” in deposits with a bank:</p>
<div data-type="equation" class="calibre42">
<math alttext="c 1 equals left-parenthesis 1 plus i right-parenthesis dot c 0 left right double arrow c 0 equals StartFraction c 1 Over 1 plus i EndFraction" display="block">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>+</mo>
      <mi>i</mi>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>⇔</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <mfrac><msub><mi>c</mi> <mn>1</mn> </msub> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
  </mrow>
</math>
</div>

<p class="author1">Python functions are well suited to represent mathematical functions like the one for discounting:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">31</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">i</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">0.1</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO5-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO5-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">32</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">D</code><code class="p">(</code><code class="n">c1</code><code class="p">)</code><code class="p">:</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO5-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO5-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="n">c1</code><code class="calibre22"> </code><code class="o">/</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">1</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">i</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO5-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO5-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">33</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">D</code><code class="p">(</code><code class="mi">12.1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO5-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO5-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">33</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">10.999999999999998</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">34</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">D</code><code class="p">(</code><code class="mi">11</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO5-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO5-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">34</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">10.0</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO5-1" href="ch02_split_000.xhtml#co_two_state_economy_CO5-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Fixes the interest rate <code class="calibre22">i</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO5-2" href="ch02_split_000.xhtml#co_two_state_economy_CO5-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Function definition with <code class="calibre22">def</code> statement; <code class="calibre22">D</code> is the function name; <code class="calibre22">c1</code> is the parameter name.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO5-3" href="ch02_split_000.xhtml#co_two_state_economy_CO5-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Returns the present value with the <code class="calibre22">return</code> statement.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO5-4" href="ch02_split_000.xhtml#co_two_state_economy_CO5-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates the present value of 12.1; note the rounding error due to internal floating point number representation issues.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO5-5" href="ch02_split_000.xhtml#co_two_state_economy_CO5-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates the present value<a data-type="indexterm" data-primary="cash flow" data-secondary="present value" data-startref="cashflow-present-value" id="idm44853715326920" class="calibre6"/><a data-type="indexterm" data-primary="present value" data-startref="present-value" id="idm44853715325672" class="calibre6"/><a data-type="indexterm" data-primary="discounting" data-startref="discounting" id="idm44853715324728" class="calibre6"/> of 11 (“exactly” in this case).</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Net Present Value" class="calibre4"><div class="preface" id="idm44853715364280">
<h2 class="calibre55">Net Present Value</h2>

<p class="author1">How shall<a data-type="indexterm" data-primary="cash flow" data-secondary="net present value" id="idm44853715322232" class="calibre6"/><a data-type="indexterm" data-primary="net present value" id="idm44853715321224" class="calibre6"/> an agent decide whether to conduct an investment project or not? One criterion is the <em class="calibre7">net present value</em>. The net present value, <math alttext="upper N upper P upper V element-of double-struck upper R">
  <mrow>
    <mi>N</mi>
    <mi>P</mi>
    <mi>V</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>, is the sum of the cash outflow today and the present value of the cash inflow in one year:</p>
<div data-type="equation" class="calibre42">
<math alttext="upper N upper P upper V left-parenthesis c right-parenthesis equals c 0 plus upper D left-parenthesis c 1 right-parenthesis" display="block">
  <mrow>
    <mi>N</mi>
    <mi>P</mi>
    <mi>V</mi>
    <mrow>
      <mo>(</mo>
      <mi>c</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>+</mo>
    <mi>D</mi>
    <mrow>
      <mo>(</mo>
      <msub><mi>c</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>
</div>

<p class="author1">Here, the net present value calculation is a function <math alttext="upper N upper P upper V colon double-struck upper R squared right-arrow double-struck upper R">
  <mrow>
    <mi>N</mi>
    <mi>P</mi>
    <mi>V</mi>
    <mo>:</mo>
    <msup><mi>ℝ</mi> <mn>2</mn> </msup>
    <mo>→</mo>
    <mi>ℝ</mi>
  </mrow>
</math> mapping a cash flow tuple to a real number. If the net present value is positive, the project should be conducted; if it is negative, then not—since the alternative of just depositing the money with a bank is more attractive.</p>

<p class="author1">Consider an investment project with cash flows <math alttext="c Superscript upper A Baseline equals">
  <mrow>
    <msup><mi>c</mi> <mi>A</mi> </msup>
    <mo>=</mo>
  </mrow>
</math> (–10.5, 12.1). The net present value is <math alttext="upper N upper P upper V left-parenthesis c Superscript upper A Baseline right-parenthesis equals">
  <mrow>
    <mi>N</mi>
    <mi>P</mi>
    <mi>V</mi>
    <mo>(</mo>
    <msup><mi>c</mi> <mi>A</mi> </msup>
    <mo>)</mo>
    <mo>=</mo>
  </mrow>
</math> –10.5 + <math alttext="upper D">
  <mi>D</mi>
</math>(12.1) = –10.5 + 11 = 0.5. The project should be conducted. Consider an alternative investment project with <math alttext="c Superscript upper B Baseline equals">
  <mrow>
    <msup><mi>c</mi> <mi>B</mi> </msup>
    <mo>=</mo>
  </mrow>
</math> (–10.5, 11). This one has a negative net present value and should not be conducted: <math alttext="upper N upper P upper V left-parenthesis c Superscript upper B Baseline right-parenthesis equals">
  <mrow>
    <mi>N</mi>
    <mi>P</mi>
    <mi>V</mi>
    <mo>(</mo>
    <msup><mi>c</mi> <mi>B</mi> </msup>
    <mo>)</mo>
    <mo>=</mo>
  </mrow>
</math> –10.5 + <math alttext="upper D">
  <mi>D</mi>
</math>(11) = –10.5 + 10 = –0.5.</p>

<p class="author1">Building on previous definitions, a respective Python function is easily defined:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">35</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">NPV</code><code class="p">(</code><code class="n">c</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="n">c</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">D</code><code class="p">(</code><code class="n">c</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">36</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">cA</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="o">-</code><code class="mi">10.5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">12.1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO6-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO6-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">37</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">cB</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="o">-</code><code class="mi">10.5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO6-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO6-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">38</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">NPV</code><code class="p">(</code><code class="n">cA</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO6-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO6-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">38</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.4999999999999982</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">39</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">NPV</code><code class="p">(</code><code class="n">cB</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO6-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO6-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">39</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">0.5</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO6-1" href="ch02_split_000.xhtml#co_two_state_economy_CO6-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Positive net present value project.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO6-2" href="ch02_split_000.xhtml#co_two_state_economy_CO6-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Negative net present value <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="cash flow" data-startref="model-two-state-cashflow" id="idm44853715167432" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="cash flow" data-startref="two-state-cashflow" id="idm44853715165944" class="calibre6"/><a data-type="indexterm" data-primary="cash flow" data-startref="cashflow" id="idm44853715164728" class="calibre6"/>project.</p></dd>
</dl>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Uncertainty" class="calibre4"><div class="preface" id="idm44853712093192">
<h1 class="calibre17">Uncertainty</h1>

<p class="author1">Cash inflows <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="uncertainty" id="model-two-state-uncertainty" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="uncertainty" id="two-state-uncertainty" class="calibre6"/><a data-type="indexterm" data-primary="uncertainty" data-secondary="in two-state economy" data-secondary-sortas="two-state economy" id="uncertainty-two-state" class="calibre6"/>from an investment project one year from now are in general <em class="calibre7">uncertain</em>. They might be influenced by a number of factors in reality (competitive forces, new technologies, growth of the economy, weather, problems during project implementation, etc.). In the model economy, the concept <a data-type="indexterm" data-primary="states of economy" id="idm44853715109768" class="calibre6"/><a data-type="indexterm" data-primary="economy" data-secondary="states of" id="idm44853715109064" class="calibre6"/>of <em class="calibre7">states</em> of the economy in one year subsumes the influence of all relevant factors.</p>

<p class="author1">Assume that in one year the economy might be in one of two different states <math alttext="u">
  <mi>u</mi>
</math> and <math alttext="d">
  <mi>d</mi>
</math>, which might be interpreted as <em class="calibre7">up</em> (“good”) and <em class="calibre7">down</em> (“bad”). The cash flow of a project in one year <math alttext="c 1">
  <msub><mi>c</mi> <mn>1</mn> </msub>
</math> then becomes<a data-type="indexterm" data-primary="vectors" data-secondary="cash flow" id="vectors" class="calibre6"/> a <em class="calibre7">vector</em></p>
<div data-type="equation" class="calibre42">
<math alttext="c 1 element-of double-struck upper R squared" display="block">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mn>2</mn> </msup>
  </mrow>
</math>
</div>

<p class="author1">with two different values</p>
<div data-type="equation" class="calibre42">
<math alttext="c 1 Superscript u Baseline comma c 1 Superscript d Baseline element-of double-struck upper R" display="block">
  <mrow>
    <msubsup><mi>c</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>,</mo>
    <msubsup><mi>c</mi> <mn>1</mn> <mi>d</mi> </msubsup>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>
</div>

<p class="author1">representing the relevant cash flows per state of the economy. Formally, this is represented<a data-type="indexterm" data-primary="column vectors" id="idm44853715087624" class="calibre6"/> as a so-called <em class="calibre7">column vector</em>:</p>
<div data-type="equation" class="calibre42">
<math alttext="c 1 equals StartBinomialOrMatrix c 1 Superscript u Baseline Choose c 1 Superscript d EndBinomialOrMatrix" display="block">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>c</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>c</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">Mathematically, there <a data-type="indexterm" data-primary="scalar addition/multiplication" id="idm44853715075496" class="calibre6"/>are certain operations defined on such vectors, like <em class="calibre7">scalar multiplication</em> and <em class="calibre7">addition</em>, for instance:</p>
<div data-type="equation" class="calibre42">
<math alttext="alpha dot c 1 plus beta equals alpha dot StartBinomialOrMatrix c 1 Superscript u Baseline Choose c 1 Superscript d Baseline EndBinomialOrMatrix plus beta equals StartBinomialOrMatrix alpha dot c 1 Superscript u Baseline plus beta Choose alpha dot c 1 Superscript d Baseline plus beta EndBinomialOrMatrix" display="block">
  <mrow>
    <mi>α</mi>
    <mo>·</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>+</mo>
    <mi>β</mi>
    <mo>=</mo>
    <mi>α</mi>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>c</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>c</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>+</mo>
    <mi>β</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mi>α</mi>
              <mo>·</mo>
              <msubsup><mi>c</mi> <mn>1</mn> <mi>u</mi> </msubsup>
              <mo>+</mo>
              <mi>β</mi>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi>α</mi>
              <mo>·</mo>
              <msubsup><mi>c</mi> <mn>1</mn> <mi>d</mi> </msubsup>
              <mo>+</mo>
              <mi>β</mi>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">Another important operation on vectors <a data-type="indexterm" data-primary="linear combinations of vectors" id="idm44853715047464" class="calibre6"/>is the creation of <em class="calibre7">linear combinations</em> of vectors. Consider two different vectors: <math alttext="c 1 comma d 1 element-of double-struck upper R squared">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>,</mo>
    <msub><mi>d</mi> <mn>1</mn> </msub>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mn>2</mn> </msup>
  </mrow>
</math>. A linear combination is then given by:</p>
<div data-type="equation" class="calibre42">
<math alttext="alpha dot c 1 plus beta dot d 1 equals StartBinomialOrMatrix alpha dot c 1 Superscript u Baseline plus beta dot d 1 Superscript u Baseline Choose alpha dot c 1 Superscript d Baseline plus beta dot d 1 Superscript d EndBinomialOrMatrix" display="block">
  <mrow>
    <mi>α</mi>
    <mo>·</mo>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>+</mo>
    <mi>β</mi>
    <mo>·</mo>
    <msub><mi>d</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mi>α</mi>
              <mo>·</mo>
              <msubsup><mi>c</mi> <mn>1</mn> <mi>u</mi> </msubsup>
              <mo>+</mo>
              <mi>β</mi>
              <mo>·</mo>
              <msubsup><mi>d</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi>α</mi>
              <mo>·</mo>
              <msubsup><mi>c</mi> <mn>1</mn> <mi>d</mi> </msubsup>
              <mo>+</mo>
              <mi>β</mi>
              <mo>·</mo>
              <msubsup><mi>d</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">Here and before, it is assumed that <math alttext="alpha comma beta element-of double-struck upper R">
  <mrow>
    <mi>α</mi>
    <mo>,</mo>
    <mi>β</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>.</p>

<p class="author1">The most<a data-type="indexterm" data-primary="vectors" data-secondary="modeling with NumPy" id="vector-modeling-numpy" class="calibre6"/><a data-type="indexterm" data-primary="NumPy" data-secondary="vector  modeling" id="numpy-vectors" class="calibre6"/> common way of modeling vectors (and matrices) in Python is via the <a href="http://numpy.org" class="calibre6"><code class="calibre22">NumPy</code></a> package, which is an external package and needs to be installed separately. For the following code, consider an investment project with <math alttext="c 0 equals">
  <mrow>
    <msub><mi>c</mi> <mn>0</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> –10 and <math alttext="c 1 equals left-parenthesis 20 comma 5 right-parenthesis Superscript upper T">
  <mrow>
    <msub><mi>c</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><mn>20</mn><mo>,</mo><mn>5</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math>, where the superscript <math alttext="upper T">
  <mi>T</mi>
</math> stands for the transpose of the vector (transforming a <em class="calibre7">row or horizontal vector</em> into a <em class="calibre7">column or vertical vector</em>). The major class used to model vectors is<a data-type="indexterm" data-primary="ndarray" id="idm44853714999144" class="calibre6"/> the <code class="calibre22">ndarray</code> class, which stands for <em class="calibre7">n-dimensional array</em>:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">40</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">import</code><code class="calibre22"> </code><code class="nn">numpy</code><code class="calibre22"> </code><code class="kn">as</code><code class="calibre22"> </code><code class="nn">np</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">41</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c0</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">10</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">42</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">20</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">43</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">type</code><code class="p">(</code><code class="n">c1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">43</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">numpy</code><code class="o">.</code><code class="n">ndarray</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">44</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c1</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">44</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">20</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">5</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">45</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="n">c0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">c1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-6" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">46</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-7" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">46</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="p">(</code><code class="o">-</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">20</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">5</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">47</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">1.5</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">c1</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="mi">2</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-8" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-8"><img src="Images/8.png" alt="8" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">47</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">32.</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22">  </code><code class="mi">9.5</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">48</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">c1</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="mi">1.5</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO7-9" href="ch02_split_000.xhtml#callout_two_state_economy_CO7-9"><img src="Images/9.png" alt="9" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">48</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">35.</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11.</code><code class="p">]</code><code class="p">)</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-1" href="ch02_split_000.xhtml#co_two_state_economy_CO7-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Imports the <code class="calibre22">numpy</code> package as <code class="calibre22">np</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-2" href="ch02_split_000.xhtml#co_two_state_economy_CO7-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The cash outflow today.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-3" href="ch02_split_000.xhtml#co_two_state_economy_CO7-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The uncertain cash inflow in one year; one-dimensional <code class="calibre22">ndarray</code> objects do not distinguish between row (horizontal) and column (vertical).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-4" href="ch02_split_000.xhtml#co_two_state_economy_CO7-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up and prints the type of <code class="calibre22">c1</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-5" href="ch02_split_000.xhtml#co_two_state_economy_CO7-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Prints the cash flow vector.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-6" href="ch02_split_000.xhtml#co_two_state_economy_CO7-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Combines the cash flows to a <code class="calibre22">tuple</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-7" href="ch02_split_000.xhtml#co_two_state_economy_CO7-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">A <code class="calibre22">tuple</code>, like a <code class="calibre22">list</code> object, can contain other complex data structures.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-8" href="ch02_split_000.xhtml#co_two_state_economy_CO7-8"><img src="Images/8.png" alt="8" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">A linear transformation of the vector by scalar multiplication and addition; technically one also speaks of a vectorized numerical operation and of broadcasting.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO7-9" href="ch02_split_000.xhtml#co_two_state_economy_CO7-9"><img src="Images/9.png" alt="9" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">A linear combination of two <code class="calibre22">ndarray</code> objects<a data-type="indexterm" data-primary="vectors" data-secondary="cash flow" data-startref="vectors" id="idm44853714701480" class="calibre6"/><a data-type="indexterm" data-primary="vectors" data-secondary="modeling with NumPy" data-startref="vector-modeling-numpy" id="idm44853714700200" class="calibre6"/><a data-type="indexterm" data-primary="NumPy" data-secondary="vector  modeling" data-startref="numpy-vectors" id="idm44853714698984" class="calibre6"/><a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="uncertainty" data-startref="model-two-state-uncertainty" id="idm44853714697768" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="uncertainty" data-startref="two-state-uncertainty" id="idm44853714696216" class="calibre6"/><a data-type="indexterm" data-primary="uncertainty" data-secondary="in two-state economy" data-secondary-sortas="two-state economy" data-startref="uncertainty-two-state" id="idm44853714695000" class="calibre6"/> (vectors).</p></dd>
</dl>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Financial Assets" class="calibre4"><div class="preface" id="idm44853714773928">
<h1 class="calibre17">Financial Assets</h1>

<p class="author1"><em class="calibre7">Financial assets</em> are <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="financial assets" id="models-two-state-finassets" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="financial assets" id="two-state-finassets" class="calibre6"/><a data-type="indexterm" data-primary="assets" data-secondary="financial" id="asset-financial" class="calibre6"/><a data-type="indexterm" data-primary="financial assets" id="financial-assets" class="calibre6"/>financial instruments (“contracts”) that have a fixed price today and an uncertain price in one year. Think of a share in the equity of a firm that conducts an investment project. Such a share might be available at a price today of
<math><mrow><msub><mi>S</mi> <mn>0</mn> </msub><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>&gt;0</mn></mrow> </msub></mrow></math>.
The price of the share in one year depends on the success of the investment project, i.e., whether a high cash inflow is observed in the <math alttext="u">
  <mi>u</mi>
</math> state or a low one in the <math alttext="d">
  <mi>d</mi>
</math> state. Formally,
<math><mrow><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>,</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>
with <math alttext="upper S 1 Superscript u Baseline greater-than upper S 1 Superscript d">
  <mrow>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>&gt;</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math>.</p>

<p class="author1">One speaks also of <a data-type="indexterm" data-primary="price process of financial assets" id="idm44853714670424" class="calibre6"/>the <em class="calibre7">price process</em> of the financial asset
<math><mrow><mi>S</mi><mo>:</mo><msub><mi>ℕ</mi> <mn>0</mn> </msub><mo>×</mo><mrow><mo>{</mo><mi>u</mi><mo>,</mo><mi>d</mi><mo>}</mo></mrow><mo>→</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>
mapping time and state of the economy to the price of the financial asset. Note that the price today is independent of the state <math alttext="upper S 0 Superscript u Baseline equals upper S 0 Superscript d Baseline identical-to upper S 0">
  <mrow>
    <msubsup><mi>S</mi> <mn>0</mn> <mi>u</mi> </msubsup>
    <mo>=</mo>
    <msubsup><mi>S</mi> <mn>0</mn> <mi>d</mi> </msubsup>
    <mo>≡</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
  </mrow>
</math>, while the price after one year is not in general. One also writes <math alttext="left-parenthesis upper S Subscript t Baseline right-parenthesis Subscript t element-of StartSet 0 comma 1 EndSet Baseline equals left-parenthesis upper S 0 comma upper S 1 right-parenthesis">
  <mrow>
    <msub><mrow><mo>(</mo><msub><mi>S</mi> <mi>t</mi> </msub><mo>)</mo></mrow> <mrow><mi>t</mi><mo>∈</mo><mo>{</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>}</mo></mrow> </msub>
    <mo>=</mo>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>0</mn> </msub>
      <mo>,</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>, or for short, <math alttext="upper S equals left-parenthesis upper S 0 comma upper S 1 right-parenthesis">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>S</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math>.
The <code class="calibre22">NumPy</code> package <a data-type="indexterm" data-primary="NumPy" data-secondary="financial asset modeling" id="idm44853714640040" class="calibre6"/>is again the tool of choice for the modeling:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">49</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S0</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">10</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">50</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">12.5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">7.5</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">51</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">52</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">52</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">12.5</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">7.5</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">53</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">53</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">10</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">54</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-6" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">54</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">12.5</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">55</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO8-7" href="ch02_split_000.xhtml#callout_two_state_economy_CO8-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">55</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">7.5</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-1" href="ch02_split_000.xhtml#co_two_state_economy_CO8-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The price of the financial asset today.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-2" href="ch02_split_000.xhtml#co_two_state_economy_CO8-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The uncertain price in one year as a vector (<code class="calibre22">ndarray</code> object).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-3" href="ch02_split_000.xhtml#co_two_state_economy_CO8-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The price process as a <code class="calibre22">tuple</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-4" href="ch02_split_000.xhtml#co_two_state_economy_CO8-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Prints the price process information.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-5" href="ch02_split_000.xhtml#co_two_state_economy_CO8-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the price today.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-6" href="ch02_split_000.xhtml#co_two_state_economy_CO8-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the price in one year in the <math alttext="u">
  <mi>u</mi>
</math> (first) state.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO8-7" href="ch02_split_000.xhtml#co_two_state_economy_CO8-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Accesses the price in one year in the <math alttext="d">
  <mi>d</mi>
</math> (second) <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="financial assets" data-startref="models-two-state-finassets" id="idm44853714427368" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="financial assets" data-startref="two-state-finassets" id="idm44853714425752" class="calibre6"/><a data-type="indexterm" data-primary="assets" data-secondary="financial" data-startref="asset-financial" id="idm44853714424536" class="calibre6"/><a data-type="indexterm" data-primary="financial assets" data-startref="financial-assets" id="idm44853714423320" class="calibre6"/>state.</p></dd>
</dl>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Risk" class="calibre4"><div class="preface" id="idm44853714480664">
<h1 class="calibre17">Risk</h1>

<p class="author1">Often it <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="risk" id="model-two-state-risk" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="risk" id="two-state-risk" class="calibre6"/><a data-type="indexterm" data-primary="risk" id="risk" class="calibre6"/>is implicitly assumed that the two states of the economy are <em class="calibre7">equally likely</em>. What this means in general is that when an experiment in the economy is repeated (infinitely) many times, it is observed that half of the time the <math alttext="u">
  <mi>u</mi>
</math> state materializes and that in the other half the <math alttext="d">
  <mi>d</mi>
</math> state materializes.</p>

<p class="author1">This is a frequentist point of view, according to which probabilities for a state to materialize are calculated based on the frequency the state is observed divided by the total number of experiments leading to observations. If state <math alttext="u">
  <mi>u</mi>
</math> is observed 30 times out of 50 experiments, the probability
<math><mrow><mi>p</mi><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>
with <math alttext="0 less-than-or-equal-to p less-than-or-equal-to 1">
  <mrow>
    <mn>0</mn>
    <mo>≤</mo>
    <mi>p</mi>
    <mo>≤</mo>
    <mn>1</mn>
  </mrow>
</math> is accordingly <math alttext="p equals StartFraction 30 Over 50 EndFraction">
  <mrow>
    <mi>p</mi>
    <mo>=</mo>
    <mfrac><mn>30</mn> <mn>50</mn></mfrac>
  </mrow>
</math> = 0.6, or 60%.</p>

<p class="author1">In a modeling context, the probabilities for all possible states to occur are assumed to be given <em class="calibre7">a priori</em>. One speaks sometimes of <em class="calibre7">objective</em> or <em class="calibre7">physical</em> probabilities.</p>








<section data-type="sect2" data-pdf-bookmark="Probability Measure" class="calibre4"><div class="preface" id="idm44853714401480">
<h2 class="calibre55">Probability Measure</h2>

<p class="author1">The<a data-type="indexterm" data-primary="risk" data-secondary="probability measure" id="idm44853714399496" class="calibre6"/><a data-type="indexterm" data-primary="probability measure" id="idm44853714398488" class="calibre6"/> probabilities for events that are physically possible together form a <em class="calibre7">probability measure</em>. Such a probability measure is a function <math alttext="upper P colon normal script upper P left-parenthesis StartSet u comma d EndSet right-parenthesis right-arrow double-struck upper R Subscript 0 Baseline">
  <mrow>
    <mi>P</mi>
    <mo>:</mo>
    <mi>℘</mi>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mo>{</mo>
        <mi>u</mi>
        <mo>,</mo>
        <mi>d</mi>
        <mo>}</mo>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mo>→</mo>
    <msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>0</mn></mrow> </msub>
  </mrow>
</math> mapping all elements of the <em class="calibre7">power set</em> of <math alttext="StartSet u comma d EndSet">
  <mrow>
    <mo>{</mo>
    <mi>u</mi>
    <mo>,</mo>
    <mi>d</mi>
    <mo>}</mo>
  </mrow>
</math>—with <math alttext="normal script upper P left-parenthesis StartSet u comma d EndSet right-parenthesis equals StartSet normal empty-set comma StartSet u EndSet comma StartSet d EndSet comma StartSet u comma d EndSet EndSet">
  <mrow>
    <mi>℘</mi>
    <mo>(</mo>
    <mo>{</mo>
    <mi>u</mi>
    <mo>,</mo>
    <mi>d</mi>
    <mo>}</mo>
    <mo>)</mo>
    <mo>=</mo>
    <mo>{</mo>
    <mi>∅</mi>
    <mo>,</mo>
    <mo>{</mo>
    <mi>u</mi>
    <mo>}</mo>
    <mo>,</mo>
    <mo>{</mo>
    <mi>d</mi>
    <mo>}</mo>
    <mo>,</mo>
    <mo>{</mo>
    <mi>u</mi>
    <mo>,</mo>
    <mi>d</mi>
    <mo>}</mo>
    <mo>}</mo>
  </mrow>
</math>—to the unit interval. The power set in this case embodies all events that are physically possible.</p>

<p class="author1">In this context, the set <math alttext="StartSet u comma d EndSet">
  <mrow>
    <mo>{</mo>
    <mi>u</mi>
    <mo>,</mo>
    <mi>d</mi>
    <mo>}</mo>
  </mrow>
</math> is also called <a data-type="indexterm" data-primary="state space" id="idm44853714367000" class="calibre6"/>the <em class="calibre7">state space</em> and is symbolized by <math alttext="normal upper Omega">
  <mi>Ω</mi>
</math>. The triple <math alttext="left-parenthesis normal upper Omega comma normal script upper P left-parenthesis normal upper Omega right-parenthesis comma upper P right-parenthesis">
  <mrow>
    <mo>(</mo>
    <mi>Ω</mi>
    <mo>,</mo>
    <mi>℘</mi>
    <mo>(</mo>
    <mi>Ω</mi>
    <mo>)</mo>
    <mo>,</mo>
    <mi>P</mi>
    <mo>)</mo>
  </mrow>
</math> together is <a data-type="indexterm" data-primary="probability space" id="idm44853714358600" class="calibre6"/>called a <em class="calibre7">probability space</em>.</p>

<p class="author1">A function <math alttext="upper P">
  <mi>P</mi>
</math> representing a probability measure needs to satisfy three conditions:</p>
<ol class="calibre47">
<li class="calibre48">
<p class="author1"><math alttext="upper P left-parenthesis normal empty-set right-parenthesis equals 0">
  <mrow>
    <mi>P</mi>
    <mo>(</mo>
    <mi>∅</mi>
    <mo>)</mo>
    <mo>=</mo>
    <mn>0</mn>
  </mrow>
</math></p>
</li>
<li class="calibre48">
<p class="author1"><math alttext="0 less-than-or-equal-to upper P left-parenthesis omega right-parenthesis comma omega element-of normal upper Omega less-than-or-equal-to 1">
  <mrow>
    <mn>0</mn>
    <mo>≤</mo>
    <mi>P</mi>
    <mo>(</mo>
    <mi>ω</mi>
    <mo>)</mo>
    <mo>,</mo>
    <mi>ω</mi>
    <mo>∈</mo>
    <mi>Ω</mi>
    <mo>≤</mo>
    <mn>1</mn>
  </mrow>
</math></p>
</li>
<li class="calibre48">
<p class="author1"><math alttext="upper P left-parenthesis normal upper Omega right-parenthesis equals upper P left-parenthesis u right-parenthesis plus upper P left-parenthesis d right-parenthesis equals 1">
  <mrow>
    <mi>P</mi>
    <mo>(</mo>
    <mi>Ω</mi>
    <mo>)</mo>
    <mo>=</mo>
    <mi>P</mi>
    <mo>(</mo>
    <mi>u</mi>
    <mo>)</mo>
    <mo>+</mo>
    <mi>P</mi>
    <mo>(</mo>
    <mi>d</mi>
    <mo>)</mo>
    <mo>=</mo>
    <mn>1</mn>
  </mrow>
</math></p>
</li>

</ol>

<p class="author1">The first condition implies that at least one of the states must materialize. The second implies that the probability for a state to materialize is between 0 and 1. The third one says that all the probabilities add up to 1.</p>

<p class="author1">In the simple model economy with two states only, it is convenient to define <math alttext="p identical-to upper P left-parenthesis u right-parenthesis">
  <mrow>
    <mi>p</mi>
    <mo>≡</mo>
    <mi>P</mi>
    <mo>(</mo>
    <mi>u</mi>
    <mo>)</mo>
  </mrow>
</math> and to accordingly have <math alttext="upper P left-parenthesis d right-parenthesis equals 1 minus p">
  <mrow>
    <mi>P</mi>
    <mo>(</mo>
    <mi>d</mi>
    <mo>)</mo>
    <mo>=</mo>
    <mn>1</mn>
    <mo>-</mo>
    <mi>p</mi>
  </mrow>
</math>, given the preceding third condition. Fixing <math alttext="p">
  <mi>p</mi>
</math> then defines the probability measure <math alttext="upper P">
  <mi>P</mi>
</math>.</p>

<p class="author1">Having a fully specified probability measure available, the model economy is typically<a data-type="indexterm" data-primary="economy under risk" id="idm44853714321208" class="calibre6"/><a data-type="indexterm" data-primary="economy under ambiguity" id="idm44853714320504" class="calibre6"/> called an <em class="calibre7">economy under risk</em>. A model economy without a fully specified probability measure is often called an <em class="calibre7">economy under ambiguity</em>.</p>

<p class="author1">In applications, a probability measure is usually modeled also<a data-type="indexterm" data-primary="vectors" data-secondary="probability measure" id="idm44853714318424" class="calibre6"/><a data-type="indexterm" data-primary="ndarray" data-secondary="probability measure" id="idm44853714317448" class="calibre6"/> as a vector and <code class="calibre22">ndarray</code> object, respectively. This is at least possible for a discrete state space with a finite number of elements:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code> <code class="p">[</code><code class="mi">56</code><code class="p">]:</code> <code class="n">p</code> <code class="o">=</code> <code class="mi">0.4</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">57</code><code class="p">]:</code> <code class="mi">1</code> <code class="o">-</code> <code class="n">p</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">57</code><code class="p">]:</code> <code class="mi">0.6</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">58</code><code class="p">]:</code> <code class="n">P</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">((</code><code class="n">p</code><code class="p">,</code> <code class="mi">1</code><code class="o">-</code><code class="n">p</code><code class="p">))</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">59</code><code class="p">]:</code> <code class="n">P</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">59</code><code class="p">]:</code> <code class="n">array</code><code class="p">([</code><code class="mi">0.4</code><code class="p">,</code> <code class="mi">0.6</code><code class="p">])</code></pre>
<div data-type="note" epub:type="note" class="calibre26"><h1 class="calibre33">Notions of Uncertainty</h1>
<p class="author1">Uncertainty in<a data-type="indexterm" data-primary="uncertainty" data-secondary="risk versus ambiguity" id="idm44853714264440" class="calibre6"/><a data-type="indexterm" data-primary="risk" data-secondary="ambiguity versus" id="idm44853714263496" class="calibre6"/><a data-type="indexterm" data-primary="ambiguity" id="idm44853714262552" class="calibre6"/> a financial context can take on different forms. <em class="calibre7">Risk</em> in general refers to a situation in which a full probability distribution over future states of the economy is (assumed to be) known. <em class="calibre7">Ambiguity</em> refers to situations in which such a distribution is not known. Traditionally, finance has relied almost exclusively on model economies under risk, although there is a stream of research that deals with finance problems under ambiguity (see Guidolin and Rinaldi (2012) for a survey of the research literature).</p>
</div>
</div></section>













<section data-type="sect2" class="calibre4" data-pdf-bookmark="Expectation"><div class="preface" id="idm44853714400824">
<h2 class="calibre55">Expectation</h2>

<p class="author1">Based on<a data-type="indexterm" data-primary="risk" data-secondary="expectation" id="risk-expectation" class="calibre6"/><a data-type="indexterm" data-primary="expectation" id="expectation" class="calibre6"/> the probability measure, the <em class="calibre7">expectation</em> of an uncertain quantity, like the price in one year of a financial asset, can be calculated. The expectation can be interpreted as <a data-type="indexterm" data-primary="weighted average" id="idm44853714255544" class="calibre6"/>the <em class="calibre7">weighted average</em>, where the weights are given by the probabilities. It is an average since the probabilities add up to one.</p>

<p class="author1">Consider the financial asset with price process <math alttext="upper S equals left-parenthesis upper S 0 comma upper S 1 right-parenthesis">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <msub><mi>S</mi> <mn>0</mn> </msub>
      <mo>,</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
    </mfenced>
  </mrow>
</math>. The expectation of the uncertain price <math alttext="upper S 1">
  <msub><mi>S</mi> <mn>1</mn> </msub>
</math> in one year under the probability measure <math alttext="upper P">
  <mi>P</mi>
</math> is</p>
<div data-type="equation" class="calibre42">
<math alttext="bold upper E Superscript upper P Baseline left-parenthesis upper S 1 right-parenthesis identical-to sigma-summation Underscript omega element-of normal upper Omega Endscripts upper P left-parenthesis omega right-parenthesis dot upper S 1 Superscript omega Baseline equals p dot upper S 1 Superscript u Baseline plus left-parenthesis 1 minus p right-parenthesis dot upper S 1 Superscript d" display="block">
  <mrow>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
    <mo>≡</mo>
    <munder><mo>∑</mo> <mrow><mi>ω</mi><mo>∈</mo><mi>Ω</mi></mrow> </munder>
    <mi>P</mi>
    <mrow>
      <mo>(</mo>
      <mi>ω</mi>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>ω</mi> </msubsup>
    <mo>=</mo>
    <mi>p</mi>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>+</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>-</mo>
      <mi>p</mi>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math>
</div>

<p class="author1">with <math alttext="p identical-to upper P left-parenthesis u right-parenthesis">
  <mrow>
    <mi>p</mi>
    <mo>≡</mo>
    <mi>P</mi>
    <mo>(</mo>
    <mi>u</mi>
    <mo>)</mo>
  </mrow>
</math>. If <math alttext="upper S 1 equals left-parenthesis 20 comma 5 right-parenthesis Superscript upper T">
  <mrow>
    <msub><mi>S</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><mn>20</mn><mo>,</mo><mn>5</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math> and <math alttext="p equals">
  <mrow>
    <mi>p</mi>
    <mo>=</mo>
  </mrow>
</math> 0.4 hold, the expectation value is:</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mrow>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mn>0.4</mn>
    <mo>·</mo>
    <mn>20</mn>
    <mo>+</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>-</mo>
      <mn>0.4</mn>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <mn>5</mn>
    <mo>=</mo>
    <mn>11</mn>
  </mrow>
</math></div>

<p class="author1">Mathematically, the <a data-type="indexterm" data-primary="dot product" id="dot-product" class="calibre6"/><a data-type="indexterm" data-primary="inner product" id="inner-product" class="calibre6"/>expectation can be expressed as the <em class="calibre7">dot product</em> (or <em class="calibre7">inner product</em>) of two vectors. If <math alttext="x comma y element-of double-struck upper R squared">
  <mrow>
    <mi>x</mi>
    <mo>,</mo>
    <mi>y</mi>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mn>2</mn> </msup>
  </mrow>
</math>, the dot product is defined as</p>
<div data-type="equation" class="calibre42">
<math alttext="left-parenthesis x comma y right-parenthesis equals sigma-summation Underscript i equals 1 Overscript 2 Endscripts x Subscript i Baseline dot y Subscript i Baseline equals x 1 dot y 1 plus x 2 dot y 2" display="block">
  <mrow>
    <mrow>
      <mo>(</mo>
      <mi>x</mi>
      <mo>,</mo>
      <mi>y</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <munderover><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow> <mn>2</mn> </munderover>
    <msub><mi>x</mi> <mi>i</mi> </msub>
    <mo>·</mo>
    <msub><mi>y</mi> <mi>i</mi> </msub>
    <mo>=</mo>
    <msub><mi>x</mi> <mn>1</mn> </msub>
    <mo>·</mo>
    <msub><mi>y</mi> <mn>1</mn> </msub>
    <mo>+</mo>
    <msub><mi>x</mi> <mn>2</mn> </msub>
    <mo>·</mo>
    <msub><mi>y</mi> <mn>2</mn> </msub>
  </mrow>
</math>
</div>

<p class="author1">Therefore, with <math alttext="upper P equals left-parenthesis p comma 1 minus p right-parenthesis Superscript upper T">
  <mrow>
    <mi>P</mi>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><mi>p</mi><mo>,</mo><mn>1</mn><mo>-</mo><mi>p</mi><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math> and <math alttext="upper S 1 equals left-parenthesis upper S 1 Superscript u Baseline comma upper S 1 Superscript d Baseline right-parenthesis Superscript upper T">
  <mrow>
    <msub><mi>S</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>,</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math>, the expectation is</p>
<div data-type="equation" class="calibre42">
<math alttext="bold upper E Superscript upper P Baseline left-parenthesis upper S 1 right-parenthesis equals left-parenthesis upper P comma upper S 1 right-parenthesis equals left-parenthesis StartBinomialOrMatrix p Choose 1 minus p EndBinomialOrMatrix comma StartBinomialOrMatrix upper S 1 Superscript u Baseline Choose upper S 1 Superscript d Baseline EndBinomialOrMatrix right-parenthesis equals p dot upper S 1 Superscript u Baseline plus left-parenthesis 1 minus p right-parenthesis dot upper S 1 Superscript d" display="block">
  <mrow>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mo>(</mo>
      <mi>P</mi>
      <mo>,</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <mfenced open="(" close=")">
        <mtable>
          <mtr>
            <mtd>
              <mi>p</mi>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mn>1</mn>
                <mo>-</mo>
                <mi>p</mi>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mfenced>
      <mo>,</mo>
      <mfenced open="(" close=")">
        <mtable>
          <mtr>
            <mtd>
              <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            </mtd>
          </mtr>
        </mtable>
      </mfenced>
    </mfenced>
    <mo>=</mo>
    <mi>p</mi>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>+</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>-</mo>
      <mi>p</mi>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math>
</div>

<p class="author1">Working<a data-type="indexterm" data-primary="ndarray" data-secondary="dot product" id="idm44853714092712" class="calibre6"/><a data-type="indexterm" data-primary="NumPy" data-secondary="dot product" id="idm44853714091704" class="calibre6"/> with <code class="calibre22">ndarray</code> objects in Python, the dot product is defined as a function provided by the <code class="calibre22">NumPy</code> package:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">60</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">P</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO9-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO9-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">60</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0.4</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.6</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">61</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S0</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">10</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO9-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO9-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">62</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">20</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO9-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO9-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">63</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO9-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO9-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">63</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">11.0</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO9-1" href="ch02_split_000.xhtml#co_two_state_economy_CO9-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The previously defined probability measure.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO9-2" href="ch02_split_000.xhtml#co_two_state_economy_CO9-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The price of the financial asset today.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO9-3" href="ch02_split_000.xhtml#co_two_state_economy_CO9-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The vector of the uncertain price in one year.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO9-4" href="ch02_split_000.xhtml#co_two_state_economy_CO9-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The dot product of the two vectors calculating the expectation <a data-type="indexterm" data-primary="risk" data-secondary="expectation" data-startref="risk-expectation" id="idm44853714003384" class="calibre6"/><a data-type="indexterm" data-primary="expectation" data-startref="expectation" id="idm44853713961192" class="calibre6"/><a data-type="indexterm" data-primary="dot product" data-startref="dot-product" id="idm44853713960248" class="calibre6"/><a data-type="indexterm" data-primary="inner product" data-startref="inner-product" id="idm44853713959304" class="calibre6"/>value.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Expected Return" class="calibre4"><div class="preface" id="idm44853714259768">
<h2 class="calibre55">Expected Return</h2>

<p class="author1">Under <a data-type="indexterm" data-primary="risk" data-secondary="expected return" id="risk-expect-return" class="calibre6"/><a data-type="indexterm" data-primary="expected return" id="expect-return" class="calibre6"/><a data-type="indexterm" data-primary="return" data-secondary="expected" id="return-expected" class="calibre6"/>uncertainty, the notions of return and rate of return need to be adjusted. In such a case, the <em class="calibre7">expected return</em> of a financial asset is given as the expectation of the price in one year minus the price today. This can be seen by taking the expectation of the uncertain return <math alttext="upper R equals left-parenthesis upper R Superscript u Baseline comma upper R Superscript d Baseline right-parenthesis Superscript upper T">
  <mrow>
    <mi>R</mi>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><msup><mi>R</mi> <mi>u</mi> </msup><mo>,</mo><msup><mi>R</mi> <mi>d</mi> </msup><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math> and rearranging as follows:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column bold upper E Superscript upper P Baseline left-parenthesis upper R right-parenthesis 2nd Column equals 3rd Column left-parenthesis StartBinomialOrMatrix p Choose 1 minus p EndBinomialOrMatrix comma StartBinomialOrMatrix upper R Superscript u Baseline Choose upper R Superscript d Baseline EndBinomialOrMatrix right-parenthesis 2nd Row 1st Column Blank 2nd Column equals 3rd Column left-parenthesis StartBinomialOrMatrix p Choose 1 minus p EndBinomialOrMatrix comma StartBinomialOrMatrix upper S 1 Superscript u Baseline minus upper S 0 Choose upper S 1 Superscript d Baseline minus upper S 0 EndBinomialOrMatrix right-parenthesis 3rd Row 1st Column Blank 2nd Column equals 3rd Column p dot left-parenthesis upper S 1 Superscript u Baseline minus upper S 0 right-parenthesis plus left-parenthesis 1 minus p right-parenthesis dot left-parenthesis upper S 1 Superscript d Baseline minus upper S 0 right-parenthesis 4th Row 1st Column Blank 2nd Column equals 3rd Column p dot upper S 1 Superscript u plus left-parenthesis 1 minus p right-parenthesis dot upper S 1 Superscript d minus upper S 0 5th Row 1st Column Blank 2nd Column equals 3rd Column bold upper E Superscript upper P Baseline left-parenthesis upper S 1 right-parenthesis minus upper S 0 EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <mi>R</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfenced separators="" open="(" close=")">
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mi>p</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mi>p</mi>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
          <mo>,</mo>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <msup><mi>R</mi> <mi>u</mi> </msup>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msup><mi>R</mi> <mi>d</mi> </msup>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
        </mfenced>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfenced separators="" open="(" close=")">
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mi>p</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mi>p</mi>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
          <mo>,</mo>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mrow>
                    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
                    <mo>-</mo>
                    <msub><mi>S</mi> <mn>0</mn> </msub>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
                    <mo>-</mo>
                    <msub><mi>S</mi> <mn>0</mn> </msub>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
        </mfenced>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>p</mi>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            <mo>-</mo>
            <msub><mi>S</mi> <mn>0</mn> </msub>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mo>(</mo>
            <mn>1</mn>
            <mo>-</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            <mo>-</mo>
            <msub><mi>S</mi> <mn>0</mn> </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>p</mi>
          <mo>·</mo>
          <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          <mo>+</mo>
          <mrow>
            <mo>(</mo>
            <mn>1</mn>
            <mo>-</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
          <mo>·</mo>
          <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          <mo>-</mo>
          <msub><mi>S</mi> <mn>0</mn> </msub>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>S</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
          <mo>-</mo>
          <msub><mi>S</mi> <mn>0</mn> </msub>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">With the assumptions from before, one gets:</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mrow>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mrow>
      <mo>(</mo>
      <mi>R</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mn>0.4</mn>
    <mo>·</mo>
    <mrow>
      <mo>(</mo>
      <mn>20</mn>
      <mo>-</mo>
      <mn>10</mn>
      <mo>)</mo>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>-</mo>
      <mn>0.4</mn>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <mrow>
      <mo>(</mo>
      <mn>5</mn>
      <mo>-</mo>
      <mn>10</mn>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mn>11</mn>
    <mo>-</mo>
    <mn>10</mn>
    <mo>=</mo>
    <mn>1</mn>
  </mrow>
</math>
</div>

<p class="author1">The <em class="calibre7">expected rate of return</em> then <a data-type="indexterm" data-primary="expected rate of return" id="idm44853713848184" class="calibre6"/><a data-type="indexterm" data-primary="rate of return" data-secondary="expected" id="idm44853713847448" class="calibre6"/>simply is the expected return divided by the price today</p>
<div data-type="equation" class="calibre42">
<math alttext="bold upper E Superscript upper P Baseline left-parenthesis r right-parenthesis equals StartFraction bold upper E Superscript upper P Baseline left-parenthesis upper R right-parenthesis Over upper S 0 EndFraction" display="block">
  <mrow>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mrow>
      <mo>(</mo>
      <mi>r</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfrac><mrow><msup><mi>𝐄</mi> <mi>P</mi> </msup><mrow><mo>(</mo><mi>R</mi><mo>)</mo></mrow></mrow> <msub><mi>S</mi> <mn>0</mn> </msub></mfrac>
  </mrow>
</math>
</div>

<p class="author1">which can also be derived step by step with similar transformations as for the expected return. In what follows, the expected rate of return is symbolized by <math alttext="mu identical-to bold upper E Superscript upper P Baseline left-parenthesis r right-parenthesis">
  <mrow>
    <mi>μ</mi>
    <mo>≡</mo>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mrow>
      <mo>(</mo>
      <mi>r</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
</math> for brevity.</p>

<p class="author1">The calculation of expected return and rate of return can be modeled in Python by two simple functions:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">64</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">ER</code><code class="p">(</code><code class="n">x0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">x1</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">x1</code><code class="p">)</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">x0</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO10-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO10-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">65</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">ER</code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO10-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO10-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">65</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">1.0</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">66</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">mu</code><code class="p">(</code><code class="n">x0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">x1</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">x1</code><code class="p">)</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">x0</code><code class="p">)</code><code class="calibre22"> </code><code class="o">/</code><code class="calibre22"> </code><code class="n">x0</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO10-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO10-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">67</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO10-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO10-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">67</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.1</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO10-1" href="ch02_split_000.xhtml#co_two_state_economy_CO10-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Definition of expected return.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO10-2" href="ch02_split_000.xhtml#co_two_state_economy_CO10-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The expected return for the previously defined financial asset.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO10-3" href="ch02_split_000.xhtml#co_two_state_economy_CO10-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Definition of the expected rate of return.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO10-4" href="ch02_split_000.xhtml#co_two_state_economy_CO10-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The expected rate of return calculated for that <a data-type="indexterm" data-primary="risk" data-secondary="expected return" data-startref="risk-expect-return" id="idm44853713710504" class="calibre6"/><a data-type="indexterm" data-primary="expected return" data-startref="expect-return" id="idm44853713709256" class="calibre6"/><a data-type="indexterm" data-primary="return" data-secondary="expected" data-startref="return-expected" id="idm44853713662664" class="calibre6"/>asset.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Volatility" class="calibre4"><div class="preface" id="idm44853713957640">
<h2 class="calibre55">Volatility</h2>

<p class="author1">In <a data-type="indexterm" data-primary="risk" data-secondary="volatility" id="risk-volatile" class="calibre6"/><a data-type="indexterm" data-primary="volatility" data-secondary="defined" id="volatile" class="calibre6"/>finance, <em class="calibre7">risk and expected return</em> is the dominating pair of concepts. Risk can be measured in many ways, while the <em class="calibre7">volatility</em> as measured by the standard deviation of the rates of return is probably the most common measure. In the present context, <a data-type="indexterm" data-primary="variance" id="idm44853713655992" class="calibre6"/>the <em class="calibre7">variance</em> of the return rates of a financial asset is defined by</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column sigma squared left-parenthesis r right-parenthesis 2nd Column equals 3rd Column bold upper E Superscript upper P Baseline left-parenthesis left-parenthesis r minus mu right-parenthesis squared right-parenthesis 2nd Row 1st Column Blank 2nd Column equals 3rd Column left-parenthesis StartBinomialOrMatrix p Choose 1 minus p EndBinomialOrMatrix comma StartBinomialOrMatrix left-parenthesis r Superscript u Baseline minus mu right-parenthesis squared Choose left-parenthesis r Superscript d Baseline minus mu right-parenthesis squared EndBinomialOrMatrix right-parenthesis EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msup><mi>σ</mi> <mn>2</mn> </msup>
          <mrow>
            <mo>(</mo>
            <mi>r</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mfenced separators="" open="(" close=")">
            <msup><mrow><mo>(</mo><mi>r</mi><mo>-</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
          </mfenced>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfenced separators="" open="(" close=")">
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mi>p</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mi>p</mi>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
          <mo>,</mo>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <msup><mrow><mo>(</mo><msup><mi>r</mi> <mi>u</mi> </msup><mo>-</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msup><mrow><mo>(</mo><msup><mi>r</mi> <mi>d</mi> </msup><mo>-</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
        </mfenced>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">with <math alttext="r Superscript omega Baseline identical-to left-parenthesis upper S 1 Superscript omega Baseline minus upper S 0 right-parenthesis slash upper S 0 comma omega element-of normal upper Omega">
  <mrow>
    <msup><mi>r</mi> <mi>ω</mi> </msup>
    <mo>≡</mo>
    <mrow>
      <mo>(</mo>
      <msubsup><mi>S</mi> <mn>1</mn> <mi>ω</mi> </msubsup>
      <mo>-</mo>
      <msub><mi>S</mi> <mn>0</mn> </msub>
      <mo>)</mo>
    </mrow>
    <mo>/</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <mi>ω</mi>
    <mo>∈</mo>
    <mi>Ω</mi>
  </mrow>
</math>. The <em class="calibre7">volatility</em> is defined as the standard deviation of the return rates, which is the square root of the variance</p>
<div data-type="equation" class="calibre42">
<math alttext="sigma left-parenthesis r right-parenthesis equals StartRoot sigma squared left-parenthesis r right-parenthesis EndRoot" display="block">
  <mrow>
    <mi>σ</mi>
    <mrow>
      <mo>(</mo>
      <mi>r</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <msqrt>
      <mrow>
        <msup><mi>σ</mi> <mn>2</mn> </msup>
        <mrow>
          <mo>(</mo>
          <mi>r</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </msqrt>
  </mrow>
</math>
</div>

<p class="author1">Python functions modeling these two risk measures are given in the following, as is a helper function to calculate the return rates vector:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">68</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">r</code><code class="p">(</code><code class="n">x0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">x1</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="p">(</code><code class="n">x1</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">x0</code><code class="p">)</code><code class="calibre22"> </code><code class="o">/</code><code class="calibre22"> </code><code class="n">x0</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-1" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">69</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">r</code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-2" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">69</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="calibre22"> </code><code class="mi">1.</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">0.5</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">70</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">mu</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">r</code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-3" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">71</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">mu</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-4" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">71</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.10000000000000003</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">72</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">sigma2</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">r</code><code class="p">,</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="p">(</code><code class="n">r</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">)</code><code class="calibre22"> </code><code class="o">*</code><code class="o">*</code><code class="calibre22"> </code><code class="mi">2</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-5" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">73</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">sigma2</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">r</code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="p">,</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-6" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">73</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.54</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">74</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">sigma</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">r</code><code class="p">,</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">             </code><code class="kn">return</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">sqrt</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="p">(</code><code class="n">r</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">)</code><code class="calibre22"> </code><code class="o">*</code><code class="o">*</code><code class="calibre22"> </code><code class="mi">2</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-7" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">75</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">sigma</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">r</code><code class="p">(</code><code class="n">S0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">)</code><code class="p">,</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO11-8" href="ch02_split_000.xhtml#callout_two_state_economy_CO11-8"><img src="Images/8.png" alt="8" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">75</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.7348469228349535</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-1" href="ch02_split_000.xhtml#co_two_state_economy_CO11-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Vectorized calculation of the rates of return vector.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-2" href="ch02_split_000.xhtml#co_two_state_economy_CO11-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Applies the function to the financial asset from before.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-3" href="ch02_split_000.xhtml#co_two_state_economy_CO11-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The expected rate of return via the dot product…</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-4" href="ch02_split_000.xhtml#co_two_state_economy_CO11-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">…printed out.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-5" href="ch02_split_000.xhtml#co_two_state_economy_CO11-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The definition of the variance of the rates of return.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-6" href="ch02_split_000.xhtml#co_two_state_economy_CO11-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The function applied to the rates of return vector.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-7" href="ch02_split_000.xhtml#co_two_state_economy_CO11-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The definition of the volatility.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO11-8" href="ch02_split_000.xhtml#co_two_state_economy_CO11-8"><img src="Images/8.png" alt="8" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">And applied to the rates of return <a data-type="indexterm" data-primary="risk" data-secondary="volatility" data-startref="risk-volatile" id="idm44853713266856" class="calibre6"/><a data-type="indexterm" data-primary="volatility" data-secondary="defined" data-startref="volatile" id="idm44853713265608" class="calibre6"/><a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="risk" data-startref="model-two-state-risk" id="idm44853713264392" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="risk" data-startref="two-state-risk" id="idm44853713262904" class="calibre6"/><a data-type="indexterm" data-primary="risk" data-startref="risk" id="idm44853713261688" class="calibre6"/>vector.</p></dd>
</dl>
</div></section>





</div></section>













</div></section></div>

<div id="sbo-rt-content" class="calibre1">
<section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 2. Two-State Economy" class="calibre4">
<div class="preface" id="two_state_economy">
<section data-type="sect1" data-pdf-bookmark="Risk" class="calibre4">
<div class="preface" id="idm44853714480664">
<section data-type="sect2" data-pdf-bookmark="Volatility" class="calibre4">
<div class="preface" id="idm44853713957640">
<div data-type="note" epub:type="note" class="calibre26"><h1 class="calibre33">Vectors, Matrices, and NumPy</h1>
<p class="author1">Finance <a data-type="indexterm" data-primary="NumPy" data-secondary="for linear algebra and probability theory" data-secondary-sortas="linear algebra" id="idm44853713259624" class="calibre6"/><a data-type="indexterm" data-primary="linear algebra" data-secondary="NumPy and ndarray for" id="idm44853713258376" class="calibre6"/><a data-type="indexterm" data-primary="probability theory" data-secondary="NumPy and ndarray for" id="idm44853713257432" class="calibre6"/><a data-type="indexterm" data-primary="ndarray" data-secondary="for linear algebra and probability theory" data-secondary-sortas="linear algebra" id="idm44853713256488" class="calibre6"/>as an applied mathematical discipline relies heavily on linear algebra and probability theory. In the discrete model economy, both mathematical disciplines can be efficiently handled in Python by using the <code class="calibre22">NumPy</code> package with its powerful <code class="calibre22">ndarray</code> object. This is not only true from a modeling point of view but also from handling, calculation, optimization, visualization, and other points of view. Basically all examples in this book will support these claims.</p>
</div>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Contingent Claims" class="calibre4"><div class="preface" id="idm44853713253672">
<h1 class="calibre17">Contingent Claims</h1>

<p class="author1">Suppose now <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="contingent claims" id="model-two-state-contingent" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="contingent claims" id="two-state-contingent" class="calibre6"/><a data-type="indexterm" data-primary="contingent claims" id="contingent" class="calibre6"/>that a <em class="calibre7">contingent claim</em> is traded in the economy. This is a financial asset—formalized by some contract—that offers a state-contingent payoff one year from now. Such a contingent claim can have an arbitrary state-contingent payoff or one that is derived from the payoff of other financial assets. In the latter case, one generally <a data-type="indexterm" data-primary="derivatives" data-secondary="contingent claims and" id="idm44853713247160" class="calibre6"/><a data-type="indexterm" data-primary="assets" data-secondary="derivative" id="idm44853713246184" class="calibre6"/>speaks of <em class="calibre7">derivative assets</em> or <em class="calibre7">derivative instruments</em>. Formally, a contingent claim is a function <math alttext="upper C 1 colon normal upper Omega right-arrow double-struck upper R Subscript 0 Baseline comma omega right-arrow from bar upper C 1 left-parenthesis omega right-parenthesis">
  <mrow>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mo>:</mo>
    <mi>Ω</mi>
    <mo>→</mo>
    <msub><mi>ℝ</mi> <mrow><mo>≥</mo><mn>0</mn></mrow> </msub>
    <mo>,</mo>
    <mi>ω</mi>
    <mo>↦</mo>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ω</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
</math> mapping events to (non-negative) real 
<span class="firstname">numbers</span>.</p>

<p class="author1">Assume that two financial assets are traded in the economy: a risk-less bond with price process <math alttext="upper B equals left-parenthesis upper B 0 comma upper B 1 right-parenthesis">
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>B</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math> and a risky stock with price process</p>
<div data-type="equation" class="calibre42">
<math alttext="upper S equals left-parenthesis upper S 0 comma left-parenthesis upper S 1 Superscript u Baseline comma upper S 1 Superscript d Baseline right-parenthesis Superscript upper T Baseline right-parenthesis" display="block">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <msub><mi>S</mi> <mn>0</mn> </msub>
      <mo>,</mo>
      <msup><mrow><mo>(</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>,</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>)</mo></mrow> <mi>T</mi> </msup>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">A <em class="calibre7">call option</em> on<a data-type="indexterm" data-primary="call options" data-secondary="defined" id="idm44853713215448" class="calibre6"/> the stock has a payoff in one year of <math alttext="upper C 1 left-parenthesis upper S 1 left-parenthesis omega right-parenthesis right-parenthesis equals max left-parenthesis upper S 1 left-parenthesis omega right-parenthesis minus upper K comma 0 right-parenthesis">
  <mrow>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mrow>
        <mo>(</mo>
        <mi>ω</mi>
        <mo>)</mo>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mo movablelimits="true" form="prefix">max</mo>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mrow>
        <mo>(</mo>
        <mi>ω</mi>
        <mo>)</mo>
      </mrow>
      <mo>-</mo>
      <mi>K</mi>
      <mo>,</mo>
      <mn>0</mn>
      <mo>)</mo>
    </mrow>
  </mrow>
</math> and <math alttext="omega element-of normal upper Omega">
  <mrow>
    <mi>ω</mi>
    <mo>∈</mo>
    <mi>Ω</mi>
  </mrow>
</math>.
<math><mrow><mi>K</mi><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>
is called <a data-type="indexterm" data-primary="strike price" id="idm44853713194952" class="calibre6"/>the <em class="calibre7">strike price</em> of the option.</p>

<p class="author1">In probability theory, a contingent claim is usually called<a data-type="indexterm" data-primary="random variables" data-secondary="contingent claims as" id="idm44853713193448" class="calibre6"/><a data-type="indexterm" data-primary="probability theory" data-secondary="contingent claims in" id="idm44853713192472" class="calibre6"/> a <em class="calibre7">random variable</em> whose defining characteristic is that it maps elements of the state space to real numbers—potentially via other random variables, as is the case for derivative assets. In that sense, the price of the stock in one year
<math><mrow><msub><mi>S</mi> <mn>1</mn> </msub><mo>:</mo><mi>Ω</mi><mo>→</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub><mo>,</mo><mi>ω</mi><mo>↦</mo><msub><mi>S</mi> <mn>1</mn> </msub><mrow><mo>(</mo><mi>ω</mi><mo>)</mo></mrow></mrow></math>
is also a random variable.<sup class="calibre14"><a data-type="noteref" id="idm44853713184344-marker" href="ch02_split_001.xhtml#idm44853713184344" class="calibre15">4</a></sup></p>

<p class="author1">For the sake of illustration, the following Python code visualizes<a data-type="indexterm" data-primary="call options" data-secondary="payoff" id="call-option-payoff" class="calibre6"/><a data-type="indexterm" data-primary="payoff of call options" id="payoff-call-option" class="calibre6"/> the payoff of a call option on a segment of the real line. In the economy, there are, of course, only two states—and therewith two values—of relevance. <a data-type="xref" href="ch02_split_001.xhtml#call_option" class="calibre6">Figure 2-1</a> shows the payoff function graphically:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">76</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mi">20</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">77</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S1</code><code class="p">[</code><code class="p">:</code><code class="mi">7</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">77</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">2</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">3</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">4</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">78</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">K</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">10</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">79</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">C1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">maximum</code><code class="p">(</code><code class="n">S1</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">K</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-4" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">80</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">C1</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-5" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">80</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">2</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">3</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">4</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">7</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">8</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">9</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">81</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">from</code><code class="calibre22"> </code><code class="nn">pylab</code><code class="calibre22"> </code><code class="kn">import</code><code class="calibre22"> </code><code class="n">mpl</code><code class="p">,</code><code class="calibre22"> </code><code class="n">plt</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-6" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">         </code><code class="c"># plotting configuration</code><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">plt</code><code class="o">.</code><code class="n">style</code><code class="o">.</code><code class="n">use</code><code class="p">(</code><code class="s">'</code><code class="s">seaborn</code><code class="s">'</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">mpl</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s">'</code><code class="s">savefig.dpi</code><code class="s">'</code><code class="p">]</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">300</code><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">mpl</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s">'</code><code class="s">font.family</code><code class="s">'</code><code class="p">]</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="s">'</code><code class="s">serif</code><code class="s">'</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">82</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">S1</code><code class="p">,</code><code class="calibre22"> </code><code class="n">C1</code><code class="p">,</code><code class="calibre22"> </code><code class="n">lw</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">3.0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">label</code><code class="o">=</code><code class="s">'</code><code class="s">$C_1 = </code><code class="s">\</code><code class="s">max(S_1 - K, 0)$</code><code class="s">'</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-7" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-8" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-8"><img src="Images/8.png" alt="8" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s">'</code><code class="s">$S_1$</code><code class="s">'</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-9" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-9"><img src="Images/9.png" alt="9" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s">'</code><code class="s">$C_1$</code><code class="s">'</code><code class="p">)</code><code class="p">;</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO12-10" href="ch02_split_001.xhtml#callout_two_state_economy_CO12-10"><img src="Images/10.png" alt="10" class="calibre44"/></a></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-1" href="ch02_split_001.xhtml#co_two_state_economy_CO12-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Generates an <code class="calibre22">ndarray</code> object with numbers from 0 to 19.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-2" href="ch02_split_001.xhtml#co_two_state_economy_CO12-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows the first few numbers.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-3" href="ch02_split_001.xhtml#co_two_state_economy_CO12-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Fixes the strike price for the call option.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-4" href="ch02_split_001.xhtml#co_two_state_economy_CO12-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates in vectorized fashion the call option payoff values.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-5" href="ch02_split_001.xhtml#co_two_state_economy_CO12-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows these values—many values are 0.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-6" href="ch02_split_001.xhtml#co_two_state_economy_CO12-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Imports the main plotting subpackage from <a href="http://matplotlib.org" class="calibre6"><code class="calibre22">matplotlib</code></a>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-7" href="ch02_split_001.xhtml#co_two_state_economy_CO12-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Plots the call option payoff against the stock values, sets the line width to 3 pixels, and defines a label as a string object with <code class="calibre22">Latex</code> code.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-8" href="ch02_split_001.xhtml#co_two_state_economy_CO12-8"><img src="Images/8.png" alt="8" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Puts the legend in the optimal location (least overlap with plot elements).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-9" href="ch02_split_001.xhtml#co_two_state_economy_CO12-9"><img src="Images/9.png" alt="9" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Places a label on the <code class="calibre22">x</code> axis…</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO12-10" href="ch02_split_001.xhtml#co_two_state_economy_CO12-10"><img src="Images/10.png" alt="10" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">…and on <a data-type="indexterm" data-primary="call options" data-secondary="payoff" data-startref="call-option-payoff" id="idm44853712781048" class="calibre6"/><a data-type="indexterm" data-primary="payoff of call options" data-startref="payoff-call-option" id="idm44853712779768" class="calibre6"/>the <code class="calibre22">y</code> axis.</p></dd>
</dl>

<figure class="calibre50"><div id="call_option" class="figure">
<img src="Images/ftwp_0201.png" alt="ftwp 0201" class="calibre56"/>
<h6 class="calibre52"><span class="firstname">Figure 2-1. </span>Payoff of the call option</h6>
</div></figure>








<section data-type="sect2" data-pdf-bookmark="Replication" class="calibre4"><div class="preface" id="idm44853712776616">
<h2 class="calibre55">Replication</h2>

<p class="author1">When <a data-type="indexterm" data-primary="contingent claims" data-secondary="replication" id="contingent-replication" class="calibre6"/><a data-type="indexterm" data-primary="call options" data-secondary="replication of payoff" id="call-option-replication" class="calibre6"/><a data-type="indexterm" data-primary="payoff of call options" data-secondary="replication" id="payoff-call-replication" class="calibre6"/><a data-type="indexterm" data-primary="replication" id="replication" class="calibre6"/>introducing a contingent claim into the economy, an important question that arises is whether the payoff of the contingent claim is redundant or not. Mathematically, one speaks of the payoff vector of the contingent claim<a data-type="indexterm" data-primary="linearly dependent/independent" id="idm44853712757016" class="calibre6"/> being <em class="calibre7">linearly dependent</em> or <em class="calibre7">linearly independent</em>.</p>

<p class="author1">The payoff of the call option is said to be linearly dependent—or redundant—when a solution to the following problem exists</p>
<div data-type="equation" class="calibre42">
<math alttext="b dot StartBinomialOrMatrix upper B 1 Choose upper B 1 EndBinomialOrMatrix plus s dot StartBinomialOrMatrix upper S 1 Superscript u Baseline Choose upper S 1 Superscript d Baseline EndBinomialOrMatrix equals StartBinomialOrMatrix upper C 1 Superscript u Baseline Choose upper C 1 Superscript d EndBinomialOrMatrix" display="block">
  <mrow>
    <mi>b</mi>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>+</mo>
    <mi>s</mi>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">with <math alttext="b comma s element-of double-struck upper R">
  <mrow>
    <mi>b</mi>
    <mo>,</mo>
    <mi>s</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>.</p>

<p class="author1">This problem can be represented as<a data-type="indexterm" data-primary="system of linear equations" id="idm44853712726680" class="calibre6"/><a data-type="indexterm" data-primary="linear algebra" data-secondary="system of linear equations" id="idm44853712726008" class="calibre6"/> a <em class="calibre7">system of linear equations</em>:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout Enlarged left-brace 1st Row  b dot upper B 1 plus s dot upper S 1 Superscript u Baseline equals upper C 1 Superscript u Baseline 2nd Row  b dot upper B 1 plus s dot upper S 1 Superscript d Baseline equals upper C 1 Superscript d EndLayout" display="block">
  <mfenced separators="" open="{" close="">
    <mtable>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <mi>b</mi>
            <mo>·</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>+</mo>
            <mi>s</mi>
            <mo>·</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            <mo>=</mo>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mrow>
        </mtd>
      </mtr>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <mi>b</mi>
            <mo>·</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>+</mo>
            <mi>s</mi>
            <mo>·</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            <mo>=</mo>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mrow>
        </mtd>
      </mtr>
    </mtable>
  </mfenced>
</math>
</div>

<p class="author1">With <math alttext="upper S 1 Superscript u Baseline not-equals upper S 1 Superscript d">
  <mrow>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>≠</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math>, solutions are given by</p>
<div data-type="equation" class="calibre42">
<math alttext="s Superscript asterisk Baseline equals StartFraction upper C 1 Superscript u Baseline minus upper C 1 Superscript d Baseline Over upper S 1 Superscript u Baseline minus upper S 1 Superscript d Baseline EndFraction" display="block">
  <mrow>
    <msup><mi>s</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <mfrac><mrow><msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow> <mrow><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow></mfrac>
  </mrow>
</math>
</div>

<p class="author1">and</p>
<div data-type="equation" class="calibre42">
<math alttext="b Superscript asterisk Baseline equals StartFraction 1 Over upper B 1 EndFraction StartFraction upper C 1 Superscript d Baseline dot upper S 1 Superscript u Baseline minus upper C 1 Superscript u Baseline dot upper S 1 Superscript d Baseline Over upper S 1 Superscript u Baseline minus upper S 1 Superscript d Baseline EndFraction" display="block">
  <mrow>
    <msup><mi>b</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <mfrac><mn>1</mn> <msub><mi>B</mi> <mn>1</mn> </msub></mfrac>
    <mfrac><mrow><msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>·</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>·</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow> <mrow><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow></mfrac>
  </mrow>
</math>
</div>

<p class="author1">Assume as before that two financial assets are traded, a risk-less bond <math alttext="upper B equals left-parenthesis 10 comma 11 right-parenthesis">
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mo>(</mo>
    <mn>10</mn>
    <mo>,</mo>
    <mn>11</mn>
    <mo>)</mo>
  </mrow>
</math> and a risky stock <math alttext="upper S equals left-parenthesis 10 comma left-parenthesis 20 comma 5 right-parenthesis Superscript upper T Baseline right-parenthesis">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mo>(</mo>
    <mn>10</mn>
    <mo>,</mo>
    <msup><mrow><mo>(</mo><mn>20</mn><mo>,</mo><mn>5</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
    <mo>)</mo>
  </mrow>
</math>. Assume further <math alttext="upper K equals 15">
  <mrow>
    <mi>K</mi>
    <mo>=</mo>
    <mn>15</mn>
  </mrow>
</math> such that <math alttext="upper C 1 equals left-parenthesis 5 comma 0 right-parenthesis Superscript upper T">
  <mrow>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><mn>5</mn><mo>,</mo><mn>0</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math>. The optimal numerical solutions are then</p>
<div data-type="equation" class="calibre42">
<math alttext="s Superscript asterisk Baseline equals StartFraction 5 minus 0 Over 20 minus 5 EndFraction equals one-third" display="block">
  <mrow>
    <msup><mi>s</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <mfrac><mrow><mn>5</mn><mo>-</mo><mn>0</mn></mrow> <mrow><mn>20</mn><mo>-</mo><mn>5</mn></mrow></mfrac>
    <mo>=</mo>
    <mfrac><mn>1</mn> <mn>3</mn></mfrac>
  </mrow>
</math>
</div>

<p class="author1">and</p>
<div data-type="equation" class="calibre42">
<math alttext="b Superscript asterisk Baseline equals one-eleventh dot StartFraction 0 dot 20 minus 5 dot 5 Over 20 minus 5 EndFraction equals negative five-thirty-thirds" display="block">
  <mrow>
    <msup><mi>b</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <mfrac><mn>1</mn> <mn>11</mn></mfrac>
    <mo>·</mo>
    <mfrac><mrow><mn>0</mn><mo>·</mo><mn>20</mn><mo>-</mo><mn>5</mn><mo>·</mo><mn>5</mn></mrow> <mrow><mn>20</mn><mo>-</mo><mn>5</mn></mrow></mfrac>
    <mo>=</mo>
    <mo>-</mo>
    <mfrac><mn>5</mn> <mn>33</mn></mfrac>
  </mrow>
</math>
</div>

<p class="author1">In words, buying one-third of the stock and selling <math alttext="five-thirty-thirds">
  <mfrac><mn>5</mn> <mn>33</mn></mfrac>
</math> of the bond short perfectly replicates the payoff of the call option. Therefore, the payoff of the call option is linearly dependent given the payoff vectors of the bond and the stock.</p>

<p class="author1">Technically, <em class="calibre7">short selling</em> implies <a data-type="indexterm" data-primary="short selling" id="idm44853712627800" class="calibre6"/>borrowing the respective number of units of the financial asset today from another agent and immediately selling the units in the market. In one year, the borrowing agent buys the exact number of units of the financial asset back in the market at the then-current price and transfers them back to the other agent.</p>

<p class="author1">The analysis here assumes that all financial assets—like money—are infinitely divisible, which might not be the case in practice. It also assumes that short selling of all traded financial assets is possible, which might not be too unrealistic given market practice.</p>

<p class="author1">As a preparation for the implementation in Python, consider yet another way of formulating<a data-type="indexterm" data-primary="matrices" id="matrices" class="calibre6"/> the replication problem. To this end, the mathematical concept of a <em class="calibre7">matrix</em> is needed. While a vector is a one-dimensional object, a matrix is a two-dimensional object. For the purposes of this section, consider a square matrix <math alttext="script upper M">
  <mi>ℳ</mi>
</math> with four elements—implying <math alttext="script upper M element-of double-struck upper R Superscript 2 times 2">
  <mrow>
    <mi>ℳ</mi>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow> </msup>
  </mrow>
</math>—with</p>
<div data-type="equation" class="calibre42">
<math alttext="script upper M equals Start 2 By 2 Matrix 1st Row 1st Column upper B 1 2nd Column upper S 1 Superscript u Baseline 2nd Row 1st Column upper B 1 2nd Column upper S 1 Superscript d EndMatrix" display="block">
  <mrow>
    <mi>ℳ</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">The future payoff vectors of the bond and the stock represent the values in the first and second column of the matrix, respectively. The first row contains the payoff of both financial assets in the state <math alttext="u">
  <mi>u</mi>
</math>, while the second row contains the payoffs from the <math alttext="d">
  <mi>d</mi>
</math> state. With these conventions, the replication problem <a data-type="indexterm" data-primary="matrix form for replication problem" id="idm44853712602392" class="calibre6"/>can be represented in <em class="calibre7">matrix form</em> as</p>
<div data-type="equation" class="calibre42">
<math alttext="script upper M dot phi equals upper C 1" display="block">
  <mrow>
    <mi>ℳ</mi>
    <mo>·</mo>
    <mi>ϕ</mi>
    <mo>=</mo>
    <msub><mi>C</mi> <mn>1</mn> </msub>
  </mrow>
</math>
</div>

<p class="author1">where <math alttext="phi element-of double-struck upper R squared">
  <mrow>
    <mi>ϕ</mi>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mn>2</mn> </msup>
  </mrow>
</math> is the vector containing the bond and stock portfolio positions for replication <math alttext="phi identical-to left-parenthesis b comma s right-parenthesis Superscript upper T">
  <mrow>
    <mi>ϕ</mi>
    <mo>≡</mo>
    <msup><mrow><mo>(</mo><mi>b</mi><mo>,</mo><mi>s</mi><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math>. <math alttext="phi">
  <mi>ϕ</mi>
</math> is usually simply called<a data-type="indexterm" data-primary="portfolio strategy" id="idm44853712586168" class="calibre6"/><a data-type="indexterm" data-primary="trading strategy" id="idm44853712585464" class="calibre6"/> a <em class="calibre7">portfolio</em> or <em class="calibre7">trading strategy</em>. Therefore:</p>
<div data-type="equation" class="calibre42">
<math alttext="Start 2 By 2 Matrix 1st Row 1st Column upper B 1 2nd Column upper S 1 Superscript u Baseline 2nd Row 1st Column upper B 1 2nd Column upper S 1 Superscript d Baseline EndMatrix dot StartBinomialOrMatrix b Choose s EndBinomialOrMatrix equals StartBinomialOrMatrix upper C 1 Superscript u Baseline Choose upper C 1 Superscript d EndBinomialOrMatrix" display="block">
  <mrow>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mi>b</mi>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mi>s</mi>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">In this <a data-type="indexterm" data-primary="matrix multiplication, defined" id="idm44853712559512" class="calibre6"/>context, <em class="calibre7">matrix multiplication</em> is defined by</p>
<div data-type="equation" class="calibre42">
<math alttext="Start 2 By 2 Matrix 1st Row 1st Column upper B 1 2nd Column upper S 1 Superscript u Baseline 2nd Row 1st Column upper B 1 2nd Column upper S 1 Superscript d Baseline EndMatrix dot StartBinomialOrMatrix b Choose s EndBinomialOrMatrix identical-to StartBinomialOrMatrix upper B 1 dot b plus upper S 1 Superscript u Baseline dot s Choose upper B 1 dot b plus upper S 1 Superscript d Baseline dot s EndBinomialOrMatrix" display="block">
  <mrow>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mi>b</mi>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mi>s</mi>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>≡</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <msub><mi>B</mi> <mn>1</mn> </msub>
              <mo>·</mo>
              <mi>b</mi>
              <mo>+</mo>
              <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
              <mo>·</mo>
              <mi>s</mi>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <msub><mi>B</mi> <mn>1</mn> </msub>
              <mo>·</mo>
              <mi>b</mi>
              <mo>+</mo>
              <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
              <mo>·</mo>
              <mi>s</mi>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">which shows the equivalence between this way of representing the replication problem and the one from before.</p>

<p class="author1">The <code class="calibre22">ndarray</code> class allows for a <a data-type="indexterm" data-primary="NumPy" data-secondary="matrices" id="idm44853712524856" class="calibre6"/><a data-type="indexterm" data-primary="ndarray" data-secondary="matrices" id="idm44853712523848" class="calibre6"/>modeling of matrices in Python. The <code class="calibre22">NumPy</code> package provides in the subpackage <code class="calibre22">np.linalg</code> a wealth of functions for linear algebra operations, among which there is also a function to solve systems of linear equations in matrix form—exactly what is needed here:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">83</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">B</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">11</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">84</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">20</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">85</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">M</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="n">B</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code class="o">.</code><code class="n">T</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">86</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">M</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-4" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">86</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="mi">11</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">20</code><code class="p">]</code><code class="p">,</code><code class="calibre22">
</code><code class="calibre22">                </code><code class="p">[</code><code class="mi">11</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">5</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">87</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">K</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">15</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-5" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">88</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">C1</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">maximum</code><code class="p">(</code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">K</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-6" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">89</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">C1</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-7" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">89</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">90</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">phi</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">linalg</code><code class="o">.</code><code class="n">solve</code><code class="p">(</code><code class="n">M</code><code class="p">,</code><code class="calibre22"> </code><code class="n">C1</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-8" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-8"><img src="Images/8.png" alt="8" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">91</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">phi</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO13-9" href="ch02_split_001.xhtml#callout_two_state_economy_CO13-8"><img src="Images/8.png" alt="8" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">91</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="o">-</code><code class="mi">0.15151515</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">0.33333333</code><code class="p">]</code><code class="p">)</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-1" href="ch02_split_001.xhtml#co_two_state_economy_CO13-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the price process for the risk-less bond.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-2" href="ch02_split_001.xhtml#co_two_state_economy_CO13-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the price process for the risky stock.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-3" href="ch02_split_001.xhtml#co_two_state_economy_CO13-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines a matrix—i.e., a two-dimensional <code class="calibre22">ndarray</code> object—with the future payoff vectors.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-4" href="ch02_split_001.xhtml#co_two_state_economy_CO13-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows the matrix with the numerical values.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-5" href="ch02_split_001.xhtml#co_two_state_economy_CO13-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Fixes the strike price for the call option and…</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-6" href="ch02_split_001.xhtml#co_two_state_economy_CO13-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">…calculates the values for the payoff vector in one year.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-7" href="ch02_split_001.xhtml#co_two_state_economy_CO13-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows the numerical values of the payoff vector.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO13-8" href="ch02_split_001.xhtml#co_two_state_economy_CO13-8"><img src="Images/8.png" alt="8" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Solves the replication problem in matrix form to obtain the optimal portfolio<a data-type="indexterm" data-primary="contingent claims" data-secondary="replication" data-startref="contingent-replication" id="idm44853706935656" class="calibre6"/><a data-type="indexterm" data-primary="call options" data-secondary="replication of payoff" data-startref="call-option-replication" id="idm44853706934408" class="calibre6"/><a data-type="indexterm" data-primary="payoff of call options" data-secondary="replication" data-startref="payoff-call-replication" id="idm44853706933192" class="calibre6"/><a data-type="indexterm" data-primary="replication" data-startref="replication" id="idm44853706931976" class="calibre6"/><a data-type="indexterm" data-primary="matrices" data-startref="matrices" id="idm44853706931032" class="calibre6"/> positions.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Arbitrage Pricing" class="calibre4"><div class="preface" id="idm44853712286920">
<h2 class="calibre55">Arbitrage Pricing</h2>

<p class="author1">How much<a data-type="indexterm" data-primary="contingent claims" data-secondary="arbitrage pricing" id="contingent-arbitrage" class="calibre6"/><a data-type="indexterm" data-primary="arbitrage pricing" id="arbitrage" class="calibre6"/><a data-type="indexterm" data-primary="call options" data-secondary="arbitrage pricing" id="call-option-arbitrage" class="calibre6"/> does it cost to replicate the payoff of the call option? Once the portfolio to accomplish the replication is derived, this question is easy to answer. Define the value of the replication portfolio today by <math alttext="upper V 0 left-parenthesis phi right-parenthesis">
  <mrow>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>. It is given by the dot product</p>
<div data-type="equation" class="calibre42">
<math alttext="upper V 0 left-parenthesis phi right-parenthesis identical-to left-parenthesis StartBinomialOrMatrix b Choose s EndBinomialOrMatrix comma StartBinomialOrMatrix upper B 0 Choose upper S 0 EndBinomialOrMatrix right-parenthesis equals b dot upper B 0 plus s dot upper S 0" display="block">
  <mrow>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>≡</mo>
    <mfenced separators="" open="(" close=")">
      <mfenced open="(" close=")">
        <mtable>
          <mtr>
            <mtd>
              <mi>b</mi>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mi>s</mi>
            </mtd>
          </mtr>
        </mtable>
      </mfenced>
      <mo>,</mo>
      <mfenced open="(" close=")">
        <mtable>
          <mtr>
            <mtd>
              <msub><mi>B</mi> <mn>0</mn> </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <msub><mi>S</mi> <mn>0</mn> </msub>
            </mtd>
          </mtr>
        </mtable>
      </mfenced>
    </mfenced>
    <mo>=</mo>
    <mi>b</mi>
    <mo>·</mo>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>+</mo>
    <mi>s</mi>
    <mo>·</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
  </mrow>
</math>
</div>

<p class="author1">or in numbers</p>
<div data-type="equation" class="calibre42">
<math alttext="upper V 0 left-parenthesis phi right-parenthesis equals b dot upper B 0 plus s dot upper S 0 equals StartFraction 10 Over 3 EndFraction minus StartFraction 50 Over 33 EndFraction equals 1.818181" display="block">
  <mrow>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mi>b</mi>
    <mo>·</mo>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>+</mo>
    <mi>s</mi>
    <mo>·</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <mfrac><mn>10</mn> <mn>3</mn></mfrac>
    <mo>-</mo>
    <mfrac><mn>50</mn> <mn>33</mn></mfrac>
    <mo>=</mo>
    <mn>1</mn>
    <mo>.</mo>
    <mn>818181</mn>
  </mrow>
</math>
</div>

<p class="author1">The uncertain value of the replication portfolio in one year <math alttext="upper V 1 left-parenthesis phi right-parenthesis">
  <mrow>
    <msub><mi>V</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
</math> can be represented via matrix multiplication as</p>
<div data-type="equation" class="calibre42">
<math alttext="upper V 1 left-parenthesis phi right-parenthesis equals Start 2 By 2 Matrix 1st Row 1st Column upper B 1 2nd Column upper S 1 Superscript u Baseline 2nd Row 1st Column upper B 1 2nd Column upper S 1 Superscript d Baseline EndMatrix dot StartBinomialOrMatrix b Choose s EndBinomialOrMatrix equals StartBinomialOrMatrix 5 Choose 0 EndBinomialOrMatrix" display="block">
  <mrow>
    <msub><mi>V</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mi>b</mi>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mi>s</mi>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>5</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">Together, one has <a data-type="indexterm" data-primary="value process of portfolio" id="idm44853706852824" class="calibre6"/>the <em class="calibre7">value process</em> of the portfolio as <math alttext="upper V left-parenthesis phi right-parenthesis equals left-parenthesis upper V 0 left-parenthesis phi right-parenthesis comma upper V 1 left-parenthesis phi right-parenthesis right-parenthesis">
  <mrow>
    <mi>V</mi>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>,</mo>
    <msub><mi>V</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>)</mo>
  </mrow>
</math>, or <math alttext="upper V equals left-parenthesis upper V 0 comma upper V 1 right-parenthesis">
  <mrow>
    <mi>V</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>V</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math> for short, if there is no ambiguity regarding the portfolio.</p>

<p class="author1">Having a portfolio available that perfectly replicates the future payoff of a contingent claim raises the next question: what if the price of the contingent claim today differs from the costs of setting up the replication portfolio? The answer is simple but serious: then<a data-type="indexterm" data-primary="arbitrage, defined" id="idm44853706833464" class="calibre6"/> there exists an <em class="calibre7">arbitrage</em> or <em class="calibre7">arbitrage opportunity</em> in the economy. An arbitrage is a trading strategy <math alttext="phi">
  <mi>ϕ</mi>
</math> that creates a risk-less profit out of an investment of zero. Formally, <math alttext="phi">
  <mi>ϕ</mi>
</math> is an arbitrage if</p>
<div data-type="equation" class="calibre42">

<p class="author1"><math alttext="upper V 0 left-parenthesis phi right-parenthesis equals 0">
  <mrow>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
  </mrow>
</math> and <math alttext="bold upper E Superscript upper P Baseline left-parenthesis upper V 1 left-parenthesis phi right-parenthesis right-parenthesis greater-than 0">
  <mrow>
    <msup><mi>𝐄</mi> <mi>P</mi> </msup>
    <mfenced separators="" open="(" close=")">
      <msub><mi>V</mi> <mn>1</mn> </msub>
      <mrow>
        <mo>(</mo>
        <mi>ϕ</mi>
        <mo>)</mo>
      </mrow>
    </mfenced>
    <mo>&gt;</mo>
    <mn>0</mn>
  </mrow>
</math></p>
</div>

<p class="author1">or</p>
<div data-type="equation" class="calibre42">

<p class="author1"><math alttext="upper V 0 left-parenthesis phi right-parenthesis greater-than 0">
  <mrow>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>&gt;</mo>
    <mn>0</mn>
  </mrow>
</math> and <math alttext="upper V 1 left-parenthesis phi right-parenthesis equals 0">
  <mrow>
    <msub><mi>V</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mn>0</mn>
  </mrow>
</math></p>
</div>

<p class="author1">Suppose that the price of the call option is <math alttext="upper C 0 equals 2">
  <mrow>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <mn>2</mn>
  </mrow>
</math>, which is higher than the cost to set up the replication portfolio. A trading strategy that sells the call option in the market for 2 and buys the replication portfolio for 1.81818 yields an immediate profit of the difference. In one year, the payoff of the replication portfolio and of the call option cancel each other out</p>
<div data-type="equation" class="calibre42">
<math alttext="minus StartBinomialOrMatrix upper C 1 Superscript u Baseline Choose upper C 1 Superscript d Baseline EndBinomialOrMatrix plus b Superscript asterisk Baseline StartBinomialOrMatrix upper B 1 Choose upper B 1 EndBinomialOrMatrix plus s Superscript asterisk Baseline StartBinomialOrMatrix upper S 1 Superscript u Baseline Choose upper S 1 Superscript d Baseline EndBinomialOrMatrix equals StartBinomialOrMatrix 0 Choose 0 EndBinomialOrMatrix" display="block">
  <mrow>
    <mo>-</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>+</mo>
    <msup><mi>b</mi> <mo>*</mo> </msup>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>+</mo>
    <msup><mi>s</mi> <mo>*</mo> </msup>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">by the definition of the replication portfolio. In the other case, when the price of the call option today is lower than the price of the replication portfolio, say <math alttext="upper C 0 equals">
  <mrow>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>=</mo>
  </mrow>
</math>1.5, a trading strategy buying the call option and selling the replication portfolio yields a risk-less profit amounting to the difference between the market price of the call option and the cost to set up the replication portfolio. Of course, the risk-less profits in both cases can be increased by simply multiplying the positions by a positive factor greater than one.</p>

<p class="author1">A model for an economy that allows for arbitrage opportunities can be considered not viable. Therefore, the only price that is consistent with the absence of arbitrage is <math alttext="upper C 0 equals">
  <mrow>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>=</mo>
  </mrow>
</math> 1.818181. One calls this price the <em class="calibre7">arbitrage price</em> of the call option. Whenever there is a portfolio <math alttext="phi">
  <mi>ϕ</mi>
</math> replicating the payoff of a contingent claim <math alttext="upper V 1 left-parenthesis phi right-parenthesis equals upper C 1">
  <mrow>
    <msub><mi>V</mi> <mn>1</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <msub><mi>C</mi> <mn>1</mn> </msub>
  </mrow>
</math>, then the arbitrage price of the contingent claim is <math alttext="upper C 0 equals upper V 0 left-parenthesis phi right-parenthesis">
  <mrow>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>.</p>

<p class="author1">Formally, the arbitrage price is the dot product of the replication portfolio and the price vector of the replicating financial assets</p>
<div data-type="equation" class="calibre42">
<math alttext="upper C 0 identical-to upper V 0 left-parenthesis phi right-parenthesis equals left-parenthesis phi Superscript asterisk Baseline comma StartBinomialOrMatrix upper B 0 Choose upper S 0 EndBinomialOrMatrix right-parenthesis equals b Superscript asterisk Baseline dot upper B 0 plus s Superscript asterisk Baseline dot upper S 0" display="block">
  <mrow>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>≡</mo>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <mi>ϕ</mi>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <msup><mi>ϕ</mi> <mo>*</mo> </msup>
      <mo>,</mo>
      <mfenced open="(" close=")">
        <mtable>
          <mtr>
            <mtd>
              <msub><mi>B</mi> <mn>0</mn> </msub>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <msub><mi>S</mi> <mn>0</mn> </msub>
            </mtd>
          </mtr>
        </mtable>
      </mfenced>
    </mfenced>
    <mo>=</mo>
    <msup><mi>b</mi> <mo>*</mo> </msup>
    <mo>·</mo>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>+</mo>
    <msup><mi>s</mi> <mo>*</mo> </msup>
    <mo>·</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
  </mrow>
</math>
</div>

<p class="author1">giving rise to an arbitrage-free price process for the contingent claim of <math alttext="upper C equals left-parenthesis upper C 0 comma upper C 1 right-parenthesis">
  <mrow>
    <mi>C</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math>.</p>

<p class="author1">In Python, this is a single calculation given the previous definitions <a data-type="indexterm" data-primary="contingent claims" data-secondary="arbitrage pricing" data-startref="contingent-arbitrage" id="idm44853706720712" class="calibre6"/><a data-type="indexterm" data-primary="arbitrage pricing" data-startref="arbitrage" id="idm44853706719464" class="calibre6"/><a data-type="indexterm" data-primary="call options" data-secondary="arbitrage pricing" data-startref="call-option-arbitrage" id="idm44853706718520" class="calibre6"/>and calculations:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code> <code class="p">[</code><code class="mi">92</code><code class="p">]:</code> <code class="n">C0</code> <code class="o">=</code> <code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">phi</code><code class="p">,</code> <code class="p">(</code><code class="n">B</code><code class="p">[</code><code class="mi">0</code><code class="p">],</code> <code class="n">S</code><code class="p">[</code><code class="mi">0</code><code class="p">]))</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">93</code><code class="p">]:</code> <code class="n">C0</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">93</code><code class="p">]:</code> <code class="mi">1.8181818181818183</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">94</code><code class="p">]:</code> <code class="mi">10</code><code class="o">/</code><code class="mi">3</code> <code class="o">-</code> <code class="mi">50</code><code class="o">/</code><code class="mi">33</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">94</code><code class="p">]:</code> <code class="mi">1.8181818181818183</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Market Completeness" class="calibre4"><div class="preface" id="idm44853706688584">
<h2 class="calibre55">Market Completeness</h2>

<p class="author1">Does<a data-type="indexterm" data-primary="contingent claims" data-secondary="complete market model" id="contingent-complete" class="calibre6"/><a data-type="indexterm" data-primary="complete market model" data-secondary="contingent claims" id="complete-market" class="calibre6"/><a data-type="indexterm" data-primary="market completeness" data-secondary="contingent claims" id="market-complete" class="calibre6"/> arbitrage pricing work for every contingent claim? Yes, at least for those that are replicable by portfolios of financial assets that are traded in the economy. The <em class="calibre7">set of attainable contingent claims</em> <math alttext="double-struck upper A">
  <mi>𝔸</mi>
</math> comprises all <a data-type="indexterm" data-primary="set of attainable contingent claims" id="idm44853706661816" class="calibre6"/><a data-type="indexterm" data-primary="span" data-secondary="defined" id="idm44853706661064" class="calibre6"/>those contingent claims that are replicable by trading in the financial assets. It is given by the <em class="calibre7">span</em>, which is the set of all linear combinations of the future price vectors of the traded financial assets</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mrow>
    <mi>𝔸</mi>
    <mo>=</mo>
    <mfenced separators="" open="{" close="}">
      <mi>ℳ</mi>
      <mo>·</mo>
      <mi>ϕ</mi>
      <mo>,</mo>
      <mi>ϕ</mi>
      <mo>∈</mo>
      <msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">if short-selling is prohibited and</p>
<div data-type="equation" class="calibre42">
<math alttext="double-struck upper A equals StartSet script upper M dot phi comma phi element-of double-struck upper R squared EndSet" display="block">
  <mrow>
    <mi>𝔸</mi>
    <mo>=</mo>
    <mfenced separators="" open="{" close="}">
      <mi>ℳ</mi>
      <mo>·</mo>
      <mi>ϕ</mi>
      <mo>,</mo>
      <mi>ϕ</mi>
      <mo>∈</mo>
      <msup><mi>ℝ</mi> <mn>2</mn> </msup>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">if it is allowed in unlimited fashion.</p>

<p class="author1">Consider the risk-less bond and the risky stock from before with price processes <math alttext="upper B equals left-parenthesis upper B 0 comma upper B 1 right-parenthesis">
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>B</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math> and <math alttext="upper S equals left-parenthesis upper S 0 comma left-parenthesis upper S 1 Superscript u Baseline comma upper S 1 Superscript d Baseline right-parenthesis Superscript upper T Baseline right-parenthesis">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <msub><mi>S</mi> <mn>0</mn> </msub>
      <mo>,</mo>
      <msup><mrow><mo>(</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>,</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>)</mo></mrow> <mi>T</mi> </msup>
    </mfenced>
  </mrow>
</math>, respectively, where
<math><mrow><msub><mi>B</mi> <mn>1</mn> </msub><mo>,</mo><msub><mi>S</mi> <mn>1</mn> </msub><mo>∈</mo><msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup></mrow></math>
and <math alttext="upper S 1 Superscript u Baseline not-equals upper S 1 Superscript d">
  <mrow>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>≠</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math>. It is then easy to show that the replication problem</p>
<div data-type="equation" class="calibre42">
<math alttext="script upper M dot phi equals upper C 1" display="block">
  <mrow>
    <mi>ℳ</mi>
    <mo>·</mo>
    <mi>ϕ</mi>
    <mo>=</mo>
    <msub><mi>C</mi> <mn>1</mn> </msub>
  </mrow>
</math>
</div>

<p class="author1">has a unique solution for any
<math><mrow><msub><mi>C</mi> <mn>1</mn> </msub><mo>∈</mo><msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup></mrow></math>.
The solution is given by</p>
<div data-type="equation" class="calibre42">
<math alttext="phi Superscript asterisk Baseline equals StartBinomialOrMatrix b Superscript asterisk Baseline Choose s Superscript asterisk EndBinomialOrMatrix" display="block">
  <mrow>
    <msup><mi>ϕ</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msup><mi>b</mi> <mo>*</mo> </msup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msup><mi>s</mi> <mo>*</mo> </msup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">and consequently as</p>
<div data-type="equation" class="calibre42">
<math alttext="phi Superscript asterisk Baseline equals StartBinomialOrMatrix StartFraction 1 Over upper B 1 EndFraction StartFraction upper C 1 Superscript d Baseline dot upper S 1 Superscript u Baseline minus upper C 1 Superscript u Baseline dot upper S 1 Superscript d Baseline Over upper S 1 Superscript u Baseline minus upper S 1 Superscript d Baseline EndFraction Choose StartFraction upper C 1 Superscript u Baseline minus upper C 1 Superscript d Baseline Over upper S 1 Superscript u Baseline minus upper S 1 Superscript d Baseline EndFraction EndBinomialOrMatrix" display="block">
  <mrow>
    <msup><mi>ϕ</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mfrac><mn>1</mn> <msub><mi>B</mi> <mn>1</mn> </msub></mfrac>
              <mfrac><mrow><msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>·</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>·</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow> <mrow><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow></mfrac>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mfrac><mrow><msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow> <mrow><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow></mfrac>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">which was derived in the context of the replication of the special call option payoff. The solution carries over to the general case since no special assumptions have been made regarding the payoff other than
<math><mrow><msub><mi>C</mi> <mn>1</mn> </msub><mo>∈</mo><msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup></mrow></math>.</p>

<p class="author1">Since <em class="calibre7">every</em> contingent claim can be replicated by a portfolio consisting of a position in the risk-less bond and the risky stock, one speaks of a <em class="calibre7">complete market model</em>. Therefore, every contingent claim can be priced by replication and arbitrage. Formally, the only requirement is that the price vectors of the two financial assets in one year be linearly independent. This implies that</p>
<div data-type="equation" class="calibre42">
<math alttext="Start 2 By 2 Matrix 1st Row 1st Column upper B 1 2nd Column upper S 1 Superscript u Baseline 2nd Row 1st Column upper B 1 2nd Column upper S 1 Superscript d Baseline EndMatrix dot StartBinomialOrMatrix b Choose s EndBinomialOrMatrix equals StartBinomialOrMatrix 0 Choose 0 EndBinomialOrMatrix" display="block">
  <mrow>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mtd>
          <mtd>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>·</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mi>b</mi>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mi>s</mi>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">has only the unique solution <math alttext="phi Superscript asterisk Baseline equals left-parenthesis 0 comma 0 right-parenthesis Superscript upper T">
  <mrow>
    <msup><mi>ϕ</mi> <mo>*</mo> </msup>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><mn>0</mn><mo>,</mo><mn>0</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math> and no other solution. In fact, all replication problems for arbitrary contingent claims have unique solutions under market completeness. The payoff vectors of the two traded financial<a data-type="indexterm" data-primary="vector space" data-secondary="basis" id="idm44853706503880" class="calibre6"/><a data-type="indexterm" data-primary="basis of vector space" id="idm44853706502904" class="calibre6"/> assets span the <math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math> since they form a <em class="calibre7">basis</em> of the <em class="calibre7">vector space</em> <math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math>.</p>

<p class="author1">The spanning property can be visualized by the use of Python and<a data-type="indexterm" data-primary="matplotlib" data-secondary="span" id="matplotlib-span" class="calibre6"/><a data-type="indexterm" data-primary="span" data-secondary="matplotlib and" id="span" class="calibre6"/> the <a href="https://matplotlib.org" class="calibre6"><code class="calibre22">matplotlib</code></a> package. To this end, 1,000 random portfolio compositions are simulated. The first restriction is that the portfolio positions should be positive and add up to 1. <a data-type="xref" href="ch02_split_001.xhtml#comp_01" class="calibre6">Figure 2-2</a> shows the result:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">95</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">from</code><code class="calibre22"> </code><code class="nn">numpy.random</code><code class="calibre22"> </code><code class="kn">import</code><code class="calibre22"> </code><code class="n">default_rng</code><code class="calibre22">
</code><code class="calibre22">         </code><code class="n">rng</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">default_rng</code><code class="p">(</code><code class="mi">100</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">96</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">n</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">1000</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">97</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">b</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">rng</code><code class="o">.</code><code class="n">random</code><code class="p">(</code><code class="n">n</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">98</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">b</code><code class="p">[</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-4" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">98</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0.83498163</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.59655403</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.28886324</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.04295157</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.9736544</code><code class="calibre22"> </code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">99</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">1</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">b</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-5" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">100</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">s</code><code class="p">[</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-6" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">100</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0.16501837</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.40344597</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.71113676</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.95704843</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.0263456</code><code class="calibre22"> </code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">101</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">def</code><code class="calibre22"> </code><code class="nf">portfolio</code><code class="p">(</code><code class="n">b</code><code class="p">,</code><code class="calibre22"> </code><code class="n">s</code><code class="p">)</code><code class="p">:</code><code class="calibre22">
</code><code class="calibre22">              </code><code class="n">A</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">[</code><code class="n">b</code><code class="p">[</code><code class="n">i</code><code class="p">]</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">B</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">s</code><code class="p">[</code><code class="n">i</code><code class="p">]</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="calibre22"> </code><code class="kn">for</code><code class="calibre22"> </code><code class="n">i</code><code class="calibre22"> </code><code class="ow">in</code><code class="calibre22"> </code><code class="nb">range</code><code class="p">(</code><code class="n">n</code><code class="p">)</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-7" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">              </code><code class="kn">return</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="n">A</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-8" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">102</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">A</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">portfolio</code><code class="p">(</code><code class="n">b</code><code class="p">,</code><code class="calibre22"> </code><code class="n">s</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-9" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">103</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="mi">3</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-10" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">103</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="mi">12.48516533</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">10.00988978</code><code class="p">]</code><code class="p">,</code><code class="calibre22">
</code><code class="calibre22">                 </code><code class="p">[</code><code class="mi">14.63101376</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">8.57932416</code><code class="p">]</code><code class="p">,</code><code class="calibre22">
</code><code class="calibre22">                 </code><code class="p">[</code><code class="mi">17.40023082</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">6.73317945</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">104</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="s">'</code><code class="s">r.</code><code class="s">'</code><code class="p">)</code><code class="p">;</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO14-11" href="ch02_split_001.xhtml#callout_two_state_economy_CO14-8"><img src="Images/8.png" alt="8" class="calibre44"/></a></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-1" href="ch02_split_001.xhtml#co_two_state_economy_CO14-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Fixes the seed for the random number generator.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-2" href="ch02_split_001.xhtml#co_two_state_economy_CO14-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Number of values to be simulated.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-3" href="ch02_split_001.xhtml#co_two_state_economy_CO14-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Simulates the bond position for values between 0 and 1 by the means of a uniform distribution.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-4" href="ch02_split_001.xhtml#co_two_state_economy_CO14-5"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Derives the stock position as the difference between 1 and the bond position.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-5" href="ch02_split_001.xhtml#co_two_state_economy_CO14-7"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates the portfolio payoff vectors for all random portfolio compositions and collects them in a <code class="calibre22">list</code> object; this Python idiom is called a <code class="calibre22">list</code> 
<span class="firstname">comprehension</span>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-6" href="ch02_split_001.xhtml#co_two_state_economy_CO14-8"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The function returns an <code class="calibre22">ndarray</code> version of the results.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-7" href="ch02_split_001.xhtml#co_two_state_economy_CO14-9"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The calculation is initiated.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO14-8" href="ch02_split_001.xhtml#co_two_state_economy_CO14-11"><img src="Images/8.png" alt="8" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The results are plotted.</p></dd>
</dl>

<figure class="calibre50"><div id="comp_01" class="figure">
<img src="Images/ftwp_0202.png" alt="ftwp 0202" class="calibre57"/>
<h6 class="calibre52"><span class="firstname">Figure 2-2. </span>The random portfolios spanning a one-dimensional line only</h6>
</div></figure>

<p class="author1"><a data-type="xref" href="ch02_split_001.xhtml#comp_02" class="calibre6">Figure 2-3</a> shows the graphical results in the case where the portfolio positions do not need to add up to 1:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">105</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">rng</code><code class="o">.</code><code class="n">random</code><code class="p">(</code><code class="n">n</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO15-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO15-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">106</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">b</code><code class="p">[</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">s</code><code class="p">[</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">106</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">1.36885777</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1.5863474</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.71245805</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.32077672</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1.5401562</code><code class="calibre22"> </code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">107</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">A</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">portfolio</code><code class="p">(</code><code class="n">b</code><code class="p">,</code><code class="calibre22"> </code><code class="n">s</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO15-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO15-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">108</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="s">'</code><code class="s">r.</code><code class="s">'</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO15-1" href="ch02_split_001.xhtml#co_two_state_economy_CO15-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The stock position is freely simulated for values between 0 and 1.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO15-2" href="ch02_split_001.xhtml#co_two_state_economy_CO15-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The portfolio payoff vectors are calculated.</p></dd>
</dl>

<figure class="calibre50"><div id="comp_02" class="figure">
<img src="Images/ftwp_0203.png" alt="ftwp 0203" class="calibre57"/>
<h6 class="calibre52"><span class="firstname">Figure 2-3. </span>The random portfolios spanning a two-dimensional area (rhomb)</h6>
</div></figure>

<p class="author1">Finally, <a data-type="xref" href="ch02_split_001.xhtml#comp_03" class="calibre6">Figure 2-4</a> allows for positive as well as negative portfolio positions for both the bond and the stock. The resulting portfolio payoff vectors cover an (elliptic) area around the origin:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">109</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">b</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">rng</code><code class="o">.</code><code class="n">standard_normal</code><code class="p">(</code><code class="n">n</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO16-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO16-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">110</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">rng</code><code class="o">.</code><code class="n">standard_normal</code><code class="p">(</code><code class="n">n</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO16-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO16-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">111</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">b</code><code class="p">[</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">s</code><code class="p">[</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO16-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO16-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">111</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="o">-</code><code class="mi">0.23046605</code><code class="p">,</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">3.45760465</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">1.10260637</code><code class="p">,</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">2.44445777</code><code class="p">,</code><code class="calibre22">
</code><code class="calibre22">           </code><code class="mi">1.05866637</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">112</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">A</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">portfolio</code><code class="p">(</code><code class="n">b</code><code class="p">,</code><code class="calibre22"> </code><code class="n">s</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">113</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="n">A</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="s">'</code><code class="s">r.</code><code class="s">'</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO16-1" href="ch02_split_001.xhtml#co_two_state_economy_CO16-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Positive and negative portfolio positions are simulated by the means of the standard normal distribution.</p></dd>
</dl>

<figure class="calibre50"><div id="comp_03" class="figure">
<img src="Images/ftwp_0204.png" alt="ftwp 0204" class="calibre58"/>
<h6 class="calibre52"><span class="firstname">Figure 2-4. </span>The random portfolios spanning a two-dimensional area (around the origin)</h6>
</div></figure>

<p class="author1">If <math alttext="b">
  <mi>b</mi>
</math> and <math alttext="s">
  <mi>s</mi>
</math> are allowed to take on arbitrary values on the real line, <math alttext="b comma s element-of double-struck upper R">
  <mrow>
    <mi>b</mi>
    <mo>,</mo>
    <mi>s</mi>
    <mo>∈</mo>
    <mi>ℝ</mi>
  </mrow>
</math>, the resulting portfolios cover the vector space <math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math> completely. As pointed out previously, the payoff vectors of the traded financial assets span <math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math> in that<a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="contingent claims" data-startref="model-two-state-contingent" id="idm44853705835048" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="contingent claims" data-startref="two-state-contingent" id="idm44853705833480" class="calibre6"/><a data-type="indexterm" data-primary="contingent claims" data-startref="contingent" id="idm44853705832264" class="calibre6"/><a data-type="indexterm" data-primary="contingent claims" data-secondary="complete market model" data-startref="contingent-complete" id="idm44853705831320" class="calibre6"/><a data-type="indexterm" data-primary="complete market model" data-secondary="contingent claims" data-startref="complete-market" id="idm44853705830104" class="calibre6"/><a data-type="indexterm" data-primary="market completeness" data-secondary="contingent claims" data-startref="market-complete" id="idm44853705828888" class="calibre6"/><a data-type="indexterm" data-primary="matplotlib" data-secondary="span" data-startref="matplotlib-span" id="idm44853705827672" class="calibre6"/><a data-type="indexterm" data-primary="span" data-secondary="matplotlib and" data-startref="span" id="idm44853705826456" class="calibre6"/> case.</p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Arrow-Debreu Securities" class="calibre4"><div class="preface" id="idm44853713253048">
<h1 class="calibre17">Arrow-Debreu Securities</h1>

<p class="author1">An <em class="calibre7">Arrow-Debreu security</em> is <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="Arrow-Debreu securities" id="model-two-state-arrow-debreu" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="Arrow-Debreu securities" id="two-state-arrow-debreu" class="calibre6"/><a data-type="indexterm" data-primary="Arrow-Debreu securities" id="arrow-debreu" class="calibre6"/>defined by the fact that it pays exactly one unit of currency in a specified future state. In a model economy with two different future states only, there can only be two different such securities. An Arrow-Debreu security is simply a special case of a contingent claim such that the replication argument from before applies. In other words, since the market is complete, Arrow-Debreu securities can be replicated by portfolios in the bond and stock. Therefore, both replication problems have (unique) solutions, and both securities have unique arbitrage prices. The two replication problems are</p>
<div data-type="equation" class="calibre42">
<math alttext="script upper M dot phi equals StartBinomialOrMatrix 1 Choose 0 EndBinomialOrMatrix" display="block">
  <mrow>
    <mi>ℳ</mi>
    <mo>·</mo>
    <mi>ϕ</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>1</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">and</p>
<div data-type="equation" class="calibre42">
<math alttext="script upper M dot phi equals StartBinomialOrMatrix 0 Choose 1 EndBinomialOrMatrix" display="block">
  <mrow>
    <mi>ℳ</mi>
    <mo>·</mo>
    <mi>ϕ</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>1</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">Why are these securities important? Mathematically, the two payoff vectors <a data-type="indexterm" data-primary="vector space" data-secondary="standard basis" id="idm44853705678568" class="calibre6"/><a data-type="indexterm" data-primary="standard basis for vector space" id="idm44853705677592" class="calibre6"/><a data-type="indexterm" data-primary="natural basis for vector space" id="idm44853705676904" class="calibre6"/>form a <em class="calibre7">standard basis</em> or <em class="calibre7">natural basis</em> for the <math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math> vector space. This in turn implies that any vector of this space can be uniquely expressed (replicated) as a linear combination of the vectors that form the standard basis. Financially, replacing the original future price vectors of the bond and the stock with Arrow-Debreu securities as a basis for the model economy significantly simplifies the replication problem for all other contingent claims.</p>

<p class="author1">The process is to first derive the replication portfolios for the two Arrow-Debreu securities and the resulting arbitrage prices for both. Other contingent claims are then replicated and priced based on the standard basis and the arbitrage prices of the two securities.</p>

<p class="author1">Consider the two Arrow-Debreu securities with price processes <math alttext="gamma Superscript u Baseline equals left-parenthesis gamma 0 Superscript u Baseline comma left-parenthesis 1 comma 0 right-parenthesis Superscript upper T Baseline right-parenthesis">
  <mrow>
    <msup><mi>γ</mi> <mi>u</mi> </msup>
    <mo>=</mo>
    <mrow>
      <mo>(</mo>
      <msubsup><mi>γ</mi> <mn>0</mn> <mi>u</mi> </msubsup>
      <mo>,</mo>
      <msup><mrow><mo>(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
      <mo>)</mo>
    </mrow>
  </mrow>
</math> and <math alttext="gamma Superscript d Baseline equals left-parenthesis gamma 0 Superscript d Baseline comma left-parenthesis 0 comma 1 right-parenthesis Superscript upper T Baseline right-parenthesis">
  <mrow>
    <msup><mi>γ</mi> <mi>d</mi> </msup>
    <mo>=</mo>
    <mrow>
      <mo>(</mo>
      <msubsup><mi>γ</mi> <mn>0</mn> <mi>d</mi> </msubsup>
      <mo>,</mo>
      <msup><mrow><mo>(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>)</mo></mrow> <mi>T</mi> </msup>
      <mo>)</mo>
    </mrow>
  </mrow>
</math> and define:</p>
<div data-type="equation" class="calibre42">
<math alttext="upper M Superscript gamma Baseline equals Start 2 By 2 Matrix 1st Row 1st Column 1 2nd Column 0 2nd Row 1st Column 0 2nd Column 1 EndMatrix" display="block">
  <mrow>
    <msup><mi>M</mi> <mi>γ</mi> </msup>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>1</mn>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mn>1</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">Consider a general contingent claim with future payoff vector:</p>
<div data-type="equation" class="calibre42">
<math alttext="upper C 1 equals StartBinomialOrMatrix upper C 1 Superscript u Baseline Choose upper C 1 Superscript d EndBinomialOrMatrix" display="block">
  <mrow>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">The replication portfolio <math alttext="phi Superscript gamma">
  <msup><mi>ϕ</mi> <mi>γ</mi> </msup>
</math> for the contingent claim then is trivially given by <math alttext="phi Superscript gamma Baseline equals left-parenthesis upper C 1 Superscript u Baseline comma upper C 1 Superscript d Baseline right-parenthesis Superscript upper T">
  <mrow>
    <msup><mi>ϕ</mi> <mi>γ</mi> </msup>
    <mo>=</mo>
    <msup><mrow><mo>(</mo><msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>,</mo><msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>)</mo></mrow> <mi>T</mi> </msup>
  </mrow>
</math> since:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column upper V 1 left-parenthesis phi Superscript gamma Baseline right-parenthesis 2nd Column equals 3rd Column script upper M Superscript gamma Baseline dot phi Superscript gamma 2nd Row 1st Column Blank 2nd Column equals 3rd Column Start 2 By 2 Matrix 1st Row 1st Column 1 2nd Column 0 2nd Row 1st Column 0 2nd Column 1 EndMatrix dot StartBinomialOrMatrix upper C 1 Superscript u Choose upper C 1 Superscript d EndBinomialOrMatrix 3rd Row 1st Column Blank 2nd Column equals 3rd Column StartBinomialOrMatrix upper C 1 Superscript u Choose upper C 1 Superscript d EndBinomialOrMatrix EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msub><mi>V</mi> <mn>1</mn> </msub>
          <mrow>
            <mo>(</mo>
            <msup><mi>ϕ</mi> <mi>γ</mi> </msup>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <msup><mi>ℳ</mi> <mi>γ</mi> </msup>
          <mo>·</mo>
          <msup><mi>ϕ</mi> <mi>γ</mi> </msup>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>1</mn>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
          <mo>·</mo>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfenced open="(" close=")">
          <mtable>
            <mtr>
              <mtd>
                <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
              </mtd>
            </mtr>
          </mtable>
        </mfenced>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">Consequently, the arbitrage price for the contingent claim is:</p>
<div data-type="equation" class="calibre42">
<math alttext="upper C 0 equals upper V 0 left-parenthesis phi Superscript gamma Baseline right-parenthesis equals upper C 1 Superscript u Baseline dot gamma 0 Superscript u Baseline plus upper C 1 Superscript d Baseline dot gamma 0 Superscript d" display="block">
  <mrow>
    <msub><mi>C</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <msub><mi>V</mi> <mn>0</mn> </msub>
    <mrow>
      <mo>(</mo>
      <msup><mi>ϕ</mi> <mi>γ</mi> </msup>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>·</mo>
    <msubsup><mi>γ</mi> <mn>0</mn> <mi>u</mi> </msubsup>
    <mo>+</mo>
    <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
    <mo>·</mo>
    <msubsup><mi>γ</mi> <mn>0</mn> <mi>d</mi> </msubsup>
  </mrow>
</math>
</div>

<p class="author1">This illustrates how the introduction of Arrow-Debreu securities simplifies contingent claim replication and arbitrage<a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="Arrow-Debreu securities" data-startref="model-two-state-arrow-debreu" id="idm44853705569320" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="Arrow-Debreu securities" data-startref="two-state-arrow-debreu" id="idm44853705567784" class="calibre6"/><a data-type="indexterm" data-primary="Arrow-Debreu securities" data-startref="arrow-debreu" id="idm44853705566568" class="calibre6"/> pricing.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Martingale Pricing" class="calibre4"><div class="preface" id="idm44853705824984">
<h1 class="calibre17">Martingale Pricing</h1>

<p class="author1">A <em class="calibre7">martingale measure</em>
<math><mrow><mi>Q</mi><mo>:</mo><mi>℘</mi><mrow><mo>(</mo><mi>Ω</mi><mo>)</mo></mrow><mo>→</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>
is a <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="martingale pricing" id="model-two-state-martingale" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="martingale pricing" id="two-state-martingale" class="calibre6"/><a data-type="indexterm" data-primary="martingale pricing" data-secondary="in two-state economy" data-secondary-sortas="two-state economy" id="martingale" class="calibre6"/><a data-type="indexterm" data-primary="martingale measures" data-secondary="defined" id="idm44853705555192" class="calibre6"/>special kind of probability measure. It makes the discounted price process of a financial asset a <em class="calibre7">martingale</em>. For the stock to be a martingale under <math alttext="upper Q">
  <mi>Q</mi>
</math>, the following relationship must hold:</p>
<div data-type="equation" class="calibre42">
<math alttext="upper S 0 equals StartFraction 1 Over 1 plus i EndFraction dot bold upper E Superscript upper Q Baseline left-parenthesis upper S 1 right-parenthesis" display="block">
  <mrow>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
    <mo>·</mo>
    <msup><mi>𝐄</mi> <mi>Q</mi> </msup>
    <mrow>
      <mo>(</mo>
      <msub><mi>S</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>
</div>

<p class="author1">If <math alttext="i equals StartFraction upper B 1 minus upper B 0 Over upper B 0 EndFraction">
  <mrow>
    <mi>i</mi>
    <mo>=</mo>
    <mfrac><mrow><msub><mi>B</mi> <mn>1</mn> </msub><mo>-</mo><msub><mi>B</mi> <mn>0</mn> </msub></mrow> <msub><mi>B</mi> <mn>0</mn> </msub></mfrac>
  </mrow>
</math>, the relationship is trivially satisfied for the risk-less bond:</p>
<div data-type="equation" class="calibre42">
<math alttext="upper B 0 equals StartFraction 1 Over 1 plus i EndFraction dot bold upper E Superscript upper Q Baseline left-parenthesis upper B 1 right-parenthesis equals StartFraction 1 Over 1 plus i EndFraction dot upper B 1" display="block">
  <mrow>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>=</mo>
    <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
    <mo>·</mo>
    <msup><mi>𝐄</mi> <mi>Q</mi> </msup>
    <mrow>
      <mo>(</mo>
      <msub><mi>B</mi> <mn>1</mn> </msub>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
    <mo>·</mo>
    <msub><mi>B</mi> <mn>1</mn> </msub>
  </mrow>
</math>
</div>

<p class="author1">One also speaks of the fact that the price processes drift (on average) with the risk-less interest rate under the martingale measure:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout Enlarged left-brace 1st Row  upper B 0 dot left-parenthesis 1 plus i right-parenthesis equals upper B 1 2nd Row  upper S 0 dot left-parenthesis 1 plus i right-parenthesis equals bold upper E Superscript upper Q Baseline left-parenthesis upper S 1 right-parenthesis EndLayout" display="block">
  <mfenced separators="" open="{" close="">
    <mtable>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <msub><mi>B</mi> <mn>0</mn> </msub>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>+</mo>
              <mi>i</mi>
              <mo>)</mo>
            </mrow>
            <mo>=</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mrow>
        </mtd>
      </mtr>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <msub><mi>S</mi> <mn>0</mn> </msub>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>+</mo>
              <mi>i</mi>
              <mo>)</mo>
            </mrow>
            <mo>=</mo>
            <msup><mi>𝐄</mi> <mi>Q</mi> </msup>
            <mrow>
              <mo>(</mo>
              <msub><mi>S</mi> <mn>1</mn> </msub>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mtd>
      </mtr>
    </mtable>
  </mfenced>
</math>
</div>

<p class="author1">Denote <math alttext="q identical-to upper Q left-parenthesis u right-parenthesis">
  <mrow>
    <mi>q</mi>
    <mo>≡</mo>
    <mi>Q</mi>
    <mo>(</mo>
    <mi>u</mi>
    <mo>)</mo>
  </mrow>
</math>. One gets</p>
<div data-type="equation" class="calibre42">
<math alttext="q dot upper S 1 Superscript u Baseline plus left-parenthesis 1 minus q right-parenthesis dot upper S 1 Superscript d Baseline equals upper S 0 dot left-parenthesis 1 plus i right-parenthesis" display="block">
  <mrow>
    <mi>q</mi>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>+</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>-</mo>
      <mi>q</mi>
      <mo>)</mo>
    </mrow>
    <mo>·</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
    <mo>=</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>·</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>+</mo>
      <mi>i</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
</math>
</div>

<p class="author1">or after some simple manipulations:</p>
<div data-type="equation" class="calibre42">
<math alttext="q equals StartFraction upper S 0 dot left-parenthesis 1 plus i right-parenthesis minus upper S 1 Superscript d Baseline Over upper S 1 Superscript u Baseline minus upper S 1 Superscript d Baseline EndFraction" display="block">
  <mrow>
    <mi>q</mi>
    <mo>=</mo>
    <mfrac><mrow><msub><mi>S</mi> <mn>0</mn> </msub><mo>·</mo><mrow><mo>(</mo><mn>1</mn><mo>+</mo><mi>i</mi><mo>)</mo></mrow><mo>-</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow> <mrow><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup></mrow></mfrac>
  </mrow>
</math>
</div>

<p class="author1">Given previous assumptions, for <math alttext="q">
  <mi>q</mi>
</math> to define a valid probability measure, <math alttext="upper S 1 Superscript u Baseline greater-than upper S 0 dot left-parenthesis 1 plus i right-parenthesis greater-than upper S 1 Superscript d">
  <mrow>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
    <mo>&gt;</mo>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>·</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>+</mo>
      <mi>i</mi>
      <mo>)</mo>
    </mrow>
    <mo>&gt;</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math> must hold. If so, one gets a new probability space <math alttext="left-parenthesis normal upper Omega comma normal script upper P left-parenthesis normal upper Omega right-parenthesis comma upper Q right-parenthesis">
  <mrow>
    <mo>(</mo>
    <mi>Ω</mi>
    <mo>,</mo>
    <mi>℘</mi>
    <mo>(</mo>
    <mi>Ω</mi>
    <mo>)</mo>
    <mo>,</mo>
    <mi>Q</mi>
    <mo>)</mo>
  </mrow>
</math>, where <math alttext="upper Q">
  <mi>Q</mi>
</math> replaces <math alttext="upper P">
  <mi>P</mi>
</math>.</p>

<p class="author1">What if these relationships for <math alttext="upper S 1">
  <msub><mi>S</mi> <mn>1</mn> </msub>
</math> do not hold? Then a <em class="calibre7">simple arbitrage</em> is <a data-type="indexterm" data-primary="arbitrage pricing" data-secondary="simple" id="idm44853705445080" class="calibre6"/><a data-type="indexterm" data-primary="simple arbitrage" id="idm44853705444072" class="calibre6"/>either to buy the risky asset in the case <math alttext="upper S 0 dot left-parenthesis 1 plus i right-parenthesis less-than-or-equal-to upper S 1 Superscript d">
  <mrow>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>·</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>+</mo>
      <mi>i</mi>
      <mo>)</mo>
    </mrow>
    <mo>≤</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
  </mrow>
</math> or simply sell it in the other case, <math alttext="upper S 0 dot left-parenthesis 1 plus i right-parenthesis greater-than-or-equal-to upper S 1 Superscript u">
  <mrow>
    <msub><mi>S</mi> <mn>0</mn> </msub>
    <mo>·</mo>
    <mrow>
      <mo>(</mo>
      <mn>1</mn>
      <mo>+</mo>
      <mi>i</mi>
      <mo>)</mo>
    </mrow>
    <mo>≥</mo>
    <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
  </mrow>
</math>.</p>

<p class="author1">If equality <a data-type="indexterm" data-primary="arbitrage pricing" data-secondary="weak" id="idm44853705427208" class="calibre6"/><a data-type="indexterm" data-primary="weak arbitrage" id="idm44853705426200" class="calibre6"/>holds in these relationships, one also speaks of a <em class="calibre7">weak arbitrage</em> since the risk-less profit can only be expected on average and not with certainty.</p>

<p class="author1">Assuming the numerical price processes from before, the calculation of <math alttext="q">
  <mi>q</mi>
</math> in Python means just an arithmetic operation on floating point numbers:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code> <code class="p">[</code><code class="mi">114</code><code class="p">]:</code> <code class="n">i</code> <code class="o">=</code> <code class="p">(</code><code class="n">B</code><code class="p">[</code><code class="mi">1</code><code class="p">][</code><code class="mi">0</code><code class="p">]</code> <code class="o">-</code> <code class="n">B</code><code class="p">[</code><code class="mi">0</code><code class="p">])</code> <code class="o">/</code> <code class="n">B</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">115</code><code class="p">]:</code> <code class="n">i</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">115</code><code class="p">]:</code> <code class="mi">0.1</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">116</code><code class="p">]:</code> <code class="n">q</code> <code class="o">=</code> <code class="p">(</code><code class="n">S</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">*</code> <code class="p">(</code><code class="mi">1</code> <code class="o">+</code> <code class="n">i</code><code class="p">)</code> <code class="o">-</code> <code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">][</code><code class="mi">1</code><code class="p">])</code> <code class="o">/</code> <code class="p">(</code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">][</code><code class="mi">0</code><code class="p">]</code> <code class="o">-</code> <code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">][</code><code class="mi">1</code><code class="p">])</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">117</code><code class="p">]:</code> <code class="n">q</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">117</code><code class="p">]:</code> <code class="mi">0.4</code></pre>








<section data-type="sect2" data-pdf-bookmark="First Fundamental Theorem of Asset Pricing" class="calibre4"><div class="preface" id="idm44853705420328">
<h2 class="calibre55">First Fundamental Theorem of Asset Pricing</h2>

<p class="author1">The <a data-type="indexterm" data-primary="First Fundamental Theorem of Asset Pricing" id="idm44853705336008" class="calibre6"/><a data-type="indexterm" data-primary="assets" data-secondary="financial" data-tertiary="Fundamental Theorems of Asset Pricing" id="assets-financial-fundamental-theorem-asset-price" class="calibre6"/><a data-type="indexterm" data-primary="Fundamental Theorems of Asset Pricing" data-secondary="in two-state model economy" data-secondary-sortas="two-state model economy" id="fundamental-theorem-two-state" class="calibre6"/><a data-type="indexterm" data-primary="financial assets" data-secondary="Fundamental Theorems of Asset Pricing" id="financial-assets-fundamental-theorem" class="calibre6"/>considerations at the end of the previous section hint to a relationship between martingale measures on the one hand and arbitrage on the other. A central result in mathematical finance that relates these seemingly unrelated concepts formally is the <em class="calibre7">First Fundamental Theorem of Asset Pricing</em>. Pioneering work in this regard has been published by Cox and Ross (1976), Harrison and Kreps (1979), and Harrison and Pliska (1981).</p>
<dl class="calibre18">
<dt class="calibre19">First Fundamental Theorem of Asset Pricing (1FTAP)</dt>
<dd class="calibre20">
<div class="preface">
<p class="calibre21">The following statements are equivalent:</p>
<ol class="calibre59">
<li class="calibre48">
<p class="calibre21">A martingale measure exists.</p>
</li>
<li class="calibre48">
<p class="calibre21">The economy is arbitrage-free.</p>
</li>

</ol>
</div>

</dd>
</dl>

<p class="author1">Given the calculations and the discussion from before, the theorem is easy to prove for the model economy with the risk-less bond and the risky stock.</p>

<p class="author1">First, statement 1 implies statement 2: if the martingale measure exists, the price processes do not allow for simple (weak) arbitrages. Since the two future price vectors are linearly independent, every contingent claim can be replicated by trading in the two financial assets, implying unique arbitrage prices. Therefore, no arbitrages exist.</p>

<p class="author1">Second, statement 2 implies statement 1: if the model economy is arbitrage-free, a martingale measure exists, as shown previously.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Pricing by Expectation" class="calibre4"><div class="preface" id="idm44853705323480">
<h2 class="calibre55">Pricing by Expectation</h2>

<p class="author1">A <a data-type="indexterm" data-primary="expectation" data-secondary="pricing by" id="expectation-pricing" class="calibre6"/><a data-type="indexterm" data-primary="pricing by expectation" id="pricing-expectation" class="calibre6"/><a data-type="indexterm" data-primary="call options" data-secondary="pricing by expectation" id="call-option-expectation" class="calibre6"/>corollary of the 1FTAP is that any attainable contingent claim <math alttext="upper C 1 element-of double-struck upper A">
  <mrow>
    <msub><mi>C</mi> <mn>1</mn> </msub>
    <mo>∈</mo>
    <mi>𝔸</mi>
  </mrow>
</math> can be priced by taking the expectation under the martingale measure of its future payoff and discounting with the risk-less interest rate. The arbitrage price of the call option is known through replication. Assuming the same numerical price processes for the traded financial assets and the same numerical future payoff vector for the call option, the <em class="calibre7">martingale price</em> of the call option is:</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mtable>
    <mtr>
      <mtd>
        <msub><mi>C</mi> <mn>0</mn> </msub>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
          <mo>·</mo>
          <msup><mi>𝐄</mi> <mi>Q</mi> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>C</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>+</mo><mi>i</mi></mrow></mfrac>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>q</mi>
            <mo>·</mo>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            <mo>+</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>-</mo>
              <mi>q</mi>
              <mo>)</mo>
            </mrow>
            <mo>·</mo>
            <msubsup><mi>C</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>+</mo><mn>0</mn><mo>.</mo><mn>1</mn></mrow></mfrac>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mn>0.4</mn>
            <mo>·</mo>
            <mn>5</mn>
            <mo>+</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>-</mo>
              <mn>0.4</mn>
              <mo>)</mo>
            </mrow>
            <mo>·</mo>
            <mn>0</mn>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mn>1</mn>
          <mo>.</mo>
          <mn>818181</mn>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">In other words, the discounted price process of the call option—and any other contingent claim—is a martingale under the martingale measure such that:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout Enlarged left-brace 1st Row  upper B 0 dot left-parenthesis 1 plus i right-parenthesis equals upper B 1 2nd Row  upper S 0 dot left-parenthesis 1 plus i right-parenthesis equals bold upper E Superscript upper Q Baseline left-parenthesis upper S 1 right-parenthesis 3rd Row  upper C 0 dot left-parenthesis 1 plus i right-parenthesis equals bold upper E Superscript upper Q Baseline left-parenthesis upper C 1 right-parenthesis EndLayout" display="block">
  <mfenced separators="" open="{" close="">
    <mtable>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <msub><mi>B</mi> <mn>0</mn> </msub>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>+</mo>
              <mi>i</mi>
              <mo>)</mo>
            </mrow>
            <mo>=</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
          </mrow>
        </mtd>
      </mtr>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <msub><mi>S</mi> <mn>0</mn> </msub>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>+</mo>
              <mi>i</mi>
              <mo>)</mo>
            </mrow>
            <mo>=</mo>
            <msup><mi>𝐄</mi> <mi>Q</mi> </msup>
            <mrow>
              <mo>(</mo>
              <msub><mi>S</mi> <mn>1</mn> </msub>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mtd>
      </mtr>
      <mtr>
        <mtd columnalign="left">
          <mrow>
            <msub><mi>C</mi> <mn>0</mn> </msub>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mn>1</mn>
              <mo>+</mo>
              <mi>i</mi>
              <mo>)</mo>
            </mrow>
            <mo>=</mo>
            <msup><mi>𝐄</mi> <mi>Q</mi> </msup>
            <mrow>
              <mo>(</mo>
              <msub><mi>C</mi> <mn>1</mn> </msub>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mtd>
      </mtr>
    </mtable>
  </mfenced>
</math>
</div>

<p class="author1">In Python, martingale pricing boils down to the evaluation of a dot product:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">118</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">Q</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="n">q</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">q</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO17-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO17-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">119</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">Q</code><code class="p">,</code><code class="calibre22"> </code><code class="n">C1</code><code class="p">)</code><code class="calibre22"> </code><code class="o">/</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">1</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">i</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO17-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO17-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">119</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">1.8181818181818181</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO17-1" href="ch02_split_001.xhtml#co_two_state_economy_CO17-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the martingale measure as the tuple <code class="calibre22">Q</code>.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO17-2" href="ch02_split_001.xhtml#co_two_state_economy_CO17-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Implements the martingale pricing formula.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Second Fundamental Theorem of Asset Pricing" class="calibre4"><div class="preface" id="idm44853705146680">
<h2 class="calibre55">Second Fundamental Theorem of Asset Pricing</h2>

<p class="author1">There is another important result, often called the <em class="calibre7">Second Fundamental Theorem of Asset Pricing</em>, which relates the uniqueness of the martingale measure with market completeness.</p>
<dl class="calibre18">
<dt class="calibre19">Second Fundamental Theorem of Asset Pricing (2FTAP)</dt>
<dd class="calibre20">
<div class="preface">
<p class="calibre21">The following <a data-type="indexterm" data-primary="Second Fundamental Theorem of Asset Pricing" id="idm44853705142728" class="calibre6"/>statements are equivalent:</p>
<ol class="calibre59">
<li class="calibre48">
<p class="calibre21">The martingale measure is unique.</p>
</li>
<li class="calibre48">
<p class="calibre21">The market model is complete.</p>
</li>

</ol>
</div>

</dd>
</dl>

<p class="author1">The result also follows for the simple model economy from previous discussions. A more detailed analysis of market completeness takes place<a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="martingale pricing" data-startref="model-two-state-martingale" id="idm44853705107400" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="martingale pricing" data-startref="two-state-martingale" id="idm44853705105816" class="calibre6"/><a data-type="indexterm" data-primary="martingale pricing" data-secondary="in two-state economy" data-secondary-sortas="two-state economy" data-startref="martingale" id="idm44853705104600" class="calibre6"/><a data-type="indexterm" data-primary="assets" data-secondary="financial" data-tertiary="Fundamental Theorems of Asset Pricing" data-startref="assets-financial-fundamental-theorem-asset-price" id="idm44853705103112" class="calibre6"/><a data-type="indexterm" data-primary="Fundamental Theorems of Asset Pricing" data-secondary="in two-state model economy" data-secondary-sortas="two-state model economy" data-startref="fundamental-theorem-two-state" id="idm44853705101640" class="calibre6"/><a data-type="indexterm" data-primary="financial assets" data-secondary="Fundamental Theorems of Asset Pricing" data-startref="financial-assets-fundamental-theorem" id="idm44853705100104" class="calibre6"/> in <a data-type="xref" href="ch03.xhtml#three_state_economy" class="calibre6">Chapter 3</a>.</p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Mean-Variance Portfolios" class="calibre4"><div class="preface" id="idm44853705564904">
<h1 class="calibre17">Mean-Variance Portfolios</h1>

<p class="author1">A major <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="MVP (mean-variance portfolio) theory" id="model-two-state-mvp" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="MVP (mean-variance portfolio) theory" id="two-state-mvp" class="calibre6"/><a data-type="indexterm" data-primary="MVP (mean-variance portfolio) theory" id="mvp" class="calibre6"/><a data-type="indexterm" data-primary="mean-variance portfolio (MVP) theory" id="mean-variance" class="calibre6"/>breakthrough in finance has been the formalization and quantification of portfolio investing through the <em class="calibre7">mean-variance portfolio theory</em> (MVP) as pioneered by Markowitz (1952). To some extent this approach can be considered to be the beginning of quantitative finance, initiating a trend that brought more and more mathematics to the financial field.</p>

<p class="author1">MVP reduces a financial asset to the first and second moment of its returns, namely the <em class="calibre7">mean</em> as the<a data-type="indexterm" data-primary="mean" id="idm44853705089064" class="calibre6"/> expected rate of return and the <em class="calibre7">variance</em> of <a data-type="indexterm" data-primary="variance" id="idm44853705087816" class="calibre6"/>the rates of return or<a data-type="indexterm" data-primary="volatility" data-secondary="in MVP (mean-variance portfolio) theory" data-secondary-sortas="MVP" id="idm44853705086952" class="calibre6"/> the <em class="calibre7">volatility</em>, defined as the standard deviation of the rates of return. Although the approach is generally called “mean-variance,” it is often the combination “mean-volatility” that is used.</p>

<p class="author1">Consider the risk-less bond and risky stock from before with price processes <math alttext="upper B equals left-parenthesis upper B 0 comma upper B 1 right-parenthesis">
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mo>(</mo>
    <msub><mi>B</mi> <mn>0</mn> </msub>
    <mo>,</mo>
    <msub><mi>B</mi> <mn>1</mn> </msub>
    <mo>)</mo>
  </mrow>
</math> and <math alttext="upper S equals left-parenthesis upper S 0 comma left-parenthesis upper S 1 Superscript u Baseline comma upper S 1 Superscript d Baseline right-parenthesis Superscript upper T Baseline right-parenthesis">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mfenced separators="" open="(" close=")">
      <msub><mi>S</mi> <mn>0</mn> </msub>
      <mo>,</mo>
      <msup><mrow><mo>(</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>,</mo><msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>)</mo></mrow> <mi>T</mi> </msup>
    </mfenced>
  </mrow>
</math> and the future price matrix <math alttext="script upper M">
  <mi>ℳ</mi>
</math>, for which the two columns are given by the future price vectors of the two financial assets. What is the expected rate of return and the volatility of a portfolio <math alttext="phi">
  <mi>ϕ</mi>
</math> that consists of <math alttext="b">
  <mi>b</mi>
</math> percent invested in the bond and <math alttext="s">
  <mi>s</mi>
</math> percent invested the stock? Note that now a situation is assumed for which <math alttext="b plus s equals 1">
  <mrow>
    <mi>b</mi>
    <mo>+</mo>
    <mi>s</mi>
    <mo>=</mo>
    <mn>1</mn>
  </mrow>
</math>, with
<math><mrow><mi>b</mi><mo>,</mo><mi>s</mi><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>,
holds. This can, of course, be relaxed but simplifies the exposition in this section.</p>

<p class="author1">The <em class="calibre7">expected portfolio payoff</em> is:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column bold upper E Superscript upper P Baseline left-parenthesis script upper M dot phi right-parenthesis 2nd Column equals 3rd Column p dot left-parenthesis b dot upper B 1 plus s dot upper S 1 Superscript u Baseline right-parenthesis plus left-parenthesis 1 minus p right-parenthesis dot left-parenthesis b dot upper B 1 plus s dot upper S 1 Superscript d Baseline right-parenthesis 2nd Row 1st Column Blank 2nd Column equals 3rd Column p dot left-parenthesis b dot upper B 1 right-parenthesis plus left-parenthesis 1 minus p right-parenthesis dot left-parenthesis b dot upper B 1 right-parenthesis plus p dot left-parenthesis s dot upper S 1 Superscript u Baseline right-parenthesis plus left-parenthesis 1 minus p right-parenthesis left-parenthesis s dot upper S 1 Superscript d Baseline right-parenthesis 3rd Row 1st Column Blank 2nd Column equals 3rd Column b dot bold upper E Superscript upper P Baseline left-parenthesis upper B 1 right-parenthesis plus s dot bold upper E Superscript upper P Baseline left-parenthesis upper S 1 right-parenthesis 4th Row 1st Column Blank 2nd Column equals 3rd Column b dot upper B 1 plus s dot bold upper E Superscript upper P Baseline left-parenthesis upper S 1 right-parenthesis EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <mi>ℳ</mi>
            <mo>·</mo>
            <mi>ϕ</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>p</mi>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>b</mi>
            <mo>·</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>+</mo>
            <mi>s</mi>
            <mo>·</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mo>(</mo>
            <mn>1</mn>
            <mo>-</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>b</mi>
            <mo>·</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>+</mo>
            <mi>s</mi>
            <mo>·</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>p</mi>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>b</mi>
            <mo>·</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mo>(</mo>
            <mn>1</mn>
            <mo>-</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>b</mi>
            <mo>·</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mi>p</mi>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>·</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>u</mi> </msubsup>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mo>(</mo>
            <mn>1</mn>
            <mo>-</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>·</mo>
            <msubsup><mi>S</mi> <mn>1</mn> <mi>d</mi> </msubsup>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>b</mi>
          <mo>·</mo>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>B</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mi>s</mi>
          <mo>·</mo>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>S</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>b</mi>
          <mo>·</mo>
          <msub><mi>B</mi> <mn>1</mn> </msub>
          <mo>+</mo>
          <mi>s</mi>
          <mo>·</mo>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>S</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">In words, the expected portfolio payoff is simply <math alttext="b">
  <mi>b</mi>
</math> times the risk-less bond payoff plus <math alttext="s">
  <mi>s</mi>
</math> times the expected stock payoff.</p>

<p class="author1">Defining <math alttext="script upper R element-of double-struck upper R Superscript 2 times 2">
  <mrow>
    <mi>ℛ</mi>
    <mo>∈</mo>
    <msup><mi>ℝ</mi> <mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow> </msup>
  </mrow>
</math> to be the <em class="calibre7">rates of return matrix</em> with</p>
<div data-type="equation" class="calibre42">
<math alttext="script upper R equals Start 2 By 2 Matrix 1st Row 1st Column i 2nd Column r 1 Superscript u Baseline 2nd Row 1st Column i 2nd Column r 1 Superscript d EndMatrix" display="block">
  <mrow>
    <mi>ℛ</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mi>i</mi>
          </mtd>
          <mtd>
            <msubsup><mi>r</mi> <mn>1</mn> <mi>u</mi> </msubsup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mi>i</mi>
          </mtd>
          <mtd>
            <msubsup><mi>r</mi> <mn>1</mn> <mi>d</mi> </msubsup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
  </mrow>
</math>
</div>

<p class="author1">one gets for the expected portfolio rate of return</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column bold upper E Superscript upper P Baseline left-parenthesis script upper R dot phi right-parenthesis 2nd Column equals 3rd Column b dot bold upper E Superscript upper P Baseline left-parenthesis i right-parenthesis plus s dot bold upper E Superscript upper P Baseline left-parenthesis r 1 right-parenthesis 2nd Row 1st Column Blank 2nd Column equals 3rd Column b dot i plus s dot mu EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <mi>ℛ</mi>
            <mo>·</mo>
            <mi>ϕ</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>b</mi>
          <mo>·</mo>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <mi>i</mi>
            <mo>)</mo>
          </mrow>
          <mo>+</mo>
          <mi>s</mi>
          <mo>·</mo>
          <msup><mi>𝐄</mi> <mi>P</mi> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>r</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>b</mi>
          <mo>·</mo>
          <mi>i</mi>
          <mo>+</mo>
          <mi>s</mi>
          <mo>·</mo>
          <mi>μ</mi>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">In words, the expected portfolio rate of return is <math alttext="b">
  <mi>b</mi>
</math> times the risk-less interest rate plus <math alttext="s">
  <mi>s</mi>
</math> times the expected rate of return of the stock.</p>

<p class="author1">The next step is to calculate the <em class="calibre7">portfolio variance</em>:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column sigma squared left-parenthesis script upper R dot phi right-parenthesis 2nd Column equals 3rd Column double-struck upper E Superscript upper P Baseline left-parenthesis left-parenthesis r minus bold upper E Superscript upper P Baseline left-parenthesis script upper R dot phi right-parenthesis right-parenthesis squared right-parenthesis 2nd Row 1st Column Blank 2nd Column equals 3rd Column left-parenthesis StartBinomialOrMatrix p Choose 1 minus p EndBinomialOrMatrix comma StartBinomialOrMatrix left-parenthesis b dot i plus s dot r 1 Superscript u Baseline minus b dot i minus s dot mu right-parenthesis squared Choose left-parenthesis b dot i plus s dot r 1 Superscript d Baseline minus b dot i minus s dot mu right-parenthesis squared EndBinomialOrMatrix right-parenthesis 3rd Row 1st Column Blank 2nd Column equals 3rd Column left-parenthesis StartBinomialOrMatrix p Choose 1 minus p EndBinomialOrMatrix comma StartBinomialOrMatrix left-parenthesis s dot r 1 Superscript u Baseline minus s dot mu right-parenthesis squared Choose left-parenthesis s dot r 1 Superscript d Baseline minus s dot mu right-parenthesis squared EndBinomialOrMatrix right-parenthesis 4th Row 1st Column Blank 2nd Column equals 3rd Column s squared dot sigma squared left-parenthesis r 1 right-parenthesis EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <msup><mi>σ</mi> <mn>2</mn> </msup>
          <mrow>
            <mo>(</mo>
            <mi>ℛ</mi>
            <mo>·</mo>
            <mi>ϕ</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <msup><mi>𝔼</mi> <mi>P</mi> </msup>
          <mfenced separators="" open="(" close=")">
            <msup><mfenced separators="" open="(" close=")"><mi>r</mi><mo>-</mo><msup><mi>𝐄</mi> <mi>P</mi> </msup><mrow><mo>(</mo><mi>ℛ</mi><mo>·</mo><mi>ϕ</mi><mo>)</mo></mrow></mfenced> <mn>2</mn> </msup>
          </mfenced>
        </mrow>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfenced separators="" open="(" close=")">
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mi>p</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mi>p</mi>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
          <mo>,</mo>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <msup><mrow><mo>(</mo><mi>b</mi><mo>·</mo><mi>i</mi><mo>+</mo><mi>s</mi><mo>·</mo><msubsup><mi>r</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><mi>b</mi><mo>·</mo><mi>i</mi><mo>-</mo><mi>s</mi><mo>·</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msup><mrow><mo>(</mo><mi>b</mi><mo>·</mo><mi>i</mi><mo>+</mo><mi>s</mi><mo>·</mo><msubsup><mi>r</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>-</mo><mi>b</mi><mo>·</mo><mi>i</mi><mo>-</mo><mi>s</mi><mo>·</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
        </mfenced>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mfenced separators="" open="(" close=")">
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <mi>p</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mi>p</mi>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
          <mo>,</mo>
          <mfenced open="(" close=")">
            <mtable>
              <mtr>
                <mtd>
                  <msup><mrow><mo>(</mo><mi>s</mi><mo>·</mo><msubsup><mi>r</mi> <mn>1</mn> <mi>u</mi> </msubsup><mo>-</mo><mi>s</mi><mo>·</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msup><mrow><mo>(</mo><mi>s</mi><mo>·</mo><msubsup><mi>r</mi> <mn>1</mn> <mi>d</mi> </msubsup><mo>-</mo><mi>s</mi><mo>·</mo><mi>μ</mi><mo>)</mo></mrow> <mn>2</mn> </msup>
                </mtd>
              </mtr>
            </mtable>
          </mfenced>
        </mfenced>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <msup><mi>s</mi> <mn>2</mn> </msup>
          <mo>·</mo>
          <msup><mi>σ</mi> <mn>2</mn> </msup>
          <mrow>
            <mo>(</mo>
            <msub><mi>r</mi> <mn>1</mn> </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">In words, the portfolio variance is <math alttext="s squared">
  <msup><mi>s</mi> <mn>2</mn> </msup>
</math> times the stock variance, which makes intuitive sense since the bond is risk-less and should not contribute to the portfolio variance. It immediately follows the nice proportionality result for the <em class="calibre7">portfolio volatility</em>:</p>
<div data-type="equation" class="calibre42">
<math alttext="StartLayout 1st Row 1st Column sigma left-parenthesis script upper R dot phi right-parenthesis 2nd Column equals 3rd Column StartRoot sigma squared left-parenthesis script upper R dot phi right-parenthesis EndRoot 2nd Row 1st Column Blank 2nd Column equals 3rd Column StartRoot s squared dot sigma squared left-parenthesis r 1 right-parenthesis EndRoot 3rd Row 1st Column Blank 2nd Column equals 3rd Column s dot sigma left-parenthesis r 1 right-parenthesis EndLayout" display="block">
  <mtable>
    <mtr>
      <mtd>
        <mrow>
          <mi>σ</mi>
          <mo>(</mo>
          <mi>ℛ</mi>
          <mo>·</mo>
          <mi>ϕ</mi>
          <mo>)</mo>
        </mrow>
      </mtd>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <msqrt>
          <mrow>
            <msup><mi>σ</mi> <mn>2</mn> </msup>
            <mrow>
              <mo>(</mo>
              <mi>ℛ</mi>
              <mo>·</mo>
              <mi>ϕ</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msqrt>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <msqrt>
          <mrow>
            <msup><mi>s</mi> <mn>2</mn> </msup>
            <mo>·</mo>
            <msup><mi>σ</mi> <mn>2</mn> </msup>
            <mrow>
              <mo>(</mo>
              <msub><mi>r</mi> <mn>1</mn> </msub>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msqrt>
      </mtd>
    </mtr>
    <mtr>
      <mtd/>
      <mtd>
        <mo>=</mo>
      </mtd>
      <mtd>
        <mrow>
          <mi>s</mi>
          <mo>·</mo>
          <mi>σ</mi>
          <mo>(</mo>
          <msub><mi>r</mi> <mn>1</mn> </msub>
          <mo>)</mo>
        </mrow>
      </mtd>
    </mtr>
  </mtable>
</math>
</div>

<p class="author1">The whole analysis is straightforward to implement in Python. First, some 
<span class="firstname">preliminaries</span>:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">120</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">B</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">11</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">121</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">20</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">122</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">M</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="n">B</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code class="o">.</code><code class="n">T</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO18-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO18-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">123</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">M</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO18-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO18-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">123</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="mi">11</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">20</code><code class="p">]</code><code class="p">,</code><code class="calibre22">
</code><code class="calibre22">                 </code><code class="p">[</code><code class="mi">11</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">5</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">124</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">M0</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="n">B</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code class="calibre22"> </code><code class="n">S</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO18-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO18-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">125</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">R</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">M</code><code class="calibre22"> </code><code class="o">/</code><code class="calibre22"> </code><code class="n">M0</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="mi">1</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO18-4" href="ch02_split_001.xhtml#callout_two_state_economy_CO18-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">126</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">R</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO18-5" href="ch02_split_001.xhtml#callout_two_state_economy_CO18-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">126</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="calibre22"> </code><code class="mi">0.1</code><code class="p">,</code><code class="calibre22">  </code><code class="mi">1.</code><code class="calibre22"> </code><code class="p">]</code><code class="p">,</code><code class="calibre22">
</code><code class="calibre22">                 </code><code class="p">[</code><code class="calibre22"> </code><code class="mi">0.1</code><code class="p">,</code><code class="calibre22"> </code><code class="o">-</code><code class="mi">0.5</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">127</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">P</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">0.5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.5</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO18-6" href="ch02_split_001.xhtml#callout_two_state_economy_CO18-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO18-1" href="ch02_split_001.xhtml#co_two_state_economy_CO18-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The matrix with the future prices of the financial assets.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO18-2" href="ch02_split_001.xhtml#co_two_state_economy_CO18-3"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The vector with the prices of the financial assets today.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO18-3" href="ch02_split_001.xhtml#co_two_state_economy_CO18-4"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates in vectorized fashion the return matrix.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO18-4" href="ch02_split_001.xhtml#co_two_state_economy_CO18-5"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows the results of the calculation.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO18-5" href="ch02_split_001.xhtml#co_two_state_economy_CO18-6"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the probability measure.</p></dd>
</dl>

<p class="author1">With these definitions, expected portfolio return and volatility are calculated as dot products:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">128</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">R</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">128</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0.1</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0.25</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">129</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">0.55</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">130</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">phi</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">1</code><code class="o">-</code><code class="n">s</code><code class="p">,</code><code class="calibre22"> </code><code class="n">s</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">131</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">mu</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">phi</code><code class="p">,</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">R</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-4" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">132</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">mu</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-5" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">132</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.18250000000000005</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">133</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">sigma</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">R</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">]</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-6" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">134</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">sigma</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO19-7" href="ch02_split_001.xhtml#callout_two_state_economy_CO19-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">134</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">0.41250000000000003</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-1" href="ch02_split_001.xhtml#co_two_state_economy_CO19-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The expected returns of the bond and the stock.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-2" href="ch02_split_001.xhtml#co_two_state_economy_CO19-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">An example allocation for the stock in percent (decimals).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-3" href="ch02_split_001.xhtml#co_two_state_economy_CO19-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The resulting portfolio with a normalized weight of 1.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-4" href="ch02_split_001.xhtml#co_two_state_economy_CO19-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The expected portfolio return given the allocations.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-5" href="ch02_split_001.xhtml#co_two_state_economy_CO19-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The value lies between the risk-less return and the stock return.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-6" href="ch02_split_001.xhtml#co_two_state_economy_CO19-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">The volatility of the portfolio; the Python code here only applies due to <math alttext="p equals">
  <mrow>
    <mi>p</mi>
    <mo>=</mo>
  </mrow>
</math> 0.5.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO19-7" href="ch02_split_001.xhtml#co_two_state_economy_CO19-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Again, the value lies between the volatility of the bond (= 0) and the volatility of the stock (= 0.75).</p></dd>
</dl>

<p class="author1">Varying the weight of the stock in the portfolio leads to different risk-return combinations. <a data-type="xref" href="ch02_split_001.xhtml#mvp_01" class="calibre6">Figure 2-5</a> shows the expected portfolio return and volatility for different values of <math alttext="s">
  <mi>s</mi>
</math> between 0 and 1. As the plot illustrates, both the expected portfolio return (from 0.1 to 0.25) and the volatility (from 0.0 to 0.75) increase linearly with increasing allocation <math alttext="s">
  <mi>s</mi>
</math> of the stock:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">135</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">values</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">linspace</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">25</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO20-1" href="ch02_split_001.xhtml#callout_two_state_economy_CO20-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">136</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">mu</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">[</code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="p">(</code><code class="p">(</code><code class="mi">1</code><code class="o">-</code><code class="n">s</code><code class="p">)</code><code class="p">,</code><code class="calibre22"> </code><code class="n">s</code><code class="p">)</code><code class="p">,</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">P</code><code class="p">,</code><code class="calibre22"> </code><code class="n">R</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">                </code><code class="kn">for</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="ow">in</code><code class="calibre22"> </code><code class="n">values</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO20-2" href="ch02_split_001.xhtml#callout_two_state_economy_CO20-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">137</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">sigma</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="p">[</code><code class="n">s</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">R</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">1</code><code class="p">]</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code class="calibre22"> </code><code class="kn">for</code><code class="calibre22"> </code><code class="n">s</code><code class="calibre22"> </code><code class="ow">in</code><code class="calibre22"> </code><code class="n">values</code><code class="p">]</code><code class="calibre22">  </code><a class="calibre6" id="co_two_state_economy_CO20-3" href="ch02_split_001.xhtml#callout_two_state_economy_CO20-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">138</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">values</code><code class="p">,</code><code class="calibre22"> </code><code class="n">mu</code><code class="p">,</code><code class="calibre22"> </code><code class="n">lw</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">3.0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">label</code><code class="o">=</code><code class="s">'</code><code class="s">$</code><code class="s">\</code><code class="s">mu_p$</code><code class="s">'</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">values</code><code class="p">,</code><code class="calibre22"> </code><code class="n">sigma</code><code class="p">,</code><code class="calibre22"> </code><code class="s">'</code><code class="s">--</code><code class="s">'</code><code class="p">,</code><code class="calibre22"> </code><code class="n">lw</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">3.0</code><code class="p">,</code><code class="calibre22"> </code><code class="n">label</code><code class="o">=</code><code class="s">'</code><code class="s">$</code><code class="s">\</code><code class="s">sigma_p$</code><code class="s">'</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">          </code><code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s">'</code><code class="s">$s$</code><code class="s">'</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO20-1" href="ch02_split_001.xhtml#co_two_state_economy_CO20-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Generates an <code class="calibre22">ndarray</code> object with 24 evenly spaced intervals between 0 and 1.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO20-2" href="ch02_split_001.xhtml#co_two_state_economy_CO20-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates for every element in <code class="calibre22">values</code> the expected portfolio return and stores them in a <code class="calibre22">list</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_two_state_economy_CO20-3" href="ch02_split_001.xhtml#co_two_state_economy_CO20-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates for every element in <code class="calibre22">values</code> the portfolio volatility and stores them in another <code class="calibre22">list</code> object.</p></dd>
</dl>

<figure class="calibre50"><div id="mvp_01" class="figure">
<img src="Images/ftwp_0205.png" alt="ftwp 0205" class="calibre60"/>
<h6 class="calibre52"><span class="firstname">Figure 2-5. </span>Expected portfolio return and volatility for different allocations</h6>
</div></figure>

<p class="author1">Note that the list comprehension <code class="calibre22">sigma = [s * R[:, 1].std() for s in values]</code> in the previous code is short for the following code<sup class="calibre14"><a data-type="noteref" id="idm44853704060072-marker" href="ch02_split_001.xhtml#idm44853704060072" class="calibre15">5</a></sup>:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">sigma</code> <code class="o">=</code> <code class="nb">list</code><code class="p">()</code>
<code class="kn">for</code> <code class="n">s</code> <code class="ow">in</code> <code class="n">values</code><code class="p">:</code>
    <code class="n">sigma</code><code class="o">.</code><code class="n">append</code><code class="p">(</code><code class="n">s</code> <code class="o">*</code> <code class="n">R</code><code class="p">[:,</code> <code class="mi">1</code><code class="p">]</code><code class="o">.</code><code class="n">std</code><code class="p">())</code></pre>

<p class="author1">The typical graphic seen in the context of MVP is one that plots expected portfolio return against portfolio volatility. <a data-type="xref" href="ch02_split_001.xhtml#mvp_02" class="calibre6">Figure 2-6</a> shows that an investor can expect a higher return the more risk (volatility) they are willing to bear. The relationship is linear in the special case of <a data-type="indexterm" data-primary="model economies" data-secondary="two-state" data-tertiary="MVP (mean-variance portfolio) theory" data-startref="model-two-state-mvp" id="idm44853704178536" class="calibre6"/><a data-type="indexterm" data-primary="two-state model economy" data-secondary="MVP (mean-variance portfolio) theory" data-startref="two-state-mvp" id="idm44853704177144" class="calibre6"/><a data-type="indexterm" data-primary="MVP (mean-variance portfolio) theory" data-startref="mvp" id="idm44853704030248" class="calibre6"/><a data-type="indexterm" data-primary="mean-variance portfolio (MVP) theory" data-startref="mean-variance" id="idm44853704029368" class="calibre6"/>this section:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code> <code class="p">[</code><code class="mi">139</code><code class="p">]:</code> <code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code> <code class="mi">6</code><code class="p">))</code>
          <code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">sigma</code><code class="p">,</code> <code class="n">mu</code><code class="p">,</code> <code class="n">lw</code> <code class="o">=</code> <code class="mi">3.0</code><code class="p">,</code> <code class="n">label</code><code class="o">=</code><code class="s">'risk-return'</code><code class="p">)</code>
          <code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code>
          <code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s">'$\sigma_p$'</code><code class="p">)</code>
          <code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s">'$\mu_p$'</code><code class="p">);</code></pre>

<figure class="calibre50"><div id="mvp_02" class="figure">
<img src="Images/ftwp_0206.png" alt="ftwp 0206" class="calibre61"/>
<h6 class="calibre52"><span class="firstname">Figure 2-6. </span>Feasible combinations of expected portfolio return and volatility</h6>
</div></figure>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Conclusions" class="calibre4"><div class="preface" id="idm44853705096856">
<h1 class="calibre17">Conclusions</h1>

<p class="author1">This chapter introduces finance, starting with the very basics and illustrating the central mathematical objects and financial notions with simple Python code examples. The beauty is that fundamental ideas of finance—like arbitrage pricing or the risk-return relationship—can be introduced and understood even in a static two-state economy. Equipped with this basic understanding and some financial and mathematical intuition, the transition to increasingly more realistic financial models is significantly simplified. The subsequent chapter, for example, adds a third future state to the state space to discuss issues arising in the context of market incompleteness.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Further Resources" class="calibre4"><div class="preface" id="idm44853703953048">
<h1 class="calibre17">Further Resources</h1>

<p class="author1">Books and papers cited in this chapter:</p>

<ul class="printings">
<li class="calibre54">
<p class="author1">Cox, John and Stephen Ross. 1976. “The Valuation of Options for Alternative Stochastic Processes.” <em class="calibre7">Journal of Financial Economics</em> (3): 145–166.</p>
</li>
<li class="calibre54">
<p class="author1">Delbaen, Freddy and Walter Schachermayer. 2006. <em class="calibre7">The Mathematics of Arbitrage</em>. Berlin: Springer Verlag.</p>
</li>
<li class="calibre54">
<p class="author1">Guidolin, Massimo and Francesca Rinaldi. 2013. “Ambiguity in Asset Pricing and Portfolio Choice: A Review of the Literature.” <em class="calibre7">Theory and Decision</em> (74): 183–217. <a href="https://ssrn.com/abstract=1673494" class="calibre6"><em class="calibre7">https://ssrn.com/abstract=1673494</em></a>.</p>
</li>
<li class="calibre54">
<p class="author1">Harrison, Michael and David Kreps. 1979. “Martingales and Arbitrage in Multiperiod Securities Markets.” <em class="calibre7">Journal of Economic Theory</em> (20): 381–408.</p>
</li>
<li class="calibre54">
<p class="author1">Harrison, Michael and Stanley Pliska. 1981. “Martingales and Stochastic Integrals in the Theory of Continuous Trading.” <em class="calibre7">Stochastic Processes and their Applications</em> (11): 215–260.</p>
</li>
<li class="calibre54">
<p class="author1">Markowitz, Harry. 1952. “Portfolio Selection.” <em class="calibre7">Journal of Finance</em> 7 (1): 77–91.</p>
</li>
</ul>
</div></section>







<div data-type="footnotes" class="calibre30"><p data-type="footnote" id="idm44853711197832" class="calibre31"><sup class="calibre32"><a href="ch02_split_000.xhtml#idm44853711197832-marker" class="calibre15">1</a></sup> For details on the Fundamental Theorems of Asset Pricing, refer to the seminal papers by Harrison and Kreps (1979) and Harrison and Pliska (1981).</p><p data-type="footnote" id="idm44853711142360" class="calibre31"><sup class="calibre32"><a href="ch02_split_000.xhtml#idm44853711142360-marker" class="calibre15">2</a></sup> A more formal treatment of the concept of an <em class="calibre7">economy</em> is found in <a data-type="xref" href="ch05_split_000.xhtml#static_economy" class="calibre6">Chapter 5</a>.</p><p data-type="footnote" id="idm44853711101112" class="calibre31"><sup class="calibre32"><a href="ch02_split_000.xhtml#idm44853711101112-marker" class="calibre15">3</a></sup> For details on the standard data types in Python, refer to the <a href="https://oreil.ly/YTWep" class="calibre6">Built-in Types</a>  <span class="firstname">documentation</span>.</p><p data-type="footnote" id="idm44853713184344" class="calibre31"><sup class="calibre32"><a href="ch02_split_001.xhtml#idm44853713184344-marker" class="calibre15">4</a></sup> For a formal definition of a random variable, see <a data-type="xref" href="ch05_split_000.xhtml#static_economy" class="calibre6">Chapter 5</a>.</p><p data-type="footnote" id="idm44853704060072" class="calibre31"><sup class="calibre32"><a href="ch02_split_001.xhtml#idm44853704060072-marker" class="calibre15">5</a></sup> Refer to the <a href="https://oreil.ly/0dbCi" class="calibre6">Data Structures documentation</a> for more on data structures and comprehension idioms in Python.</p></div></div></section></div></body></html>