<html><head></head><body><section data-pdf-bookmark="Chapter 1. Fundamentals of Risk Management" data-type="chapter" epub:type="chapter"><div class="chapter" id="chapter_1">&#13;
<h1><span class="label">Chapter 1. </span>Fundamentals of Risk Management</h1>&#13;
&#13;
<blockquote data-type="epigram">&#13;
<p> In 2007, no one would have thought that risk functions could have changed as much as they have in the last eight years. It is a natural temptation to expect that the next decade has to contain less change. However, we believe that the opposite will likely be true.</p>&#13;
<p data-type="attribution">Harle, Havas, and Samandari (2016)</p>&#13;
</blockquote>&#13;
&#13;
<p><a data-primary="Root Mean Square Propagation" data-see="RMSprop" data-type="indexterm" id="idm45737260976496"/><a data-primary="moving average time series model" data-see="MA" data-type="indexterm" id="idm45737260971680"/><a data-primary="multimodal data modeling" data-see="GMM" data-type="indexterm" id="idm45737260887904"/><a data-primary="partial autocorrelation function" data-see="PACF" data-type="indexterm" id="idm45737260602288"/><a data-primary="principle component analysis" data-see="PCA" data-type="indexterm" id="idm45737260548128"/><a data-primary="probability density function" data-see="PDF" data-type="indexterm" id="idm45737260495504"/><a data-primary="recurrent neural networks" data-see="RNNs" data-type="indexterm" id="idm45737260490240"/><a data-primary="Return-to-Turnover measure" data-see="RtoTR" data-type="indexterm" id="idm45737259709712"/><a data-primary="root mean square error" data-see="RMSE" data-type="indexterm" id="idm45737259121504"/><a data-primary="self-organizing map" data-see="SOM" data-type="indexterm" id="idm45737259116144"/><a data-primary="support vector regression" data-see="SVR" data-type="indexterm" id="idm45737259072304"/><a data-primary="Synthetic Data Vault" data-see="SDV" data-type="indexterm" id="idm45737258354624"/><a data-primary="synthetic minority over-sampling technique" data-see="SMOTE" data-type="indexterm" id="idm45737258205856"/><a data-primary="uncertainty" data-see="volatility prediction" data-type="indexterm" id="idm45737258197776"/><a data-primary="Amaranth Advisors" data-see="AA" data-type="indexterm" id="idm45737258042928"/><a data-primary="autocorrelation function" data-see="ACF" data-type="indexterm" id="idm45737259985664"/><a data-primary="autoregressive integrated moving average" data-see="ARIMA" data-type="indexterm" id="idm45737258369408"/><a data-primary="autoregressive time series model" data-see="AR" data-type="indexterm" id="idm45737258366816"/><a data-primary="Callinski Harabasz method" data-see="CH" data-type="indexterm" id="idm45737258276752"/><a data-primary="Center for Research in Security Prices" data-see="CRSP" data-type="indexterm" id="idm45737258274400"/><a data-primary="coefficient of elasticity of trading" data-see="CET" data-type="indexterm" id="idm45737258261136"/><a data-primary="edited nearest neighbor rule" data-see="ENN" data-type="indexterm" id="idm45737260520512"/><a data-primary="exchange-traded fund" data-see="ETF" data-type="indexterm" id="idm45737259707328"/><a data-primary="expectation-maximization algorithm" data-see="E-M" data-type="indexterm" id="idm45737259071088"/><a data-primary="expected shortfall model" data-see="ES" data-type="indexterm" id="idm45737262866784"/><a data-primary="Federal Reserve Economic Database" data-see="FRED" data-type="indexterm" id="idm45737262533856"/><a data-primary="fraud examination" data-see="operational risk" data-type="indexterm" id="idm45737256705264"/><a data-primary="gated recurrent unit" data-see="GRU" data-type="indexterm" id="idm45737261492848"/><a data-primary="Gaussian mixture copula model" data-see="GMCM" data-type="indexterm" id="idm45737261247840"/><a data-primary="Gaussian mixture model" data-see="GMM" data-type="indexterm" id="idm45737261118352"/><a data-primary="hidden Markov model" data-see="HMM" data-type="indexterm" id="idm45737261094304"/><a data-primary="information asymmetry" data-see="asymmetric information" data-type="indexterm" id="idm45737260592112"/><a data-primary="Kullback-Leibler divergence" data-see="KL" data-type="indexterm" id="idm45737259148480"/><a data-primary="Long-Term Capital Management" data-see="LTCM" data-type="indexterm" id="idm45737258793792"/><a data-primary="loss projection" data-see="VaR" data-type="indexterm" id="idm45737258448800"/><a data-primary="machine learning" data-see="ML" data-type="indexterm" id="idm45737258349408"/><a data-primary="Markov chain Monte Carlo method" data-see="MCMC" data-type="indexterm" id="idm45737258509376"/><a data-primary="maximum a posteriori probability" data-see="MAP" data-type="indexterm" id="idm45737258281136"/><a data-primary="minimum covariance determinant" data-see="MCD" data-type="indexterm" id="idm45737256583680"/><a data-primary="ML (machine learning)" data-secondary="deep learning" data-see="deep learning" data-type="indexterm" id="idm45737261504160"/><a data-primary="ML (machine learning)" data-secondary="neural networks" data-see="NNs" data-type="indexterm" id="idm45737261487440"/><a data-primary="ML (machine learning)" data-secondary="operational risk analysis" data-see="operational risk" data-type="indexterm" id="idm45737262137024"/><a data-primary="ML (machine learning)" data-secondary="random forest" data-see="random forest model" data-type="indexterm" id="idm45737262389120"/><a data-primary="risk management" data-type="indexterm" id="ix_risk_man_ch1"/>Risk management is a constantly evolving process. Constant evolution is inevitable because long-standing risk management practice cannot keep pace with recent developments or be a precursor to unfolding crises. Therefore, it is important to monitor and adopt the changes brought by structural breaks in a risk management process. Adopting these changes implies redefining the components and tools of risk management, and that is what this book is all about.</p>&#13;
&#13;
<p>Traditionally, empirical research in finance has had a strong focus on <a data-primary="statistical inference" data-type="indexterm" id="idm45737261128352"/>statistical inference. <a data-primary="econometrics" data-type="indexterm" id="idm45737260320848"/>Econometrics has been built on the rationale of statistical inference. These types of models concentrate on the structure of underlying data, generating process and relationships among variables. <a data-primary="ML (machine learning)" data-type="indexterm" id="idm45737257957232"/>Machine learning (ML) models, however, are not assumed to define the underlying data-generating processes but are considered as a means to an end for the purpose of prediction (Lommers, El Harzli, and Kim 2021). Thus, ML models tend to be more data centric and prediction accuracy oriented.</p>&#13;
&#13;
<p>Moreover, data scarcity and unavailability have always been an issue in finance, and it is not hard to guess that the econometric models cannot perform well in those cases. Given the solution that ML models provide to data unavailability via <a data-primary="synthetic data generation" data-type="indexterm" id="idm45737262507552"/>synthetic data generation, these models have been on the top of the agenda in finance, and financial risk management is, of course, no exception.</p>&#13;
&#13;
<p class="pagebreak-before less_space">Before going into a detailed discussion of these tools, it is worth introducing the main concepts of risk management, which I will refer to throughout the book. These &#13;
<span class="keep-together">concepts</span> include risk, types of risks, risk management, returns, and some concepts related to risk management.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Risk" data-type="sect1"><div class="sect1" id="idm45737261403440">&#13;
<h1>Risk</h1>&#13;
&#13;
<p>Risk is always out there, but understanding and assessing it is a bit tougher than knowing this due to its abstract nature. Risk is perceived as something hazardous, and it might be either expected or unexpected. Expected risk is something that is priced, but unexpected risk can be barely accounted for, so it might be devastating.</p>&#13;
&#13;
<p><a data-primary="risk" data-seealso="volatility prediction; specific financial risk types" data-type="indexterm" id="idm45737251010128"/>As you can imagine, there is no general consensus on the definition of <em>risk</em>. However, from the financial standpoint, risk refers to a likely potential loss or the level of uncertainty to which a company can be exposed. McNeil,  Alexander, and Paul (2015) define risk differently, as:</p>&#13;
<blockquote data-type="epigram">&#13;
<p> Any event or action that may adversely affect an organization‚Äôs ability to achieve its objectives and execute its strategies or, alternatively, the quantifiable likelihood of loss or less-than-expected returns. </p>&#13;
</blockquote>&#13;
&#13;
<p>These definitions focus on the downside of the risk, implying that cost goes hand in hand with risk, but it should also be noted that there is not necessarily a one-to-one relationship between them. For instance, if a risk is expected, a cost incurred is relatively lower (or even ignorable) than that of unexpected risk.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Return" data-type="sect1"><div class="sect1" id="idm45737251293328">&#13;
<h1>Return</h1>&#13;
&#13;
<p><a data-primary="risk-return relationship" data-type="indexterm" id="ix_risk-return_ch1"/><a data-primary="risk management" data-secondary="return" data-type="indexterm" id="ix_risk_man_return_ch1"/><a data-primary="return" data-type="indexterm" id="ix_return_ch1"/>All financial investments are undertaken to gain profit, which is also called <em>return</em>. More formally, return is the gain made on an investment in a  given period of time. Thus, return refers to the upside of the risk. Throughout the book, risk and return will refer to downside and upside risk, respectively.</p>&#13;
&#13;
<p>As you can imagine, there is a trade-off between risk and return: the higher the assumed risk, the greater the realized return. As it is a formidable task to come up with an optimum solution, this trade-off is one of the most controversial issues in finance. However, Markowitz (1952) proposes an intuitive and appealing solution to this long-standing issue. The way he defines risk, which was until then ambiguous, is nice and clean and led to a shift in landscape in financial research. Markowitz used standard deviation <math alttext="sigma Subscript upper R Sub Subscript i">&#13;
  <msub><mi>œÉ</mi> <msub><mi>R</mi> <mi>i</mi> </msub> </msub>&#13;
</math> to quantify risk. This intuitive definition allows researchers to use mathematics and statistics in finance. <a data-primary="standard deviation" data-type="indexterm" id="idm45737251016128"/>The standard deviation can be mathematically defined as (Hull 2012):</p>&#13;
<div class="pagebreak-before less_space" data-type="equation">&#13;
<math alttext="sigma equals StartRoot double-struck upper E left-parenthesis upper R squared right-parenthesis minus left-bracket double-struck upper E left-parenthesis upper R right-parenthesis right-bracket squared EndRoot" display="block">&#13;
  <mrow>&#13;
    <mi>œÉ</mi>&#13;
    <mo>=</mo>&#13;
    <msqrt>&#13;
      <mrow>&#13;
        <mi>ùîº</mi>&#13;
        <mrow>&#13;
          <mo>(</mo>&#13;
          <msup><mi>R</mi> <mn>2</mn> </msup>&#13;
          <mo>)</mo>&#13;
        </mrow>&#13;
        <mo>-</mo>&#13;
        <msup><mrow><mo>[</mo><mi>ùîº</mi><mrow><mo>(</mo><mi>R</mi><mo>)</mo></mrow><mo>]</mo></mrow> <mn>2</mn> </msup>&#13;
      </mrow>&#13;
    </msqrt>&#13;
  </mrow>&#13;
</math>&#13;
</div>&#13;
&#13;
<p>where <em>R</em> and <math alttext="double-struck upper E">&#13;
  <mi>ùîº</mi>&#13;
</math> refer to annual return and expectation, respectively. This book uses the symbol <math alttext="double-struck upper E">&#13;
  <mi>ùîº</mi>&#13;
</math> numerous times as expected return represents the return of interest. This is because it is probability we are talking about in defining risk. When it comes to portfolio variance, covariance comes into the picture, and the formula turns out &#13;
<span class="keep-together">to be</span>:</p>&#13;
<div data-type="equation">&#13;
<math alttext="sigma Subscript p Superscript 2 Baseline equals w Subscript a Superscript 2 Baseline sigma Subscript a Superscript 2 Baseline plus w Subscript b Superscript 2 Baseline sigma Subscript b Superscript 2 Baseline plus 2 w Subscript a Baseline w Subscript b Baseline Cov left-parenthesis r Subscript a Baseline comma r Subscript b Baseline right-parenthesis" display="block">&#13;
  <mrow>&#13;
    <msubsup><mi>œÉ</mi> <mi>p</mi> <mn>2</mn> </msubsup>&#13;
    <mo>=</mo>&#13;
    <msubsup><mi>w</mi> <mi>a</mi> <mn>2</mn> </msubsup>&#13;
    <msubsup><mi>œÉ</mi> <mi>a</mi> <mn>2</mn> </msubsup>&#13;
    <mo>+</mo>&#13;
    <msubsup><mi>w</mi> <mi>b</mi> <mn>2</mn> </msubsup>&#13;
    <msubsup><mi>œÉ</mi> <mi>b</mi> <mn>2</mn> </msubsup>&#13;
    <mo>+</mo>&#13;
    <mn>2</mn>&#13;
    <msub><mi>w</mi> <mi>a</mi> </msub>&#13;
    <msub><mi>w</mi> <mi>b</mi> </msub>&#13;
    <mtext>Cov</mtext>&#13;
    <mrow>&#13;
      <mo>(</mo>&#13;
      <msub><mi>r</mi> <mi>a</mi> </msub>&#13;
      <mo>,</mo>&#13;
      <msub><mi>r</mi> <mi>b</mi> </msub>&#13;
      <mo>)</mo>&#13;
    </mrow>&#13;
  </mrow>&#13;
</math>&#13;
</div>&#13;
&#13;
<p>where <em>w</em> denotes weight, <math alttext="sigma squared">&#13;
  <msup><mi>œÉ</mi> <mn>2</mn> </msup>&#13;
</math> is variance, and <em>Cov</em> is covariance matrix.</p>&#13;
&#13;
<p>Taking the square root of the variance obtained previously gives us the portfolio standard deviation:</p>&#13;
<div data-type="equation">&#13;
<math alttext="sigma Subscript p Baseline equals StartRoot sigma Subscript p Superscript 2 Baseline EndRoot" display="block">&#13;
  <mrow>&#13;
    <msub><mi>œÉ</mi> <mi>p</mi> </msub>&#13;
    <mo>=</mo>&#13;
    <msqrt>&#13;
      <msubsup><mi>œÉ</mi> <mi>p</mi> <mn>2</mn> </msubsup>&#13;
    </msqrt>&#13;
  </mrow>&#13;
</math>&#13;
</div>&#13;
&#13;
<p>In other words, portfolio expected return is a weighted average of the individual returns and can be shown as:</p>&#13;
<div data-type="equation">&#13;
<math alttext="dollar-sign double-struck upper E left-parenthesis upper R right-parenthesis equals sigma-summation Underscript i Overscript n Endscripts w Subscript i Baseline upper R Subscript i Baseline equals w 1 upper R 1 plus w 2 upper R 2 ellipsis plus w Subscript n Baseline upper R Subscript n dollar-sign">&#13;
  <mrow>&#13;
    <mi>ùîº</mi>&#13;
    <mrow>&#13;
      <mo>(</mo>&#13;
      <mi>R</mi>&#13;
      <mo>)</mo>&#13;
    </mrow>&#13;
    <mo>=</mo>&#13;
    <msubsup><mo>‚àë</mo> <mi>i</mi> <mi>n</mi> </msubsup>&#13;
    <msub><mi>w</mi> <mi>i</mi> </msub>&#13;
    <msub><mi>R</mi> <mi>i</mi> </msub>&#13;
    <mo>=</mo>&#13;
    <msub><mi>w</mi> <mn>1</mn> </msub>&#13;
    <msub><mi>R</mi> <mn>1</mn> </msub>&#13;
    <mo>+</mo>&#13;
    <msub><mi>w</mi> <mn>2</mn> </msub>&#13;
    <msub><mi>R</mi> <mn>2</mn> </msub>&#13;
    <mo>‚ãØ</mo>&#13;
    <mo>+</mo>&#13;
    <msub><mi>w</mi> <mi>n</mi> </msub>&#13;
    <msub><mi>R</mi> <mi>n</mi> </msub>&#13;
  </mrow>&#13;
</math>&#13;
</div>&#13;
&#13;
<p>Let us explore the risk-return relationship by visualization. To do that, a hypothetical portfolio is constructed to calculate necessary statistics with Python:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">statsmodels.api</code><code> </code><code class="kn">as</code><code> </code><code class="nn">sm</code><code>&#13;
</code><code>        </code><code class="kn">import</code><code> </code><code class="nn">numpy</code><code> </code><code class="kn">as</code><code> </code><code class="nn">np</code><code>&#13;
</code><code>        </code><code class="kn">import</code><code> </code><code class="nn">plotly.graph_objs</code><code> </code><code class="kn">as</code><code> </code><code class="nn">go</code><code>&#13;
</code><code>        </code><code class="kn">import</code><code> </code><code class="nn">matplotlib.pyplot</code><code> </code><code class="kn">as</code><code> </code><code class="nn">plt</code><code>&#13;
</code><code>        </code><code class="kn">import</code><code> </code><code class="nn">plotly</code><code>&#13;
</code><code>        </code><code class="kn">import</code><code> </code><code class="nn">warnings</code><code>&#13;
</code><code>        </code><code class="n">warnings</code><code class="o">.</code><code class="n">filterwarnings</code><code class="p">(</code><code class="s1">'</code><code class="s1">ignore</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">n_assets</code><code> </code><code class="o">=</code><code> </code><code class="mi">5</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-1" id="co_fundamentals_of_risk_management_CO1-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>        </code><code class="n">n_simulation</code><code> </code><code class="o">=</code><code> </code><code class="mi">500</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-2" id="co_fundamentals_of_risk_management_CO1-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">returns</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">randn</code><code class="p">(</code><code class="n">n_assets</code><code class="p">,</code><code> </code><code class="n">n_simulation</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-3" id="co_fundamentals_of_risk_management_CO1-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">4</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rand</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">rand</code><code class="p">(</code><code class="n">n_assets</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-4" id="co_fundamentals_of_risk_management_CO1-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>        </code><code class="n">weights</code><code> </code><code class="o">=</code><code> </code><code class="n">rand</code><code class="o">/</code><code class="nb">sum</code><code class="p">(</code><code class="n">rand</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-5" id="co_fundamentals_of_risk_management_CO1-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code>        </code><code class="k">def</code><code> </code><code class="nf">port_return</code><code class="p">(</code><code class="n">returns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>            </code><code class="n">rets</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">returns</code><code class="p">,</code><code> </code><code class="n">axis</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code>&#13;
</code><code>            </code><code class="n">cov</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">cov</code><code class="p">(</code><code class="n">rets</code><code class="o">.</code><code class="n">T</code><code class="p">,</code><code> </code><code class="n">aweights</code><code class="o">=</code><code class="n">weights</code><code class="p">,</code><code> </code><code class="n">ddof</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code>&#13;
</code><code>            </code><code class="n">portfolio_returns</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">weights</code><code class="p">,</code><code> </code><code class="n">rets</code><code class="o">.</code><code class="n">T</code><code class="p">)</code><code>&#13;
</code><code>            </code><code class="n">portfolio_std_dev</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">sqrt</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">weights</code><code class="p">,</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">dot</code><code class="p">(</code><code class="n">cov</code><code class="p">,</code><code> </code><code class="n">weights</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>            </code><code class="k">return</code><code> </code><code class="n">portfolio_returns</code><code class="p">,</code><code> </code><code class="n">portfolio_std_dev</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-6" id="co_fundamentals_of_risk_management_CO1-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">5</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">portfolio_returns</code><code class="p">,</code><code> </code><code class="n">portfolio_std_dev</code><code> </code><code class="o">=</code><code> </code><code class="n">port_return</code><code class="p">(</code><code class="n">returns</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-7" id="co_fundamentals_of_risk_management_CO1-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">6</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">portfolio_returns</code><code class="p">)</code><code>&#13;
</code><code>        </code><code class="k">print</code><code class="p">(</code><code class="n">portfolio_std_dev</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-8" id="co_fundamentals_of_risk_management_CO1-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>&#13;
</code><code>        </code><code class="mf">0.012968706503879782</code><code>&#13;
</code><code>        </code><code class="mf">0.023769932556585847</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">portfolio</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="n">port_return</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">randn</code><code class="p">(</code><code class="n">n_assets</code><code class="p">,</code><code> </code><code class="n">i</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>                              </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">101</code><code class="p">)</code><code class="p">]</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-9" id="co_fundamentals_of_risk_management_CO1-9"><img alt="9" src="assets/9.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">best_fit</code><code> </code><code class="o">=</code><code> </code><code class="n">sm</code><code class="o">.</code><code class="n">OLS</code><code class="p">(</code><code class="n">portfolio</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">sm</code><code class="o">.</code><code class="n">add_constant</code><code class="p">(</code><code class="n">portfolio</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code>\&#13;
</code><code>                   </code><code class="o">.</code><code class="n">fit</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">fittedvalues</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-10" id="co_fundamentals_of_risk_management_CO1-10"><img alt="10" src="assets/10.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">9</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">fig</code><code> </code><code class="o">=</code><code> </code><code class="n">go</code><code class="o">.</code><code class="n">Figure</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code>        </code><code class="n">fig</code><code class="o">.</code><code class="n">add_trace</code><code class="p">(</code><code class="n">go</code><code class="o">.</code><code class="n">Scatter</code><code class="p">(</code><code class="n">name</code><code class="o">=</code><code class="s1">'</code><code class="s1">Risk-Return Relationship</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                                 </code><code class="n">x</code><code class="o">=</code><code class="n">portfolio</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                                 </code><code class="n">y</code><code class="o">=</code><code class="n">portfolio</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">mode</code><code class="o">=</code><code class="s1">'</code><code class="s1">markers</code><code class="s1">'</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>        </code><code class="n">fig</code><code class="o">.</code><code class="n">add_trace</code><code class="p">(</code><code class="n">go</code><code class="o">.</code><code class="n">Scatter</code><code class="p">(</code><code class="n">name</code><code class="o">=</code><code class="s1">'</code><code class="s1">Best Fit Line</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                                 </code><code class="n">x</code><code class="o">=</code><code class="n">portfolio</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                                 </code><code class="n">y</code><code class="o">=</code><code class="n">best_fit</code><code class="p">,</code><code> </code><code class="n">mode</code><code class="o">=</code><code class="s1">'</code><code class="s1">lines</code><code class="s1">'</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>        </code><code class="n">fig</code><code class="o">.</code><code class="n">update_layout</code><code class="p">(</code><code class="n">xaxis_title</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">Return</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                          </code><code class="n">yaxis_title</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">Standard Deviation</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                          </code><code class="n">width</code><code class="o">=</code><code class="mi">900</code><code class="p">,</code><code> </code><code class="n">height</code><code class="o">=</code><code class="mi">470</code><code class="p">)</code><code>&#13;
</code><code>        </code><code class="n">fig</code><code class="o">.</code><code class="n">show</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO1-11" id="co_fundamentals_of_risk_management_CO1-11"><img alt="11" src="assets/11.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-1" id="callout_fundamentals_of_risk_management_CO1-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Number of assets considered</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-2" id="callout_fundamentals_of_risk_management_CO1-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Number of simulations conducted</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-3" id="callout_fundamentals_of_risk_management_CO1-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Generating random samples from normal distribution used as returns</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-4" id="callout_fundamentals_of_risk_management_CO1-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Generating random number to calculate weights</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-5" id="callout_fundamentals_of_risk_management_CO1-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Calculating weights</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-6" id="callout_fundamentals_of_risk_management_CO1-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Function used to calculate expected portfolio return and portfolio standard &#13;
<span class="keep-together">deviation</span></p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-7" id="callout_fundamentals_of_risk_management_CO1-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Calling the result of the function</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-8" id="callout_fundamentals_of_risk_management_CO1-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p>Printing the result of the expected portfolio return and portfolio standard &#13;
<span class="keep-together">deviation</span></p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-9" id="callout_fundamentals_of_risk_management_CO1-9"><img alt="9" src="assets/9.png"/></a></dt>&#13;
<dd><p>Rerunning the function 100 times</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-10" id="callout_fundamentals_of_risk_management_CO1-10"><img alt="10" src="assets/10.png"/></a></dt>&#13;
<dd><p>To draw the best fit line, run linear regression</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO1-11" id="callout_fundamentals_of_risk_management_CO1-11"><img alt="11" src="assets/11.png"/></a></dt>&#13;
<dd><p>Drawing interactive plot for visualization purposes</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-type="xref" href="#risk_return">Figure¬†1-1</a>, generated via the previous Python code, confirms that the risk and return go in tandem, but the magnitude of this correlation varies depending on the individual stock and the financial market conditions.<a data-primary="" data-startref="ix_return_ch1" data-type="indexterm" id="idm45737256780544"/><a data-primary="" data-startref="ix_risk_man_return_ch1" data-type="indexterm" id="idm45737256779600"/><a data-primary="" data-startref="ix_risk-return_ch1" data-type="indexterm" id="idm45737256778656"/></p>&#13;
&#13;
<figure><div class="figure" id="risk_return">&#13;
<img alt="SP risk-return" src="assets/mlfr_0101.png"/>&#13;
<h6><span class="label">Figure 1-1. </span>Risk-return relationship</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Risk Management" data-type="sect1"><div class="sect1" id="idm45737251292736">&#13;
<h1>Risk Management</h1>&#13;
&#13;
<p>Financial risk management is a process to deal with the uncertainties resulting from financial markets. It involves assessing the financial risks facing an organization and developing management strategies consistent with internal priorities and policies (Horcher 2011).</p>&#13;
&#13;
<p>According to this definition, as every organization faces different types of risks, the way that a company deals with risk is completely unique. Every company should properly assess and take necessary action against risk. This does not necessarily mean, however, that once a risk is identified, it needs to be mitigated as much as a company can.</p>&#13;
&#13;
<p>Risk management is, therefore, not about mitigating risk at all costs. Mitigating risk may require sacrificing return, and it can be tolerable up to certain level as companies search for higher return as much as lower risk. Thus, to maximize profit while lowering the risk should be a delicate and well-defined task.</p>&#13;
&#13;
<p><a data-primary="risk management" data-secondary="strategies" data-type="indexterm" id="idm45737256575120"/>Managing risk comes with a cost, and even though dealing with it requires specific company policies, there exists a general framework for possible risk strategies:</p>&#13;
<dl>&#13;
<dt><a data-primary="ignore risk strategy" data-type="indexterm" id="idm45737256573408"/>Ignore</dt>&#13;
<dd>&#13;
<p>In this strategy, companies accept all risks and their consequences and prefer to do nothing.</p>&#13;
</dd>&#13;
<dt><a data-primary="transfer risk strategy" data-type="indexterm" id="idm45737256571248"/>Transfer</dt>&#13;
<dd>&#13;
<p>This strategy involves transferring the risks to a third party by hedging or some other way.</p>&#13;
</dd>&#13;
<dt><a data-primary="mitigate risk strategy" data-type="indexterm" id="idm45737256569152"/>Mitigate</dt>&#13;
<dd>&#13;
<p>Companies develop a strategy to mitigate risk partly because its harmful effect might be considered too much to bear and/or surpass the benefit attached to it.</p>&#13;
</dd>&#13;
<dt><a data-primary="accept risk strategy" data-type="indexterm" id="idm45737256566992"/>Accept</dt>&#13;
<dd>&#13;
<p>If companies embrace the strategy of <em>accepting the risk</em>, they properly identify risks and acknowledge the benefit  of them. In other words, when assuming certain risks arising from some activities bring value to shareholders, this strategy can be chosen.</p>&#13;
</dd>&#13;
</dl>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Main Financial Risks" data-type="sect2"><div class="sect2" id="idm45737256564544">&#13;
<h2>Main Financial Risks</h2>&#13;
&#13;
<p>Financial companies face various risks over their business life. These risks can be divided into different categories in a way to more easily identify and assess them. These main financial risk types are market risk, credit risk, liquidity risk, and operational risk, but again, this is not an exhaustive list. However, we confine our attention to the main financial risk types throughout the book. Let‚Äôs take a look at these risk categories.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Market risk" data-type="sect3"><div class="sect3" id="idm45737256562384">&#13;
<h3>Market risk</h3>&#13;
&#13;
<p><a data-primary="market risk" data-type="indexterm" id="idm45737256561184"/>This risk arises due to a change in factors in the financial market. <a data-primary="interest rate risk" data-type="indexterm" id="idm45737256560352"/>For instance, an increase in <em>interest rate</em> might badly affect a company that has a short position.</p>&#13;
&#13;
<p><a data-primary="exchange rate risk" data-type="indexterm" id="idm45737256558880"/>A second example can be given about another source of market risk: <em>exchange rate</em>. A company involved in international trade, whose commodities are priced in US dollars, is highly exposed to a change in US dollars.</p>&#13;
&#13;
<p><a data-primary="commodity price risk" data-type="indexterm" id="idm45737256557232"/>As you can imagine, any change in <em>commodity price</em> might pose a threat to a company‚Äôs financial sustainability. There are many fundamentals that have a direct effect on commodity price, including market players, transportation cost, and so on.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Credit risk" data-type="sect3"><div class="sect3" id="idm45737256555552">&#13;
<h3>Credit risk</h3>&#13;
&#13;
<p><a data-primary="credit risk" data-type="indexterm" id="idm45737256554352"/>Credit risk is one of the most pervasive risks. It emerges when a counterparty fails to honor debt. For instance, if a borrower is unable to make a payment, then credit risk is realized. Deterioration of credit quality is also a source of risk through the reduced market value of securities that an organization might own (Horcher 2011).</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Liquidity risk" data-type="sect3"><div class="sect3" id="idm45737256552912">&#13;
<h3>Liquidity risk</h3>&#13;
&#13;
<p><a data-primary="liquidity risk" data-type="indexterm" id="idm45737256551744"/>Liquidity risk had been overlooked until the 2007‚Äì2008 financial crisis, which hit the financial market hard. From that point on, research on liquidity risk has intensified. <em>Liquidity</em> refers<a data-primary="liquidity" data-type="indexterm" id="idm45737256550112"/> to the speed and ease with which an investor executes a transaction. <a data-primary="trading liquidity risk" data-type="indexterm" id="idm45737256549248"/>This is also known as <em>trading liquidity risk</em>. <a data-primary="funding liquidity risk" data-type="indexterm" id="idm45737256548032"/>The other dimension of liquidity risk is <em>funding liquidity risk</em>, which can be defined as the ability to raise cash or availability of credit to finance a company‚Äôs operations.</p>&#13;
&#13;
<p>If a company cannot turn its assets into cash within a short period of time, this falls under the liquidity risk category, and it is quite detrimental to the company‚Äôs financial management and reputation.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Operational risk" data-type="sect3"><div class="sect3" id="idm45737256545888">&#13;
<h3>Operational risk</h3>&#13;
&#13;
<p><a data-primary="operational risk" data-type="indexterm" id="idm45737256544448"/>Managing operational risk is not a clear and foreseeable task, and it takes up a great deal of a company‚Äôs resources due to the intricate and internal nature of the risk. Questions include:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>How do financial companies do a good job of managing risk?</p>&#13;
</li>&#13;
<li>&#13;
<p>Do they allocate necessary resources for this task?</p>&#13;
</li>&#13;
<li>&#13;
<p>Is the importance of risk to a company‚Äôs sustainability gauged properly?</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>As the name suggests, operational risk arises when external events or inherent operation(s) in a company or industry pose a threat to the day-to-day operations, profitability, or sustainability of that company. Operational risk includes fraudulent activities, failure to adhere to regulations or internal procedures, losses due to lack of training, and so forth.</p>&#13;
&#13;
<p>Well, what happens if a company is exposed to one or more than one of these risks and is unprepared? Although it doesn‚Äôt happen frequently, historical events tell us the answer: the company might default and run into a big financial collapse.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Big Financial Collapse" data-type="sect2"><div class="sect2" id="idm45737256538800">&#13;
<h2>Big Financial Collapse</h2>&#13;
&#13;
<p><a data-primary="crisis periods" data-secondary="global financial crisis of 2007‚Äì2008" data-type="indexterm" id="idm45737256537520"/>How important is risk management? This question can be addressed by a book with hundreds of pages, but in fact, the rise of risk management in financial institutions speaks for itself.&#13;
<a data-primary="global financial crisis of 2007‚Äì2008" data-type="indexterm" id="idm45737256536352"/>For example, the global financial crisis of 2007‚Äì2008 has been characterized as a ‚Äúcolossal failure of risk management‚Äù (Buchholtz and Wiggins 2019), though this was really just the tip of the iceberg. Numerous failures in risk management paved the way for this breakdown in the financial system. To understand this breakdown, we need to dig into past financial risk management failures. <a data-primary="LTCM (Long-Term Capital Management) financial collapse" data-type="indexterm" id="idm45737256535168"/>A hedge fund called Long-Term Capital Management (LTCM) presents a vivid example of a financial collapse.</p>&#13;
&#13;
<p>LTCM formed a team with top-notch academics and practitioners. This led to a fund inflow to the firm, and it began trading with $1 billion. By 1998, LTCM controlled over $100 billion and was heavily invested in some emerging markets, including &#13;
<span class="keep-together">Russia</span>. The Russian debt default deeply affected LTCM‚Äôs <a data-primary="flight to quality" data-type="indexterm" id="idm45737256532816"/>portfolio due to <em>flight to quality</em>,<sup><a data-type="noteref" href="ch01.html#idm45737256531568" id="idm45737256531568-marker">1</a></sup> and it took a severe blow, which led it to bust (Bloomfield 2003).</p>&#13;
&#13;
<p><a data-primary="MG (Metallgesellschaft)" data-type="indexterm" id="idm45737256530128"/>Metallgesellschaft (MG) is another company that no longer exists due to bad financial risk management. MG largely operated in gas and oil markets. Because of its high exposure, MG needed funds in the aftermath of the large drop in gas and oil prices. Closing the short position resulted in losses around $1.5 billion.</p>&#13;
&#13;
<p><a data-primary="AA (Amaranth Advisors)" data-type="indexterm" id="idm45737256528704"/>Amaranth Advisors (AA) is another hedge fund that went into bankruptcy due to heavily investing in a single market and misjudging the risks arising from these investments. By 2006, AA had attracted roughly $9 billion of assets under management but lost nearly half of it because of the downward move in natural gas futures and options. The default of AA is attributed to low natural gas prices and misleading risk models (Chincarini 2008).</p>&#13;
&#13;
<p>Stulz‚Äôs paper, ‚ÄúRisk Management Failures: What Are They and When Do They Happen?‚Äù (2008) summarizes the main risk management failures that can result in default:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p>Mismeasurement of known risks</p>&#13;
</li>&#13;
<li>&#13;
<p>Failure to take risks into account</p>&#13;
</li>&#13;
<li>&#13;
<p>Failure in communicating risks to top management</p>&#13;
</li>&#13;
<li>&#13;
<p>Failure in monitoring risks</p>&#13;
</li>&#13;
<li>&#13;
<p>Failure in managing risks</p>&#13;
</li>&#13;
<li>&#13;
<p>Failure to use appropriate risk metrics</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p>Thus, the global financial crisis was not the sole event that led regulators and institutions to redesign their financial risk management. Rather, it is the drop that filled the glass, and in the aftermath of the crisis, both regulators and institutions have adopted lessons learned and improved their processes. Eventually, this series of events led to a rise in financial risk management.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Information Asymmetry in Financial Risk Management" data-type="sect1"><div class="sect1" id="idm45737256520128">&#13;
<h1>Information Asymmetry in Financial Risk Management</h1>&#13;
&#13;
<p><a data-primary="risk management" data-secondary="information asymmetry" data-type="indexterm" id="ix_risk_man_asym_info_ch1"/><a data-primary="asymmetric information" data-type="indexterm" id="ix_asym_info_ch1"/>Although it is theoretically intuitive, the assumption of a completely rational decision maker, the main building block of modern finance theory, is too perfect to be real. Behavioral economists have therefore attacked this idea, asserting that psychology plays a key role in the decision-making process:</p>&#13;
<blockquote>&#13;
<p>Making decisions is like speaking prose‚Äîpeople do it all the time, knowingly or unknowingly. It is hardly surprising, then, that the topic of decision making is shared by many disciplines, from mathematics and statistics, through economics and political science, to sociology and psychology.</p>&#13;
<p data-type="attribution">Kahneman and Tversky (1984)</p>&#13;
</blockquote>&#13;
&#13;
<p>Information asymmetry and financial risk management go hand in hand as the cost of financing and firm valuation are deeply affected by information asymmetry. That is, uncertainty in valuation of a firm‚Äôs assets might raise the borrowing cost, posing a threat to a firm‚Äôs sustainability (see DeMarzo and Duffie 1995 and Froot, Scharfstein, and Stein 1993).</p>&#13;
&#13;
<p>Thus, the roots of the failures described previously lie deeper in such a way that a perfect hypothetical world in which a rational decision maker lives is unable to explain them. At this point, human instincts and an imperfect world come into play, and a mixture of disciplines provides more plausible justifications. Adverse selection and moral hazard are two prominent categories accounting for market failures.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Adverse Selection" data-type="sect2"><div class="sect2" id="idm45737256512288">&#13;
<h2>Adverse Selection</h2>&#13;
&#13;
<p><em>Adverse selection</em> <a data-primary="asymmetric information" data-secondary="adverse selection role" data-type="indexterm" id="ix_asym_info_adverse_select"/><a data-primary="adverse selection" data-type="indexterm" id="ix_adverse_select"/>is a type of asymmetric information in which one party tries to exploit its informational advantage. This arises when sellers are better informed than buyers. This phenomenon was perfectly coined by Akerlof (1978) as ‚Äúthe Markets for Lemons.‚Äù Within this framework, ‚Äúlemons‚Äù refer to low-quality commodities.</p>&#13;
&#13;
<p>Consider a market with lemons and high-quality cars, and buyers know that they‚Äôre likely to buy a lemon, which lowers the equilibrium price. However, the seller is better informed whether the car is a lemon or of high quality. So, in this situation, benefit from exchange might disappear, and no transaction takes place.</p>&#13;
&#13;
<p>Because of its complexity and opaqueness, the mortgage market in the pre-crisis era is a good example of adverse selection. Borrowers knew more about their willingness and ability to pay than lenders. Financial risk was created through the securitizations of the loans (i.e., mortgage-backed securities). From that point on, the originators of the mortgage loans knew more about the risks than those who were selling them to investors in the form of mortgage-backed securities.</p>&#13;
&#13;
<p>Let‚Äôs try to model adverse selection using Python. It is readily observable in  the insurance industry, and therefore I would like to focus on that industry to model adverse selection.</p>&#13;
&#13;
<p><a data-primary="consumer utility function" data-type="indexterm" id="idm45737256505072"/>Suppose that the consumer utility function is:</p>&#13;
<div data-type="equation">&#13;
<math alttext="upper U left-parenthesis x right-parenthesis equals e Superscript gamma x" display="block">&#13;
  <mrow>&#13;
    <mi>U</mi>&#13;
    <mrow>&#13;
      <mo>(</mo>&#13;
      <mi>x</mi>&#13;
      <mo>)</mo>&#13;
    </mrow>&#13;
    <mo>=</mo>&#13;
    <msup><mi>e</mi> <mrow><mi>Œ≥</mi><mi>x</mi></mrow> </msup>&#13;
  </mrow>&#13;
</math>&#13;
</div>&#13;
&#13;
<p>where <em>x</em> is income and <math alttext="gamma">&#13;
  <mi>Œ≥</mi>&#13;
</math> is a parameter, which takes on values between 0 and 1.</p>&#13;
<div data-type="note" epub:type="note"><h6>Note</h6>&#13;
<p>The utility function is a tool used to represent consumer preferences for goods and services, and it is concave for risk-averse &#13;
<span class="keep-together">individuals</span>.</p>&#13;
</div>&#13;
&#13;
<p>The ultimate aim of this example is to decide whether or not to buy an insurance based on consumer utility.</p>&#13;
&#13;
<p>For the sake of practice, I assume that the income is US$2 and the cost of the accident is US$1.5.</p>&#13;
&#13;
<p>Now it is time to calculate the probability of loss, <math alttext="pi">&#13;
  <mi>œÄ</mi>&#13;
</math>, which is exogenously given and uniformly distributed.</p>&#13;
&#13;
<p>As a last step, to find equilibrium, I have to define supply and demand for insurance coverage. The following code block indicates how we can model the adverse selection:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">matplotlib.pyplot</code><code> </code><code class="kn">as</code><code> </code><code class="nn">plt</code><code>&#13;
</code><code>         </code><code class="kn">import</code><code> </code><code class="nn">numpy</code><code> </code><code class="kn">as</code><code> </code><code class="nn">np</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">style</code><code class="o">.</code><code class="n">use</code><code class="p">(</code><code class="s1">'</code><code class="s1">seaborn</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">def</code><code> </code><code class="nf">utility</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>             </code><code class="k">return</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">exp</code><code class="p">(</code><code class="n">x</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="n">gamma</code><code class="p">)</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO2-1" id="co_fundamentals_of_risk_management_CO2-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">12</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">pi</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">uniform</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code class="mi">1</code><code class="p">,</code><code class="mi">20</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">pi</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">sort</code><code class="p">(</code><code class="n">pi</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO2-2" id="co_fundamentals_of_risk_management_CO2-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">13</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="s1">'</code><code class="s1">The highest three probability of losses are {}</code><code class="s1">'</code><code>&#13;
</code><code>               </code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="n">pi</code><code class="p">[</code><code class="o">-</code><code class="mi">3</code><code class="p">:</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO2-3" id="co_fundamentals_of_risk_management_CO2-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>         </code><code class="n">The</code><code> </code><code class="n">highest</code><code> </code><code class="n">three</code><code> </code><code class="n">probability</code><code> </code><code class="n">of</code><code> </code><code class="n">losses</code><code> </code><code class="n">are</code><code> </code><code class="p">[</code><code class="mf">0.834261</code><code>   </code><code class="mf">0.93542452</code><code>&#13;
</code><code>          </code><code class="mf">0.97721866</code><code class="p">]</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">14</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="mi">2</code><code>&#13;
</code><code>         </code><code class="n">c</code><code> </code><code class="o">=</code><code> </code><code class="mf">1.5</code><code>&#13;
</code><code>         </code><code class="n">Q</code><code> </code><code class="o">=</code><code> </code><code class="mi">5</code><code>&#13;
</code><code>         </code><code class="n">D</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.01</code><code>&#13;
</code><code>         </code><code class="n">gamma</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.4</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">def</code><code> </code><code class="nf">supply</code><code class="p">(</code><code class="n">Q</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>             </code><code class="k">return</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">pi</code><code class="p">[</code><code class="o">-</code><code class="n">Q</code><code class="p">:</code><code class="p">]</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="n">c</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO2-4" id="co_fundamentals_of_risk_management_CO2-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">16</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">def</code><code> </code><code class="nf">demand</code><code class="p">(</code><code class="n">D</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>             </code><code class="k">return</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">sum</code><code class="p">(</code><code class="n">utility</code><code class="p">(</code><code class="n">y</code><code> </code><code class="o">-</code><code> </code><code class="n">D</code><code class="p">)</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">pi</code><code> </code><code class="o">*</code><code> </code><code class="n">utility</code><code class="p">(</code><code class="n">y</code><code> </code><code class="o">-</code><code> </code><code class="n">c</code><code class="p">)</code><code> </code><code class="o">+</code><code> </code><code class="p">(</code><code class="mi">1</code><code> </code><code class="o">-</code><code> </code><code class="n">pi</code><code class="p">)</code><code>&#13;
</code><code>                           </code><code class="o">*</code><code> </code><code class="n">utility</code><code class="p">(</code><code class="n">y</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code> </code><a class="co" href="#callout_fundamentals_of_risk_management_CO2-5" id="co_fundamentals_of_risk_management_CO2-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">17</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="p">[</code><code class="n">demand</code><code class="p">(</code><code class="n">i</code><code class="p">)</code><code> </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mf">1.9</code><code class="p">,</code><code> </code><code class="mf">0.02</code><code class="p">)</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                  </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mf">1.9</code><code class="p">,</code><code> </code><code class="mf">0.02</code><code class="p">)</code><code class="p">,</code><code>&#13;
</code><code>                  </code><code class="s1">'</code><code class="s1">r</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">insurance demand</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code class="mi">21</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">[</code><code class="n">supply</code><code class="p">(</code><code class="n">j</code><code class="p">)</code><code> </code><code class="k">for</code><code> </code><code class="n">j</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code class="mi">21</code><code class="p">)</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                  </code><code class="s1">'</code><code class="s1">g</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">insurance supply</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s2">"</code><code class="s2">Average Cost</code><code class="s2">"</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s2">"</code><code class="s2">Number of People</code><code class="s2">"</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">plt</code><code class="o">.</code><code class="n">show</code><code class="p">(</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO2-1" id="callout_fundamentals_of_risk_management_CO2-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Writing a function for risk-averse utility function</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO2-2" id="callout_fundamentals_of_risk_management_CO2-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Generating random samples from uniform distribution</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO2-3" id="callout_fundamentals_of_risk_management_CO2-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Picking the last three items</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO2-4" id="callout_fundamentals_of_risk_management_CO2-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Writing a function for supply of insurance contracts</p></dd>&#13;
<dt><a class="co" href="#co_fundamentals_of_risk_management_CO2-5" id="callout_fundamentals_of_risk_management_CO2-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Writing a function for demand of insurance contracts</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-type="xref" href="#adverse_sel">Figure¬†1-2</a> shows the insurance supply-and-demand curve. Surprisingly, both curves are downward sloping, implying that as more people demand contracts and more people are added on the contracts, the risk lowers, affecting the price of the contract.</p>&#13;
&#13;
<p>The straight line presents the insurance supply and average cost of the contracts and the other line, showing a step-wise downward slope, denotes the demand for insurance contracts. As we start analysis with the risky customers, as you add more and more people to the contract, the level of riskiness diminishes in parallel with the average cost.<a data-primary="" data-startref="ix_adverse_select" data-type="indexterm" id="idm45737256277344"/><a data-primary="" data-startref="ix_asym_info_adverse_select" data-type="indexterm" id="idm45737256276368"/></p>&#13;
&#13;
<figure><div class="figure" id="adverse_sel">&#13;
<img alt="adv selection" src="assets/mlfr_0102.png"/>&#13;
<h6><span class="label">Figure 1-2. </span>Adverse selection</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Moral Hazard" data-type="sect2"><div class="sect2" id="idm45737256511664">&#13;
<h2>Moral Hazard</h2>&#13;
&#13;
<p><a data-primary="asymmetric information" data-secondary="moral hazard role" data-type="indexterm" id="idm45737256315616"/><a data-primary="moral hazard" data-type="indexterm" id="idm45737256314640"/>Market failures also result from asymmetric information. In a moral hazard situation, one party of the contract assumes more risk than the other party. Formally, <em>moral hazard</em> may be defined as a situation in which the more informed party takes advantages of the private information at their disposal to the detriment of others.</p>&#13;
&#13;
<p>For a better understanding of moral hazard, a simple example can be given from the credit market: suppose that entity A demands credit for use in financing the project that is considered feasible to finance. Moral hazard arises if entity A uses the loan for the payment of credit debt to bank C, without prior notice to the lender bank. While allocating credit, the moral hazard situation that banks may encounter arises as a result of asymmetric information, decreases banks‚Äô lending appetites, and appears as one of the reasons why banks put so much labor into the credit allocation &#13;
<span class="keep-together">process</span>.</p>&#13;
&#13;
<p>Some argue that rescue operations undertaken by the Federal Reserve Board (Fed) for LTCM can be considered a moral hazard in the way that the Fed enters into contracts in bad faith.<a data-primary="" data-startref="ix_asym_info_ch1" data-type="indexterm" id="idm45737256310752"/><a data-primary="" data-startref="ix_risk_man_asym_info_ch1" data-type="indexterm" id="idm45737256309776"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conclusion" data-type="sect1"><div class="sect1" id="idm45737256308608">&#13;
<h1>Conclusion</h1>&#13;
&#13;
<p>This chapter presented the main concepts of financial risk management with a view to making sure that we are all on the same page. These terms and concepts will be used frequently throughout this book.</p>&#13;
&#13;
<p>In addition, a behavioral approach, attacking the rationale of a finance agent, was discussed so that we have more encompassing tools to account for the sources of financial risk.</p>&#13;
&#13;
<p>In the next chapter, we will discuss the time-series approach, which is one of the main pillars of financial analysis in the sense that most financial data has a time dimension, which requires special attention and techniques to deal with.<a data-primary="" data-startref="ix_risk_man_ch1" data-type="indexterm" id="idm45737256305808"/></p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="References" data-type="sect1"><div class="sect1" id="idm45737256304576">&#13;
<h1>References</h1>&#13;
&#13;
<p>Articles and chapters cited in this chapter:</p>&#13;
&#13;
<ul class="author-date-bib">&#13;
<li>&#13;
<p>Akerlof, George A. 1978. ‚ÄúThe Market for Lemons: Quality Uncertainty and the Market Mechanism.‚Äù <em>Uncertainty in Economics</em>, 235-251. Academic Press.</p>&#13;
</li>&#13;
<li>&#13;
<p>Buchholtz, Alec, and Rosalind Z. Wiggins. 2019. ‚ÄúLessons Learned: Thomas C. Baxter, Jr., Esq.‚Äù <em>Journal of Financial Crises</em> 1, no. (1): 202-204.</p>&#13;
</li>&#13;
<li>&#13;
<p>Chincarini, Ludwig. 2008. ‚ÄúA Case Study on Risk Management: Lessons from the Collapse of Amaranth Advisors Llc.‚Äù <em>Journal of Applied Finance</em> 18 (1): 152-74.</p>&#13;
</li>&#13;
<li>&#13;
<p>DeMarzo, Peter M., and Darrell Duffie. 1995. ‚ÄúCorporate Incentives for Hedging and Hedge Accounting.‚Äù <em>The Review of Financial Studies</em> 8 (3): 743-771.</p>&#13;
</li>&#13;
<li>&#13;
<p>Froot, Kenneth A., David S. Scharfstein, and Jeremy C. Stein. 1993. ‚ÄúRisk Management: Coordinating Corporate Investment and Financing Policies.‚Äù <em>The Journal of Finance</em> 48 (5): 1629-1658.</p>&#13;
</li>&#13;
<li>&#13;
<p>Harle, P., A. Havas, and H. Samandari. 2016. <em>The Future of Bank Risk Management</em>. McKinsey Global Institute.</p>&#13;
</li>&#13;
<li>&#13;
<p>Kahneman, D., and A. Tversky. 1984. ‚ÄúChoices, Values, and Frames. American Psychological Association.‚Äù <em>American Psychologist</em>, 39 (4): 341-350.</p>&#13;
</li>&#13;
<li>&#13;
<p>Lommers, Kristof, Ouns El Harzli, and Jack Kim. 2021. ‚ÄúConfronting Machine Learning With Financial Research.‚Äù Available at SSRN 3788349.</p>&#13;
</li>&#13;
<li>&#13;
<p>Markowitz H. 1952. ‚ÄúPortfolio Selection‚Äù. <em>The Journal of Finance</em>. 7 (1): 177‚Äî91.</p>&#13;
</li>&#13;
<li>&#13;
<p>Stulz, Ren√© M. 2008. ‚ÄúRisk Management Failures: What Are They and When Do They Happen?‚Äù <em>Journal of Applied Corporate Finance</em> 20 (4): 39-48.</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p class="pagebreak-before less_space">Books cited in this chapter:</p>&#13;
&#13;
<ul class="author-date-bib">&#13;
<li>&#13;
<p>Bloomfield, S. 2013. <em>Theory and Practice of Corporate Governance: An Integrated Approach</em>. Cambridge: Cambridge University Press.</p>&#13;
</li>&#13;
<li>&#13;
<p>Horcher, Karen A. 2011. <em>Essentials of Financial Risk Management</em>. Vol. 32. Hoboken, NJ: John Wiley and Sons.</p>&#13;
</li>&#13;
<li>&#13;
<p>Hull, John. 2012. <em>Risk Management and Financial Institutions</em>. Vol. 733. Hoboken, NJ: John Wiley and Sons.</p>&#13;
</li>&#13;
<li>&#13;
<p>McNeil, Alexander J., R√ºdiger Frey, and Paul Embrechts. 2015. <em>Quantitative Risk Management: Concepts, Techniques and Tools</em>, Revised edition. Princeton, NJ: Princeton University Press.</p>&#13;
</li>&#13;
</ul>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<div data-type="footnotes"><p data-type="footnote" id="idm45737256531568"><sup><a href="ch01.html#idm45737256531568-marker">1</a></sup> <em>Flight to quality</em> refers to a herd behavior in which investors stay away from risky assets such as stocks and take long positions in safer assets such as government-issued bonds.</p></div></div></section></body></html>