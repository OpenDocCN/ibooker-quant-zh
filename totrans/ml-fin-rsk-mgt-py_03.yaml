- en: Chapter 2\. Introduction to Time Series Modeling
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第2章。时间序列建模导论
- en: Market behavior is examined using large amounts of past data, such as high-frequency
    bid-ask quotes of currencies or stock prices. It is the abundance of data that
    makes possible the empirical study of the market. Although it is not possible
    to run controlled experiments, it is possible to extensively test on historical
    data.
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 通过大量的过去数据来研究市场行为，比如货币或股票价格的高频买卖报价。正是数据的丰富性使得市场的经验研究成为可能。虽然不可能进行控制实验，但可以在历史数据上进行广泛测试。
- en: ''
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Sergio Focardi (1997)
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Sergio Focardi（1997）
- en: Some models account better for some phenomena; certain approaches capture the
    characteristics of an event in a solid way. Time series modeling is a good example
    of this because the vast majority of financial data has a time dimension, which
    makes time series applications a necessary tool for finance. In simple terms,
    the ordering of the data and its correlation is important.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 一些模型更好地解释了某些现象；某些方法以稳固的方式捕捉了事件的特征。时间序列建模是一个很好的例子，因为绝大多数金融数据都有一个时间维度，这使得时间序列应用成为金融的必备工具。简单来说，数据的排序和其相关性很重要。
- en: This chapter of the book will discuss classical time series models and compare
    the performance of these models. Deep learning–based time series analysis will
    be introduced in [Chapter 3](ch03.html#chapter_3); this is an entirely different
    approach in terms of data preparation and model structure. The classical models
    include the moving average (MA), autoregressive (AR), and autoregressive integrated
    moving average (ARIMA) models. What is common across these models is the information
    carried by the historical observations. If these historical observations are obtained
    from error terms, we refer to this as a *moving average*; if these observations
    come out of time series itself, it is called *autoregressive*. The other model,
    ARIMA, is an extension of these models.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的这一章将讨论经典的时间序列模型，并比较这些模型的性能。深度学习的时间序列分析将在[第3章](ch03.html#chapter_3)中介绍；这是一种在数据准备和模型结构方面完全不同的方法。经典模型包括移动平均（MA）、自回归（AR）和自回归积分移动平均（ARIMA）模型。这些模型共同的特点是历史观测值所包含的信息。如果这些历史观测值是来自误差项，我们称之为*移动平均*；如果这些观测值来自时间序列本身，称为*自回归*。另一个模型ARIMA是这些模型的延伸。
- en: 'Here is a formal definition of *time series* from Brockwell and Davis (2016):'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 这是Brockwell和Davis（2016）对*时间序列*的正式定义：
- en: A time series is a set of observations <math alttext="upper X Subscript t"><msub><mi>X</mi>
    <mi>t</mi></msub></math> , each one being recorded at a specific time *t*. A discrete-time
    time series… is one in which the set <math alttext="upper T 0"><msub><mi>T</mi>
    <mn>0</mn></msub></math> of times at which observations are made is a discrete
    set, as is the case, for example, when observations are made at fixed time intervals.
    Continuous time series are obtained when observations are recorded continuously
    over some time interval.
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 时间序列是一组观测值 <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    ，每个观测值都记录在特定时间 *t* 。离散时间序列…是在观测值所记录的时间集合 <math alttext="upper T 0"><msub><mi>T</mi>
    <mn>0</mn></msub></math> 是一个离散集合时的时间序列，例如当观测是在固定时间间隔下进行时的情况。连续时间序列是当观测值在一段时间内连续记录时得到的。
- en: 'Let’s observe what data with time dimension looks like. [Figure 2-1](#raw_oil_price)
    exhibits the oil prices for the period of 1980–2020, and the following Python
    code shows us a way of producing this plot:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们观察具有时间维度的数据是什么样子。[图2-1](#raw_oil_price) 展示了1980年至2020年的油价，下面的Python代码向我们展示了绘制这个图的一种方法：
- en: '[PRE0]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO1-1)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO1-1)'
- en: Extracting data from Quandl database
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 从Quandl数据库中提取数据
- en: '![raw_oil](assets/mlfr_0201.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![raw_oil](assets/mlfr_0201.png)'
- en: Figure 2-1\. Oil prices between 1980 and 2020
  id: totrans-13
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-1。1980年至2020年的油价
- en: Note
  id: totrans-14
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注
- en: An API is a tool designed for retrieving data using code. We will make use of
    different APIs throughout the book. In the preceding practice, Quandl API is used.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: API（Application Programming Interface）是一种用于使用代码检索数据的工具。我们将在整本书中使用不同的API。在前面的练习中，我们使用了Quandl
    API。
- en: Quandl API allows us to access financial, economic, and alternative data from
    the Quandl website. To get your Quandl API, please visit the [Quandl website](https://oreil.ly/1IFDc)
    first and follow the necessary steps to get your own API key.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Quandl API允许我们从Quandl网站访问金融、经济和替代数据。要获取您的Quandl API，请先访问[Quandl网站](https://oreil.ly/1IFDc)，然后按照必要的步骤获取您自己的API密钥。
- en: 'As can be understood from the definition provided previously, time series models
    can be applicable to diverse areas such as:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面提供的定义可以理解，时间序列模型可以适用于多个领域，例如：
- en: Health care
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 医疗保健
- en: Finance
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 金融
- en: Economics
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 经济学
- en: Network analysis
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网络分析
- en: Astronomy
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 天文学
- en: Weather
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 天气
- en: The superiority of the time series approach comes from the idea that correlations
    of observations in time better explain the current value. Having data with a correlated
    structure in time implies a violation of the famous identically and independently
    distributed (IID) assumption, which is at the heart of many models.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列方法的优越性来自于这样一个观念：时间上的观察相关性更好地解释了当前值。拥有具有时间相关结构的数据意味着违反了著名的独立同分布（IID）假设，该假设是许多模型的核心。
- en: So, due to the correlation in time, the dynamics of a contemporaneous stock
    price can be better understood by its own historical values. How can we comprehend
    the dynamics of the data? This is a question that we can address by elaborating
    the components of time series.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，由于时间上的相关性，通过其自身的历史值可以更好地理解当期股票价格的动态。我们如何理解数据的动态？这是一个我们可以通过详细说明时间序列的组件来解决的问题。
- en: Time Series Components
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 时间序列成分
- en: 'Time series has four components: trend, seasonality, cyclicality, and residual.
    In Python, we can easily visualize the components of a time series with the `seasonal_decompose`
    function:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列有四个组成部分：趋势、季节性、周期性和残差。在Python中，我们可以使用`seasonal_decompose`函数轻松可视化时间序列的组件：
- en: '[PRE1]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO2-1)'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO2-1)'
- en: Denoting ticker of S&P 500
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 标示标准普尔500指数的股票代码
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO2-2)'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO2-2)'
- en: Identifying the start and end dates
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 确定开始和结束日期
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO2-4)'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO2-4)'
- en: Accessing the closing price of S&P 500
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 获取标准普尔500指数的收盘价
- en: In the top panel of [Figure 2-2](#time_series_decompose), we see the plot of
    raw data, and in the second panel, trend can be observed showing upward movement.
    In the third panel, seasonality is exhibited, and finally residual is presented
    showing erratic fluctuations. You might wonder where the cyclicality component
    is; noise and the cyclical component are put together under the residual component.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图 2-2](#time_series_decompose)的顶部面板中，我们可以看到原始数据的绘图，在第二个面板中，可以观察到显示上升趋势的趋势。在第三个面板中，展示了季节性，最后呈现了显示不规则波动的残差。您可能会想知道周期性组件在哪里；噪声和周期性组件被放在残差组件下面。
- en: Becoming familiar with time series components is important for further analysis
    so that we are able to understand characteristics of the data and propose a suitable
    model. Let’s start with the trend component.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 熟悉时间序列组件对进一步分析至关重要，这样我们就能够了解数据的特征并提出合适的模型。让我们从趋势组件开始。
- en: '![decomp](assets/mlfr_0202.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![decomp](assets/mlfr_0202.png)'
- en: Figure 2-2\. Time series decomposition of S&P 500
  id: totrans-38
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-2\. 标准普尔500时间序列分解
- en: Trend
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 趋势
- en: '*Trend* indicates a general tendency of an increase or decrease during a given
    time period. Generally speaking, trend is present when the starting and ending
    points are different or have upward/downward slope in a time series. The following
    code shows what a trend looks like:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '*趋势*表示在给定时间段内增长或减少的一般趋势。一般来说，当时间序列的起点和终点不同时，或者呈现上升/下降斜率时，就存在趋势。以下代码显示了趋势的样子：'
- en: '[PRE2]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Aside from the period in which the S&P 500 index price plunges, we see a clear
    upward trend in [Figure 2-3](#raw_sp_price) between 2010 and 2020.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 除了标准普尔500指数价格暴跌的时期之外，我们在[图 2-3](#raw_sp_price)中看到在2010年至2020年之间有明显的上升趋势。
- en: '![raw_sp](assets/mlfr_0203.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![raw_sp](assets/mlfr_0203.png)'
- en: Figure 2-3\. S&P 500 price
  id: totrans-44
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-3\. 标准普尔500价格
- en: 'A line plot is not the only option for understanding trend. Rather, we have
    some other strong tools for this task. So, at this point, it is worthwhile to
    talk about two important statistical concepts:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 线图并不是了解趋势的唯一选项。相反，我们还有一些其他强大的工具来完成这个任务。因此，在这一点上，谈论两个重要的统计概念是值得的：
- en: Autocorrelation function
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自相关函数
- en: Partial autocorrelation function
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部分自相关函数
- en: 'The autocorrelation function (ACF) is a statistical tool to analyze the relationship
    between the current value of a time series and its lagged values. Graphing ACF
    enables us to readily observe the serial dependence in a time series:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 自相关函数（ACF）是分析时间序列当前值与其滞后值之间关系的统计工具。绘制ACF使我们能够很容易地观察到时间序列中的序列依赖性：
- en: <math alttext="ModifyingAbove rho With caret left-parenthesis h right-parenthesis
    equals StartFraction Cov left-parenthesis upper X Subscript t Baseline comma upper
    X Subscript t minus h Baseline right-parenthesis Over Var left-parenthesis upper
    X Subscript t Baseline right-parenthesis EndFraction" display="block"><mrow><mover
    accent="true"><mi>ρ</mi> <mo>^</mo></mover> <mrow><mo>(</mo> <mi>h</mi> <mo>)</mo></mrow>
    <mo>=</mo> <mfrac><mrow><mtext>Cov</mtext><mo>(</mo><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub>
    <mo>)</mo></mrow> <mrow><mtext>Var</mtext><mo>(</mo><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>)</mo></mrow></mfrac></mrow></math>
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="ModifyingAbove rho With caret left-parenthesis h right-parenthesis
    equals StartFraction Cov left-parenthesis upper X Subscript t Baseline comma upper
    X Subscript t minus h Baseline right-parenthesis Over Var left-parenthesis upper
    X Subscript t Baseline right-parenthesis EndFraction" display="block"><mrow><mover
    accent="true"><mi>ρ</mi> <mo>^</mo></mover> <mrow><mo>(</mo> <mi>h</mi> <mo>)</mo></mrow>
    <mo>=</mo> <mfrac><mrow><mtext>Cov</mtext><mo>(</mo><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub>
    <mo>)</mo></mrow> <mrow><mtext>Var</mtext><mo>(</mo><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>)</mo></mrow></mfrac></mrow></math>
- en: '[Figure 2-4](#acf) denotes the ACF plot. The vertical lines represent the correlation
    coefficients; the first line denotes the correlation of the series with its 0
    lag—that is, it is the correlation with itself. The second line indicates the
    correlation between series value at time *t* - 1 and *t*. In light of these, we
    can conclude that the S&P 500 shows a serial dependence. There appears to be a
    strong dependence between the current value and lagged values of S&P 500 data
    because the correlation coefficients, represented by lines in the ACF plot, decay
    in a slow fashion.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-4](#acf) 表示了ACF图。垂直线表示相关系数；第一条线表示序列与其0滞后的相关性，即它是与自身的相关性。第二条线指示系列在时间 *t*
    - 1 和 *t* 处的相关性。基于这些，我们可以得出结论，S&P 500显示出连续依赖性。由于在ACF图中表示线的相关系数以缓慢的方式衰减，当前值与S&P
    500数据的滞后值之间存在强烈的依赖关系。'
- en: 'Here is how we can plot the ACF in Python:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是我们如何在Python中绘制ACF图：
- en: '[PRE3]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO3-1)'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO3-1)'
- en: Plotting ACF
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制ACF
- en: '![acf_sp](assets/mlfr_0204.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![acf_sp](assets/mlfr_0204.png)'
- en: Figure 2-4\. ACF plot of the S&P 500
  id: totrans-56
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-4\. S&P 500 的ACF图
- en: 'Now the question is, what are the likely sources of autocorrelations? Here
    are some causes:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 现在的问题是，自相关的可能来源是什么？以下是一些原因：
- en: The primary source of autocorrelation is “carryover,” meaning that the preceding
    observation has an impact on the current one.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自相关的主要来源是“延续”，意味着前一个观察对当前观察有影响。
- en: Model misspecification.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型误设。
- en: Measurement error, which is basically the difference between observed and actual
    values.
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测量误差，基本上是观察值与实际值之间的差异。
- en: Dropping a variable, which has an explanatory power.
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 放弃一个变量，这个变量有解释力。
- en: Partial autocorrelation function (PACF) is another method of examining the relationship
    between <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    and <math alttext="upper X Subscript t minus p Baseline comma p element-of double-struck
    upper Z"><mrow><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>p</mi></mrow></msub>
    <mo>,</mo> <mi>p</mi> <mo>∈</mo> <mi>ℤ</mi></mrow></math> . ACF is commonly considered
    as a useful tool in the MA(q) model simply because PACF does not decay fast but
    approaches toward 0\. However, the pattern of ACF is more applicable to MA. PACF,
    on the other hand, works well with the AR(p) process.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 偏自相关函数（PACF）是检验时间序列当前值 <math alttext="upper X Subscript t"><msub><mi>X</mi>
    <mi>t</mi></msub></math> 与 <math alttext="upper X Subscript t minus p Baseline
    comma p element-of double-struck upper Z"><mrow><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>p</mi></mrow></msub>
    <mo>,</mo> <mi>p</mi> <mo>∈</mo> <mi>ℤ</mi></mrow></math> 之间关系的另一种方法。ACF通常被认为是MA(q)模型中的有用工具，因为PACF的衰减速度不快，但接近于0。然而，ACF的模式更适用于MA。另一方面，PACF在AR(p)过程中表现良好。
- en: PACF provides information on the correlation between the current value of a
    time series and its lagged values, controlling for the other correlations.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: PACF 提供了关于时间序列当前值与滞后值之间相关性的信息，控制其他相关性。
- en: It is not easy to figure out what is going on at first glance. Let me give you
    an example. Suppose that we want to compute the partial correlation <math alttext="upper
    X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math> and <math alttext="upper
    X Subscript t minus h"><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub></math>
    .
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 一眼看不出正在发生什么是不容易的。让我给你一个例子。假设我们要计算偏相关系数 <math alttext="upper X Subscript t"><msub><mi>X</mi>
    <mi>t</mi></msub></math> 和 <math alttext="upper X Subscript t minus h"><msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub></math> 。
- en: 'Put mathematically:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 用数学方式表示：
- en: <math alttext="dollar-sign ModifyingAbove rho With caret left-parenthesis h
    right-parenthesis equals StartFraction Cov left-parenthesis upper X Subscript
    t Baseline comma upper X Subscript t minus h Baseline vertical-bar upper X Subscript
    t minus 1 Baseline comma upper X Subscript t minus 2 Baseline ellipsis upper X
    Subscript t minus h minus 1 Baseline right-parenthesis Over StartRoot Var left-parenthesis
    upper X Subscript t Baseline vertical-bar upper X Subscript t minus 1 Baseline
    comma upper X Subscript t minus 2 Baseline comma ellipsis comma upper X Subscript
    t minus h minus 1 Baseline right-parenthesis Var left-parenthesis upper X Subscript
    t minus h Baseline vertical-bar upper X Subscript t minus 1 Baseline comma upper
    X Subscript t minus 2 Baseline comma ellipsis comma upper X Subscript t minus
    h minus 1 Baseline right-parenthesis EndRoot EndFraction dollar-sign"><mrow><mover
    accent="true"><mi>ρ</mi> <mo>^</mo></mover> <mrow><mo>(</mo> <mi>h</mi> <mo>)</mo></mrow>
    <mo>=</mo> <mfrac><mrow><mtext>Cov</mtext><mo>(</mo><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub>
    <mo>|</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow> <msqrt><mrow><mtext>Var</mtext><mrow><mo>(</mo><msub><mi>X</mi>
    <mi>t</mi></msub> <mo>|</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>,</mo><mo>...</mo><mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow><mtext>Var</mtext><mrow><mo>(</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub>
    <mo>|</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>,</mo><mo>...</mo><mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow></mrow></msqrt></mfrac></mrow></math>
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign ModifyingAbove rho With caret left-parenthesis h
    right-parenthesis equals StartFraction Cov left-parenthesis upper X Subscript
    t Baseline comma upper X Subscript t minus h Baseline vertical-bar upper X Subscript
    t minus 1 Baseline comma upper X Subscript t minus 2 Baseline ellipsis upper X
    Subscript t minus h minus 1 Baseline right-parenthesis Over StartRoot Var left-parenthesis
    upper X Subscript t Baseline vertical-bar upper X Subscript t minus 1 Baseline
    comma upper X Subscript t minus 2 Baseline comma ellipsis comma upper X Subscript
    t minus h minus 1 Baseline right-parenthesis Var left-parenthesis upper X Subscript
    t minus h Baseline vertical-bar upper X Subscript t minus 1 Baseline comma upper
    X Subscript t minus 2 Baseline comma ellipsis comma upper X Subscript t minus
    h minus 1 Baseline right-parenthesis EndRoot EndFraction dollar-sign"><mrow><mover
    accent="true"><mi>ρ</mi> <mo>^</mo></mover> <mrow><mo>(</mo> <mi>h</mi> <mo>)</mo></mrow>
    <mo>=</mo> <mfrac><mrow><mtext>Cov</mtext><mo>(</mo><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub>
    <mo>|</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow> <msqrt><mrow><mtext>Var</mtext><mrow><mo>(</mo><msub><mi>X</mi>
    <mi>t</mi></msub> <mo>|</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>,</mo><mo>...</mo><mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow><mtext>Var</mtext><mrow><mo>(</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi></mrow></msub>
    <mo>|</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>,</mo><mo>...</mo><mo>,</mo><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>h</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow></mrow></msqrt></mfrac></mrow></math>
- en: 'where *h* is the lag. Take a look at the Python code for a PACF plot of the
    S&P 500 in the following snippet:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 *h* 是滞后。看看下面Python代码中S&P 500的PACF图的片段：
- en: '[PRE4]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO4-1)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO4-1)'
- en: Plotting PACF
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制PACF
- en: '[Figure 2-5](#pacf) exhibits the PACF of raw S&P 500 data. In interpreting
    the PACF, we focus on the spikes outside the dark region representing confidence
    interval. [Figure 2-5](#pacf) exhibits some spikes at different lags, but lag
    10 is outside the confidence interval. So it may be wise to select a model with
    10 lags to include all the lags up to lag 10.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-5](#pacf) 展示了原始S&P 500数据的PACF。在解释PACF时，我们关注超出表示置信区间的深色区域的尖峰。[图 2-5](#pacf)
    显示在不同滞后时存在一些尖峰，但滞后10超出了置信区间。因此，选择包含所有滞后值直到滞后10的模型可能是明智的选择。'
- en: As discussed, PACF measures the correlation between current values of series
    and lagged values in a way to isolate in-between effects.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前面讨论的，PACF度量了系列当前值与滞后值之间的相关性，以便孤立其中效应。
- en: '![partial autocorrelation SP](assets/mlfr_0205.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![偏自相关SP](assets/mlfr_0205.png)'
- en: Figure 2-5\. PACF plot of the S&P 500
  id: totrans-74
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-5\. 标准普尔500的偏自相关函数（PACF）图
- en: Seasonality
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 季节性
- en: Seasonality exists if there are regular fluctuations over a given period of
    time. For instance, energy usages can show a seasonality characteristic. To be
    more specific, energy usage goes up and down during certain periods over a year.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 季节性存在于如果一段时间内出现定期波动的情况下。例如，能源使用可以显示出季节性特征。更具体地说，能源使用在一年中的某些时段内会上下波动。
- en: 'To show how we can detect the seasonality component, let’s use the Federal
    Reserve Economic Database (FRED), which includes more than 500,000 economic data
    series from over 80 sources covering many areas, such as banking, employment,
    exchange rates, gross domestic product, interest rates, trade and international
    transactions, and so on:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 为了展示我们如何检测季节性成分，让我们使用联邦储备经济数据库（FRED），该数据库包括来自80多个来源的超过500,000个经济数据系列，涵盖银行业、就业、汇率、国内生产总值、利率、贸易和国际交易等多个领域：
- en: '[PRE5]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO5-1)'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO5-1)'
- en: Accessing the energy capacity utilization from the FRED for the period of 2010–2020
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 访问2010年至2020年期间的FRED能源利用率
- en: '[Figure 2-6](#energy_seasonality) indicates periodic ups and downs over a nearly
    10-year period with high-capacity utilization during the first months of every
    year and then going down toward the end of year, confirming that there is seasonality
    in energy-capacity utilization.'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-6](#energy_seasonality)显示在近10年的时间段内出现周期性的上升和下降，每年的前几个月利用率较高，然后在年底时下降，证实能源利用率存在季节性。'
- en: '![energy_seas](assets/mlfr_0206.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![能源_seas](assets/mlfr_0206.png)'
- en: Figure 2-6\. Seasonality in energy capacity utilization
  id: totrans-83
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-6\. 能源利用率的季节性
- en: An ACF plot can also provide information about the seasonality as the periodic
    ups and downs can be observable using ACF, too. [Figure 2-7](#energy_acf) shows
    the correlation structure in the presence of seasonality.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ACF图也可以提供关于季节性的信息，因为周期性的上升和下降可以在ACF中观察到。[图 2-7](#energy_acf)展示了在季节性存在的情况下的相关结构。
- en: '![energy_acf](assets/mlfr_0207.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![能源_acf](assets/mlfr_0207.png)'
- en: Figure 2-7\. ACF of energy capacity utilization
  id: totrans-86
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-7\. 能源利用率的自相关函数（ACF）
- en: Cyclicality
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 周期性
- en: What if data does not show fixed period movements? At this point, cyclicality
    comes into the picture. It exists when higher periodic variation than the trend
    emerges. Some confuse cyclicality and seasonality in a sense that they both exhibit
    expansion and contraction. We can, however, think of cyclicality as business cycles,
    which take a long time to complete their cycles and the ups and downs are over
    a long horizon. So cyclicality is different from seasonality in the sense that
    there is no fluctuation in a fixed period. An example of cyclicality may be house
    purchases (or sales) depending on mortgage rate. That is, when a mortgage rate
    is cut (or raised), it leads to a boost for house purchases (or sales).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 如果数据没有显示固定周期的运动会怎样？此时，周期性就进入了视野。当周期性变化高于趋势时，就存在周期性。有些人在某种意义上混淆了周期性和季节性，因为它们都表现出扩张和收缩。然而，我们可以将周期性看作是商业周期，它们需要很长时间来完成周期，而上升和下降则在很长的时间范围内发生。因此，周期性与季节性不同之处在于没有固定周期的波动。周期性的一个例子可能是房屋购买（或销售），这取决于抵押贷款利率。也就是说，当抵押贷款利率下降（或上升）时，会促使房屋购买（或销售）增加。
- en: Residual
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 残差
- en: Residual is known as an irregular component of time series. Technically speaking,
    residual is equal to the difference between observations and related fitted values.
    We can think of it as a leftover from the model.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 残差被称为时间序列的不规则成分。从技术角度讲，残差等于观测值与相关拟合值之间的差异。我们可以将其视为模型中的剩余部分。
- en: As we have discussed before, time series models lack some core assumptions,
    but this does not necessarily mean that time series models are free from assumptions.
    I would like to stress the most prominent one, which is called *stationarity*.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前讨论过的，时间序列模型缺乏一些核心假设，但这并不意味着时间序列模型没有假设。我想强调最突出的假设之一，即*稳定性*。
- en: Stationarity means that statistical properties such as mean, variance, and covariance
    of the time series do not change over time.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 稳定性意味着时间序列的统计特性，如均值、方差和协方差随时间不变。
- en: 'There are two forms of stationarity:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种形式的稳定性：
- en: Weak stationarity
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 弱平稳性
- en: 'Time series <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    is said to be stationarity if:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 如果<math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    的联合分布与时间索引的移位版本相同，则称时间序列<math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>为平稳的。
- en: <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    has finite variance, <math alttext="double-struck upper E left-parenthesis upper
    X Subscript t Superscript 2 Baseline right-parenthesis less-than normal infinity
    comma for-all t element-of double-struck upper Z"><mrow><mi>𝔼</mi> <mo>(</mo>
    <msubsup><mi>X</mi> <mi>t</mi> <mn>2</mn></msubsup> <mo>)</mo> <mo><</mo> <mi>∞</mi>
    <mo>,</mo> <mo>∀</mo> <mi>t</mi> <mo>∈</mo> <mi>ℤ</mi></mrow></math>
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    有有限方差，<math alttext="double-struck upper E left-parenthesis upper X Subscript
    t Superscript 2 Baseline right-parenthesis less-than normal infinity comma for-all
    t element-of double-struck upper Z"><mrow><mi>𝔼</mi> <mo>(</mo> <msubsup><mi>X</mi>
    <mi>t</mi> <mn>2</mn></msubsup> <mo>)</mo> <mo><</mo> <mi>∞</mi> <mo>,</mo> <mo>∀</mo>
    <mi>t</mi> <mo>∈</mo> <mi>ℤ</mi></mrow></math>
- en: The mean value of <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    is constant and does solely depend on time, <math alttext="double-struck upper
    E left-parenthesis upper X Subscript t Baseline right-parenthesis equals mu comma
    t for-all element-of double-struck upper Z"><mrow><mi>𝔼</mi> <mo>(</mo> <msub><mi>X</mi>
    <mi>t</mi></msub> <mo>)</mo> <mo>=</mo> <mi>μ</mi> <mo>,</mo> <mi>t</mi> <mo>∀</mo>
    <mo>∈</mo> <mi>ℤ</mi></mrow></math>
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    的均值是恒定的，仅取决于时间，<math alttext="double-struck upper E left-parenthesis upper X Subscript
    t Baseline right-parenthesis equals mu comma t for-all element-of double-struck
    upper Z"><mrow><mi>𝔼</mi> <mo>(</mo> <msub><mi>X</mi> <mi>t</mi></msub> <mo>)</mo>
    <mo>=</mo> <mi>μ</mi> <mo>,</mo> <mi>t</mi> <mo>∀</mo> <mo>∈</mo> <mi>ℤ</mi></mrow></math>
- en: 'Covariance structure, <math alttext="gamma left-parenthesis t comma t plus
    h right-parenthesis"><mrow><mi>γ</mi> <mo>(</mo> <mi>t</mi> <mo>,</mo> <mi>t</mi>
    <mo>+</mo> <mi>h</mi> <mo>)</mo></mrow></math> , depends on the time difference
    only:'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 协方差结构，<math alttext="gamma left-parenthesis t comma t plus h right-parenthesis"><mrow><mi>γ</mi>
    <mo>(</mo> <mi>t</mi> <mo>,</mo> <mi>t</mi> <mo>+</mo> <mi>h</mi> <mo>)</mo></mrow></math>，仅依赖于时间差：
- en: <math alttext="dollar-sign gamma left-parenthesis h right-parenthesis equals
    gamma Subscript h Baseline plus gamma left-parenthesis t plus h comma t right-parenthesis
    dollar-sign"><mrow><mi>γ</mi> <mrow><mo>(</mo> <mi>h</mi> <mo>)</mo></mrow> <mo>=</mo>
    <msub><mi>γ</mi> <mi>h</mi></msub> <mo>+</mo> <mi>γ</mi> <mrow><mo>(</mo> <mi>t</mi>
    <mo>+</mo> <mi>h</mi> <mo>,</mo> <mi>t</mi> <mo>)</mo></mrow></mrow></math>
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign gamma left-parenthesis h right-parenthesis equals
    gamma Subscript h Baseline plus gamma left-parenthesis t plus h comma t right-parenthesis
    dollar-sign"><mrow><mi>γ</mi> <mrow><mo>(</mo> <mi>h</mi> <mo>)</mo></mrow> <mo>=</mo>
    <msub><mi>γ</mi> <mi>h</mi></msub> <mo>+</mo> <mi>γ</mi> <mrow><mo>(</mo> <mi>t</mi>
    <mo>+</mo> <mi>h</mi> <mo>,</mo> <mi>t</mi> <mo>)</mo></mrow></mrow></math>
- en: In other words, time series should have finite variance with constant mean and
    a covariance structure that is a function of the time difference.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，时间序列应具有有限的方差，均值恒定且协方差结构是时间差的函数。
- en: Strong stationarity
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 强平稳性
- en: If the joint distribution of <math alttext="upper X Subscript t Baseline 1 Baseline
    comma upper X Subscript t Baseline 2 Baseline comma period period period upper
    X Subscript t k Baseline"><mrow><msub><mi>X</mi> <mrow><mi>t</mi><mn>1</mn></mrow></msub>
    <mo>,</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mn>2</mn></mrow></msub> <mo>,</mo>
    <mo>.</mo> <mo>.</mo> <mo>.</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mi>k</mi></mrow></msub></mrow></math>
    is the same with the shifted version of set <math alttext="upper X Subscript t
    Baseline 1 plus h Baseline comma upper X Subscript t Baseline 2 plus h Baseline
    comma period period period upper X Subscript t k plus h Baseline"><mrow><msub><mi>X</mi>
    <mrow><mi>t</mi><mn>1</mn><mo>+</mo><mi>h</mi></mrow></msub> <mo>,</mo> <msub><mi>X</mi>
    <mrow><mi>t</mi><mn>2</mn><mo>+</mo><mi>h</mi></mrow></msub> <mo>,</mo> <mo>.</mo>
    <mo>.</mo> <mo>.</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mi>k</mi><mo>+</mo><mi>h</mi></mrow></msub></mrow></math>
    , it is referred to as strong stationarity. Thus, strong stationarity implies
    that distribution of random variables of a random process is the same with a shifting
    time index.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如果<math alttext="upper X Subscript t Baseline 1 Baseline comma upper X Subscript
    t Baseline 2 Baseline comma period period period upper X Subscript t k Baseline"><mrow><msub><mi>X</mi>
    <mrow><mi>t</mi><mn>1</mn></mrow></msub> <mo>,</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mn>2</mn></mrow></msub>
    <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mi>k</mi></mrow></msub></mrow></math>
    的联合分布与集合<math alttext="upper X Subscript t Baseline 1 plus h Baseline comma upper
    X Subscript t Baseline 2 plus h Baseline comma period period period upper X Subscript
    t k plus h Baseline"><mrow><msub><mi>X</mi> <mrow><mi>t</mi><mn>1</mn><mo>+</mo><mi>h</mi></mrow></msub>
    <mo>,</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mn>2</mn><mo>+</mo><mi>h</mi></mrow></msub>
    <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mi>k</mi><mo>+</mo><mi>h</mi></mrow></msub></mrow></math>
    的平移版本相同，则称为强平稳性。因此，强平稳性意味着随机过程的随机变量的分布与时间索引的移位相同。
- en: The question is now why do we need stationarity? The reason is twofold.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 现在的问题是为什么我们需要平稳性？原因有两个。
- en: First, in the estimation process, it is essential to have some distribution
    as time goes on. In other words, if distribution of a time series changes over
    time, it becomes unpredictable and cannot be modeled.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在估计过程中，随着时间的推移，具有某种分布是至关重要的。换句话说，如果时间序列的分布随时间变化，它就变得不可预测，无法建模。
- en: The ultimate aim of time series models is forecasting. To do that, we should
    estimate the coefficients first, which corresponds to learning in ML. Once we
    learn and conduct forecasting analysis, we assume that the distribution of the
    data in the estimation stays the same in a way that we have the same estimated
    coefficients. If this is not the case, we should reestimate the coefficients because
    we are unable to forecast with the previous estimated coefficients.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列模型的最终目标是预测。为了做到这一点，我们首先应该估计系数，这对应于机器学习中的学习。一旦我们学习并进行预测分析，我们假设在估计中数据的分布保持不变，即我们有相同的估计系数。如果情况不是这样，我们应该重新估计系数，因为我们无法用先前的估计系数进行预测。
- en: Having structural breaks, such as a financial crisis, generates a shift in distribution.
    We need to take care of this period cautiously and separately.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 存在结构性突变，比如金融危机，会导致分布的转变。我们需要谨慎和分开地处理这个时期。
- en: The other reason for having stationarity is, by assumption, some statistical
    models require stationary data, but that does not mean that some models requires
    stationary only. Instead, all models require stationarity but even if you feed
    the model with nonstationary data, some models, by design, turn it into stationary
    data and process it.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 具有平稳性的另一个原因是，根据假设，一些统计模型要求数据平稳，但这并不意味着一些模型仅仅需要平稳。相反，所有模型都要求数据平稳，但即使你输入非平稳数据，某些模型会通过设计将其转换为平稳数据并处理它。
- en: '[Figure 2-4](#acf) showed the slow-decaying lags amounting to nonstationary
    because persistence of the high correlation between lags of the time series continues.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图2-4显示了由于时间序列滞后之间高相关性的持续性，导致了缓慢衰减的滞后，从而非平稳。
- en: 'There are, by and large, two ways to detect nonstationarity: visualization
    and statistical methods. The latter, of course, is a better and more robust way
    of detecting the nonstationarity. However, to improve our understanding, let’s
    start with the ACF. Slow-decaying ACF implies that the data is nonstationary because
    it presents a strong correlation in time. That is what I observe in S&P 500 data.'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 通常情况下，检测非平稳性有两种方法：可视化和统计方法。后者显然是检测非平稳性的更好、更稳健的方法。然而，为了提高我们的理解，让我们从ACF开始。ACF衰减缓慢意味着数据是非平稳的，因为它在时间上呈现出强烈的相关性。这正是我在S&P
    500数据中观察到的。
- en: 'We first need to check and see if the data is stationary or not. Visualization
    is a good but ultimately inadequate tool for this task. Instead, a more powerful
    statistical method is needed, and the augmented Dickey-Fuller (ADF) test provides
    this. Assuming that the confidence interval is set to 95%, the following result
    indicates that the data is not stationary:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先需要检查并确定数据是否平稳。可视化是一个好的但最终是不够的工具。相反，需要更强大的统计方法，增广迪基-富勒（ADF）检验提供了这种方法。假设置信区间设置为95%，以下结果表明数据不是平稳的：
- en: '[PRE6]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO6-1)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO6-1)'
- en: ADF test for stationarity
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 检验平稳性的ADF检验
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO6-2)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO6-2)'
- en: Test statistic and p-value of ADF test
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: ADF检验的检验统计量和p值
- en: 'Taking the difference is an efficient technique for removing the stationarity.
    This just means subtracting the current value of the series from its first lagged
    value, i.e., <math alttext="x Subscript t Baseline minus x Subscript t minus 1"><mrow><msub><mi>x</mi>
    <mi>t</mi></msub> <mo>-</mo> <msub><mi>x</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math>
    , and the following Python code presents how to apply this technique (and creates
    Figures [2-8](#detrendedSP500) and [2-9](#diff_acfSP500)):'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 进行差分是一种有效的去除平稳性的技术。这意味着仅仅是将序列的当前值减去其第一个滞后值，即 <math alttext="x Subscript t Baseline
    minus x Subscript t minus 1"><mrow><msub><mi>x</mi> <mi>t</mi></msub> <mo>-</mo>
    <msub><mi>x</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math>
    ，下面的Python代码展示了如何应用这一技术（并创建了图[2-8](#detrendedSP500)和[2-9](#diff_acfSP500)）：
- en: '[PRE7]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO7-1)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO7-1)'
- en: Taking the difference of S&P 500 prices
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 对S&P 500价格进行差分
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO7-2)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO7-2)'
- en: ADF test result based on differenced S&P 500 data
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 基于差分后的S&P 500数据的ADF检验结果
- en: '![differenced SP](assets/mlfr_0208.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![差分后的SP](assets/mlfr_0208.png)'
- en: Figure 2-8\. Detrended S&P 500 price
  id: totrans-123
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-8\. 去趋势后的S&P 500价格
- en: After taking the first difference, we rerun the ADF test to see if it worked,
    and yes, it does. The very low p-value of ADF tells me that S&P 500 data is stationary
    now.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 经过第一次差分后，我们重新运行 ADF 测试来查看是否奏效，结果是肯定的。ADF 的极低 p 值告诉我，标准普尔 500 数据现在是平稳的。
- en: This can be observed from the line plot provided in [Figure 2-8](#detrendedSP500).
    Unlike the raw S&P 500 plot, this plot exhibits fluctuations around the mean with
    similar volatility, meaning that we have a stationary series.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以从提供的线图中观察到 [Figure 2-8](#detrendedSP500)。与原始标准普尔 500 图不同，此图表现出围绕均值的波动，具有类似的波动性，意味着我们有了一个稳定的序列。
- en: '[Figure 2-9](#diff_acfSP500) shows that there is only one statistical significant
    correlation structure at lag 7.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '[Figure 2-9](#diff_acfSP500) 显示在滞后 7 处只有一个统计上显著的相关结构。'
- en: Needless to say, trend is not the only indicator of nonstationarity. Seasonality
    is another source of it, and now we are about to learn a method to deal with it.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 不用说，趋势并非非平稳的唯一指标。季节性也是其另一个来源，现在我们将学习一种处理方法。
- en: '![differenced_acf](assets/mlfr_0209.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![差分 ACF](assets/mlfr_0209.png)'
- en: Figure 2-9\. Detrended S&P 500 price
  id: totrans-129
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-9\. 去趋势的标准普尔 500 价格
- en: First, take a look at the ACF of energy capacity utilization in [Figure 2-7](#energy_acf),
    which shows periodic ups and downs, a sign of nonstationarity.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，看一看能量容量利用率的 ACF 在 [Figure 2-7](#energy_acf) 中，显示出周期性的起伏，这是非平稳的迹象。
- en: 'To get rid of seasonality, we first apply the *resample* method to calculate
    annual mean, which is used as the denominator in the following formula:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 为了消除季节性，我们首先应用*resample*方法来计算年均值，这个值将作为下面公式中的分母：
- en: <math alttext="Seasonal Index equals StartFraction Value of a Seasonal Time
    Series Over Seasonal Average EndFraction" display="block"><mrow><mtext>Seasonal</mtext>
    <mtext>Index</mtext> <mo>=</mo> <mfrac><mrow><mtext>Value</mtext><mtext>of</mtext><mtext>a</mtext><mtext>Seasonal</mtext><mtext>Time</mtext><mtext>Series</mtext></mrow>
    <mrow><mtext>Seasonal</mtext><mtext>Average</mtext></mrow></mfrac></mrow></math>
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="Seasonal Index equals StartFraction Value of a Seasonal Time
    Series Over Seasonal Average EndFraction" display="block"><mrow><mtext>Seasonal</mtext>
    <mtext>Index</mtext> <mo>=</mo> <mfrac><mrow><mtext>Value</mtext><mtext>of</mtext><mtext>a</mtext><mtext>Seasonal</mtext><mtext>Time</mtext><mtext>Series</mtext></mrow>
    <mrow><mtext>Seasonal</mtext><mtext>Average</mtext></mrow></mfrac></mrow></math>
- en: 'Thus, the result of the application, *seasonal index*, gives us the deseasonalized
    time series. The following code shows us how we code this formula in Python:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，应用的结果，*季节性指数*，为我们提供了去季节化的时间序列。下面的代码展示了我们如何在 Python 中编写这个公式：
- en: '[PRE8]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO8-1)'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO8-1)'
- en: Calculating quarterly mean of energy utilization
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 计算能量利用率季度均值
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO8-2)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO8-2)'
- en: Defining the years in which seasonality analysis is run
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 定义进行季节性分析的年份
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO8-3)'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO8-3)'
- en: Computing the numerator of *Seasonal Index* formula
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 计算*季节性指数*公式的分子
- en: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO8-4)'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO8-4)'
- en: Concatenating the deseasonalized energy utilization
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 拼接去季节化能量利用率
- en: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO8-5)'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO8-5)'
- en: Computing *Seasonal Index* using the predefined formula
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 使用预定义公式计算*季节性指数*
- en: '[Figure 2-10](#deseasonalized_acf_energy) suggests that there is a statistically
    significant correlation at lag 1 and 2, but ACF does not show any periodic characteristics,
    which is another way of saying deseasonalization.'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '[Figure 2-10](#deseasonalized_acf_energy) 表明在滞后 1 和 2 处存在统计上显著的相关性，但 ACF 不显示任何周期特征，这是另一种说法是去季节化。'
- en: Similarly, in [Figure 2-11](#deseasonalized_pacf_energy), although there is
    a spike at some lags, PACF does not show any periodic ups and downs. So we can
    say that the data is deseasonalized using the Seasonal Index Formula.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，在 [Figure 2-11](#deseasonalized_pacf_energy) 中，尽管在某些滞后处有峰值，但 PACF 不显示任何周期性的起伏。因此，我们可以说使用季节性指数公式去季节化了数据。
- en: What we have now are the less periodic ups and down in energy-capacity utilization,
    meaning that the data turns out to be deseasonalized.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们得到的是能量容量利用率中较少的周期性起伏，这意味着数据被去季节化了。
- en: Finally, we are ready to move forward and discuss the time series models.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们准备继续讨论时间序列模型。
- en: '![deseasonalized energy acf](assets/mlfr_0210.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![去季节化能量 ACF](assets/mlfr_0210.png)'
- en: Figure 2-10\. Deseasonalized ACF of energy utilization
  id: totrans-150
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-10\. 去季节化能量利用率的 ACF
- en: '![deseasonalized energy pacf](assets/mlfr_0211.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![去季节化能量 PACF](assets/mlfr_0211.png)'
- en: Figure 2-11\. Deseasonalized PACF of energy utilization
  id: totrans-152
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-11\. 能量利用率的去季节化 PACF
- en: Time Series Models
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 时间序列模型
- en: 'Traditional time series models are univariate models, and they follow these
    phases:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 传统时间序列模型是单变量模型，它们遵循以下阶段：
- en: Identification
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 识别
- en: In this process, we explore the data using ACF and PACF, identifying patterns
    and conducting statistical tests.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个过程中，我们使用 ACF 和 PACF 探索数据，识别模式并进行统计测试。
- en: Estimation
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 估计
- en: We estimate coefficients via the proper optimization technique.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 我们通过适当的优化技术来估计系数。
- en: Diagnostics
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 诊断
- en: After estimation, we need to check if information criteria or ACF/PACF suggest
    that the model is valid. If so, we move on to the forecasting stage.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在估计之后，我们需要检查信息准则或者 ACF/PACF 是否表明模型是有效的。如果是这样，我们将继续进入预测阶段。
- en: Forecast
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 预测
- en: This part is more about the performance of the model. In forecasting, we predict
    future values based on our estimation.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 这部分更多关于模型的性能。在预测中，我们根据我们的估计预测未来值。
- en: '[Figure 2-12](#modeling1) shows the modeling process. Accordingly, subsequent
    to identifying the variables and the estimation process, the model is run. Only
    after running proper diagnostics are we able to perform the forecast analysis.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-12](#modeling1) 展示了建模过程。因此，在识别变量和估计过程之后，执行模型。只有在运行适当的诊断之后，我们才能进行预测分析。'
- en: '![modeling1](assets/mlfr_0212.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![模型1](assets/mlfr_0212.png)'
- en: Figure 2-12\. Modeling process
  id: totrans-165
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-12\. 建模过程
- en: In modeling data with a time dimension, we should consider correlation in adjacent
    points in time. This consideration takes us to time series modeling. My aim in
    modeling time series is to fit a model and comprehend statistical character of
    a time series, which fluctuates randomly in time.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 在建模具有时间维度的数据时，我们应考虑时间上相邻点的相关性。这种考虑将我们引向时间序列建模。我在建模时间序列时的目标是拟合模型并理解时间上随机波动的统计特性。
- en: Recall the discussion about the IID process, which is the most basic time series
    model and is sometimes referred to as *white noise*. Let’s touch on the concept
    of white noise.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾关于 IID 过程的讨论，它是最基本的时间序列模型，有时被称为 *白噪声*。让我们谈谈白噪声的概念。
- en: White Noise
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 白噪声
- en: 'The time series <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    is said to be white noise if it satisfies the following:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 如果时间序列 <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    满足以下条件，则称其为白噪声：
- en: <math alttext="epsilon Subscript t Baseline tilde upper W upper N left-parenthesis
    0 comma sigma Subscript epsilon Superscript 2 Baseline right-parenthesis" display="block"><mrow><msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>∼</mo> <mi>W</mi> <mi>N</mi> <mrow><mo>(</mo> <mn>0</mn>
    <mo>,</mo> <msubsup><mi>σ</mi> <mrow><mi>ϵ</mi></mrow> <mn>2</mn></msubsup> <mo>)</mo></mrow></mrow></math><math
    alttext="Corr left-parenthesis epsilon Subscript t Baseline comma epsilon Subscript
    s Baseline right-parenthesis equals 0 comma for-all t not-equals s" display="block"><mrow><mtext>Corr</mtext>
    <mo>(</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>,</mo> <msub><mi>ϵ</mi> <mi>s</mi></msub>
    <mo>)</mo> <mo>=</mo> <mn>0</mn> <mo>,</mo> <mo>∀</mo> <mi>t</mi> <mo>≠</mo> <mi>s</mi></mrow></math>
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="epsilon Subscript t Baseline tilde upper W upper N left-parenthesis
    0 comma sigma Subscript epsilon Superscript 2 Baseline right-parenthesis" display="block"><mrow><msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>∼</mo> <mi>W</mi> <mi>N</mi> <mrow><mo>(</mo> <mn>0</mn>
    <mo>,</mo> <msubsup><mi>σ</mi> <mrow><mi>ϵ</mi></mrow> <mn>2</mn></msubsup> <mo>)</mo></mrow></mrow></math><math
    alttext="Corr left-parenthesis epsilon Subscript t Baseline comma epsilon Subscript
    s Baseline right-parenthesis equals 0 comma for-all t not-equals s" display="block"><mrow><mtext>Corr</mtext>
    <mo>(</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>,</mo> <msub><mi>ϵ</mi> <mi>s</mi></msub>
    <mo>)</mo> <mo>=</mo> <mn>0</mn> <mo>,</mo> <mo>∀</mo> <mi>t</mi> <mo>≠</mo> <mi>s</mi></mrow></math>
- en: In other words, <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    has mean of 0 and a constant variance. Moreover, there is no correlation between
    successive terms of <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    . Well, it is easy to say that the white noise process is stationary and that
    the plot of white noise exhibits fluctuations around mean in a random fashion
    in time. However, as the white noise is formed by an uncorrelated sequence, it
    is not an appealing model from a forecasting standpoint. Uncorrelated sequences
    prevent us from forecasting future values.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，<math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    的均值为 0，方差是恒定的。此外，<math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    的连续项之间没有相关性。可以说白噪声过程是平稳的，并且白噪声的图表在时间上表现为围绕均值以随机方式波动。然而，由于白噪声由不相关序列组成，从预测的角度来看并不是一个吸引人的模型。不相关序列阻碍我们预测未来值。
- en: 'As we can observe from the following code snippet and [Figure 2-13](#WN), white
    noise oscillates around mean and is completely erratic:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们从以下代码片段和 [图 2-13](#WN) 可以观察到的那样，白噪声围绕均值振荡，并且完全是随机的：
- en: '[PRE9]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![WN process](assets/mlfr_0213.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![白噪声过程](assets/mlfr_0213.png)'
- en: Figure 2-13\. White noise process
  id: totrans-175
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-13\. 白噪声过程
- en: From this point on, we need to identify the optimum number of lags before running
    the time series model. As you can imagine, deciding the optimal number of lags
    is a challenging task. The most widely used methods are ACF, PACF, and *information
    criteria*. ACF and PACF have already been discussed; see the following sidebar
    for more about information criteria, and specifically the Aikake information criterion
    (AIC).
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 从这一点开始，我们需要在运行时间序列模型之前确定最佳滞后数。正如您可以想象的那样，决定最佳滞后数是一项具有挑战性的任务。最常用的方法是ACF、PACF和*信息准则*。ACF和PACF已经讨论过；有关信息准则以及具体的阿卡伊凯信息准则（AIC）的更多信息，请参阅以下侧边栏。
- en: 'Please note that you need to treat the AIC with caution if the proposed model
    is finite dimensional. This fact is well put by Hurvich and Tsai (1989):'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，如果所提议的模型是有限维的，则需要谨慎对待AIC。这一事实由Hurvich和Tsai（1989）很好地阐述：
- en: If the true model is infinite dimensional, a case which seems most realistic
    in practice, AIC provides an asymptotically efficient selection of a finite dimensional
    approximating model. If the true model is finite dimensional, however, the asymptotically
    efficient methods, e.g., Akaike’s FPE (Akaike 1970), AIC, and Parzen’s CAT (Parzen
    1977), do not provide consistent model order selections.
  id: totrans-178
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果真实模型是无限维的，这在实践中似乎是最现实的情况，AIC提供了一个渐近有效的选择有限维逼近模型。然而，如果真实模型是有限维的，那么渐近有效的方法，例如，Akaike的FPE（Akaike
    1970）、AIC和Parzen的CAT（Parzen 1977），不提供一致的模型顺序选择。
- en: Let’s get started visiting classical time series models with the moving average
    model.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始学习经典的时间序列模型之一，移动平均模型。
- en: Moving Average Model
  id: totrans-180
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移动平均模型
- en: 'MA and residuals are closely related models. MA can be considered a smoothing
    model, as it tends to take into account the lag values of residual. For the sake
    of simplicity, let us start with MA(1):'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: MA和残差是密切相关的模型。MA可以被视为一个平滑模型，因为它倾向于考虑残差的滞后值。为了简单起见，让我们从MA(1)开始：
- en: <math alttext="upper X Subscript t Baseline equals epsilon Subscript t Baseline
    plus alpha epsilon Subscript t minus 1" display="block"><mrow><msub><mi>X</mi>
    <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo> <mi>α</mi>
    <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math>
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper X Subscript t Baseline equals epsilon Subscript t Baseline
    plus alpha epsilon Subscript t minus 1" display="block"><mrow><msub><mi>X</mi>
    <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo> <mi>α</mi>
    <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math>
- en: As long as <math alttext="alpha not-equals 0"><mrow><mi>α</mi> <mo>≠</mo> <mn>0</mn></mrow></math>
    , it has nontrivial correlation structure. Intuitively, MA(1) tells us that the
    time series has been affected by <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi>
    <mi>t</mi></msub></math> and <math alttext="epsilon Subscript t minus 1"><msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></math> only.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 只要<math alttext="alpha not-equals 0"><mrow><mi>α</mi> <mo>≠</mo> <mn>0</mn></mrow></math>，它就具有非平凡的相关结构。直观地说，MA(1)告诉我们时间序列仅受到<math
    alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>和<math
    alttext="epsilon Subscript t minus 1"><msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></math>的影响。
- en: 'In general form, MA(q) becomes:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 一般形式上，MA(q)变为：
- en: <math alttext="upper X Subscript t Baseline equals epsilon Subscript t Baseline
    plus alpha 1 epsilon Subscript t minus 1 Baseline plus alpha 2 epsilon Subscript
    t minus 2 Baseline ellipsis plus alpha Subscript q Baseline epsilon Subscript
    t minus q" display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo>
    <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub>
    <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>α</mi> <mn>2</mn></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>α</mi> <mi>q</mi></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>q</mi></mrow></msub></mrow></math>
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper X Subscript t Baseline equals epsilon Subscript t Baseline
    plus alpha 1 epsilon Subscript t minus 1 Baseline plus alpha 2 epsilon Subscript
    t minus 2 Baseline ellipsis plus alpha Subscript q Baseline epsilon Subscript
    t minus q" display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo>
    <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub>
    <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>α</mi> <mn>2</mn></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>α</mi> <mi>q</mi></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>q</mi></mrow></msub></mrow></math>
- en: From this point on, to be consistent, we will model the data of two major tech
    companies, namely Apple and Microsoft. Yahoo Finance provides a convenient tool
    to access closing prices of the related stocks for the period between 01-01-2019
    and 01-01-2021.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 从这一点开始，为了保持一致，我们将对两家主要科技公司，即苹果和微软的数据进行建模。雅虎财经提供了一个方便的工具，可访问相关股票在2019年1月1日至2021年1月1日期间的收盘价。
- en: 'As a first step, we dropped the missing values and checked if the data is stationary,
    and it turns out neither Apple’s nor Microsoft’s stock prices have a stationary
    structure as expected. Thus, taking the first difference to make these data stationary
    and splitting the data as *train* and *test* are the steps to take at this point.
    The following code (which produces [Figure 2-14](#acf_ma)) shows how we can do
    this in Python:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 作为第一步，我们删除了缺失值，并检查数据是否平稳，结果显示苹果和微软的股票价格都没有预期的平稳结构。因此，接下来的步骤是对这些数据进行一阶差分以使其平稳，并将数据分割为*训练集*和*测试集*。下面的代码（生成[图 2-14](#acf_ma)）展示了我们如何在Python中实现这一点：
- en: '[PRE10]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO9-1)'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO9-1)'
- en: Retrieving monthly closing stock prices
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 检索月度收盘股价
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO9-2)'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO9-2)'
- en: Splitting data as 95% and 5%
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 将数据分割为95%和5%
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO9-3)'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO9-3)'
- en: Assigning 95% of the Apple stock price data to the train set
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 将苹果股价数据的95%分配给训练集
- en: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO9-4)'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO9-4)'
- en: Assigning 5% of the Apple stock price data to the test set
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 将苹果股票价格数据的5%分配给测试集
- en: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO9-5)'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO9-5)'
- en: Assigning 95% of the Microsoft stock price data to the train set
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 将微软股票价格数据的95%分配给训练集
- en: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO9-6)'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO9-6)'
- en: Assigning 5% of the Microsoft stock price data to the test set
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 将微软股票价格数据的5%分配给测试集
- en: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO9-7)'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO9-7)'
- en: Saving the data for future use
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 保存数据以备将来使用
- en: '![acf all](assets/mlfr_0214.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![acf all](assets/mlfr_0214.png)'
- en: Figure 2-14\. ACF after first difference
  id: totrans-204
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-14\. 差分后的ACF
- en: 'Looking at the top panel of [Figure 2-14](#acf_ma), we can see that there are
    significant spikes at some lags and, therefore, we’ll choose lag 9 for the short
    MA model and 22 for the long MA for Apple. These imply that an order of 9 will
    be our short-term order and 22 will be our long-term order in modeling MA:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 观察[图 2-14](#acf_ma) 的顶部面板，我们可以看到在某些滞后期存在显著的峰值，因此我们将选择短MA模型的滞后期为9，长MA模型的滞后期为22。这意味着我们在MA建模中将使用9作为短期顺序，22作为长期顺序：
- en: '[PRE11]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO10-1)'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO10-1)'
- en: Moving average with short window for Apple stock
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果股票的短窗口移动平均
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO10-2)'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO10-2)'
- en: Moving average with long window for Apple stock
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果股票的长窗口移动平均
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO10-3)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO10-3)'
- en: Line plot of first differenced Apple stock prices
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果股票第一阶差分的折线图
- en: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO10-4)'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO10-4)'
- en: Visualization of short-window MA result for Apple
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化苹果公司短窗口MA结果
- en: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO10-5)'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO10-5)'
- en: Visualization of long-window MA result for Apple
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 可视化苹果公司长窗口MA结果
- en: '[Figure 2-15](#ma_apple) exhibits the short-term MA model result with a solid
    line and the long-term MA model result with a dash-dot marker. As expected, it
    turns out that the short-term MA tends to be more responsive to daily changes
    in Apple’s stock price compared to the long-term MA. This makes sense because
    taking into account a long MA generates smoother predictions.'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-15](#ma_apple) 展示了短期MA模型结果（实线）和长期MA模型结果（虚线点划线）。正如预期的那样，短期MA相对于苹果股票价格的日常变动更为敏感，而长期MA生成的预测更为平滑，这是合理的。'
- en: '![ma apple](assets/mlfr_0215.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![ma apple](assets/mlfr_0215.png)'
- en: Figure 2-15\. MA model prediction result for Apple
  id: totrans-219
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-15\. 苹果MA模型预测结果
- en: 'In the next step, we try to predict Microsoft’s stock price using an MA model
    with different window. But before proceeding, let me say that choosing the proper
    window for short and long MA analysis is key to good modeling. In the bottom panel
    of [Figure 2-14](#acf_ma), there seem to be significant spikes at 2 and 22, so
    we’ll use these lags in our short and long MA analysis, respectively. After identifying
    the window length, we’ll fit data to the MA model with the following application:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一步中，我们尝试使用不同窗口的MA模型来预测微软的股票价格。但在继续之前，让我说一下，选择适当的短期和长期MA分析窗口对于良好的建模至关重要。在[图 2-14](#acf_ma)
    的底部面板中，似乎存在2和22的显著峰值，因此我们将在短期和长期MA分析中使用这些滞后期。确定窗口长度后，我们将数据拟合到以下应用的MA模型中：
- en: '[PRE12]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Similarly, predictions based on short MA analysis tend to be more responsive
    than those of the long MA model, as shown in [Figure 2-16](#ma_msft). But in Microsoft’s
    case, the short-term MA prediction appears to be very close to the real data.
    This is something we expect in time series models in that a window with a short-term
    horizon is able to better capture the dynamics of the data, and this, in turn,
    helps us obtain better predictive performance.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 类似地，基于短期MA分析的预测通常比长期MA模型更为敏感，如[图 2-16](#ma_msft) 所示。但在微软的情况下，短期MA预测似乎非常接近实际数据。这是我们在时间序列模型中所期望的，即具有短期视角的窗口能够更好地捕捉数据的动态变化，从而帮助我们获得更好的预测性能。
- en: '![ma msft](assets/mlfr_0216.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![ma msft](assets/mlfr_0216.png)'
- en: Figure 2-16\. MA model prediction result for Microsoft
  id: totrans-224
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-16\. 微软MA模型预测结果
- en: Autoregressive Model
  id: totrans-225
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自回归模型
- en: 'The dependence structure of successive terms is the most distinctive feature
    of the AR model, in the sense that current value is regressed over its own lag
    values in this model. So we basically forecast the current value of the time series
    <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    by using a linear combination of its past values. Mathematically, the general
    form of AR(p) can be written as:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 连续项的依赖结构是 AR 模型最显著的特征，因为在这个模型中，当前值被回归到它自己的滞后值上。因此，我们基本上通过其过去的值的线性组合来预测时间序列 <math
    alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math> 的当前值。从数学上讲，AR(p)的一般形式可以写为：
- en: <math alttext="upper X Subscript t Baseline equals c plus alpha 1 upper X Subscript
    t minus 1 Baseline plus alpha 2 upper X Subscript t minus 2 Baseline ellipsis
    plus alpha Subscript p Baseline upper X Subscript t minus p Baseline plus epsilon
    Subscript t" display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo>
    <mi>c</mi> <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>+</mo> <msub><mi>α</mi> <mn>2</mn></msub> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>α</mi> <mi>p</mi></msub> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>p</mi></mrow></msub>
    <mo>+</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math>
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper X Subscript t Baseline equals c plus alpha 1 upper X Subscript
    t minus 1 Baseline plus alpha 2 upper X Subscript t minus 2 Baseline ellipsis
    plus alpha Subscript p Baseline upper X Subscript t minus p Baseline plus epsilon
    Subscript t" display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo>
    <mi>c</mi> <mo>+</mo> <msub><mi>α</mi> <mn>1</mn></msub> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>+</mo> <msub><mi>α</mi> <mn>2</mn></msub> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>α</mi> <mi>p</mi></msub> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>p</mi></mrow></msub>
    <mo>+</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math>
- en: where <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    denotes the residuals and *c* is the intercept term. The AR(p) model implies that
    past values up to order *p* have somewhat explanatory power on <math alttext="upper
    X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math> . If the relationship
    has shorter memory, then it is likely to model <math alttext="upper X Subscript
    t"><msub><mi>X</mi> <mi>t</mi></msub></math> with a fewer number of lags.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="epsilon Subscript t"><msub><mi>ϵ</mi> <mi>t</mi></msub></math>
    表示残差，*c* 是截距项。AR(p)模型意味着过去到第*p*阶的值在一定程度上对 <math alttext="upper X Subscript t"><msub><mi>X</mi>
    <mi>t</mi></msub></math> 有解释力。如果关系记忆较短，则可能用较少的滞后数来建模 <math alttext="upper X Subscript
    t"><msub><mi>X</mi> <mi>t</mi></msub></math>。
- en: We have discussed one of the main properties of time series, stationarity; the
    other important property is *invertibility*. After introducing the AR model, it
    is time to show the invertibility of the MA process. It is said to be invertible
    if it can be converted to an infinite AR model.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了时间序列的一个主要性质，即平稳性；另一个重要性质是*可逆性*。在介绍了 AR 模型之后，现在是展示 MA 过程的可逆性的时候了。如果它可以转化为一个无限的
    AR 模型，则称为可逆。
- en: Under some circumstances, MA can be written as an infinite AR process. These
    circumstances are having stationary covariance structure, deterministic part,
    and invertible MA process. In doing so, we have another model called *infinite
    AR* thanks to the assumption of <math alttext="StartAbsoluteValue alpha EndAbsoluteValue
    less-than 1"><mrow><mo>|</mo> <mi>α</mi> <mo>|</mo> <mo><</mo> <mn>1</mn></mrow></math>
    .
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，MA 可以被写成一个无限的 AR 过程。这些情况是具有平稳的协方差结构、确定性部分和可逆的 MA 过程。这样一来，我们就有了另一个称为*无限
    AR*模型，这要归功于假设 <math alttext="StartAbsoluteValue alpha EndAbsoluteValue less-than
    1"><mrow><mo>|</mo> <mi>α</mi> <mo>|</mo> <mo><</mo> <mn>1</mn></mrow></math>
    。
- en: <math display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <mi>α</mi> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math><math
    display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo>
    <mi>α</mi> <mrow><mo>(</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <mi>α</mi> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>)</mo></mrow></mrow></math><math display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub></mrow></math><math
    display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo>
    <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <mrow><mo>(</mo> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub> <mo>+</mo> <mi>α</mi> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub> <mo>)</mo></mrow></mrow></math><math
    display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo>
    <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <msup><mi>α</mi> <mn>3</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub>
    <mrow><mo>)</mo></mrow></mrow></math><math display="block"><mrow><mo>=</mo> <mo>...</mo></mrow></math><math
    display="block"><mrow><mo>=</mo> <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <msup><mi>α</mi> <mn>3</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>4</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>4</mn></mrow></msub>
    <mo>+</mo> <mo>...</mo> <mo>-</mo> <msup><mrow><mo>(</mo><mo>-</mo><mi>α</mi><mo>)</mo></mrow>
    <mi>n</mi></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>n</mi></mrow></msub></mrow></math>
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <mi>α</mi> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math><math
    display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo>
    <mi>α</mi> <mrow><mo>(</mo> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <mi>α</mi> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>)</mo></mrow></mrow></math><math display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub></mrow></math><math
    display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo>
    <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <mrow><mo>(</mo> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub> <mo>+</mo> <mi>α</mi> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub> <mo>)</mo></mrow></mrow></math><math
    display="block"><mrow><mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo>
    <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <msup><mi>α</mi> <mn>3</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub>
    <mrow><mo>)</mo></mrow></mrow></math><math display="block"><mrow><mo>=</mo> <mo>...</mo></mrow></math><math
    display="block"><mrow><mo>=</mo> <mi>α</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>2</mn></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <msup><mi>α</mi> <mn>3</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub>
    <mo>-</mo> <msup><mi>α</mi> <mn>4</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>4</mn></mrow></msub>
    <mo>+</mo> <mo>...</mo> <mo>-</mo> <msup><mrow><mo>(</mo><mo>-</mo><mi>α</mi><mo>)</mo></mrow>
    <mi>n</mi></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>n</mi></mrow></msub></mrow></math>
- en: 'After doing the necessary math, the equation gets the following form:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 经过必要的数学运算后，方程式得到如下形式：
- en: <math display="block"><mrow><msup><mi>α</mi> <mi>n</mi></msup> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>n</mi></mrow></msub> <mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>-</mo> <munderover><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow>
    <mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover> <msup><mi>α</mi> <mi>i</mi></msup>
    <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>i</mi></mrow></msub></mrow></math>
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><msup><mi>α</mi> <mi>n</mi></msup> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>n</mi></mrow></msub> <mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>-</mo> <munderover><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow>
    <mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover> <msup><mi>α</mi> <mi>i</mi></msup>
    <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>i</mi></mrow></msub></mrow></math>
- en: 'In this case, if <math alttext="StartAbsoluteValue alpha EndAbsoluteValue less-than
    1"><mrow><mo>|</mo> <mi>α</mi> <mo>|</mo> <mo><</mo> <mn>1</mn></mrow></math>
    , then <math alttext="n right-arrow normal infinity"><mrow><mi>n</mi> <mo>→</mo>
    <mi>∞</mi></mrow></math> :'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，如果 <math alttext="StartAbsoluteValue alpha EndAbsoluteValue less-than
    1"><mrow><mo>|</mo> <mi>α</mi> <mo>|</mo> <mo><</mo> <mn>1</mn></mrow></math>
    ，那么 <math alttext="n right-arrow normal infinity"><mrow><mi>n</mi> <mo>→</mo>
    <mi>∞</mi></mrow></math> ：
- en: <math display="block"><mrow><mi>𝔼</mi> <msup><mrow><mo>(</mo><msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>-</mo><munderover><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow>
    <mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover> <msup><mi>α</mi> <mi>i</mi></msup>
    <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>i</mi></mrow></msub> <mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mi>𝔼</mi> <mrow><mo>(</mo> <msup><mi>α</mi> <mrow><mn>2</mn><mi>n</mi></mrow></msup>
    <msubsup><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>n</mi></mrow> <mn>2</mn></msubsup>
    <mo>→</mo> <mi>∞</mi> <mo>)</mo></mrow></mrow></math>
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><mi>𝔼</mi> <msup><mrow><mo>(</mo><msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>-</mo><munderover><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow>
    <mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></munderover> <msup><mi>α</mi> <mi>i</mi></msup>
    <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>i</mi></mrow></msub> <mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mi>𝔼</mi> <mrow><mo>(</mo> <msup><mi>α</mi> <mrow><mn>2</mn><mi>n</mi></mrow></msup>
    <msubsup><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>n</mi></mrow> <mn>2</mn></msubsup>
    <mo>→</mo> <mi>∞</mi> <mo>)</mo></mrow></mrow></math>
- en: 'Finally, the MA(1) process turns out to be:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，MA(1)过程变为：
- en: <math display="block"><mrow><msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>=</mo> <munderover><mo>∑</mo>
    <mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow> <mi>∞</mi></munderover> <msup><mi>α</mi>
    <mi>i</mi></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>i</mi></mrow></msub></mrow></math>
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>=</mo> <munderover><mo>∑</mo>
    <mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow> <mi>∞</mi></munderover> <msup><mi>α</mi>
    <mi>i</mi></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>i</mi></mrow></msub></mrow></math>
- en: 'Due to the duality between the AR and MA processes, it is possible to represent
    AR(1) as infinite MA, MA( <math alttext="normal infinity"><mi>∞</mi></math> ).
    In other words, the AR(1) process can be expressed as a function of past values
    of innovations:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 AR 和 MA 过程之间的对偶性，可以将 AR(1) 表示为无限 MA，即 MA( <math alttext="normal infinity"><mi>∞</mi></math>
    )。换句话说，AR(1) 过程可以表示为创新过去值的函数：
- en: <math display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <mi>θ</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math><math
    display="block"><mrow><mo>=</mo> <mi>θ</mi> <mrow><mo>(</mo> <mi>θ</mi> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub> <mo>+</mo> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>)</mo></mrow> <mo>+</mo>
    <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math><math display="block"><mrow><mo>=</mo>
    <msup><mi>θ</mi> <mn>2</mn></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <mi>θ</mi> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>+</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math><math display="block"><mrow><mo>=</mo>
    <msup><mi>θ</mi> <mn>2</mn></msup> <mrow><mo>(</mo> <mi>θ</mi> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub> <mo>+</mo> <mi>θ</mi> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub> <mo>)</mo></mrow> <mi>θ</mi>
    <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math><math display="block"><mrow><msub><mi>X</mi>
    <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo> <msup><mi>θ</mi>
    <mn>2</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <mo>...</mo> <mo>+</mo> <msup><mi>θ</mi> <mi>t</mi></msup> <msub><mi>X</mi>
    <mi>t</mi></msub></mrow></math>
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: <math display="block"><mrow><msub><mi>X</mi> <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <mi>θ</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math><math
    display="block"><mrow><mo>=</mo> <mi>θ</mi> <mrow><mo>(</mo> <mi>θ</mi> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub> <mo>+</mo> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>)</mo></mrow> <mo>+</mo>
    <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math><math display="block"><mrow><mo>=</mo>
    <msup><mi>θ</mi> <mn>2</mn></msup> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <mi>θ</mi> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>+</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math><math display="block"><mrow><mo>=</mo>
    <msup><mi>θ</mi> <mn>2</mn></msup> <mrow><mo>(</mo> <mi>θ</mi> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>3</mn></mrow></msub> <mo>+</mo> <mi>θ</mi> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub> <mo>)</mo></mrow> <mi>θ</mi>
    <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>ϵ</mi> <mi>t</mi></msub></mrow></math><math display="block"><mrow><msub><mi>X</mi>
    <mi>t</mi></msub> <mo>=</mo> <msub><mi>ϵ</mi> <mi>t</mi></msub> <mo>+</mo> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo> <msup><mi>θ</mi>
    <mn>2</mn></msup> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>+</mo> <mo>...</mo> <mo>+</mo> <msup><mi>θ</mi> <mi>t</mi></msup> <msub><mi>X</mi>
    <mi>t</mi></msub></mrow></math>
- en: As <math alttext="n right-arrow normal infinity"><mrow><mi>n</mi> <mo>→</mo>
    <mi>∞</mi></mrow></math> , <math alttext="theta Superscript t Baseline right-arrow
    0"><mrow><msup><mi>θ</mi> <mi>t</mi></msup> <mo>→</mo> <mn>0</mn></mrow></math>
    , so I can represent AR(1) as an infinite MA process.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 当 <math alttext="n right-arrow normal infinity"><mrow><mi>n</mi> <mo>→</mo>
    <mi>∞</mi></mrow></math> 时，<math alttext="theta Superscript t Baseline right-arrow
    0"><mrow><msup><mi>θ</mi> <mi>t</mi></msup> <mo>→</mo> <mn>0</mn></mrow></math>
    ，因此我可以将 AR(1) 表示为无限的 MA 过程。
- en: 'In the following analysis, we run the AR model to predict Apple and Microsoft
    stock prices. Unlike MA, partial ACF is a useful tool to find out the optimum
    order in the AR model. This is because, in AR, we aim to find out the relationship
    of a time series between two different times, say <math alttext="upper X Subscript
    t"><msub><mi>X</mi> <mi>t</mi></msub></math> and <math alttext="upper X Subscript
    t minus k"><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>k</mi></mrow></msub></math>
    , and to do that we need to filter out the effect of other lags in between, resulting
    in Figures [2-17](#pacf_appl) and [2-18](#pacf_msft):'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下分析中，我们运行 AR 模型来预测苹果和微软的股票价格。与 MA 不同，偏自相关函数是找出 AR 模型中最优阶数的有用工具。这是因为在 AR 中，我们的目标是找出时间序列在两个不同时间点之间的关系，比如说
    <math alttext="upper X Subscript t"><msub><mi>X</mi> <mi>t</mi></msub></math>
    和 <math alttext="upper X Subscript t minus k"><msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mi>k</mi></mrow></msub></math>
    ，为此我们需要滤除中间滞后的影响，得到图 [2-17](#pacf_appl) 和 [2-18](#pacf_msft)：
- en: '[PRE13]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '![pacf_appl](assets/mlfr_0217.png)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
  zh: '![pacf_appl](assets/mlfr_0217.png)'
- en: Figure 2-17\. PACF for Apple
  id: totrans-244
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-17\. 苹果的偏自相关函数（PACF）
- en: '![pacf_msft](assets/mlfr_0218.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![pacf_msft](assets/mlfr_0218.png)'
- en: Figure 2-18\. PACF for Microsoft
  id: totrans-246
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-18\. 微软的偏自相关函数（PACF）
- en: 'In [Figure 2-17](#pacf_appl), obtained from the first differenced Apple stock
    price, we observe a significant spike at lag 29, and in [Figure 2-18](#pacf_msft),
    we have a similar spike at lag 26 for Microsoft. Thus, 29 and 26 are the lags
    that we are going to use in modeling AR for Apple and Microsoft, respectively:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图2-17](#pacf_appl)，从苹果股票价格的一阶差分中获得，我们观察到在滞后29时有一个显著的峰值，在[图2-18](#pacf_msft)，微软股票也有类似的在滞后26时的峰值。因此，29和26是我们将在苹果和微软建模AR时使用的滞后数：
- en: '[PRE14]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO11-1)'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO11-1)'
- en: Fitting Apple stock data with AR model
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 使用AR模型拟合苹果股票数据
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO11-2)'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO11-2)'
- en: Predicting the stock prices for Apple
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 预测苹果的股票价格
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO11-3)'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO11-3)'
- en: Comparing the predicted and real observations
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 比较预测值和实际观察值
- en: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO11-4)'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO11-4)'
- en: Turning array into dataframe to assign index
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 将数组转换为数据框以分配索引
- en: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO11-5)'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO11-5)'
- en: Assigning test data indices to predicted values
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 将测试数据索引分配给预测值
- en: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO11-6)'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO11-6)'
- en: Fitting Microsoft stock data with AR model
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 使用AR模型拟合微软股票数据
- en: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO11-7)'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO11-7)'
- en: Predicting the stock prices for Microsoft
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 预测微软的股票价格
- en: '[![8](assets/8.png)](#co_introduction_to_time_series_modeling_CO11-8)'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](assets/8.png)](#co_introduction_to_time_series_modeling_CO11-8)'
- en: Turning the array into a dataframe to assign index
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 将数组转换为数据框以分配索引
- en: '[![9](assets/9.png)](#co_introduction_to_time_series_modeling_CO11-9)'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '[![9](assets/9.png)](#co_introduction_to_time_series_modeling_CO11-9)'
- en: Assigning test data indices to predicted values
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 将测试数据索引分配给预测值
- en: 'The following code, resulting in [Figure 2-19](#ar_all), shows the predictions
    based on the AR model. The solid lines represent the Apple and Microsoft stock
    price predictions, and the dashed lines denote the real data. The result reveals
    that the MA model outperforms the AR model in capturing the stock price:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的代码，导致[图2-19](#ar_all)，显示基于AR模型的预测。实线代表苹果和微软股票价格的预测，虚线表示真实数据。结果表明，MA模型在捕捉股票价格方面优于AR模型：
- en: '[PRE15]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![ar all](assets/mlfr_0219.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![ar all](assets/mlfr_0219.png)'
- en: Figure 2-19\. AR model prediction results
  id: totrans-270
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图2-19. AR模型预测结果
- en: Autoregressive Integrated Moving Average Model
  id: totrans-271
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自回归积分移动平均模型
- en: The ARIMA is a function of past values of a time series and white noise. ARIMA
    has been proposed as a generalization of AR and MA, but they do not have an integration
    parameter, which helps us to feed the model with the raw data. In this respect,
    even if we include nonstationary data, ARIMA makes it stationary by properly defining
    the integration parameter.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: ARIMA是时间序列的过去值和白噪声的函数。ARIMA被提出作为AR和MA的泛化，但它们没有积分参数，这有助于我们用原始数据来训练模型。在这方面，即使我们包括非平稳数据，ARIMA通过正确定义积分参数使其变得平稳。
- en: ARIMA has three parameters, namely *p*, *d*, and *q*. As should be familiar
    from previous time series models, *p* and *q* refer to the order of AR and MA,
    respectively. The *d* parameter controls for level difference. If *d* = 1, it
    amounts to first difference, and if it has a value of 0, that means that the model
    is ARIMA.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: ARIMA有三个参数，分别是*p*、*d*和*q*。正如之前的时间序列模型所熟悉的，*p*和*q*分别指的是AR和MA的阶数。*d*参数控制级别差异。如果*d*
    = 1，那么它等同于一阶差分，如果值为0，则表示模型是ARIMA。
- en: 'It is possible to have a *d* greater than 1, but it’s not as common as having
    a *d* of 1\. The ARIMA (p, 1, q) equation has the following structure:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '*d*大于1是可能的，但不像*d*为1那样普遍。ARIMA(p, 1, q)方程的结构如下：'
- en: <math alttext="dollar-sign upper X Subscript t Baseline equals alpha 1 d upper
    X Subscript t minus 1 Baseline plus alpha 2 d upper X Subscript t minus 2 Baseline
    ellipsis plus alpha Subscript p Baseline d upper X Subscript t minus p Baseline
    plus epsilon Subscript t Baseline plus beta 1 epsilon Subscript t minus 1 Baseline
    plus beta 2 epsilon Subscript t minus 2 Baseline ellipsis plus beta Subscript
    q Baseline epsilon Subscript t minus q dollar-sign"><mrow><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>=</mo> <msub><mi>α</mi> <mn>1</mn></msub> <mi>d</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>+</mo> <msub><mi>α</mi> <mn>2</mn></msub> <mi>d</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>α</mi> <mi>p</mi></msub> <mi>d</mi> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>p</mi></mrow></msub> <mo>+</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <msub><mi>β</mi> <mn>1</mn></msub> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo> <msub><mi>β</mi>
    <mn>2</mn></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>β</mi> <mi>q</mi></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>q</mi></mrow></msub></mrow></math>
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper X Subscript t Baseline equals alpha 1 d upper
    X Subscript t minus 1 Baseline plus alpha 2 d upper X Subscript t minus 2 Baseline
    ellipsis plus alpha Subscript p Baseline d upper X Subscript t minus p Baseline
    plus epsilon Subscript t Baseline plus beta 1 epsilon Subscript t minus 1 Baseline
    plus beta 2 epsilon Subscript t minus 2 Baseline ellipsis plus beta Subscript
    q Baseline epsilon Subscript t minus q dollar-sign"><mrow><msub><mi>X</mi> <mi>t</mi></msub>
    <mo>=</mo> <msub><mi>α</mi> <mn>1</mn></msub> <mi>d</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>+</mo> <msub><mi>α</mi> <mn>2</mn></msub> <mi>d</mi> <msub><mi>X</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>α</mi> <mi>p</mi></msub> <mi>d</mi> <msub><mi>X</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>p</mi></mrow></msub> <mo>+</mo> <msub><mi>ϵ</mi>
    <mi>t</mi></msub> <mo>+</mo> <msub><mi>β</mi> <mn>1</mn></msub> <msub><mi>ϵ</mi>
    <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub> <mo>+</mo> <msub><mi>β</mi>
    <mn>2</mn></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mn>2</mn></mrow></msub>
    <mo>...</mo> <mo>+</mo> <msub><mi>β</mi> <mi>q</mi></msub> <msub><mi>ϵ</mi> <mrow><mi>t</mi><mo>-</mo><mi>q</mi></mrow></msub></mrow></math>
- en: where *d* refers to difference.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*d*指的是差分。
- en: As it is a widely embraced and applicable model, let’s discuss the pros and
    cons of the ARIMA model to get more familiar with it.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 作为被广泛接受和适用的模型，让我们讨论ARIMA模型的优缺点以更熟悉它。
- en: Pros
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 优点
- en: ARIMA allows us to work with raw data without considering if it is stationary.
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ARIMA允许我们使用原始数据工作，而不考虑其是否平稳。
- en: It performs well with high-frequency data.
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它在高频数据下表现良好。
- en: It is less sensitive to the fluctuation in the data compared to other models.
  id: totrans-281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与其他模型相比，它对数据波动不太敏感。
- en: Cons
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 缺点
- en: ARIMA might fail in capturing seasonality.
  id: totrans-283
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ARIMA 可能无法捕捉季节性。
- en: It works better with long series and short-term (daily, hourly) data.
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它在长序列和短期（日常，小时）数据中表现更好。
- en: As no automatic updating occurs in ARIMA, no structural break during the analysis
    period should be observed.
  id: totrans-285
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于 ARIMA 没有自动更新，分析期间不应观察到结构性突变。
- en: Having no adjustment in the ARIMA process leads to instability.
  id: totrans-286
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ARIMA 过程中没有调整会导致不稳定性。
- en: 'Now, let’s see how ARIMA works using the same stocks, namely Apple and Microsoft.
    But this time, a different short-term lag structure is used to compare the result
    with the AR and MA models:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看如何使用相同的股票（即苹果和微软）来运行 ARIMA。但是，这次使用不同的短期滞后结构来比较结果与 AR 和 MA 模型：
- en: '[PRE16]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO12-1)'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO12-1)'
- en: Configuring the ARIMA model for Apple stock
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 配置用于苹果股票的 ARIMA 模型。
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO12-2)'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO12-2)'
- en: Fitting the ARIMA model to Apple’s stock price
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 将 ARIMA 模型拟合到苹果的股票价格。
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO12-3)'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO12-3)'
- en: Configuring the ARIMA model for Microsoft stock
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 配置用于微软股票的 ARIMA 模型。
- en: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO12-4)'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO12-4)'
- en: Fitting the ARIMA model to Microsoft’s stock price
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 将 ARIMA 模型拟合到微软的股票价格。
- en: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO12-5)'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO12-5)'
- en: Predicting the Apple stock prices based on ARIMA
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 ARIMA 预测苹果股票价格。
- en: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO12-6)'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO12-6)'
- en: Predicting the Microsoft stock prices based on ARIMA
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 ARIMA 预测微软股价。
- en: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO12-7)'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO12-7)'
- en: Forming index for predictions
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 形成预测的索引。
- en: 'The next snippet, resulting in [Figure 2-20](#arima_all), shows the result
    of the prediction based on Apple’s and Microsoft’s stock price, and as we employ
    the short-term orders from the AR and MA model, the result is not completely different:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的片段，导致 [图 2-20](#arima_all) 显示了基于苹果和微软股票价格的预测结果，由于我们采用了 AR 和 MA 模型的短期订单，因此结果并非完全不同：
- en: '[PRE17]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![arima all](assets/mlfr_0220.png)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![arima all](assets/mlfr_0220.png)'
- en: Figure 2-20\. ARIMA prediction results
  id: totrans-306
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-20\. ARIMA 预测结果。
- en: 'At this point, it is worthwhile to discuss an alternative method for optimum
    lag selection for time series models. AIC is the method that I apply here to select
    the proper number of lags. Please note that, even though the result of AIC suggests
    (4, 0, 4), the model does not converge with these orders. So, (4, 1, 4) is applied
    instead:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，讨论一种用于时间序列模型最优滞后选择的替代方法是值得的。这里我应用的方法是 AIC，以选择适当的滞后数目。请注意，即使 AIC 的结果建议
    (4, 0, 4)，但模型不会以这些顺序收敛。因此，改为应用 (4, 1, 4)：
- en: '[PRE18]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO13-1)'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_introduction_to_time_series_modeling_CO13-1)'
- en: Defining a range for AR and MA orders
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 定义 AR 和 MA 订单的范围。
- en: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO13-2)'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_introduction_to_time_series_modeling_CO13-2)'
- en: Defining a range difference term
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 定义一个区间差分项。
- en: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO13-3)'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_introduction_to_time_series_modeling_CO13-3)'
- en: Applying iteration over *p*, *d*, and *q*
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 对 *p*、*d* 和 *q* 进行迭代应用。
- en: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO13-4)'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_introduction_to_time_series_modeling_CO13-4)'
- en: Creating an empty list to store AIC values
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个空列表以存储 AIC 值。
- en: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO13-5)'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_introduction_to_time_series_modeling_CO13-5)'
- en: Configuring the ARIMA model to fit Apple data
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 配置以适应苹果数据的 ARIMA 模型。
- en: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO13-6)'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_introduction_to_time_series_modeling_CO13-6)'
- en: Running the ARIMA model with all possible lags
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 运行包含所有可能滞后的 ARIMA 模型。
- en: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO13-7)'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_introduction_to_time_series_modeling_CO13-7)'
- en: Storing AIC values into a list
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 将 AIC 值存储到列表中。
- en: '[![8](assets/8.png)](#co_introduction_to_time_series_modeling_CO13-8)'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](assets/8.png)](#co_introduction_to_time_series_modeling_CO13-8)'
- en: Printing the lowest AIC value for Apple data
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 打印苹果数据的最低 AIC 值。
- en: '[![9](assets/9.png)](#co_introduction_to_time_series_modeling_CO13-9)'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: '[![9](assets/9.png)](#co_introduction_to_time_series_modeling_CO13-9)'
- en: Configuring and fitting the ARIMA model with optimum orders
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 配置和拟合具有最佳顺序的 ARIMA 模型。
- en: '[![10](assets/10.png)](#co_introduction_to_time_series_modeling_CO13-11)'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: '[![10](assets/10.png)](#co_introduction_to_time_series_modeling_CO13-11)'
- en: Running the ARIMA model with all possible lags for Microsoft data
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 运行包括所有可能滞后项的 ARIMA 模型，针对微软的数据
- en: '[![11](assets/11.png)](#co_introduction_to_time_series_modeling_CO13-12)'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '[![11](assets/11.png)](#co_introduction_to_time_series_modeling_CO13-12)'
- en: Fitting the ARIMA model to Microsoft data with optimum orders
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 将 ARIMA 模型拟合到微软数据的最佳订单
- en: '[![12](assets/12.png)](#co_introduction_to_time_series_modeling_CO13-14)'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '[![12](assets/12.png)](#co_introduction_to_time_series_modeling_CO13-14)'
- en: Predicting Apple and Microsoft stock prices
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 预测苹果和微软的股票价格
- en: 'Orders identified for Apple and Microsoft are (4, 1, 4) and (4, 2, 4), respectively.
    ARIMA does a good job in predicting the stock prices as shown below. However,
    please note that improper identification of the orders results in a poor fit,
    and this, in turn, produces predictions that are far from being satisfactory.
    The following code, resulting in [Figure 2-21](#arima_all_2), shows these results:'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果和微软的订单识别分别为（4, 1, 4）和（4, 2, 4）。ARIMA 在预测股票价格方面表现出色，如下所示。然而，请注意，订单识别不当会导致拟合不佳，进而产生令人不满意的预测结果。以下代码，导致
    [Figure 2-21](#arima_all_2) 显示了这些结果：
- en: '[PRE19]'
  id: totrans-334
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '![arima all](assets/mlfr_0221.png)'
  id: totrans-335
  prefs: []
  type: TYPE_IMG
  zh: '![arima all](assets/mlfr_0221.png)'
- en: Figure 2-21\. ARIMA prediction results
  id: totrans-336
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 2-21\. ARIMA 预测结果
- en: Conclusion
  id: totrans-337
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: Time series analysis has a central role in financial analysis. This is simply
    because most financial data has a time dimension, and this type of data should
    be modeled cautiously. This chapter worked out a first attempt at modeling data
    with a time dimension, and to do so, we employed classical time series models,
    namely MA, AR, and finally, ARIMA. But do you think that’s the whole story? Absolutely
    not! In the next chapter, we will see how a time series can be modeled using deep
    learning models.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 时间序列分析在金融分析中起着核心作用。这仅仅是因为大多数金融数据都具有时间维度，因此这类数据应谨慎建模。本章对具有时间维度的数据进行了初步建模尝试，为此，我们采用了经典的时间序列模型，即
    MA、AR，最后是 ARIMA。但你认为这就是全部吗？绝对不是！在下一章中，我们将看到如何使用深度学习模型对时间序列进行建模。
- en: References
  id: totrans-339
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: 'Articles cited in this chapter:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 本章引用的文章：
- en: 'Cavanaugh, J. E., and A. A. Neath. 2019\. “The Akaike Information Criterion:
    Background, Derivation, Properties, Application, Interpretation, and Refinements.”
    *Wiley Interdisciplinary Reviews: Computational Statistics* 11 (3): e1460.'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Cavanaugh, J. E., and A. A. Neath. 2019\. “Akaike 信息准则：背景、推导、性质、应用、解释及改进。”
    *Wiley Interdisciplinary Reviews: Computational Statistics* 11 (3): e1460.'
- en: 'Hurvich, Clifford M., and Chih-Ling Tsai. 1989\. “Regression and Time Series
    Model Selection in Small Samples.” *Biometrika* 76 (2): 297-30.'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Hurvich, Clifford M., and Chih-Ling Tsai. 1989\. “小样本中的回归和时间序列模型选择。” *Biometrika*
    76 (2): 297-30.'
- en: 'Books cited in this chapter:'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 本章引用的书籍：
- en: Brockwell, Peter J., and Richard A. Davis. 2016\. *Introduction to Time Series
    and Forecasting*. Springer.
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brockwell, Peter J., and Richard A. Davis. 2016\. *时间序列和预测导论*。Springer.
- en: 'Focardi, Sergio M. 1997\. *Modeling the Market: New Theories and Techniques*.
    The Frank J. Fabozzi Series, Vol. 14\. New York: John Wiley and Sons.'
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Focardi, Sergio M. 1997\. *市场建模：新理论和技术*。The Frank J. Fabozzi Series, Vol. 14\.
    纽约：John Wiley and Sons.
