- en: Chapter 7\. Liquidity Modeling
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第七章 流动性建模
- en: When the music stops, in terms of liquidity, things will be complicated. But
    as long as the music is playing, you’ve got to get up and dance. We’re still dancing.
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 当音乐停止时，就流动性而言，情况会变得复杂。但只要音乐还在播放，你就必须起身跳舞。我们仍在跳舞。
- en: ''
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Chuck Prince (2007)
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 查克·普林斯（2007年）
- en: Liquidity is another important source of financial risk. However, it has been
    long neglected, and the finance industry has paid a huge price for modeling risk
    without considering liquidity.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 流动性是金融风险的另一个重要来源。然而，长期以来，流动性一直被忽视，金融行业为了建模风险而不考虑流动性付出了巨大代价。
- en: The causes of liquidity risk are departures from the complete markets and symmetric
    information paradigm, which can lead to moral hazard and adverse selection. To
    the extent that such conditions persist, liquidity risk is endemic in the financial
    system and can cause a vicious link between funding and market liquidity, prompting
    systemic liquidity risk (Nikolaou 2009).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 流动性风险的成因是与完全市场和对称信息范式的偏离，这可能导致道德风险和逆向选择。在这种条件持续存在的情况下，流动性风险在金融系统中是普遍存在的，可以引发融资和市场流动性之间的恶性循环，促使系统性流动性风险（Nikolaou
    2009）。
- en: Tapping into the time lag between a changing value of the variable and its impact
    on the real market turns out to be a success criterion in modeling. For instance,
    interest rates, to some extent, diverge from real market dynamics from time to
    time, and it takes some time to settle. Together with this, uncertainty is the
    solely source of risk in traditional asset pricing models; however, it is far
    from reality. To fill the gap between financial models and real-market dynamics,
    the liquidity dimension stands out. A model with liquidity can better adjust itself
    to developments in the financial markets in that liquidity affects both the required
    returns of assets and also the level of uncertainty. Thus, liquidity is quite
    an important dimension in estimating probability of default (Gaygisiz, Karasan,
    and Hekimoglu 2021).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 利用变量变化值与其对实际市场的影响之间的时间滞后是建模成功的标准之一。例如，利率在某种程度上与实际市场动态有所不同，而且需要一些时间来稳定下来。除此之外，不确定性是传统资产定价模型中唯一的风险来源；然而，这与现实相去甚远。为了填补金融模型与实际市场动态之间的差距，流动性维度显得尤为重要。具有流动性的模型可以更好地调整自身以适应金融市场的发展，因为流动性影响了资产的所需回报率，也影响了不确定性水平。因此，流动性在估计违约概率方面是非常重要的一个维度（Gaygisiz，Karasan和Hekimoglu
    2021）。
- en: The importance of liquidity has been highlighted and has gained much attention
    since the global mortgage crisis broke out in 2007–2008\. During this crisis,
    most financial institutions were hit hard by liquidity pressures, resulting in
    several strict measures taken by regulatory authorities and central banks. Since
    then, debates over the need to include liquidity, originating from the lack of
    tradable securities, have intensified.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 自2007年至2008年全球抵押贷款危机爆发以来，流动性的重要性备受关注。在这次危机中，大多数金融机构都受到了流动性压力的严重打击，导致监管机构和中央银行采取了一些严格的措施。从那时起，关于包含流动性的必要性的讨论更加激烈，这起于可交易证券的缺乏。
- en: 'The concept of liquidity is multifaceted. By and large, a *liquid asset* is
    defined by the extent to which a large amount of it is sold without a considerable
    price impact. This is also known as *transaction cost*. This is, however, not
    the only important facet of liquidity. Rather, during a period of stress, resilience
    stands out as investors seek prompt price discovery (Sarr and Lybek 2002). This
    is pointed out by Kyle (1985): “Liquidity is a slippery and elusive concept, in
    part because it encompasses a number of transactional properties of markets.”'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 流动性概念是多方面的。总的来说，*流动性资产*的定义取决于在不造成相当价格影响的情况下出售大量资产的程度。这也被称为*交易成本*。然而，这并不是流动性的唯一重要方面。在压力时期，弹性成为投资者寻求迅速价格发现的突出特征（Sarr和Lybek
    2002）。这是Kyle（1985年）指出的：“流动性是一个难以捉摸和难以捉摸的概念，部分原因是因为它包含了市场的许多交易特性。”
- en: 'With that said, liquidity is an ambiguous concept, and to define it we need
    to focus on its different dimensions. In the literature, different researchers
    come up with different dimensions of liquidity, but for the purposes of this book,
    we will identify four defining characteristics of liquidity:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，流动性是一个模糊的概念，要定义它，我们需要关注其不同的维度。在文献中，不同的研究人员提出了不同的流动性维度，但为了本书的目的，我们将确定流动性的四个定义特征：
- en: Tightness
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 紧密度
- en: The ability to trade an asset at the same price at the same time. This refers
    to the transaction cost occurring during a trade. If the transaction cost is high,
    the difference between buy and sell prices will be high or vice versa. So, a narrow
    transaction cost defines how tight the market is.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: Immediacy
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: The speed at which a large amount of buy or sell orders can be traded. This
    dimension of liquidity provides us with valuable information about the financial
    market, as low immediacy refers to malfunctioning of parts of the market such
    as clearing, settlement, and so forth.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Depth
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: The presence of large numbers of buyers and sellers who are able to cover abundant
    orders at various prices.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Resiliency
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: A market’s ability to bounce back from nonequilibrium. It can be thought of
    as a price-recovery process in which order imbalance dies out quickly.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: Given the definition and interconnectedness of liquidity, it is not hard to
    see that modeling liquidity is a tough task. In the literature, many different
    types of liquidity models are proposed, however, considering the multidimensionality
    of liquidity, it may be wise to cluster the data depending on which dimension
    it captures. To this end, we will come up with different liquidity measures to
    represent all four dimensions. These liquidity measures are volume-based measures,
    transaction cost–based measures, price impact-based measures, and market-impact
    measures. For all these dimensions, several different liquidity proxies will be
    used.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: Using clustering analysis, these liquidity measures will be clustered, which
    helps us to understand which part of liquidity an investor should focus on, because
    it is known that different dimensions of liquidity prevail in an economy during
    different time periods. Thus, once we are done with clustering analysis, we end
    up with a smaller number of liquidity measures. For the sake of clustering analysis,
    we will use the Gaussian mixture model (GMM) and the Gaussian mixture copula model
    (GMCM) to tackle this problem. GMM is a widely recognized clustering model that
    works well under elliptical distribution. GMCM is an extension of the GMM in that
    we include a copula analysis to take correlation into account. We will discuss
    these models in detail, so let us start by identifying the liquidity measures
    based on different liquidity dimensions.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: Liquidity Measures
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The role of liquidity has finally been recognized by finance practitioners
    and economists, which makes it even more important to understand and develop liquidity
    measurement. Existing literature concentrates on a single measure by which it
    is hard to conceptualize an elusive concept like liquidity. Instead, we will cover
    four dimensions to develop a more comprehensive application:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: Volume
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Transaction cost
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Price impact
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Market impact
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s get started with the volume-based liquidity measures.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: Volume-Based Liquidity Measures
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Large orders are covered when the market has depth, that is, a deep financial
    market has the ability to meet abundant orders. This, in turn, provides information
    about the market, and if the market lacks depth, order imbalance and discontinuity
    emerge in the market. Given the market’s depth, volume-based liquidity measures
    can be used to distinguish liquid and illiquid assets. Moreover, volume-based
    liquidity measures have a strong association with bid-ask spread: a large bid-ask
    spread implies low volume, while a narrow bid-ask spread implies high volume (Huong
    and Gregoriou 2020).'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 当市场具有深度时，大额订单得到满足，即深度的金融市场有能力满足大量订单。这反过来提供了关于市场的信息，如果市场缺乏深度，则市场中会出现订单不平衡和不连续性。鉴于市场的深度，基于交易量的流动性衡量标准可以用来区分流动性和非流动性资产。此外，基于交易量的流动性衡量标准与买卖价差密切相关：较大的买卖价差意味着低交易量，而较窄的买卖价差则意味着高交易量（Huong
    和 Gregoriou，2020）。
- en: As you can imagine, a large portion of the variation in liquidity arises from
    trading activities. The importance of the volume-based approach is stressed by
    Blume, Easley, and O’Hara (1994) saying that volume traded generates information
    that cannot be extracted from alternative statistics.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可以想象的那样，流动性变化的大部分来自交易活动。Blume、Easley 和 O'Hara (1994) 强调了基于交易量的方法的重要性，称交易量产生的信息是从其他统计数据中无法提取的。
- en: 'To properly represent the depth dimension of liquidity, the following volume-based
    measures will be introduced:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 为了正确表达流动性的深度维度，将引入以下基于交易量的衡量标准：
- en: Liquidity ratio
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 流动性比率
- en: Hui-Heubel ratio
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hui-Heubel 比率
- en: Turnover ratio
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 周转率
- en: Liquidity ratio
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 流动性比率
- en: 'This ratio measures the extent to which volume is required to induce a price
    change of 1%:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 此比率衡量需要多少交易量才能引发价格变动 1%：
- en: <math alttext="dollar-sign upper L upper R Subscript i t Baseline equals StartFraction
    sigma-summation Underscript t equals 1 Overscript upper T Endscripts upper P Subscript
    i t Baseline upper V Subscript i t Baseline Over sigma-summation Underscript t
    equals 1 Overscript upper T Endscripts StartAbsoluteValue upper P upper C Subscript
    i t Baseline EndAbsoluteValue EndFraction dollar-sign"><mrow><mi>L</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mo>=</mo> <mfrac><mrow><msubsup><mo>∑</mo>
    <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> <mi>T</mi></msubsup> <msub><mi>P</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow>
    <mrow><msubsup><mo>∑</mo> <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> <mi>T</mi></msubsup>
    <mrow><mo>|</mo><mi>P</mi><msub><mi>C</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub>
    <mo>|</mo></mrow></mrow></mfrac></mrow></math>
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper L upper R Subscript i t Baseline equals StartFraction
    sigma-summation Underscript t equals 1 Overscript upper T Endscripts upper P Subscript
    i t Baseline upper V Subscript i t Baseline Over sigma-summation Underscript t
    equals 1 Overscript upper T Endscripts StartAbsoluteValue upper P upper C Subscript
    i t Baseline EndAbsoluteValue EndFraction dollar-sign"><mrow><mi>L</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mo>=</mo> <mfrac><mrow><msubsup><mo>∑</mo>
    <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> <mi>T</mi></msubsup> <msub><mi>P</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow>
    <mrow><msubsup><mo>∑</mo> <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> <mi>T</mi></msubsup>
    <mrow><mo>|</mo><mi>P</mi><msub><mi>C</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub>
    <mo>|</mo></mrow></mrow></mfrac></mrow></math>
- en: where <math alttext="upper P Subscript i t"><msub><mi>P</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></math>
    is the total price of stock *i* on day *t*, <math alttext="upper V Subscript i
    t"><msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></math> represents
    the volume traded of stock *i* on day *t*, and finally, <math alttext="StartAbsoluteValue
    upper P upper C Subscript i t Baseline EndAbsoluteValue"><mrow><mrow><mo>|</mo>
    <mi>P</mi></mrow> <msub><mi>C</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mrow><mo>|</mo></mrow></mrow></math>
    is the absolute value of difference between price at time *t* and *t* - 1.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper P Subscript i t"><msub><mi>P</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></math>
    是第 *t* 天股票 *i* 的总价格，<math alttext="upper V Subscript i t"><msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></math>
    表示第 *t* 天股票 *i* 的交易量，最后，<math alttext="StartAbsoluteValue upper P upper C Subscript
    i t Baseline EndAbsoluteValue"><mrow><mrow><mo>|</mo> <mi>P</mi></mrow> <msub><mi>C</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mrow><mo>|</mo></mrow></mrow></math>
    是时间 *t* 和 *t* - 1 之间价格的绝对差值。
- en: The higher the ratio <math alttext="upper L upper R Subscript i t"><mrow><mi>L</mi>
    <msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></math> is, the
    higher the liquidity of asset *i* will be. This implies that higher traded volume,
    <math alttext="upper P Subscript i t Baseline upper V Subscript i t"><mrow><msub><mi>P</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></math>
    , and low price difference, <math alttext="StartAbsoluteValue upper P upper C
    Subscript i t Baseline EndAbsoluteValue"><mrow><mrow><mo>|</mo> <mi>P</mi></mrow>
    <msub><mi>C</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mrow><mo>|</mo></mrow></mrow></math>
    , amount to high liquidity level. Conversely, if a low volume is necessary to
    initiate a price change, then this asset is referred to as illiquid. Obviously,
    this conceptual framework focuses more on the price aspect than on the issue of
    time or on the execution costs typically present in a market (Gabrielsen, Marzo,
    and Zagaglia 2011).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 比率 <math alttext="upper L upper R Subscript i t"><mrow><mi>L</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></math> 越高，资产 *i* 的流动性也越高。这意味着更高的交易量，<math
    alttext="upper P Subscript i t Baseline upper V Subscript i t"><mrow><msub><mi>P</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></math>
    ，以及低价格差异，<math alttext="StartAbsoluteValue upper P upper C Subscript i t Baseline
    EndAbsoluteValue"><mrow><mrow><mo>|</mo> <mi>P</mi></mrow> <msub><mi>C</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub>
    <mrow><mo>|</mo></mrow></mrow></math> ，代表高流动性水平。反之，如果需要低交易量来引发价格变动，则称此资产为非流动性资产。显然，这一概念框架更侧重于价格方面，而非市场中通常存在的时间或执行成本问题（Gabrielsen、Marzo
    和 Zagaglia，2011）。
- en: 'Let’s first import the data and observe it via the following codes. As it is
    readily observable, the main variables in the dataset are ask (`ASKHI`), bid (`BIDLO`),
    open (`OPENPRC`), and trading price (`PRC`) along with the volume (`VOL`), return
    (`RET`), volume-weighted return (`vwretx`) of the stock, and number of shares
    outstanding (`SHROUT`):'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 首先导入数据并通过以下代码观察。正如可以轻易观察到的那样，数据集中的主要变量包括询价（`ASKHI`）、出价（`BIDLO`）、开盘价（`OPENPRC`）、交易价格（`PRC`），以及成交量（`VOL`）、收益（`RET`）、加权收益率（`vwretx`）和流通股份数量（`SHROUT`）：
- en: '[PRE0]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Calculating some liquidity measures requires a rolling-window estimation, such
    as the calculation of the bid price for five days. To accomplish this task, the
    list named `rolling_five` is generated using the following code:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 计算一些流动性指标需要进行滚动窗口估算，例如计算五天的出价价格。为了完成这项任务，使用以下代码生成名为`rolling_five`的列表：
- en: '[PRE1]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO1-1)'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO1-1)'
- en: Calculating the required statistical measures for five-day window
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 计算五天窗口所需的统计量
- en: Now, we have minimum bid price, max ask price, summation of volume traded, mean
    of the number of shares outstanding, and mean of the trading price per five days.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们有了最低出价、最高询价、成交量总和、流通股份数量的均值，以及每五天的交易价格均值。
- en: Hui-Heubel ratio
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 汇-霍伯尔比率
- en: 'Another measure that captures the depth is the Hui-Heubel liquidity ratio,
    known as <math alttext="upper L Subscript upper H upper H"><msub><mi>L</mi> <mrow><mi>H</mi><mi>H</mi></mrow></msub></math>
    :'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个捕捉市场深度的指标是汇-霍伯尔流动性比率，也称为<math alttext="upper L Subscript upper H upper H"><msub><mi>L</mi>
    <mrow><mi>H</mi><mi>H</mi></mrow></msub></math>：
- en: <math alttext="dollar-sign upper L Subscript upper H upper H Baseline equals
    StartFraction upper P Subscript m a x Baseline minus upper P Subscript m i n Baseline
    Over upper P Subscript m i n Baseline EndFraction slash upper V slash upper P
    overbar times shrout dollar-sign"><mrow><msub><mi>L</mi> <mrow><mi>H</mi><mi>H</mi></mrow></msub>
    <mo>=</mo> <mfrac><mrow><msub><mi>P</mi> <mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub>
    <mo>-</mo><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow>
    <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac> <mo>/</mo>
    <mi>V</mi> <mo>/</mo> <mover><mi>P</mi> <mo>¯</mo></mover> <mo>×</mo> <mtext>shrout</mtext></mrow></math>
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper L Subscript upper H upper H Baseline equals
    StartFraction upper P Subscript m a x Baseline minus upper P Subscript m i n Baseline
    Over upper P Subscript m i n Baseline EndFraction slash upper V slash upper P
    overbar times shrout dollar-sign"><mrow><msub><mi>L</mi> <mrow><mi>H</mi><mi>H</mi></mrow></msub>
    <mo>=</mo> <mfrac><mrow><msub><mi>P</mi> <mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub>
    <mo>-</mo><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow>
    <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mfrac> <mo>/</mo>
    <mi>V</mi> <mo>/</mo> <mover><mi>P</mi> <mo>¯</mo></mover> <mo>×</mo> <mtext>shrout</mtext></mrow></math>
- en: where <math alttext="upper P Subscript m a x"><msub><mi>P</mi> <mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></math>
    and <math alttext="upper P Subscript m i n"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></math>
    show maximum and minimum price over the determined period, respectively. <math
    alttext="upper P overbar"><mover><mi>P</mi> <mo>¯</mo></mover></math> is average
    closing price over determined period. What we have in the numerator is the percentage
    change in the stock price, and the volume traded is divided by market capitalization,
    i.e., <math alttext="upper P overbar times shrout"><mrow><mover><mi>P</mi> <mo>¯</mo></mover>
    <mo>×</mo> <mtext>shrout</mtext></mrow></math> in the denominator. One of the
    most distinguish features of Hui-Heubel liquidity measure is that it is applicable
    to a single stock, not only portfolios.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 其中<math alttext="upper P Subscript m a x"><msub><mi>P</mi> <mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></math>和<math
    alttext="upper P Subscript m i n"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></math>分别显示在确定的周期内的最高和最低价格。<math
    alttext="upper P overbar"><mover><mi>P</mi> <mo>¯</mo></mover></math>是在确定的周期内的平均收盘价。在分子中的是股票价格的百分比变化，分母中的是成交量除以市值，即<math
    alttext="upper P overbar times shrout"><mrow><mover><mi>P</mi> <mo>¯</mo></mover>
    <mo>×</mo> <mtext>shrout</mtext></mrow></math>。汇-霍伯尔流动性度量的最显著特征之一是它适用于单一股票，而不仅仅适用于投资组合。
- en: As discussed by Gabrielsen, Marzo, and Zagaglia (2011), <math alttext="upper
    P Subscript m a x"><msub><mi>P</mi> <mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></math>
    and <math alttext="upper P Subscript m i n"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></math>
    can be replaced by bid-ask spread but due to low volatility in bid-ask spread,
    it tends to bias downward.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如Gabrielsen、Marzo和Zagaglia（2011）所讨论的，<math alttext="upper P Subscript m a x"><msub><mi>P</mi>
    <mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></math>和<math alttext="upper
    P Subscript m i n"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></math>可以由买卖价差取代，但由于买卖价差波动性低，它往往会向下偏倚。
- en: 'To compute the Hui-Heubel liquidity ratio, we first have the liquidity measures
    in a list, then we add all these measures into the dataframe to have all-encompassing
    data:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算汇-霍伯尔流动性比率，首先在一个列表中拥有流动性指标，然后将所有这些指标添加到数据框中，以获得全面的数据：
- en: '[PRE2]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Turnover ratio
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 成交率
- en: 'Turnover ratio has long been treated as a proxy for liquidity. It is basically
    the ratio of volatility to number of shares outstanding:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 成交率长期以来一直被视为流动性的代理指标。它基本上是波动率与流通股份数量的比率：
- en: <math alttext="dollar-sign upper L upper R Subscript i t Baseline equals StartFraction
    1 Over upper D Subscript i t Baseline EndFraction StartFraction sigma-summation
    Underscript t equals 1 Overscript upper T Endscripts upper V o l Subscript i t
    Baseline Over sigma-summation Underscript t equals 1 Overscript upper T Endscripts
    shrout Subscript i t Baseline EndFraction dollar-sign"><mrow><mi>L</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mo>=</mo> <mfrac><mn>1</mn> <msub><mi>D</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mfrac> <mfrac><mrow><msubsup><mo>∑</mo>
    <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> <mi>T</mi></msubsup> <mi>V</mi><mi>o</mi><msub><mi>l</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow> <mrow><msubsup><mo>∑</mo> <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>T</mi></msubsup> <msub><mtext>shrout</mtext> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></mfrac></mrow></math>
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper L upper R Subscript i t Baseline equals StartFraction
    1 Over upper D Subscript i t Baseline EndFraction StartFraction sigma-summation
    Underscript t equals 1 Overscript upper T Endscripts upper V o l Subscript i t
    Baseline Over sigma-summation Underscript t equals 1 Overscript upper T Endscripts
    shrout Subscript i t Baseline EndFraction dollar-sign"><mrow><mi>L</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub> <mo>=</mo> <mfrac><mn>1</mn> <msub><mi>D</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mfrac> <mfrac><mrow><msubsup><mo>∑</mo>
    <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow> <mi>T</mi></msubsup> <mi>V</mi><mi>o</mi><msub><mi>l</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow> <mrow><msubsup><mo>∑</mo> <mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>T</mi></msubsup> <msub><mtext>shrout</mtext> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></mfrac></mrow></math>
- en: where <math alttext="upper D Subscript i t"><msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></math>
    denotes the number of trading days, <math alttext="upper V o l Subscript i t"><mrow><mi>V</mi>
    <mi>o</mi> <msub><mi>l</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mrow></math>
    is the number of shares traded at time *t*, and <math alttext="shrout Subscript
    i t"><msub><mtext>shrout</mtext> <mrow><mi>i</mi><mi>t</mi></mrow></msub></math>
    shows the number of shares outstanding at time *t*. A large turnover rate indicates
    a high level of liquidity, in that turnover implies trading frequency. As turnover
    rate incorporates the number of shares outstanding, it makes it a more subtle
    measure of liquidity.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: 'Turnover ratio is calculated based on daily data, and then all the volume-based
    liquidity measures are converted into a dataframe and are included in `liq_vol_all`:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Transaction Cost–Based Liquidity Measures
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In the real world, buyers and sellers do not magically meet in a frictionless
    environment. Rather, intermediaries (brokers and dealers), equipment (computers
    and the like), patience (trades cannot be realized instantaneously), and a rule
    book that stipulates how orders are to be handled and turned into trades are required.
    Also, the orders of large, institutional investors are big enough to affect market
    prices. All of these imply the existence of trading costs, and just how to structure
    a market (and a broader marketplace) to contain these costs is a subtle and intricate
    challenge (Baker and Kıymaz (2013). This led to the emergence of transaction cost.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: '*Transaction cost* is a cost an investor must bear during trade. It is referred
    to as any expenses related to the execution of trade. A distinction of transaction
    cost as explicit and implicit costs is possible. The former relates to order processing,
    taxes, and brokerage fees, while the latter includes more latent costs, such as
    bid-ask spread, timing of execution, and so on.'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: Transaction cost is related to the tightness and immediacy dimensions of liquidity.
    High transaction costs discourage investors to trade and this, in turn, decreases
    the number of buyers and sellers in the market so that the trading place diverges
    away from the more centralized market into a fragmented one, which result in a
    shallow market (Sarr and Lybek 2002). To the extent that transaction cost is low,
    investors are willing to trade and this results in a flourished trading environment
    in which markets will be more centralized.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: Similarly, an abundance of buyers and sellers in a low transaction cost environment
    refers to the fact that a large number of orders are traded in a short period
    of time. So, immediacy is the other dimension of liquidity, which is closely related
    to the transaction cost.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: Even though there is an ongoing debate about the goodness of bid-ask spread
    as well as the assurance that these models provide, bid-ask spread is a widely
    recognized proxy for transaction cost. To the extent that bid-ask spread is a
    good analysis of transaction cost, it is also a good indicator of liquidity by
    which the ease of converting an asset into cash (or a cash equivalent) might be
    determined. Without going into further detail, bid-ask spread can be measured
    by quoted spread, effective spread, and realized spread methods. So at first glance,
    it may seem strange to calculate bid-ask spread, which can be easily calculated
    by these methods. But this is not the case in reality. When the trade cannot be
    realized inside the quotes, then the spread is no longer the observed spread on
    which these methods are based.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管关于买卖价差的优良性及这些模型提供的保证仍在进行讨论，但买卖价差是广泛认可的交易成本代理。 在买卖价差作为交易成本分析的程度上，它也是资产转换为现金（或现金等价物）的流动性良好指标。
    不详细讨论，买卖价差可以通过报价价差、有效价差和实现价差方法来衡量。 因此乍一看，似乎奇怪地计算买卖价差，可以通过这些方法轻松计算。 但这在现实中并非如此。
    当交易无法在报价内实现时，这时的价差不再是这些方法基于的观察到的价差。
- en: Percentage quoted and effective bid-ask spreads
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 百分比报价和有效买卖价差
- en: 'The other two well-known bid-ask spreads are *percentage quoted* and *percentage
    effective* bid-ask spreads. Quoted spread measures the cost of completing a trade,
    that is, the difference in the bid-ask spread. There are different forms of quoted
    spread but for the sake of scaling, we’ll choose the percentage quoted spread:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 另外两个知名的买卖价差是*百分比报价*和*百分比有效*买卖价差。 报价价差衡量完成交易的成本，即买卖价差的差异。 报价价差有不同的形式，但为了缩放起见，我们将选择百分比报价价差：
- en: <math alttext="dollar-sign Percentage quoted spread equals StartFraction upper
    P Subscript a s k Baseline minus upper P Subscript b i d Baseline Over upper P
    Subscript m i d Baseline EndFraction dollar-sign"><mrow><mtext>Percentage</mtext>
    <mtext>quoted</mtext> <mtext>spread</mtext> <mo>=</mo> <mfrac><mrow><msub><mi>P</mi>
    <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub> <mo>-</mo><msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mfrac></mrow></math>
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Percentage quoted spread equals StartFraction upper
    P Subscript a s k Baseline minus upper P Subscript b i d Baseline Over upper P
    Subscript m i d Baseline EndFraction dollar-sign"><mrow><mtext>Percentage</mtext>
    <mtext>quoted</mtext> <mtext>spread</mtext> <mo>=</mo> <mfrac><mrow><msub><mi>P</mi>
    <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub> <mo>-</mo><msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mfrac></mrow></math>
- en: where <math alttext="upper P Subscript a s k"><msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub></math>
    is the ask price of the stock and <math alttext="upper P Subscript b i d"><msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></math> is the bid price of
    the stock.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper P Subscript a s k"><msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub></math>
    是股票的卖出价，<math alttext="upper P Subscript b i d"><msub><mi>P</mi> <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></math>
    是股票的买入价。
- en: 'The effective spread measures the deviation between trading price and the mid-price,
    which is sometimes called the true underlying value of the stock. When trades
    occur either within or outside the quotes, a better measure of trading costs is
    the percentage effective half spread, which is based on the actual trade price,
    and is computed on a percentage basis (Bessembinder and Venkataraman 2010):'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 有效点差衡量了交易价格与中间价格之间的偏差，有时被称为股票的真实基础价值。当交易发生在报价内或外时，更好的交易成本衡量是基于实际交易价格计算的百分比有效半点差，其按百分比计算（Bessembinder
    和 Venkataraman 2010）：
- en: <math alttext="dollar-sign Effective spread equals StartFraction 2 StartAbsoluteValue
    upper P Subscript t Baseline minus upper P Subscript m i d Baseline EndAbsoluteValue
    Over upper P Subscript m i d Baseline EndFraction dollar-sign"><mrow><mtext>Effective</mtext>
    <mtext>spread</mtext> <mo>=</mo> <mfrac><mrow><mrow><mn>2</mn><mo>|</mo></mrow><msub><mi>P</mi>
    <mi>t</mi></msub> <mo>-</mo><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mrow><mo>|</mo></mrow></mrow> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mfrac></mrow></math>
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Effective spread equals StartFraction 2 StartAbsoluteValue
    upper P Subscript t Baseline minus upper P Subscript m i d Baseline EndAbsoluteValue
    Over upper P Subscript m i d Baseline EndFraction dollar-sign"><mrow><mtext>Effective</mtext>
    <mtext>spread</mtext> <mo>=</mo> <mfrac><mrow><mrow><mn>2</mn><mo>|</mo></mrow><msub><mi>P</mi>
    <mi>t</mi></msub> <mo>-</mo><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mrow><mo>|</mo></mrow></mrow> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mfrac></mrow></math>
- en: where <math alttext="upper P Subscript t"><msub><mi>P</mi> <mi>t</mi></msub></math>
    is the trading price of the stock and <math alttext="upper P Subscript m i d"><msub><mi>P</mi>
    <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></math> is the midpoint of the
    bid-ask offer prevailing at the time of the trade.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper P Subscript t"><msub><mi>P</mi> <mi>t</mi></msub></math>
    是股票的交易价格，<math alttext="upper P Subscript m i d"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></math>
    是交易时期的买卖盘中点。
- en: 'It is relatively easy to calculate the percentage quoted and effective bid-ask
    spreads, as shown in the following:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 计算百分比报价和有效买卖价差相对容易，如下所示：
- en: '[PRE4]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Roll’s spread estimate
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Roll 的点差估计
- en: 'One of the first and foremost spread measures was proposed by Roll (1984).
    The *Roll spread* can be defined as:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 最初和最重要的传播措施之一是由Roll（1984）提出的。*Roll spread* 可以定义为：
- en: <math alttext="dollar-sign Roll equals StartRoot minus cov left-parenthesis
    normal upper Delta p Subscript t Baseline comma normal upper Delta p Subscript
    t minus 1 Baseline right-parenthesis EndRoot dollar-sign"><mrow><mtext>Roll</mtext>
    <mo>=</mo> <msqrt><mrow><mo>-</mo> <mtext>cov</mtext> <mo>(</mo> <mi>Δ</mi> <msub><mi>p</mi>
    <mi>t</mi></msub> <mo>,</mo> <mi>Δ</mi> <msub><mi>p</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow></msqrt></mrow></math>
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Roll equals StartRoot minus cov left-parenthesis
    normal upper Delta p Subscript t Baseline comma normal upper Delta p Subscript
    t minus 1 Baseline right-parenthesis EndRoot dollar-sign"><mrow><mtext>Roll</mtext>
    <mo>=</mo> <msqrt><mrow><mo>-</mo> <mtext>cov</mtext> <mo>(</mo> <mi>Δ</mi> <msub><mi>p</mi>
    <mi>t</mi></msub> <mo>,</mo> <mi>Δ</mi> <msub><mi>p</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub>
    <mo>)</mo></mrow></msqrt></mrow></math>
- en: where <math alttext="normal upper Delta p Subscript t"><mrow><mi>Δ</mi> <msub><mi>p</mi>
    <mi>t</mi></msub></mrow></math> and <math alttext="normal upper Delta p Subscript
    t minus 1"><mrow><mi>Δ</mi> <msub><mi>p</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math>
    are the price differences at time *t* and at time *t* – 1, and <math alttext="cov"><mtext>cov</mtext></math>
    denotes the covariance between these price differences.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="normal upper Delta p Subscript t"><mrow><mi>Δ</mi> <msub><mi>p</mi>
    <mi>t</mi></msub></mrow></math> 和 <math alttext="normal upper Delta p Subscript
    t minus 1"><mrow><mi>Δ</mi> <msub><mi>p</mi> <mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></math>
    是时间 *t* 和时间 *t* – 1 的价格差异，<math alttext="cov"><mtext>cov</mtext></math> 表示这些价格差异之间的协方差。
- en: Assuming that the market is efficient^([1](ch07.html#idm45737216974144)) and
    the probability of distribution of observed price changes is stationary, Roll’s
    spread is motivated by the fact that serial correlation of price changes is a
    good proxy for liquidity.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 假设市场是有效的^([1](ch07.html#idm45737216974144))，并且观察到的价格变化的概率分布是稳定的，Roll 的价差是由价格变化的串行相关性良好代理流动性的事实所激发。
- en: 'One of the most important things to note in calculating Roll’s spread is that
    positive covariance is not well-defined, and it consists of almost half of the
    cases. The literature puts forth several methods to remedy this shortcoming, and
    we’ll embrace Harris’s (1990) approach in the following:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 计算Roll的价差中最重要的一点是，正协方差并不是定义良好的，并且几乎占了案例的一半。文献提出了几种方法来解决这个缺点，我们将在接下来采纳Harris的方法（1990年）：
- en: '[PRE5]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO2-1)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO2-1)'
- en: Calculating the covariance between price differences for the five-day window
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 计算五天窗口内价格差异的协方差
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO2-2)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO2-2)'
- en: Checking the case where the covariance is negative
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 检查协方差为负的情况
- en: '[![3](assets/3.png)](#co_liquidity_modeling_CO2-3)'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_liquidity_modeling_CO2-3)'
- en: In the case of positive covariance, Harris’s approach is applied
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在正协方差的情况下，采用Harris的方法
- en: The Corwin-Schultz spread
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Corwin-Schultz spread
- en: 'The *Corwin-Schultz spread* is rather intuitive and easy to apply. It rests
    mainly on the following assumption: given that the daily high and low prices are
    typically buyer and seller initiated, respectively, the observed price change
    can be split into effective price volatility and bid-ask spread. So the ratio
    of high-to-low prices for a day reflects both the stock’s variance and its bid-ask
    spread (Corwin and Schultz 2012; Abdi and Ranaldo 2017).'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '*Corwin-Schultz spread* 相当直观且易于应用。它主要基于以下假设：每日的高低价通常由买方和卖方发起，观察到的价格变化可以分解为有效价格波动和买卖价差。因此，一天内高低价的比率反映了股票的方差和买卖价差（Corwin
    和 Schultz 2012; Abdi 和 Ranaldo 2017）。'
- en: 'This spread proposes an entirely new approach based on the daily high and low
    prices only, and the logic behind it is summarized by Corwin and Schultz (2012)
    as “the sum of the price ranges over 2 consecutive single days reflect 2 days’
    volatility and twice the spread, while the price range over one 2-day period reflects
    2 days’ volatility and one spread”:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 该价差提出了一种基于每日高低价的全新方法，其逻辑由Corwin 和 Schultz (2012) 概述为“连续单日的价格范围之和反映了2天的波动性和两倍的价差，而一个2天期间的价格范围反映了2天的波动性和一个价差”：
- en: <math alttext="dollar-sign upper S equals StartFraction 2 left-parenthesis e
    Superscript alpha Baseline minus 1 right-parenthesis Over 1 plus e Superscript
    alpha Baseline EndFraction dollar-sign"><mrow><mi>S</mi> <mo>=</mo> <mfrac><mrow><mn>2</mn><mo>(</mo><msup><mi>e</mi>
    <mi>α</mi></msup> <mo>-</mo><mn>1</mn><mo>)</mo></mrow> <mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi>
    <mi>α</mi></msup></mrow></mfrac></mrow></math><math alttext="dollar-sign alpha
    equals StartFraction StartRoot 2 beta EndRoot minus StartRoot beta EndRoot Over
    3 minus 2 StartRoot 2 EndRoot EndFraction minus NestedStartRoot StartFraction
    gamma Over 3 minus 2 StartRoot 2 EndRoot EndFraction NestedEndRoot dollar-sign"><mrow><mi>α</mi>
    <mo>=</mo> <mfrac><mrow><msqrt><mrow><mn>2</mn><mi>β</mi></mrow></msqrt><mo>-</mo><msqrt><mi>β</mi></msqrt></mrow>
    <mrow><mn>3</mn><mo>-</mo><mn>2</mn><msqrt><mn>2</mn></msqrt></mrow></mfrac> <mo>-</mo>
    <msqrt><mfrac><mi>γ</mi> <mrow><mn>3</mn><mo>-</mo><mn>2</mn><msqrt><mn>2</mn></msqrt></mrow></mfrac></msqrt></mrow></math><math
    alttext="dollar-sign beta equals double-struck upper E left-parenthesis sigma-summation
    Underscript j equals 0 Overscript 1 Endscripts left-bracket l n left-parenthesis
    StartFraction upper H Subscript t plus j Superscript 0 Baseline Over upper L Subscript
    t plus j Superscript 0 Baseline EndFraction right-parenthesis right-bracket squared
    right-parenthesis dollar-sign"><mrow><mi>β</mi> <mo>=</mo> <mi>𝔼</mi> <mo>(</mo>
    <msubsup><mo>∑</mo> <mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow> <mn>1</mn></msubsup>
    <msup><mrow><mo>[</mo><mi>l</mi><mi>n</mi><mrow><mo>(</mo><mfrac><msubsup><mi>H</mi>
    <mrow><mi>t</mi><mo>+</mo><mi>j</mi></mrow> <mn>0</mn></msubsup> <msubsup><mi>L</mi>
    <mrow><mi>t</mi><mo>+</mo><mi>j</mi></mrow> <mn>0</mn></msubsup></mfrac> <mo>)</mo></mrow><mo>]</mo></mrow>
    <mn>2</mn></msup> <mo>)</mo></mrow></math><math alttext="dollar-sign gamma equals
    double-struck upper E left-parenthesis sigma-summation Underscript j equals 0
    Overscript 1 Endscripts left-bracket l n left-parenthesis StartFraction upper
    H Subscript t plus 1 Superscript 0 Baseline Over upper L Subscript t plus 1 Superscript
    0 Baseline EndFraction right-parenthesis right-bracket squared right-parenthesis
    dollar-sign"><mrow><mi>γ</mi> <mo>=</mo> <mi>𝔼</mi> <mo>(</mo> <msubsup><mo>∑</mo>
    <mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow> <mn>1</mn></msubsup> <msup><mrow><mo>[</mo><mi>l</mi><mi>n</mi><mrow><mo>(</mo><mfrac><msubsup><mi>H</mi>
    <mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow> <mn>0</mn></msubsup> <msubsup><mi>L</mi>
    <mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow> <mn>0</mn></msubsup></mfrac> <mo>)</mo></mrow><mo>]</mo></mrow>
    <mn>2</mn></msup> <mo>)</mo></mrow></math>
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper S equals StartFraction 2 left-parenthesis e
    Superscript alpha Baseline minus 1 right-parenthesis Over 1 plus e Superscript
    alpha Baseline EndFraction dollar-sign"><mrow><mi>S</mi> <mo>=</mo> <mfrac><mrow><mn>2</mn><mo>(</mo><msup><mi>e</mi>
    <mi>α</mi></msup> <mo>-</mo><mn>1</mn><mo>)</mo></mrow> <mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi>
    <mi>α</mi></msup></mrow></mfrac></mrow></math><math alttext="dollar-sign alpha
    equals StartFraction StartRoot 2 beta EndRoot minus StartRoot beta EndRoot Over
    3 minus 2 StartRoot 2 EndRoot EndFraction minus NestedStartRoot StartFraction
    gamma Over 3 minus 2 StartRoot 2 EndRoot EndFraction NestedEndRoot dollar-sign"><mrow><mi>α</mi>
    <mo>=</mo> <mfrac><mrow><msqrt><mrow><mn>2</mn><mi>β</mi></mrow></msqrt><mo>-</mo><msqrt><mi>β</mi></msqrt></mrow>
    <mrow><mn>3</mn><mo>-</mo><mn>2</mn><msqrt><mn>2</mn></msqrt></mrow></mfrac> <mo>-</mo>
    <msqrt><mfrac><mi>γ</mi> <mrow><mn>3</mn><mo>-</mo><mn>2</mn><msqrt><mn>2</mn></msqrt></mrow></mfrac></msqrt></mrow></math><math
    alttext="dollar-sign beta equals double-struck upper E left-parenthesis sigma-summation
    Underscript j equals 0 Overscript 1 Endscripts left-bracket l n left-parenthesis
    StartFraction upper H Subscript t plus j Superscript 0 Baseline Over upper L Subscript
    t plus j Superscript 0 Baseline EndFraction right-parenthesis right-bracket squared
    right-parenthesis dollar-sign"><mrow><mi>β</mi> <mo>=</mo> <mi>𝔼</mi> <mo>(</mo>
    <msubsup><mo>∑</mo> <mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow> <mn>1</mn></msubsup>
    <msup><mrow><mo>[</mo><mi>l</mi><mi>n</mi><mrow><mo>(</mo><mfrac><msubsup><mi>H</mi>
    <mrow><mi>t</mi><mo>+</mo><mi>j</mi></mrow> <mn>0</mn></msubsup> <msubsup><mi>L</mi>
    <mrow><mi>t</mi><mo>+</mo><mi>j</mi></mrow> <mn>0</mn></msubsup></mfrac> <mo>)</mo></mrow><mo>]</mo></mrow>
    <mn>2</mn></msup> <mo>)</mo></mrow></math><math alttext="dollar-sign gamma equals
    double-struck upper E left-parenthesis sigma-summation Underscript j equals 0
    Overscript 1 Endscripts left-bracket l n left-parenthesis StartFraction upper
    H Subscript t plus 1 Superscript 0 Baseline Over upper L Subscript t plus 1 Superscript
    0 Baseline EndFraction right-parenthesis right-bracket squared right-parenthesis
    dollar-sign"><mrow><mi>γ</mi> <mo>=</mo> <mi>𝔼</mi> <mo>(</mo> <msubsup><mo>∑</mo>
    <mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow> <mn>1</mn></msubsup> <msup><mrow><mo>[</mo><mi>l</mi><mi>n</mi><mrow><mo>(</mo><mfrac><msubsup><mi>H</mi>
    <mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow> <mn>0</mn></msubsup> <msubsup><mi>L</mi>
    <mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow> <mn>0</mn></msubsup></mfrac> <mo>)</mo></mrow><mo>]</mo></mrow>
    <mn>2</mn></msup> <mo>)</mo></mrow></math>
- en: where <math alttext="upper H Subscript t Superscript upper A"><msubsup><mi>H</mi>
    <mi>t</mi> <mi>A</mi></msubsup></math> <math alttext="left-parenthesis upper L
    Subscript t Superscript upper A Baseline right-parenthesis"><mrow><mo>(</mo> <msubsup><mi>L</mi>
    <mi>t</mi> <mi>A</mi></msubsup> <mo>)</mo></mrow></math> denotes actual high (low)
    prices on day *t* and <math alttext="upper H Subscript t Superscript o"><msubsup><mi>H</mi>
    <mi>t</mi> <mi>o</mi></msubsup></math> or <math alttext="upper L Subscript t Superscript
    o"><msubsup><mi>L</mi> <mi>t</mi> <mi>o</mi></msubsup></math> the observed high
    (low) stock price on day *t*.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper H Subscript t Superscript upper A"><msubsup><mi>H</mi>
    <mi>t</mi> <mi>A</mi></msubsup></math> <math alttext="left-parenthesis upper L
    Subscript t Superscript upper A Baseline right-parenthesis"><mrow><mo>(</mo> <msubsup><mi>L</mi>
    <mi>t</mi> <mi>A</mi></msubsup> <mo>)</mo></mrow></math> 表示第 *t* 天的实际高（低）价格，<math
    alttext="upper H Subscript t Superscript o"><msubsup><mi>H</mi> <mi>t</mi> <mi>o</mi></msubsup></math>
    或 <math alttext="upper L Subscript t Superscript o"><msubsup><mi>L</mi> <mi>t</mi>
    <mi>o</mi></msubsup></math> 表示第 *t* 天观察到的高（低）股票价格。
- en: 'The Corwin-Schultz spread requires multiple steps to calculate, as it includes
    many variables. The following code presents our way of doing this calculation:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: Corwin-Schultz价差需要多个步骤来计算，因为它包括许多变量。以下代码展示了我们进行此计算的方式：
- en: '[PRE6]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Price Impact–Based Liquidity Measures
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基于价格影响的流动性度量标准
- en: In this section, we will introduce price impact–based liquidity measures by
    which we are able to gauge the extent to which price is sensitive to volume and
    turnover ratio. Recall that resiliency refers to the market responsiveness about
    new orders. If the market is responsive to the new order—that is, a new order
    correct the imbalances in the market—then it is said to be resilient. Thus, given
    a change in volume and/or turnover ratio, high price adjustment amounts to resiliency
    or vice versa.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将介绍基于价格影响的流动性度量标准，通过这些标准我们能够评估价格对成交量和周转率的敏感程度。回想一下，弹性是指市场对新订单的响应能力。如果市场对新订单敏感——即，新订单纠正了市场的不平衡——那么就说它具有弹性。因此，鉴于成交量和/或周转率的变化，高价格调整量意味着弹性，反之亦然。
- en: 'We have three price impact–based liquidity measures to discuss:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有三种基于价格影响的流动性度量标准需要讨论：
- en: The Amihud illiquidity measure
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amihud流动性测量
- en: The Florackis, Andros, and Alexandros (2011) price impact ratio
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Florackis、Andros和Alexandros（2011年）价格影响比率
- en: Coefficient of elasticity of trading (CET)
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易弹性系数（CET）
- en: Amihud illiquidity
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Amihud流动性
- en: 'This liquidity proxy is a celebrated and widely recognized measure. Amihud
    illiquidity (2002) basically measures the sensitivity of the return to trading
    volume. More concretely, it gives us a sense about a change in absolute return
    as trading volume changes by $1\. The Amihud illiquidity measure, or ILLIQ for
    short, is well known among academics and practitioners:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 这种流动性代理是一种著名且广为认可的衡量标准。Amihud流动性（2002年）基本上衡量了收益对交易量敏感性。更具体地说，它让我们了解到在交易量变化1美元时，绝对收益的变化情况。Amihud流动性测量，或简称ILLIQ，广为学术界和从业者所知：
- en: <math alttext="dollar-sign ILLIQ equals StartFraction 1 Over upper D Subscript
    i t Baseline EndFraction sigma-summation Underscript d equals 1 Overscript upper
    D Subscript i t Baseline Endscripts StartFraction StartAbsoluteValue upper R Subscript
    i t d Baseline EndAbsoluteValue Over upper V Subscript i t d Baseline EndFraction
    dollar-sign"><mrow><mtext>ILLIQ</mtext> <mo>=</mo> <mfrac><mn>1</mn> <msub><mi>D</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mfrac> <msubsup><mo>∑</mo> <mrow><mi>d</mi><mo>=</mo><mn>1</mn></mrow>
    <msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></msubsup> <mfrac><mrow><mrow><mo>|</mo></mrow><msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub> <mrow><mo>|</mo></mrow></mrow>
    <msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></mfrac></mrow></math>
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign ILLIQ equals StartFraction 1 Over upper D Subscript
    i t Baseline EndFraction sigma-summation Underscript d equals 1 Overscript upper
    D Subscript i t Baseline Endscripts StartFraction StartAbsoluteValue upper R Subscript
    i t d Baseline EndAbsoluteValue Over upper V Subscript i t d Baseline EndFraction
    dollar-sign"><mrow><mtext>ILLIQ</mtext> <mo>=</mo> <mfrac><mn>1</mn> <msub><mi>D</mi>
    <mrow><mi>i</mi><mi>t</mi></mrow></msub></mfrac> <msubsup><mo>∑</mo> <mrow><mi>d</mi><mo>=</mo><mn>1</mn></mrow>
    <msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></msubsup> <mfrac><mrow><mrow><mo>|</mo></mrow><msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub> <mrow><mo>|</mo></mrow></mrow>
    <msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></mfrac></mrow></math>
- en: where <math alttext="upper R Subscript i t d"><msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></math>
    is the stock return on day *t* at month *t*, <math alttext="upper V Subscript
    i t d"><msub><mi>V</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></math>
    represents the dollar volume on day *d* at month *t*, and *D* is the number of
    observation days in month *t*.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper R Subscript i t d"><msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></math>
    表示月 *t* 第 *d* 天的股票收益，<math alttext="upper V Subscript i t d"><msub><mi>V</mi>
    <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></math> 表示当月 *t* 的美元交易量，*D*
    是月 *t* 的观察天数。
- en: The Amihud measure has two advantages over many other liquidity measures. First,
    the Amihud measure has a simple construction that uses the absolute value of the
    daily return-to-volume ratio to capture price impact. Second, the measure has
    a strong positive relation with expected stock return (Lou and Tao 2017).
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Amihud测量法比许多其他流动性指标具有两个优势。首先，Amihud测量法的构造简单，利用每日收益率与成交量比率的绝对值来捕捉价格影响。其次，该测量法与预期股票回报率有很强的正相关关系（Lou和Tao，2017年）。
- en: 'The Amihud illiquidity measure is not hard to calculate. However, before directly
    calculating the Amihud’s measure, the dollar volume of stocks needs to be computed:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: Amihud流动性测量并不难计算。然而，在直接计算Amihud测量之前，需要计算股票的交易金额：
- en: '[PRE7]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The price impact ratio
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 价格影响比率
- en: 'Florackis, Andros, and Alexandros (2011) aimed to improve the Amihud illiquidity
    ratio, and came up with a new liquidity measure, Return-to-Turnover (RtoTR). The
    disadvantages of Amihud’s illiquidity measure are listed by authors as:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: Florackis, Andros, 和 Alexandros (2011) 旨在改进Amihud流动性比率，并提出了一种新的流动性指标，即Return-to-Turnover
    (RtoTR)。作者列举了Amihud流动性指标的缺点：
- en: It is not comparable across stocks with different market capitalizations.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它在不同市值的股票之间无法比较。
- en: It neglects the investor’s holding horizon.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它忽视了投资者的持有期限。
- en: 'To deal with these drawbacks, Florackis, Andros, and Alexandros presented a
    new measure, RtoTR, that replaces the volume ratio of Amihud’s model with turnover
    ratio so that the new measure is able to capture the trading frequency:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 为了应对这些缺点，Florackis, Andros 和 Alexandros提出了一个新的测量方法RtoTR，用换手率取代了Amihud模型的成交量比率，以便新的测量方法能够捕捉交易频率：
- en: <math alttext="dollar-sign RtoTR equals StartFraction 1 Over upper D Subscript
    i t Baseline EndFraction sigma-summation Underscript d equals 1 Overscript upper
    D Subscript i t Baseline Endscripts StartFraction StartAbsoluteValue upper R Subscript
    i t d Baseline EndAbsoluteValue Over upper T upper R Subscript i t d Baseline
    EndFraction dollar-sign"><mrow><mtext>RtoTR</mtext> <mo>=</mo> <mfrac><mn>1</mn>
    <msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mfrac> <msubsup><mo>∑</mo>
    <mrow><mi>d</mi><mo>=</mo><mn>1</mn></mrow> <msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></msubsup>
    <mfrac><mrow><mrow><mo>|</mo></mrow><msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub>
    <mrow><mo>|</mo></mrow></mrow> <mrow><mi>T</mi><msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></mrow></mfrac></mrow></math>
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign RtoTR equals StartFraction 1 Over upper D Subscript
    i t Baseline EndFraction sigma-summation Underscript d equals 1 Overscript upper
    D Subscript i t Baseline Endscripts StartFraction StartAbsoluteValue upper R Subscript
    i t d Baseline EndAbsoluteValue Over upper T upper R Subscript i t d Baseline
    EndFraction dollar-sign"><mrow><mtext>RtoTR</mtext> <mo>=</mo> <mfrac><mn>1</mn>
    <msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></mfrac> <msubsup><mo>∑</mo>
    <mrow><mi>d</mi><mo>=</mo><mn>1</mn></mrow> <msub><mi>D</mi> <mrow><mi>i</mi><mi>t</mi></mrow></msub></msubsup>
    <mfrac><mrow><mrow><mo>|</mo></mrow><msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub>
    <mrow><mo>|</mo></mrow></mrow> <mrow><mi>T</mi><msub><mi>R</mi> <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></mrow></mfrac></mrow></math>
- en: where <math alttext="upper T upper R Subscript i t d"><mrow><mi>T</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></mrow></math> is the monetary
    volume of stock *i* on day *d* at month *t*, and the rest of the components are
    the same as in Amihud’s illiquidity measure.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="upper T upper R Subscript i t d"><mrow><mi>T</mi> <msub><mi>R</mi>
    <mrow><mi>i</mi><mi>t</mi><mi>d</mi></mrow></msub></mrow></math> 是股票*i*在*d*日的月份*t*的货币交易量，其余部分与Amihud流动性测量中相同。
- en: The measure is as easy to calculate as Amihud’s measure, and it has no size
    bias because it includes the turnover ratio for capturing the trading frequency.
    This also helps us to examine the price and size effect.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 这个测量方法与Amihud的测量一样容易计算，并且没有尺寸偏差，因为它包括捕捉交易频率的换手率。这也帮助我们检验价格和规模效应。
- en: 'The calculation of the price impact ratio is provided below:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 以下提供了价格影响比率的计算：
- en: '[PRE8]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Coefficient of elasticity of trading
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 交易弹性系数
- en: CET is a liquidity measure proposed to remedy the shortcomings of time-related
    liquidity measures such as number of trades and orders per unit of time. These
    measures are adopted to assess the extent to which market immediacy affects the
    liquidity level.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: CET是一种旨在弥补时间相关流动性指标（如每单位时间的交易次数和订单数）缺陷的流动性指标。这些指标被采用来评估市场即时性对流动性水平的影响程度。
- en: 'Market immediacy and CET go hand in hand as it measures the price elasticity
    of trading volume and if price is responsive (i.e., elastic) to the trading volume,
    that amounts to a greater level of market immediacy:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 市场即时性和CET是相辅相成的，因为它衡量了交易量的价格弹性，如果价格对交易量具有响应性（即弹性），这就意味着更高水平的市场即时性：
- en: <math alttext="dollar-sign CET equals StartFraction percent-sign normal upper
    Delta upper V Over percent-sign normal upper Delta upper P EndFraction dollar-sign"><mrow><mtext>CET</mtext>
    <mo>=</mo> <mfrac><mrow><mo>%</mo><mi>Δ</mi><mi>V</mi></mrow> <mrow><mo>%</mo><mi>Δ</mi><mi>P</mi></mrow></mfrac></mrow></math>
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign CET equals StartFraction percent-sign normal upper
    Delta upper V Over percent-sign normal upper Delta upper P EndFraction dollar-sign"><mrow><mtext>CET</mtext>
    <mo>=</mo> <mfrac><mrow><mo>%</mo><mi>Δ</mi><mi>V</mi></mrow> <mrow><mo>%</mo><mi>Δ</mi><mi>P</mi></mrow></mfrac></mrow></math>
- en: where <math alttext="percent-sign normal upper Delta upper V"><mrow><mo>%</mo>
    <mi>Δ</mi> <mi>V</mi></mrow></math> refers to change in trading volume and <math
    alttext="percent-sign normal upper Delta upper P"><mrow><mo>%</mo> <mi>Δ</mi>
    <mi>P</mi></mrow></math> denotes a change in price.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="percent-sign normal upper Delta upper V"><mrow><mo>%</mo>
    <mi>Δ</mi> <mi>V</mi></mrow></math> 指的是交易量变化，<math alttext="percent-sign normal
    upper Delta upper P"><mrow><mo>%</mo> <mi>Δ</mi> <mi>P</mi></mrow></math> 表示价格变化。
- en: 'The Python code of the CET formula is provided below. As a first part of this
    application, percentage difference in volume and price are calculated. Then all
    price impact-based liquidity measures are stored in the `liq_vol_all` dataframe:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 下面提供了CET公式的Python代码。作为此应用程序的第一部分，计算了成交量和价格的百分比差异。然后将所有基于价格影响的流动性指标存储在`liq_vol_all`数据框中：
- en: '[PRE9]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO3-1)'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO3-1)'
- en: Calculating the percentage volume difference
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 计算百分比成交量差异
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO3-2)'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO3-2)'
- en: Calculating the percentage price difference
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 计算百分比价格差异
- en: Market Impact-Based Liquidity Measures
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 基于市场影响的流动性指标
- en: Identifying the source of information is a big deal in finance because an unknown
    source of information might mislead investors and lead to unintended consequences.
    A price surge, for instance, arising from the market does not provide the same
    information as one arising from an individual stock. With that being said, a new
    source of information should be identified in a way to capture price movement
    properly.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融领域，识别信息来源至关重要，因为未知的信息来源可能会误导投资者，并导致意外后果。例如，市场上涨产生的价格波动并不能像个别股票上涨产生的那样提供相同的信息。因此，应该以一种正确捕捉价格变动的方式识别新的信息来源。
- en: To accomplish this task, we use the capital asset pricing model (CAPM), by which
    we can distinguish systematic and unsystematic risk. The famous slope coefficient
    in CAPM indicates systematic risks, and the unsystematic risk is attributable
    to individual stocks as long as market risk is removed.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 为完成此任务，我们使用资本资产定价模型（CAPM），通过该模型我们可以区分系统性风险和非系统性风险。CAPM中的著名斜率系数表示系统性风险，去除市场风险后，非系统性风险归因于个别股票。
- en: 'As it is referenced in Sarr and Lybek (2002), Hui-Heubel embraces the following
    approach:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 正如 Sarr 和 Lybek (2002) 所引用的，Hui-Heubel 采用了以下方法：
- en: <math alttext="dollar-sign upper R Subscript i Baseline equals alpha plus beta
    upper R Subscript m Baseline plus u Subscript i dollar-sign"><mrow><msub><mi>R</mi>
    <mi>i</mi></msub> <mo>=</mo> <mi>α</mi> <mo>+</mo> <mi>β</mi> <msub><mi>R</mi>
    <mi>m</mi></msub> <mo>+</mo> <msub><mi>u</mi> <mi>i</mi></msub></mrow></math>
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper R Subscript i Baseline equals alpha plus beta
    upper R Subscript m Baseline plus u Subscript i dollar-sign"><mrow><msub><mi>R</mi>
    <mi>i</mi></msub> <mo>=</mo> <mi>α</mi> <mo>+</mo> <mi>β</mi> <msub><mi>R</mi>
    <mi>m</mi></msub> <mo>+</mo> <msub><mi>u</mi> <mi>i</mi></msub></mrow></math>
- en: where <math alttext="upper R Subscript i"><msub><mi>R</mi> <mi>i</mi></msub></math>
    is the daily return on <math alttext="i Superscript t h"><msup><mi>i</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>
    stock, and <math alttext="u Subscript i"><msub><mi>u</mi> <mi>i</mi></msub></math>
    is the idiosyncratic or unsystematic risk.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="上标 R 子 i"><msub><mi>R</mi> <mi>i</mi></msub></math> 是 <math
    alttext="i 上标 t 下标 h"><msup><mi>i</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>
    股票的每日收益率，<math alttext="u 子 i"><msub><mi>u</mi> <mi>i</mi></msub></math> 是特有的或非系统性风险。
- en: 'Once we estimate residuals, <math alttext="u Subscript i"><msub><mi>u</mi>
    <mi>i</mi></msub></math> , from the equation, it is regressed over the volatility,
    <math alttext="upper V Subscript i"><msub><mi>V</mi> <mi>i</mi></msub></math>
    , and the estimated coefficient of <math alttext="upper V Subscript i"><msub><mi>V</mi>
    <mi>i</mi></msub></math> gives the liquidity level of the related stock, also
    known as the idiosyncratic risk:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们从方程中估计出残差，<math alttext="u 子 i"><msub><mi>u</mi> <mi>i</mi></msub></math>，它被回归到波动率，<math
    alttext="上标 V 子 i"><msub><mi>V</mi> <mi>i</mi></msub></math>，并且 <math alttext="上标
    V 子 i"><msub><mi>V</mi> <mi>i</mi></msub></math> 的估计系数给出了相关股票的流动性水平，也称为特有风险：
- en: <math alttext="dollar-sign u Subscript i Superscript 2 Baseline equals gamma
    1 plus gamma 2 upper V Subscript i Baseline plus e Subscript i dollar-sign"><mrow><msubsup><mi>u</mi>
    <mi>i</mi> <mn>2</mn></msubsup> <mo>=</mo> <msub><mi>γ</mi> <mn>1</mn></msub>
    <mo>+</mo> <msub><mi>γ</mi> <mn>2</mn></msub> <msub><mi>V</mi> <mi>i</mi></msub>
    <mo>+</mo> <msub><mi>e</mi> <mi>i</mi></msub></mrow></math>
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign u Subscript i Superscript 2 Baseline equals gamma
    1 plus gamma 2 upper V Subscript i Baseline plus e Subscript i dollar-sign"><mrow><msubsup><mi>u</mi>
    <mi>i</mi> <mn>2</mn></msubsup> <mo>=</mo> <msub><mi>γ</mi> <mn>1</mn></msub>
    <mo>+</mo> <msub><mi>γ</mi> <mn>2</mn></msub> <msub><mi>V</mi> <mi>i</mi></msub>
    <mo>+</mo> <msub><mi>e</mi> <mi>i</mi></msub></mrow></math>
- en: where <math alttext="u Subscript i Superscript 2"><msubsup><mi>u</mi> <mi>i</mi>
    <mn>2</mn></msubsup></math> denotes the squared residuals, <math alttext="upper
    V Subscript i"><msub><mi>V</mi> <mi>i</mi></msub></math> is the daily percentage
    change in trading volume, and <math alttext="e Subscript i"><msub><mi>e</mi> <mi>i</mi></msub></math>
    is the residual term.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 <math alttext="u 子 i 上标 2"><msubsup><mi>u</mi> <mi>i</mi> <mn>2</mn></msubsup></math>
    表示平方残差，<math alttext="上标 V 子 i"><msub><mi>V</mi> <mi>i</mi></msub></math> 是每日成交量的百分比变化，<math
    alttext="e 子 i"><msub><mi>e</mi> <mi>i</mi></msub></math> 是残差项。
- en: 'Larger <math alttext="gamma 2"><msub><mi>γ</mi> <mn>2</mn></msub></math> implies
    larger price movements, and this gives us a sense about the liquidity of the stock.
    Conversely, the smaller <math alttext="gamma 2"><msub><mi>γ</mi> <mn>2</mn></msub></math>
    leads to smaller price movements, indicating higher liquidity levels. In code,
    we have:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 较大的 <math alttext="gamma 2"><msub><mi>γ</mi> <mn>2</mn></msub></math> 意味着较大的价格波动，这让我们对股票的流动性有了直观的了解。相反，较小的
    <math alttext="gamma 2"><msub><mi>γ</mi> <mn>2</mn></msub></math> 导致较小的价格波动，表明流动性水平较高。在代码中，我们有：
- en: '[PRE10]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO4-1)'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO4-1)'
- en: Assigning volume-weighted returns of all tickers as the independent variable
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 将所有股票的成交量加权收益率作为自变量。
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO4-2)'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO4-2)'
- en: Assigning returns of all tickers as the dependent variable
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 将所有股票的收益率作为因变量。
- en: '[![3](assets/3.png)](#co_liquidity_modeling_CO4-3)'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_liquidity_modeling_CO4-3)'
- en: Running the linear regression model with the defined variables
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 使用定义的变量运行线性回归模型。
- en: '[![4](assets/4.png)](#co_liquidity_modeling_CO4-4)'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_liquidity_modeling_CO4-4)'
- en: Storing the residuals coming from the linear regression as an unsystematic factor
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 将线性回归的残差存储为非系统性因子。
- en: 'And then we calculate the market impact-based liquidity ratio:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们计算基于市场影响的流动性比率：
- en: '[PRE11]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO5-1)'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO5-1)'
- en: Assigning percentage change in volume of all tickers as the independent variable
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 将所有股票成交量的百分比变化作为自变量。
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO5-2)'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO5-2)'
- en: Market impact the residual of this linear regression
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 市场影响是这个线性回归的残差。
- en: 'Then, we include the market impact in our dataframe and observe the summary
    statistics of all the liquidity measures that we’ve introduced so far:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将市场影响纳入我们的数据框，并观察到目前为止我们引入的所有流动性度量的摘要统计数据：
- en: '[PRE12]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO6-1)'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO6-1)'
- en: Appending market impact into the `liq_vol_all` dataframe.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 将市场影响附加到 `liq_vol_all` 数据框中。
- en: These are the liquidity measures that we take advantage of in the process of
    modeling the liquidity via GMM. Now let’s discuss this via a probabilistic unsupervised
    learning algorithm.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是我们在通过GMM建模流动性过程中利用的流动性度量。现在让我们通过概率无监督学习算法来讨论这一点。
- en: Gaussian Mixture Model
  id: totrans-158
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高斯混合模型
- en: What happens if we have data with several modes that represent different aspects
    of the data? Or let’s put it in the context of liquidity measures, how can you
    model liquidity measures with different mean variance? As you can imagine, data
    consisting of liquidity measures is multimodal, meaning that there exists several
    different high-probability masses and our task is to find out which model fits
    best to this type of data.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们的数据具有几个模式，代表数据的不同方面会发生什么？或者让我们将其放在流动性指标的背景下，你如何用不同的均值方差来建模流动性指标？正如你可以想象的那样，由流动性指标组成的数据是多模式的，意味着存在几个不同的高概率集群，我们的任务是找出哪种模型最适合这类数据。
- en: It is evident that the proposed model is supposed to include a mixture of several
    components, and without knowing the specific liquidity measure, it should be clustered
    based on the values obtained from the measures. To recap, we will have one big
    dataset that includes all liquidity measures, and assuming for the moment that
    we forgot to assign labels to these measures, we need a model that presents different
    distributions of these measures without knowing the labels. This model is GMM,
    which enables us to model multimodal data without knowing the names of the variables.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，提议的模型应包括多个组件的混合，并且在不知道具体流动性度量的情况下，应基于从这些度量中获得的值进行聚类。总结一下，我们将有一个包含所有流动性度量的大数据集，假设我们暂时忘记为这些度量分配标签，我们需要一个能够呈现这些度量不同分布的模型，而不知道标签的情况下。这个模型就是GMM，它使我们能够在不知道变量名称的情况下建模多模态数据。
- en: Considering the different focus of the liquidity measures introduced before,
    if we somehow manage to model this data, that means we can capture different liquidity
    level at different times. For instance, liquidity in a high-volatility period
    cannot be modeled in the same way as a low-volatility period. In a similar vein,
    given the depth of the market, we need to focus on these different aspects of
    liquidity. GMM provides us with a tool to address this problem.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到之前介绍的不同流动性指标的不同重点，如果我们设法对这些数据进行建模，那意味着我们可以在不同时间捕捉到不同的流动性水平。例如，高波动率期间的流动性无法以与低波动率期间相同的方式建模。在相似的情况下，考虑到市场的深度，我们需要关注这些不同流动性的方面。GMM为我们提供了解决这个问题的工具。
- en: Long story short, if a market is experiencing a boom period, which coincides
    with high volatility, volume and transaction cost–based measures would be good
    choices, and if a market ends up with price discontinuity, price-based measures
    would be the optimal choice. Of course, we are not talking about one-size-fits-all
    measures—there may be some instances in which a mixture of measures would work
    better.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，如果市场经历繁荣期，这与高波动性重合，基于成交量和交易成本的度量将是不错的选择；如果市场出现价格不连续，基于价格的度量将是最佳选择。当然，我们不是在谈论一刀切的度量方法——有些情况下，混合度量可能效果更好。
- en: 'As put by VanderPlas (2016), for K-means to succeed, cluster models must have
    circular characteristics. Nevertheless, many financial variables exhibit non-circular
    shapes that make it hard to model via K-means. As is readily observable, liquidity
    measures overlap and do not have circular shapes, so GMM with its probabilistic
    nature would be a good choice for modeling this type of data, as described by
    Fraley and Raftery (1998):'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 正如VanderPlas（2016）所述，对于K-means要成功，聚类模型必须具有圆形特征。然而，许多金融变量展示出非圆形形状，这使得通过K-means进行建模变得困难。正如可以清楚地观察到的那样，流动性指标重叠并且没有圆形形状，因此具有其概率特性的GMM将是建模这类数据的良好选择，正如Fraley和Raftery（1998）所述：
- en: One advantage of the mixture-model approach to clustering is that it allows
    the use of approximate Bayes factors to compare models. This gives a systematic
    means of selecting not only the parameterization of the model (and hence the clustering
    method), but also the number of clusters.
  id: totrans-164
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 混合模型方法在聚类中的一个优势是它允许使用近似贝叶斯因子来比较模型。这提供了一个系统的方式，不仅可以选择模型的参数化（因而是聚类方法），还可以选择聚类数目。
- en: In this part, we would like to import necessary libraries to be used in the
    GMM. Also, scaling is applied, which is an essential step in clustering as we
    have mixed numerical values in the dataframe. In the last part of the code that
    follows, a histogram is drawn to observe the multimodality in the data ([Figure 7-1](#modality_liq)).
    This is a phenomenon that we have discussed in the very first part of this section.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在这部分中，我们希望导入GMM中所需的库。此外，我们还进行了缩放处理，这是聚类中的一个重要步骤，因为数据框中存在混合数值。在接下来的代码的最后部分中，我们绘制了直方图以观察数据中的多模态性（参见[图 7-1](#modality_liq)）。这是我们在本节开头讨论的现象。
- en: '[PRE13]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '![modality](assets/mlfr_0701.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![modality](assets/mlfr_0701.png)'
- en: Figure 7-1\. Multimodality of the liquidity measures
  id: totrans-168
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-1\. 流动性指标的多模态性
- en: And now, given the transaction cost, volume, and market-based liquidity measures,
    multimodality (i.e., three peaks) can be easily observed in [Figure 7-1](#modality_liq).
    Due to the scaling issue, the price impact–based liquidity dimension is not included
    in the histogram.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，考虑到交易成本、交易量和市场流动性指标，我们可以在[图 7-1](#modality_liq)中轻松观察到多峰性（即三个峰值）。由于尺度问题，基于价格影响的流动性维度未包含在直方图中。
- en: 'Now, let’s run GMM and see how we can cluster the liquidity measures. But first,
    a common question arises: how many clusters should we have? To address this question,
    we’ll use BIC again, and generate the plot shown in [Figure 7-2](#scree_gmm):'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们运行GMM模型，看看如何对流动性指标进行聚类。但首先，一个常见的问题是：我们应该有多少个簇？为了解决这个问题，我们将再次使用BIC，并生成如[图 7-2](#scree_gmm)所示的图表：
- en: '[PRE14]'
  id: totrans-171
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO7-1)'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO7-1)'
- en: Generating different BIC values based on different numbers of clusters
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 根据不同的簇数量生成不同的BIC值
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO7-2)'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO7-2)'
- en: Drawing a line plot for BIC values given number of components
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 绘制给定组件数量的BIC值线图
- en: '![opt_cluster](assets/mlfr_0702.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![opt_cluster](assets/mlfr_0702.png)'
- en: Figure 7-2\. Optimum number of components
  id: totrans-177
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 7-2\. 最佳组件数量
- en: '[Figure 7-2](#scree_gmm) shows us that the line seems to flatten out after
    the third cluster, making that an ideal point at which to stop.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 7-2](#scree_gmm)告诉我们，在第三个簇之后，曲线似乎趋于平缓，这是停止的理想点。'
- en: 'Using the following code, we are able to detect the state by which data is
    best represented. The term *state* represents nothing but the cluster with the
    highest posterior probability. It means that this specific state accounts for
    the dynamics of the data most. In this case, State-3 with a probability of 0.55
    is the most likely state to explain the dynamics of the data:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下代码，我们能够检测数据最佳表示状态。术语*state*代表的是具有最高后验概率的簇。这意味着这个特定的状态最能解释数据的动态。在这种情况下，概率为0.55的State-3是最有可能解释数据动态的状态：
- en: '[PRE15]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO8-1)'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO8-1)'
- en: Configuring the GMM
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 配置GMM模型
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO8-2)'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO8-2)'
- en: Fitting GMM with scaled data
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 使用缩放后的数据拟合GMM模型
- en: '[![3](assets/3.png)](#co_liquidity_modeling_CO8-3)'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_liquidity_modeling_CO8-3)'
- en: Running prediction
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 运行预测
- en: '[![4](assets/4.png)](#co_liquidity_modeling_CO8-4)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_liquidity_modeling_CO8-4)'
- en: Obtaining the state probabilities
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 获取状态概率
- en: '[![5](assets/5.png)](#co_liquidity_modeling_CO8-5)'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_liquidity_modeling_CO8-5)'
- en: Computing the average of all three state probabilities
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 计算三个状态概率的平均值
- en: All right, does it not make sense to apply GMM to cluster liquidity measures
    and extract the likely state to represent it as one-dimensional data? It literally
    makes our lives easier because at the end of the data, we come up with only one
    cluster with highest probability. But what would you think if we applied PCA to
    fully understand which variables are correlated with the prevailing state? In
    PCA, we are able to build a bridge between components and features using loadings
    so that we can analyze which liquidity measures have the defining characteristics
    of a specific period.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 好了，将GMM应用于聚类流动性指标并提取代表其一维数据的可能状态，这样做是合理的吗？因为在数据末尾，我们最终得到了只有一个具有最高概率的簇。但是，如果我们应用PCA来完全理解哪些变量与当前状态相关联，您会怎么想呢？在PCA中，我们能够通过载荷建立组件和特征之间的桥梁，以便分析哪些流动性指标具有特定时期的定义特征。
- en: 'As a first step, let’s apply PCA and create a scree plot ([Figure 7-3](#scree_plot_gmm))
    to determine the number of components we are working with:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们应用PCA并创建一个scree图([图 7-3](#scree_plot_gmm))，以确定我们正在处理的组件数量：
- en: '[PRE16]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![scree_plot_gmm](assets/mlfr_0703.png)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![scree_plot_gmm](assets/mlfr_0703.png)'
- en: Figure 7-3\. Scree plot
  id: totrans-195
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图7-3\. Scree plot
- en: Based on [Figure 7-3](#scree_plot_gmm), we’ll decide to stop at component 3.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 基于[图7-3](#scree_plot_gmm)，我们将决定停留在第3个成分。
- en: 'As we now have determined the number of components, let’s rerun PCA with three
    components and GMM. Similar to our previous GMM application, posterior probability
    is calculated and assigned to a variable named `state_probs`:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们确定了组分的数量，让我们使用三个组分和GMM重新运行PCA。与之前的GMM应用类似，后验概率被计算并分配给一个名为`state_probs`的变量：
- en: '[PRE17]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'In what follows, we find out the state with the highest probability, and it
    turns out to be State-1 with a probability of 73%:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们找出概率最高的状态，结果显示是State-1，概率为73%：
- en: '[PRE18]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Let’s now turn our attention to finding which liquidity measures matter most
    using loading analysis. This analysis suggests that `turnover_ratio`, `percent_quoted_ba`,
    `percent_effective_ba`, `amihud`, and `florackis` ratios are the liquidity ratios
    composing the State-1\. The following code shows the result:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们关注找出哪些流动性度量最重要的加载分析。这种分析表明`turnover_ratio`、`percent_quoted_ba`、`percent_effective_ba`、`amihud`和`florackis`比率是组成State-1的流动性比率。以下代码显示了结果：
- en: '[PRE19]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO9-1)'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO9-1)'
- en: Calculating loading from PCA
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 计算PCA的载荷
- en: Gaussian Mixture Copula Model
  id: totrans-205
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高斯混合copula模型
- en: 'Given the complexity and sophistication of financial markets, it is not possible
    to suggest one-size-fits-all risk models. Thus, financial institutions develop
    their own models for credit, liquidity, market, and operational risks so that
    they can manage the risks they face more efficiently and realistically. However,
    one of the biggest challenges that these financial institutions come across is
    the correlation, also known as joint distribution, of the risk, as put by Rachev
    and Stein (2009):'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于金融市场的复杂性和精密性，不可能提出一种适合所有情况的风险模型。因此，金融机构开发了自己的信用、流动性、市场和操作风险模型，以便更有效和现实地管理面临的风险。然而，这些金融机构面临的最大挑战之一是风险的相关性，也被称为风险的联合分布，正如Rachev和Stein（2009）所述：
- en: With the emergence of the sub-prime crisis and the following credit crunch,
    academics, practitioners, philosophers and journalists started searching for causes
    and failures that led to the turmoil and (almost) unprecedented market deteriorations...
    the arguments against several methods and models used at Wall Street and throughout
    the world are, in many cases, putting those in the wrong light. Beyond the fact
    that risks and issues were clouded by the securitization, tranching and packaging
    of underlyings in the credit markets as well as by the unfortunate and somehow
    misleading role of rating agencies, mathematical models were used in the markets
    which are now under fire due to their incapability of capturing risks in extreme
    market phases.
  id: totrans-207
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 随着次贷危机的出现和随后的信贷紧缩，学者、从业者、哲学家和记者开始寻找导致动荡和（几乎）前所未有的市场恶化的原因和失败... 对华尔街及全球各地使用的几种方法和模型提出的批评，在许多情况下都是把它们置于错误的光线之下。除了风险和问题被证券化、分级和包装了信贷市场底层资产以及评级机构不幸和有些误导性的角色所蒙蔽之外，数学模型被用于市场，而这些模型现在由于它们在极端市场阶段无法捕捉风险而受到质疑。
- en: The task of modeling “extreme market phases” leads us to the concept of joint
    distribution by which we are allowed to model multiple risks with a single distribution.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 建模“极端市场阶段”的任务引导我们到联合分布的概念，通过它可以用单一分布来模拟多个风险。
- en: 'A model disregarding the interaction of risks is destined for failure. In this
    respect, an intuitive yet simple approach is proposed: *copulas*.'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 忽略风险相互作用的模型注定会失败。在这方面，提出了一个直观但简单的方法：*copulas*。
- en: Copula is a function that maps marginal distribution of individual risks to
    multivariate distribution, resulting in a joint distribution of many standard
    uniform random variables. If we are working with a known distribution, such as
    normal distribution, it is easy to model joint distribution of variables, known
    as bivariate normal. However, the challenge here is to define the correlation
    structure between these two variables, and this is the point at which copulas
    come in (Hull 2012).
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: Copula是一个函数，将个体风险的边际分布映射到多变量分布，从而产生许多标准均匀随机变量的联合分布。如果我们使用已知分布，比如正态分布，可以很容易地建模变量的联合分布，称为双变量正态分布。然而，挑战在于定义这两个变量之间的相关结构，而这正是copulas的应用之处（Hull
    2012）。
- en: 'With Sklar’s theorem, let *F* be a marginal continuous cumulative distribution
    function (CDF) of <math alttext="upper X Superscript i"><msup><mi>X</mi> <mi>i</mi></msup></math>
    . A CDF transformation maps a random variable to a scalar that is uniformly distributed
    in [0,1]. However, the joint distribution of all these marginal CDFs does not
    follow uniform distribution and a copula function (Kasa and Rajan 2020):'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Sklar定理，让*F*成为<math alttext="upper X Superscript i"><msup><mi>X</mi> <mi>i</mi></msup></math>的边际连续累积分布函数（CDF）。
    CDF变换将随机变量映射到在[0,1]中均匀分布的标量。然而，所有这些边际CDF的联合分布不遵循均匀分布，而是一个Copula函数（Kasa and Rajan
    2020）：
- en: <math alttext="dollar-sign upper C colon left-bracket 0 comma 1 right-bracket
    Superscript i Baseline right-arrow left-bracket 0 comma 1 right-bracket dollar-sign"><mrow><mi>C</mi>
    <mo>:</mo> <msup><mrow><mo>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>]</mo></mrow>
    <mi>i</mi></msup> <mo>→</mo> <mrow><mo>[</mo> <mn>0</mn> <mo>,</mo> <mn>1</mn>
    <mo>]</mo></mrow></mrow></math>
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper C colon left-bracket 0 comma 1 right-bracket
    Superscript i Baseline right-arrow left-bracket 0 comma 1 right-bracket dollar-sign"><mrow><mi>C</mi>
    <mo>:</mo> <msup><mrow><mo>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>]</mo></mrow>
    <mi>i</mi></msup> <mo>→</mo> <mrow><mo>[</mo> <mn>0</mn> <mo>,</mo> <mn>1</mn>
    <mo>]</mo></mrow></mrow></math>
- en: 'where *i* shows the number of marginal CDFs. In other words, in the bivariate
    case, *i* takes the value of 2 and the function becomes:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*i*表示边际CDF的数量。换句话说，在双变量情况下，*i*取值为2，函数变为：
- en: <math alttext="dollar-sign upper C colon left-bracket 0 comma 1 right-bracket
    squared right-arrow left-bracket 0 comma 1 right-bracket dollar-sign"><mrow><mi>C</mi>
    <mo>:</mo> <msup><mrow><mo>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>]</mo></mrow>
    <mn>2</mn></msup> <mo>→</mo> <mrow><mo>[</mo> <mn>0</mn> <mo>,</mo> <mn>1</mn>
    <mo>]</mo></mrow></mrow></math>
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper C colon left-bracket 0 comma 1 right-bracket
    squared right-arrow left-bracket 0 comma 1 right-bracket dollar-sign"><mrow><mi>C</mi>
    <mo>:</mo> <msup><mrow><mo>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>]</mo></mrow>
    <mn>2</mn></msup> <mo>→</mo> <mrow><mo>[</mo> <mn>0</mn> <mo>,</mo> <mn>1</mn>
    <mo>]</mo></mrow></mrow></math>
- en: 'Hence:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 因此：
- en: <math alttext="dollar-sign upper F left-parenthesis x 1 comma x 2 right-parenthesis
    identical-to upper C left-parenthesis upper F 1 left-parenthesis x 1 right-parenthesis
    comma period period period comma upper F Subscript i Baseline left-parenthesis
    x Subscript i Baseline right-parenthesis right-parenthesis dollar-sign"><mrow><mi>F</mi>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>x</mi>
    <mn>2</mn></msub> <mo>)</mo></mrow> <mo>≡</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>F</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub> <mo>)</mo></mrow>
    <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <msub><mi>F</mi> <mi>i</mi></msub>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mi>i</mi></msub> <mo>)</mo></mrow> <mo>)</mo></mrow></mrow></math>
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper F left-parenthesis x 1 comma x 2 right-parenthesis
    identical-to upper C left-parenthesis upper F 1 left-parenthesis x 1 right-parenthesis
    comma period period period comma upper F Subscript i Baseline left-parenthesis
    x Subscript i Baseline right-parenthesis right-parenthesis dollar-sign"><mrow><mi>F</mi>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>x</mi>
    <mn>2</mn></msub> <mo>)</mo></mrow> <mo>≡</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>F</mi>
    <mn>1</mn></msub> <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub> <mo>)</mo></mrow>
    <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <msub><mi>F</mi> <mi>i</mi></msub>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mi>i</mi></msub> <mo>)</mo></mrow> <mo>)</mo></mrow></mrow></math>
- en: where *C* is copula and unique given the marginal distribution of <math alttext="upper
    F Subscript i"><msub><mi>F</mi> <mi>i</mi></msub></math> s are continuous and
    *F* is joint cumulative distribution.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*C*是联合分布的边际分布给定的唯一Copula，且<math alttext="upper F Subscript i"><msub><mi>F</mi>
    <mi>i</mi></msub></math>连续。
- en: 'Alternatively, the copula function can be described by individual marginal
    densities:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，Copula函数可以由单独的边际密度描述：
- en: <math alttext="dollar-sign f left-parenthesis x right-parenthesis equals upper
    C left-parenthesis upper F 1 left-parenthesis x 1 right-parenthesis comma period
    period period comma upper F Subscript i Baseline left-parenthesis x Subscript
    i Baseline right-parenthesis right-parenthesis product Underscript j equals 1
    Overscript i Endscripts f Subscript j Baseline left-parenthesis x Subscript j
    Baseline right-parenthesis dollar-sign"><mrow><mi>f</mi> <mrow><mo>(</mo> <mi>x</mi>
    <mo>)</mo></mrow> <mo>=</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>F</mi> <mn>1</mn></msub>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub> <mo>)</mo></mrow> <mo>,</mo>
    <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <msub><mi>F</mi> <mi>i</mi></msub>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mi>i</mi></msub> <mo>)</mo></mrow> <mo>)</mo></mrow>
    <msubsup><mo>∏</mo> <mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow> <mi>i</mi></msubsup>
    <msub><mi>f</mi> <mi>j</mi></msub> <mrow><mo>(</mo> <msub><mi>x</mi> <mi>j</mi></msub>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign f left-parenthesis x right-parenthesis equals upper
    C left-parenthesis upper F 1 left-parenthesis x 1 right-parenthesis comma period
    period period comma upper F Subscript i Baseline left-parenthesis x Subscript
    i Baseline right-parenthesis right-parenthesis product Underscript j equals 1
    Overscript i Endscripts f Subscript j Baseline left-parenthesis x Subscript j
    Baseline right-parenthesis dollar-sign"><mrow><mi>f</mi> <mrow><mo>(</mo> <mi>x</mi>
    <mo>)</mo></mrow> <mo>=</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>F</mi> <mn>1</mn></msub>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub> <mo>)</mo></mrow> <mo>,</mo>
    <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <msub><mi>F</mi> <mi>i</mi></msub>
    <mrow><mo>(</mo> <msub><mi>x</mi> <mi>i</mi></msub> <mo>)</mo></mrow> <mo>)</mo></mrow>
    <msubsup><mo>∏</mo> <mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow> <mi>i</mi></msubsup>
    <msub><mi>f</mi> <mi>j</mi></msub> <mrow><mo>(</mo> <msub><mi>x</mi> <mi>j</mi></msub>
    <mo>)</mo></mrow></mrow></math>
- en: where <math alttext="f left-parenthesis x right-parenthesis"><mrow><mi>f</mi>
    <mo>(</mo> <mi>x</mi> <mo>)</mo></mrow></math> denotes multivariate density, and
    <math alttext="f Subscript j"><msub><mi>f</mi> <mi>j</mi></msub></math> is marginal
    density of the <math alttext="j Superscript t h"><msup><mi>j</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>
    asset.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 其中<math alttext="f left-parenthesis x right-parenthesis"><mrow><mi>f</mi> <mo>(</mo>
    <mi>x</mi> <mo>)</mo></mrow></math>表示多变量密度，<math alttext="f Subscript j"><msub><mi>f</mi>
    <mi>j</mi></msub></math>是第<math alttext="j Superscript t h"><msup><mi>j</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>个资产的边际密度。
- en: 'We cannot complete our discussion without stating the assumptions that we need
    to satisfy for copulas. Here are the assumptions from Bouye (2000):'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不能完成我们的讨论而不说明我们需要满足的Copula的假设。这是Bouye（2000）的假设：
- en: <math alttext="upper C equals upper S 1 times upper S 2"><mrow><mi>C</mi> <mo>=</mo>
    <msub><mi>S</mi> <mn>1</mn></msub> <mo>×</mo> <msub><mi>S</mi> <mn>2</mn></msub></mrow></math>
    , where <math alttext="upper S 1"><msub><mi>S</mi> <mn>1</mn></msub></math> and
    <math alttext="upper S 2"><msub><mi>S</mi> <mn>2</mn></msub></math> are non-empty
    subsets of [0,1].
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: <math alttext="upper C equals upper S 1 times upper S 2"><mrow><mi>C</mi> <mo>=</mo>
    <msub><mi>S</mi> <mn>1</mn></msub> <mo>×</mo> <msub><mi>S</mi> <mn>2</mn></msub></mrow></math>
    ，其中<math alttext="upper S 1"><msub><mi>S</mi> <mn>1</mn></msub></math>和<math alttext="upper
    S 2"><msub><mi>S</mi> <mn>2</mn></msub></math>是[0,1]的非空子集。
- en: '*C* is an increasing function such that <math alttext="0 less-than-or-equal-to
    u 1 less-than-or-equal-to u 2 less-than-or-equal-to 1"><mrow><mn>0</mn> <mo>≤</mo>
    <msub><mi>u</mi> <mn>1</mn></msub> <mo>≤</mo> <msub><mi>u</mi> <mn>2</mn></msub>
    <mo>≤</mo> <mn>1</mn></mrow></math> and <math alttext="0 less-than-or-equal-to
    v 1 less-than-or-equal-to v 2 less-than-or-equal-to 1"><mrow><mn>0</mn> <mo>≤</mo>
    <msub><mi>v</mi> <mn>1</mn></msub> <mo>≤</mo> <msub><mi>v</mi> <mn>2</mn></msub>
    <mo>≤</mo> <mn>1</mn></mrow></math> .'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*C*是一个增函数，使得<math alttext="0 less-than-or-equal-to u 1 less-than-or-equal-to
    u 2 less-than-or-equal-to 1"><mrow><mn>0</mn> <mo>≤</mo> <msub><mi>u</mi> <mn>1</mn></msub>
    <mo>≤</mo> <msub><mi>u</mi> <mn>2</mn></msub> <mo>≤</mo> <mn>1</mn></mrow></math>且<math
    alttext="0 less-than-or-equal-to v 1 less-than-or-equal-to v 2 less-than-or-equal-to
    1"><mrow><mn>0</mn> <mo>≤</mo> <msub><mi>v</mi> <mn>1</mn></msub> <mo>≤</mo> <msub><mi>v</mi>
    <mn>2</mn></msub> <mo>≤</mo> <mn>1</mn></mrow></math>。'
- en: <math alttext="dollar-sign upper C left-parenthesis left-bracket u 1 comma v
    1 right-bracket times left-bracket u 2 comma v 2 right-bracket right-parenthesis
    identical-to upper C left-parenthesis u 2 comma v 2 right-parenthesis minus upper
    C left-parenthesis u 2 comma v 2 right-parenthesis minus upper C left-parenthesis
    u 1 comma v 2 right-parenthesis plus upper C left-parenthesis u 1 comma u 1 right-parenthesis
    greater-than-or-equal-to 0 dollar-sign"><mrow><mi>C</mi> <mrow><mo>(</mo> <mrow><mo>[</mo>
    <msub><mi>u</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>v</mi> <mn>1</mn></msub>
    <mo>]</mo></mrow> <mo>×</mo> <mrow><mo>[</mo> <msub><mi>u</mi> <mn>2</mn></msub>
    <mo>,</mo> <msub><mi>v</mi> <mn>2</mn></msub> <mo>]</mo></mrow> <mo>)</mo></mrow>
    <mo>≡</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>u</mi> <mn>2</mn></msub> <mo>,</mo>
    <msub><mi>v</mi> <mn>2</mn></msub> <mo>)</mo></mrow> <mo>-</mo> <mi>C</mi> <mrow><mo>(</mo>
    <msub><mi>u</mi> <mn>2</mn></msub> <mo>,</mo> <msub><mi>v</mi> <mn>2</mn></msub>
    <mo>)</mo></mrow> <mo>-</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>u</mi> <mn>1</mn></msub>
    <mo>,</mo> <msub><mi>v</mi> <mn>2</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>C</mi>
    <mrow><mo>(</mo> <msub><mi>u</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>u</mi>
    <mn>1</mn></msub> <mo>)</mo></mrow> <mo>≥</mo> <mn>0</mn></mrow></math>
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper C left-parenthesis left-bracket u 1 comma v
    1 right-bracket times left-bracket u 2 comma v 2 right-bracket right-parenthesis
    identical-to upper C left-parenthesis u 2 comma v 2 right-parenthesis minus upper
    C left-parenthesis u 2 comma v 2 right-parenthesis minus upper C left-parenthesis
    u 1 comma v 2 right-parenthesis plus upper C left-parenthesis u 1 comma u 1 right-parenthesis
    greater-than-or-equal-to 0 dollar-sign"><mrow><mi>C</mi> <mrow><mo>(</mo> <mrow><mo>[</mo>
    <msub><mi>u</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>v</mi> <mn>1</mn></msub>
    <mo>]</mo></mrow> <mo>×</mo> <mrow><mo>[</mo> <msub><mi>u</mi> <mn>2</mn></msub>
    <mo>,</mo> <msub><mi>v</mi> <mn>2</mn></msub> <mo>]</mo></mrow> <mo>)</mo></mrow>
    <mo>≡</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>u</mi> <mn>2</mn></msub> <mo>,</mo>
    <msub><mi>v</mi> <mn>2</mn></msub> <mo>)</mo></mrow> <mo>-</mo> <mi>C</mi> <mrow><mo>(</mo>
    <msub><mi>u</mi> <mn>2</mn></msub> <mo>,</mo> <msub><mi>v</mi> <mn>2</mn></msub>
    <mo>)</mo></mrow> <mo>-</mo> <mi>C</mi> <mrow><mo>(</mo> <msub><mi>u</mi> <mn>1</mn></msub>
    <mo>,</mo> <msub><mi>v</mi> <mn>2</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>C</mi>
    <mrow><mo>(</mo> <msub><mi>u</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>u</mi>
    <mn>1</mn></msub> <mo>)</mo></mrow> <mo>≥</mo> <mn>0</mn></mrow></math>
- en: 'For every *u* in <math alttext="upper S 1"><msub><mi>S</mi> <mn>1</mn></msub></math>
    and for every *v* in <math alttext="upper S 2"><msub><mi>S</mi> <mn>2</mn></msub></math>
    : *C*(*u*, 1) = *u* and *C*(1, *v*) = *v*.'
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于<math alttext="upper S 1"><msub><mi>S</mi> <mn>1</mn></msub></math>中的每个*u*和<math
    alttext="upper S 2"><msub><mi>S</mi> <mn>2</mn></msub></math>中的每个*v*：*C*(*u*,
    1) = *u*，*C*(1, *v*) = *v*。
- en: 'After a long theoretical discussion about copulas, you may be tempted to think
    about the complexity of its coding in Python. No worries, we have a library for
    that and it is really easy to apply. The name of the Python library for copulas
    is called Copulae, and we will make use of it in the following:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在对Copula进行了长时间的理论讨论之后，您可能会想到在Python中编写其代码的复杂性。别担心，我们有一个库可以做到这一点，而且很容易应用。Python中用于Copula的库的名称称为Copulae，在接下来的工作中我们将使用它：
- en: '[PRE20]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '[![1](assets/1.png)](#co_liquidity_modeling_CO10-1)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_liquidity_modeling_CO10-1)'
- en: Importing `GaussianMixtureCopula` from `copulae`
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 从`copulae`导入`GaussianMixtureCopula`
- en: '[![2](assets/2.png)](#co_liquidity_modeling_CO10-2)'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_liquidity_modeling_CO10-2)'
- en: Configuring GMCM with the number of clusters and dimensions
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 配置GMCM与簇和维数的数量
- en: '[![3](assets/3.png)](#co_liquidity_modeling_CO10-3)'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_liquidity_modeling_CO10-3)'
- en: Fitting the GMCM
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 拟合GMCM
- en: The result suggests that when the correlation is taken into account, State-2
    prevails, but the posterior probabilities are very close to each other, implying
    that when correlation between liquidity measures comes into the picture, commonality
    in liquidity stands out.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，当考虑相关性时，State-2占优势，但后验概率非常接近，这意味着当流动性指标之间的相关性考虑进来时，流动性的共同性突出。
- en: Conclusion
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: Liquidity risk has been under a microscope for over a decade as it is an important
    source of risk by itself and also has high correlation with other financial risks.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 近十多年来，流动性风险一直处于微观视野中，因为它本身是重要的风险来源，并且与其他金融风险具有很高的相关性。
- en: This chapter introduces a new method for liquidity modeling based on GMM, which
    allows us to model multivariate data and generate clusters. Given the posterior
    probability of these clusters, we were able to determine which cluster represented
    the defining characteristics of the data. However, without considering the correlation
    structure of the liquidity measures, our model may not have been a good representation
    of reality. Thus, to address this concern, we introduced GMCM, and the defining
    cluster was redefined by taking into account the correlation structure among the
    variables.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了一种基于GMM的新型流动性建模方法，该方法允许我们对多变量数据进行建模并生成聚类。鉴于这些聚类的后验概率，我们能够确定哪个聚类代表了数据的定义特征。然而，如果不考虑流动性指标的相关结构，我们的模型可能不是对现实的良好表示。因此，为了解决这个问题，我们引入了GMCM，并通过考虑变量间的相关结构重新定义了定义性聚类。
- en: 'After completing the liquidity modeling, we are now ready to discuss another
    important source of financial risk: *operational risk*. Operational risk may arise
    for a variety of reasons, but we will discuss operational risk via fraudulent
    activities.'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成流动性建模之后，我们现在准备讨论另一个重要的金融风险来源：*运营风险*。运营风险可能由于各种原因而产生，但我们将通过欺诈活动来讨论运营风险。
- en: References
  id: totrans-239
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: 'Articles cited in this chapter:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 本章引用的文章：
- en: 'Abdi, Farshid, and Angelo Ranaldo. 2017\. “A Simple Estimation of Bid-Ask Spreads
    from Daily Close, High, and Low Prices.” *The Review of Financial Studies* 30
    (12): 4437-4480.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Abdi, Farshid, and Angelo Ranaldo. 2017\. “A Simple Estimation of Bid-Ask Spreads
    from Daily Close, High, and Low Prices.” *The Review of Financial Studies* 30
    (12): 4437-4480.'
- en: 'Baker, H. Kent, and Halil Kiymaz, eds. 2013\. *Market Microstructure in Emerging
    and Developed Markets: Price Discovery, Information Flows, and Transaction Costs*.
    Hoboken, New Jersey: John Wiley and Sons.'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Baker, H. Kent, and Halil Kiymaz, eds. 2013\. *Market Microstructure in Emerging
    and Developed Markets: Price Discovery, Information Flows, and Transaction Costs*.
    Hoboken, New Jersey: John Wiley and Sons.'
- en: 'Bessembinder, Hendrik, and Kumar Venkataraman. 2010\. “Bid–Ask Spreads.” in
    *Encyclopedia of Quantitative Finance*, edited b. Rama Cont. Hoboken, NJ: John
    Wiley and Sons.'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Bessembinder, Hendrik, and Kumar Venkataraman. 2010\. “Bid–Ask Spreads.” in
    *Encyclopedia of Quantitative Finance*, edited b. Rama Cont. Hoboken, NJ: John
    Wiley and Sons.'
- en: 'Blume, Lawrence, David Easley, and Maureen O’Hara. 1994 “Market Statistics
    and Technical Analysis: The Role of Volume.” The Journal of Finance 49 (1): 153-181.'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Blume, Lawrence, David Easley, and Maureen O’Hara. 1994 “Market Statistics
    and Technical Analysis: The Role of Volume.” *The Journal of Finance* 49 (1):
    153-181.'
- en: 'Bouyé, Eric, Valdo Durrleman, Ashkan Nikeghbali, Gaël Riboulet, and Thierry
    Roncalli. 2000\. “Copulas for Finance: A Reading Guide and Some Applications.”
    Available at SSRN 1032533.'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Bouyé, Eric, Valdo Durrleman, Ashkan Nikeghbali, Gaël Riboulet, and Thierry
    Roncalli. 2000\. “Copulas for Finance: A Reading Guide and Some Applications.”
    Available at SSRN 1032533.'
- en: Chuck, Prince. 2007\. “Citigroup Chief Stays Bullish on Buy-Outs.” *Financial
    Times*. [*https://oreil.ly/nKOZk*](https://oreil.ly/nKOZk).
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Chuck, Prince. 2007\. “Citigroup Chief Stays Bullish on Buy-Outs.” *Financial
    Times*. [*https://oreil.ly/nKOZk*](https://oreil.ly/nKOZk).
- en: 'Corwin, Shane A., and Paul Schultz. 2012\. “A Simple Way to Estimate Bid‐Ask
    Spreads from Daily High and Low Prices.” *The Journal of Finance* 67 (2): 719-760.'
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Corwin, Shane A., and Paul Schultz. 2012\. “A Simple Way to Estimate Bid‐Ask
    Spreads from Daily High and Low Prices.” *The Journal of Finance* 67 (2): 719-760.'
- en: 'Florackis, Chris, Andros Gregoriou, and Alexandros Kostakis. 2011\. “Trading
    Frequency and Asset Pricing on the London Stock Exchange: Evidence from a New
    Price Impact Ratio.” *Journal of Banking and Finance* 35 (12): 3335-3350.'
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Florackis, Chris, Andros Gregoriou, and Alexandros Kostakis. 2011\. “Trading
    Frequency and Asset Pricing on the London Stock Exchange: Evidence from a New
    Price Impact Ratio.” *Journal of Banking and Finance* 35 (12): 3335-3350.'
- en: 'Fraley, Chris, and Adrian E. Raftery. 1998\. “How Many Clusters? Which Clustering
    Method? Answers via Model-Based Cluster Analysis.” The Computer Journal 41 (8):
    578-588.'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Fraley, Chris, and Adrian E. Raftery. 1998\. “How Many Clusters? Which Clustering
    Method? Answers via Model-Based Cluster Analysis.” *The Computer Journal* 41 (8):
    578-588.'
- en: 'Gabrielsen, Alexandros, Massimiliano Marzo, and Paolo Zagaglia. 2011\. “Measuring
    Market Liquidity: An Introductory Survey.” *SRN Electronic Journal*.'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Gabrielsen, Alexandros, Massimiliano Marzo, 和 Paolo Zagaglia. 2011\. “Measuring
    Market Liquidity: An Introductory Survey.” *SRN 电子期刊*。'
- en: 'Harris, Lawrence. 1990\. “Statistical Properties of the Roll Serial Covariance
    Bid/Ask Spread Estimator.” *The Journal of Finance* 45 (2): 579-590.'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Harris, Lawrence. 1990\. “Statistical Properties of the Roll Serial Covariance
    Bid/Ask Spread Estimator.” *金融学杂志* 45 (2): 579-590。'
- en: 'Gaygisiz, Esma, Abdullah Karasan, and Alper Hekimoglu. 2021\. “Analyses of
    factors of Market Microstructure: Price impact, liquidity, and Volatility.” *Optimization*
    (Forthcoming).'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Gaygisiz, Esma, Abdullah Karasan, 和 Alper Hekimoglu. 2021\. “Analyses of factors
    of Market Microstructure: Price impact, liquidity, and Volatility.” *优化*（即将发表）。'
- en: Kasa, Siva Rajesh, and Vaibhav Rajan. 2020\. “Improved Inference of Gaussian
    Mixture Copula Model for Clustering and Reproducibility Analysis using Automatic
    Differentiation.” arXiv preprint arXiv:2010.14359.
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kasa, Siva Rajesh, 和 Vaibhav Rajan. 2020\. “Improved Inference of Gaussian Mixture
    Copula Model for Clustering and Reproducibility Analysis using Automatic Differentiation.”
    arXiv 预印本 arXiv:2010.14359。
- en: 'Kyle, Albert S. 1985\. “Continuous Auctions and Insider Trading.” *Econometrica*
    53 (6): 1315-1335.'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Kyle, Albert S. 1985\. “Continuous Auctions and Insider Trading.” *计量经济学* 53
    (6): 1315-1335。'
- en: 'Le, Huong, and Andros Gregoriou. 2020\. “How Do You Capture Liquidity? A Review
    of the Literature on Low‐Frequency Stock Liquidity.” *Journal of Economic Surveys*
    34 (5): 1170-1186.'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Le, Huong, 和 Andros Gregoriou. 2020\. “How Do You Capture Liquidity? A Review
    of the Literature on Low‐Frequency Stock Liquidity.” *经济调查杂志* 34 (5): 1170-1186。'
- en: 'Lou, Xiaoxia, and Tao Shu. 2017\. “Price Impact or Trading Volume: Why Is the
    Amihud (2002) measure Priced?.” *The Review of Financial Studies* 30 (12): 4481-4520.'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Lou, Xiaoxia, 和 Tao Shu. 2017\. “Price Impact or Trading Volume: Why Is the
    Amihud (2002) measure Priced?.” *金融研究评论* 30 (12): 4481-4520。'
- en: 'Nikolaou, Kleopatra. 2009\. “Liquidity (Risk) concepts: Definitions and Interactions.”
    European Central Bank Working Paper Series 1008.'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Nikolaou, Kleopatra. 2009\. “Liquidity (Risk) concepts: Definitions and Interactions.”
    欧洲央行工作论文系列 1008。'
- en: 'Rachev, S. T., W. Sun, and M. stein. 2009\. “Copula Concepts in Financial Markets.”
    *Portfolio Institutionell* (4): 12-15.'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Rachev, S. T., W. Sun, 和 M. stein. 2009\. “Copula Concepts in Financial Markets.”
    *Institutionell 投资组合* (4): 12-15。'
- en: 'Roll, Richard. 1984\. “A Simple Implicit Measure of the Effective Bid‐Ask Spread
    in an Efficient Market.” *The Journal of Finance* 29 (4): 1127-1139.'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Roll, Richard. 1984\. “A Simple Implicit Measure of the Effective Bid‐Ask Spread
    in an Efficient Market.” *金融学杂志* 29 (4): 1127-1139。'
- en: 'Sarr, Abdourahmane, and Tonny Lybek. 2002\. “Measuring liquidity in financial
    markets.” IMF Working Papers (02/232): 1-64.'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Sarr, Abdourahmane, 和 Tonny Lybek. 2002\. “Measuring liquidity in financial
    markets.” IMF Working Papers (02/232): 1-64。'
- en: 'Books and online sources cited in this chapter:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 本章引用的书籍和在线资料：
- en: 'Hull, John. 2012\. *Risk Management and Financial Institutions*. Hoboken, New
    Jersey: John Wiley and Sons.'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hull, John. 2012\. *风险管理和金融机构*。新泽西州霍博肯：约翰·威利和儿子。
- en: 'VanderPlas, Jake. 2016\. *Python Data Science Handbook: Essential Tools for
    Working with Data*. Sebastopol: O’Reilly.'
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VanderPlas, Jake. 2016\. *Python 数据科学手册：处理数据的基本工具*。塞巴斯托波尔：奥莱利。
- en: ^([1](ch07.html#idm45737216974144-marker)) *Efficient market* refers to how
    well and fast current prices reflect all available information about the value
    of the underlying asset(s).
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch07.html#idm45737216974144-marker)) *有效市场* 指当前价格多么快速地反映了有关基础资产价值的所有可用信息。
