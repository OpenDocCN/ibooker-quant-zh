<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section data-type="chapter" epub:type="chapter" class="calibre4" data-pdf-bookmark="Chapter 1. Finance and Python"><div class="preface" id="finance_python">
<h1 class="calibre11"><span class="firstname">Chapter 1. </span>Finance and Python</h1>

<blockquote class="calibre12 pcalibre1 pcalibre2">
<p class="calibre13">The <a data-type="indexterm" data-primary="Milne, Frank" id="idm44853719326888" class="calibre6"/>history of finance theory is an interesting example of the interaction between abstract theorizing and practical application.</p>
<p data-type="attribution" class="pcalibre3 calibre16">Frank Milne (1995)</p>
</blockquote>
<blockquote class="calibre12 pcalibre1 pcalibre2">
<p class="calibre13">Hedge funds have sucked <a data-type="indexterm" data-primary="Fletcher, Laurence" id="idm44853719250120" class="calibre6"/>in tens of billions of dollars in investments in recent years, assisted increasingly by technology. The same tech is also benefiting those people who make the financial decisions at these organisations.</p>
<p data-type="attribution" class="pcalibre3 calibre16">Laurence Fletcher (2020)</p>
</blockquote>

<p class="author1">This chapter gives a concise overview of topics relevant for the book. It is intended to provide both the financial and technological framework for the chapters to follow. <a data-type="xref" href="#history_finance" class="calibre6">“A Brief History of Finance”</a> starts by giving a brief overview of the history and current state of finance. <a data-type="xref" href="#major_trends" class="calibre6">“Major Trends in Finance”</a> discusses the major trends that have been driving the evolution of finance over time: mathematics, technology, data, and artificial intelligence. Against this background, <a data-type="xref" href="#four_languages" class="calibre6">“A Four-Languages World”</a> argues that finance today is a discipline of four closely interconnected types of languages: English, finance, mathematics, and programming. The overall approach of the book is explained in <a data-type="xref" href="#approach_book" class="calibre6">“The Approach of This Book”</a>. <a data-type="xref" href="#python_start" class="calibre6">“Getting Started with Python”</a> illustrates how an appropriate Python environment can be installed on the reader’s computer. However, all the code can be used and executed via a regular web browser on the <a href="http://finpy.pqp.io" class="calibre6">Quant Platform</a> so that a local Python installation can be set up later.</p>






<section data-type="sect1" class="calibre4" data-pdf-bookmark="A Brief History of Finance"><div class="preface" id="history_finance">
<h1 class="calibre17">A Brief History of Finance</h1>

<p class="author1">To<a data-type="indexterm" data-primary="financial theory" data-secondary="history of" id="finance-history" class="calibre6"/><a data-type="indexterm" data-primary="history of finance" id="history-finance" class="calibre6"/> better understand the current state of finance and the financial industry, it is helpful to have a look at how they have developed over time. The history of finance as a scientific field can be divided roughly into three periods according to Rubinstein (2006):</p>
<dl class="calibre18">
<dt class="calibre19">The ancient period (pre-1950)</dt>
<dd class="calibre20">
<p class="calibre21">A <a data-type="indexterm" data-primary="ancient period of finance" id="idm44853719006616" class="calibre6"/>period mainly characterized by informal reasoning, rules of thumb, and the experience of market practitioners.</p>
</dd>
<dt class="calibre19">The classical period (1950–1980)</dt>
<dd class="calibre20">
<p class="calibre21">A period <a data-type="indexterm" data-primary="classical period of finance" id="idm44853718969048" class="calibre6"/>characterized by the introduction of formal reasoning and mathematics to the field. Specialized models (for example, Black and Scholes’s (1973) option pricing model) as well as general frameworks (for example, Harrison and Kreps’s (1979) risk-neutral pricing approach) were developed during this period.</p>
</dd>
<dt class="calibre19">The modern period (1980–2000)</dt>
<dd class="calibre20">
<p class="calibre21">This <a data-type="indexterm" data-primary="modern period of finance" id="idm44853718958760" class="calibre6"/>period generated many advances in specific subfields of finance (for example, computational finance) and tackled, among others, important empirical phenomena in the financial markets, such as stochastic interest rates (for example, Cox, Ingersoll, and Ross (1985)) or stochastic volatility (for example, Heston (1993)).</p>
</dd>
</dl>

<p class="author1">Fifteen years after the publication of the Rubinstein (2006) book, we can add fourth and fifth periods today. These two periods are responsible for the rise and the current omnipresence of Python in finance:</p>
<dl class="calibre18">
<dt class="calibre19">The computational period (2000–2020)</dt>
<dd class="calibre20">
<p class="calibre21">This <a data-type="indexterm" data-primary="computational period of finance" id="idm44853718862840" class="calibre6"/>period saw a shift from a theoretical focus in finance to a computational one, driven by advances in both hardware and software used in finance. The paper by<a data-type="indexterm" data-primary="Longstaff and Schwartz algorithm" id="idm44853718860760" class="calibre6"/><a data-type="indexterm" data-primary="Monte Carlo simulation" data-secondary="Longstaff and Schwartz algorithm" id="idm44853718793496" class="calibre6"/> Longstaff and Schwartz (2001)—providing an efficient numerical algorithm to value American options by Monte Carlo simulation—illustrates this paradigm shift quite well. Their algorithm is computationally demanding in that hundreds of thousands of simulations and multiple ordinary least-squares regressions are required in general to value only a single option (see Hilpisch (2018)).</p>
</dd>
<dt class="calibre19">The artificial intelligence period (post-2020)</dt>
<dd class="calibre20">
<p class="calibre21">Advances<a data-type="indexterm" data-primary="AI (artificial intelligence)" data-secondary="period in finance" id="idm44853718785144" class="calibre6"/> in artificial intelligence (AI) and related success stories have spurred interest to make use of the capabilities of AI in the financial domain. While there are already successful applications of AI in finance (see Hilpisch (2020)), it can be assumed that from 2020 onward there will be a systematic paradigm shift toward <em class="calibre7">AI-first finance</em>. AI-first finance <a data-type="indexterm" data-primary="AI-first finance" id="idm44853718782456" class="calibre6"/>describes the shift from simple, in general linear, models in finance to the use of advanced models and algorithms from AI—such as deep neural networks or reinforcement learning—to capture, describe, and explain financial <a data-type="indexterm" data-primary="financial theory" data-secondary="history of" data-startref="finance-history" id="idm44853718572136" class="calibre6"/><a data-type="indexterm" data-primary="history of finance" data-startref="history-finance" id="idm44853718556952" class="calibre6"/>phenomena.</p>
</dd>
</dl>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Major Trends in Finance" class="calibre4"><div class="preface" id="major_trends">
<h1 class="calibre17">Major Trends in Finance</h1>

<p class="author1">Like <a data-type="indexterm" data-primary="financial theory" data-secondary="trends in" id="finance-trends" class="calibre6"/>many other subjects and industries, finance has become a more formalized scientific discipline over time, driven by the increasing use of formal mathematics, advanced technology, increasing data availability, and improved algorithms, such as those from AI. Taken together, the evolution of finance over time can therefore be characterized by four major trends:</p>
<dl class="calibre18">
<dt class="calibre19">Mathematics</dt>
<dd class="calibre20">
<p class="calibre21">Starting<a data-type="indexterm" data-primary="mathematics" data-secondary="trends in finance" id="idm44853718449016" class="calibre6"/> in the 1950s with the classical period, finance has become a more and more formalized discipline, making systematic use of different fields in mathematics, like linear algebra or stochastic calculus. The <a data-type="indexterm" data-primary="mean-variance portfolio (MVP) theory" id="idm44853718284232" class="calibre6"/><a data-type="indexterm" data-primary="MVP (mean-variance portfolio) theory" id="idm44853718093000" class="calibre6"/>mean-variance portfolio (MVP) theory by Markowitz (1952) can be considered a major breakthrough in quantitative finance if not its starting point itself—leaving the ancient period characterized mainly by informal reasoning behind.</p>
</dd>
<dt class="calibre19">Technology</dt>
<dd class="calibre20">
<p class="calibre21">The <a data-type="indexterm" data-primary="technology trends in finance" id="idm44853718081992" class="calibre6"/>widespread availability and use of personal computers, workstations, and servers, starting mainly in the late 1980s and early 1990s, brought more and more technology to the field. While compute power and capacity in the beginning were rather limited, they have reached levels as of today that allow us to attack even the most complex problems in finance by sheer brute force, often rendering the search for rather specialized, efficient models and methods—that characterized the classical and modern periods—obsolete. The credo has become “Scale your hardware and use modern software in combination with appropriate numerical methods.” On the other hand, the modern hardware found in most dorm and 
<span class="firstname">living</span> rooms is already powerful enough that even high-performance approaches, like parallel processing, can generally be used on such commodity hardware—lowering the barriers of entry to computational and AI-first finance 
<span class="firstname">tremendously</span>.</p>
</dd>
<dt class="calibre19">Data</dt>
<dd class="calibre20">
<p class="calibre21">While <a data-type="indexterm" data-primary="data trends in finance" id="data-trends" class="calibre6"/>researchers and practitioners alike mainly relied on printed financial information and data in the ancient and classical periods (think of the <em class="calibre7">Wall Street Journal</em> or the <em class="calibre7">Financial Times</em>), electronic financial data sets have become more widely available starting in the modern period. However, the computational period has seen an explosion in the availability of financial data. High-frequency intraday data sets have become the norm and have replaced end-of-day closing prices as the major basis for empirical research. A single stock might generate intraday data sets with well over 100,000 data points every trading day—this number is roughly the equivalent of 400 years’ worth of end-of-day closing prices for the same stock (250 trading days per year times 400 years). Even more recently, a proliferation in open or free data sets has been observed, which also significantly lowers the barriers of entry to computational finance, algorithmic trading, or financial <a data-type="indexterm" data-primary="data trends in finance" data-startref="data-trends" id="idm44853721047976" class="calibre6"/>econometrics.</p>
</dd>
<dt class="calibre19">Artificial intelligence</dt>
<dd class="calibre20">
<p class="calibre21">The <a data-type="indexterm" data-primary="AI (artificial intelligence)" data-secondary="trends in finance" id="idm44853717207176" class="calibre6"/><a data-type="indexterm" data-primary="artificial intelligence" data-see="AI" id="idm44853716468344" class="calibre6"/>availability of ever more financial data (“big financial data”) makes the application of AI algorithms—such as those from machine learning, deep learning, or reinforcement learning (see Hilpisch (2020))—not only possible but also in many cases these days necessary. Traditional statistical methods from financial econometrics are often not suited anymore to cope with today’s complexities in financial markets. Faced with nonlinear, multidimensional, ever-changing financial environments, AI-based algorithms might often be the only option to discover relevant relationships and patterns, generate valuable insights, and benefit from improved prediction capabilities.</p>
</dd>
</dl>

<p class="author1">By reading this book, the reader lays the foundations in the areas of financial mathematics and modern technology used to implement formal financial models. The reader also acquires skills to work with typical financial data sets encountered in finance. Taken together, this prepares the reader to later on also explore more easily advanced topics in computational finance or AI as applied to <a data-type="indexterm" data-primary="financial theory" data-secondary="trends in" data-startref="finance-trends" id="idm44853716266696" class="calibre6"/>finance.</p>
<div data-type="note" epub:type="note" class="calibre26"><h1 class="calibre33">Python and Finance</h1>
<p class="author1">More and<a data-type="indexterm" data-primary="financial theory" data-secondary="Python and" id="idm44853720290360" class="calibre6"/><a data-type="indexterm" data-primary="Python" data-secondary="finance and" id="idm44853720286568" class="calibre6"/> more, finance has become a field driven by computationally demanding algorithms, ever-increasing data availability, and AI. Python has proven to be  the right programming language and technology platform to address the requirements and challenges that arise from the major trends observed in the field.</p>
</div>
</div></section>













<section data-type="sect1" data-pdf-bookmark="A Four-Languages World" class="calibre4"><div class="preface" id="four_languages">
<h1 class="calibre17">A Four-Languages World</h1>

<p class="author1">Against<a data-type="indexterm" data-primary="financial theory" data-secondary="languages of" id="finance-language" class="calibre6"/><a data-type="indexterm" data-primary="languages of finance" id="languages-finance" class="calibre6"/> this background, finance has become a world of four languages:</p>
<dl class="calibre18">
<dt class="calibre19">Natural language</dt>
<dd class="calibre20">
<p class="calibre21">Today,<a data-type="indexterm" data-primary="natural language of finance" id="idm44853719519288" class="calibre6"/><a data-type="indexterm" data-primary="English language in finance" id="idm44853719488856" class="calibre6"/> the <em class="calibre7">English</em> language is the only relevant language in the field when it comes to published research, books, articles, or news.</p>
</dd>
<dt class="calibre19">Financial language</dt>
<dd class="calibre20">
<p class="calibre21">Like<a data-type="indexterm" data-primary="financial language" id="idm44853719388904" class="calibre6"/> every other field, <em class="calibre7">finance</em> has technical terms, notions, and expressions that describe certain phenomena or ideas that are usually not relevant in other domains.</p>
</dd>
<dt class="calibre19">Mathematical language</dt>
<dd class="calibre20">
<p class="calibre21"><em class="calibre7">Mathematics</em> is <a data-type="indexterm" data-primary="mathematics" data-secondary="as language of finance" data-secondary-sortas="language of finance" id="idm44853719232984" class="calibre6"/>the tool and language of choice when it comes to formalizing the notions and concepts of finance.</p>
</dd>
<dt class="calibre19">Programming language</dt>
<dd class="calibre20">
<p class="calibre21">As <a data-type="indexterm" data-primary="programming language of finance" id="idm44853718558136" class="calibre6"/><a data-type="indexterm" data-primary="Python" data-secondary="finance and" id="idm44853718444360" class="calibre6"/><a data-type="indexterm" data-primary="financial theory" data-secondary="Python and" id="idm44853721854408" class="calibre6"/>the quote at the beginning of the preface points out, <a href="http://python.org" class="calibre6"><em class="calibre7">Python</em></a> as a programming language has become the language of choice in many corners of the financial industry.</p>
</dd>
</dl>

<p class="author1">The mastery of finance therefore requires both the academic and practitioner to be fluent in all four languages: English, finance, mathematics, and Python. This is <em class="calibre7">not</em> to say that, for instance, English and Python are the <em class="calibre7">only</em> relevant natural or programming languages. It is rather the case that if you have only a limited amount of time to learn a programming language, you should most probably focus on Python—alongside mathematical finance—on your way to mastery of the <a data-type="indexterm" data-primary="financial theory" data-secondary="languages of" data-startref="finance-language" id="idm44853717283816" class="calibre6"/><a data-type="indexterm" data-primary="languages of finance" data-startref="languages-finance" id="idm44853717365976" class="calibre6"/>field.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="The Approach of This Book" class="calibre4"><div class="preface" id="approach_book">
<h1 class="calibre17">The Approach of This Book</h1>

<p class="author1">How does this book approach the four languages needed in finance? The English language is a no-brainer—you are reading it already. Yet, three remain.</p>

<p class="author1">For example, this book cannot introduce every single piece of mathematics in detail that is needed in finance. Nor can it introduce every single concept in (Python) programming in detail that is needed in computational finance. However, it tries to introduce related concepts from finance, mathematics, and programming alongside one another whenever possible and sensible.</p>

<p class="author1">From <a data-type="xref" href="ch02_split_000.xhtml#two_state_economy" class="calibre6">Chapter 2</a> onward, the book introduces a financial notion or concept and then illustrates it on the basis of both a mathematical representation and the implementation in Python. As an example, have a look at the following table from <a data-type="xref" href="ch03.xhtml#three_state_economy" class="calibre6">Chapter 3</a>. The table lists the financial topic, the major mathematical elements, and the major Python data structure used to implement the financial mathematics:</p>
<table class="calibre34">

<thead class="calibre35">
<tr class="calibre36">
<th class="calibre37">Finance</th>
<th class="calibre37">Mathematics</th>
<th class="calibre37">Python</th>
</tr>
</thead>
<tbody class="calibre38">
<tr class="calibre36">
<td class="calibre39"><p class="author1">Uncertainty</p></td>
<td class="calibre39"><p class="author1">Probability space</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">ndarray</code></p></td>
</tr>
<tr class="calibre41">
<td class="calibre39"><p class="author1">Financial assets</p></td>
<td class="calibre39"><p class="author1">Vectors, matrices</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">ndarray</code></p></td>
</tr>
<tr class="calibre36">
<td class="calibre39"><p class="author1">Attainable contingent claims</p></td>
<td class="calibre39"><p class="author1">Span of vectors, basis of vector space</p></td>
<td class="calibre39"><p class="author1"><code class="calibre40">ndarray</code></p></td>
</tr>
</tbody>
</table>

<p class="author1">The following is a walkthrough of one specific example, details of which are provided in later chapters. The example is only for illustration of the general approach of the book at this point.</p>

<p class="author1">As an example, take <a data-type="indexterm" data-primary="financial theory" data-secondary="uncertainty" id="finance-uncertainty" class="calibre6"/><a data-type="indexterm" data-primary="uncertainty" id="uncertainty" class="calibre6"/>the central concept of <em class="calibre7">uncertainty</em> in finance from the preceding table. Uncertainty embodies the notion that future states of a model economy are not known in advance. Which future state of the economy unfolds might be important, for example, to determine the <a data-type="indexterm" data-primary="European option pricing" data-secondary="uncertainty in payoff" id="european-call-payoff" class="calibre6"/><a data-type="indexterm" data-primary="payoff of call options" data-secondary="European" id="payoff-european-call" class="calibre6"/>payoff of a European call option. In a discrete case, one deals with a finite number of such states, like two, three, or more. In the most simple case of two future states only, the payoff of a European call option is represented mathematically as<a data-type="indexterm" data-primary="random variables" data-secondary="payoffs represented by" id="idm44853717479848" class="calibre6"/> a <em class="calibre7">random variable</em>, which in turn can be represented formally as a <em class="calibre7">vector</em> <math alttext="v">
  <mi>v</mi>
</math> that is itself an element of the <em class="calibre7">vector space</em>
<math alttext="double-struck upper R squared">
  <msup><mi>ℝ</mi> <mn>2</mn> </msup>
</math>.
A<a data-type="indexterm" data-primary="vectors" data-secondary="defined" id="idm44853720088472" class="calibre6"/><a data-type="indexterm" data-primary="vector space" data-secondary="defined" id="idm44853720056840" class="calibre6"/> vector space is a collection of objects—called vectors—for which addition and scalar multiplication are defined. Formally, one writes for such a vector <math alttext="v">
  <mi>v</mi>
</math>, for example:</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mrow>
    <mi>v</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <msup><mi>v</mi> <mi>u</mi> </msup>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <msup><mi>v</mi> <mi>d</mi> </msup>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>∈</mo>
    <msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup>
  </mrow>
</math></div>

<p class="author1">Here, both elements of the vector are assumed to be non-negative real numbers
<math><mrow><msup><mi>v</mi> <mi>u</mi> </msup><mo>,</mo><msup><mi>v</mi> <mi>d</mi> </msup><mo>∈</mo><msub><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> </msub></mrow></math>.
More concretely, if the uncertain, state-dependent price of the stock on which the European call option is written is given in this context by</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mrow>
    <mi>S</mi>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>20</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>5</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>∈</mo>
    <msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup>
  </mrow>
</math></div>

<p class="author1">and the strike price of the option is <math alttext="upper K equals 15">
  <mrow>
    <mi>K</mi>
    <mo>=</mo>
    <mn>15</mn>
  </mrow>
</math>, the payoff <math alttext="upper C">
  <mi>C</mi>
</math> of the European call option is given by</p>
<div data-type="equation" class="calibre42">
<math mode="display">
  <mrow>
    <mi>C</mi>
    <mo>=</mo>
    <mo movablelimits="true" form="prefix">max</mo>
    <mrow>
      <mo>(</mo>
      <mi>S</mi>
      <mo>-</mo>
      <mi>K</mi>
      <mo>,</mo>
      <mn>0</mn>
      <mo>)</mo>
    </mrow>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mo movablelimits="true" form="prefix">max</mo>
              <mo>(</mo>
              <mn>20</mn>
              <mo>-</mo>
              <mn>15</mn>
              <mo>,</mo>
              <mn>0</mn>
              <mo>)</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo movablelimits="true" form="prefix">max</mo>
              <mo>(</mo>
              <mn>5</mn>
              <mo>-</mo>
              <mn>15</mn>
              <mo>,</mo>
              <mn>0</mn>
              <mo>)</mo>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>=</mo>
    <mfenced open="(" close=")">
      <mtable>
        <mtr>
          <mtd>
            <mn>5</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
      </mtable>
    </mfenced>
    <mo>∈</mo>
    <msubsup><mi>ℝ</mi> <mrow><mn>≥0</mn></mrow> <mn>2</mn> </msubsup>
  </mrow>
</math></div>

<p class="author1">This illustrates how the notions of the <em class="calibre7">uncertain price of a stock</em> and the <em class="calibre7">state-dependent payoff of a European option</em> can be modeled mathematically as a vector. The discipline dealing with vectors and vector spaces in mathematics is <a data-type="indexterm" data-primary="linear algebra" data-secondary="defined" id="idm44853716748696" class="calibre6"/>called <em class="calibre7">linear algebra</em>.</p>

<p class="author1">How can all this be translated into Python programming? First, <em class="calibre7">real numbers</em> are<a data-type="indexterm" data-primary="real numbers" id="idm44853716576536" class="calibre6"/><a data-type="indexterm" data-primary="floating point numbers" id="idm44853716337848" class="calibre6"/> represented as <em class="calibre7">floating point numbers</em> or <code class="calibre22">float</code> objects in Python:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">vu</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">1.5</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO1-1" href="#callout_finance_and_python_CO1-1"/><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">vd</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">3.75</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO1-2" href="#callout_finance_and_python_CO1-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">type</code><code class="p">(</code><code class="n">vu</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO1-3" href="#callout_finance_and_python_CO1-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="nb">float</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">4</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">vu</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">vd</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO1-4" href="#callout_finance_and_python_CO1-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">5.25</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO1-1" href="#co_finance_and_python_CO1-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines a variable with the name <code class="calibre22">vu</code> and the value 1.5.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO1-2" href="#co_finance_and_python_CO1-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines a variable with the name <code class="calibre22">vd</code> and the value 3.75.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO1-3" href="#co_finance_and_python_CO1-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up the type of the <code class="calibre22">vu</code> object—it is a <code class="calibre22">float</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO1-4" href="#co_finance_and_python_CO1-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Adds up the values of <code class="calibre22">vu</code> and <code class="calibre22">vd</code>.</p></dd>
</dl>

<p class="author1">Second, one usually calls collections of objects of the same type in programming <em class="calibre7">arrays</em>. In Python,<a data-type="indexterm" data-primary="arrays in Python" id="idm44853710853224" class="calibre6"/> the package <a href="http://numpy.org" class="calibre6"><code class="calibre22">NumPy</code></a> provides support for such data structures. The major data structure provided by this package is called <code class="calibre22">ndarray</code>, which is an abbreviation for <math alttext="n">
  <mi>n</mi>
</math>-dimensional array. Real-valued vectors are straightforward<a data-type="indexterm" data-primary="NumPy" data-secondary="vector modeling" id="idm44853710849864" class="calibre6"/><a data-type="indexterm" data-primary="ndarray" id="idm44853710909704" class="calibre6"/> to model with <code class="calibre22">NumPy</code>:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">5</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="kn">import</code><code class="calibre22"> </code><code class="nn">numpy</code><code class="calibre22"> </code><code class="kn">as</code><code class="calibre22"> </code><code class="nn">np</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-1" href="#callout_finance_and_python_CO2-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">6</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">v</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="n">vu</code><code class="p">,</code><code class="calibre22"> </code><code class="n">vd</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-2" href="#callout_finance_and_python_CO2-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">v</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-3" href="#callout_finance_and_python_CO2-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">1.5</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22"> </code><code class="mi">3.75</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">v</code><code class="o">.</code><code class="n">dtype</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-4" href="#callout_finance_and_python_CO2-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">dtype</code><code class="p">(</code><code class="s">'</code><code class="s">float64</code><code class="s">'</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">9</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">v</code><code class="o">.</code><code class="n">shape</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-5" href="#callout_finance_and_python_CO2-5"><img src="Images/5.png" alt="5" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">9</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="p">(</code><code class="mi">2</code><code class="p">,</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">v</code><code class="calibre22"> </code><code class="o">+</code><code class="calibre22"> </code><code class="n">v</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-6" href="#callout_finance_and_python_CO2-6"><img src="Images/6.png" alt="6" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">3.</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22"> </code><code class="mi">7.5</code><code class="p">]</code><code class="p">)</code><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="mi">3</code><code class="calibre22"> </code><code class="o">*</code><code class="calibre22"> </code><code class="n">v</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO2-7" href="#callout_finance_and_python_CO2-7"><img src="Images/7.png" alt="7" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="calibre22"> </code><code class="mi">4.5</code><code class="calibre22"> </code><code class="p">,</code><code class="calibre22"> </code><code class="mi">11.25</code><code class="p">]</code><code class="p">)</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-1" href="#co_finance_and_python_CO2-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Imports the <code class="calibre22">NumPy</code> package.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-2" href="#co_finance_and_python_CO2-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Instantiates an <code class="calibre22">ndarray</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-3" href="#co_finance_and_python_CO2-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Prints out the data stored in the object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-4" href="#co_finance_and_python_CO2-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up the data type for all elements.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-5" href="#co_finance_and_python_CO2-5"><img src="Images/5.png" alt="5" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Looks up the shape of the object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-6" href="#co_finance_and_python_CO2-6"><img src="Images/6.png" alt="6" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Vector addition illustrated.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO2-7" href="#co_finance_and_python_CO2-7"><img src="Images/7.png" alt="7" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Scalar multiplication illustrated.</p></dd>
</dl>

<p class="author1">This shows how the mathematical concepts surrounding vectors are represented and applied in Python. It is then only one step further to apply those insights to finance:</p>

<pre data-type="programlisting" data-code-language="python" class="calibre43"><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">12</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">S</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="p">(</code><code class="mi">20</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">5</code><code class="p">)</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO3-1" href="#callout_finance_and_python_CO3-1"><img src="Images/1.png" alt="1" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">13</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">K</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="mi">15</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO3-2" href="#callout_finance_and_python_CO3-2"><img src="Images/2.png" alt="2" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">14</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">C</code><code class="calibre22"> </code><code class="o">=</code><code class="calibre22"> </code><code class="n">np</code><code class="o">.</code><code class="n">maximum</code><code class="p">(</code><code class="n">S</code><code class="calibre22"> </code><code class="o">-</code><code class="calibre22"> </code><code class="n">K</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">)</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO3-3" href="#callout_finance_and_python_CO3-3"><img src="Images/3.png" alt="3" class="calibre44"/></a><code class="calibre22">
</code><code class="calibre22">
</code><code class="n">In</code><code class="calibre22"> </code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">C</code><code class="calibre22">  </code><a class="calibre6" id="co_finance_and_python_CO3-4" href="#callout_finance_and_python_CO3-4"><img src="Images/4.png" alt="4" class="calibre44"/></a><code class="calibre22">
</code><code class="n">Out</code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code class="calibre22"> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">5</code><code class="p">,</code><code class="calibre22"> </code><code class="mi">0</code><code class="p">]</code><code class="p">)</code></pre>
<dl class="calibre18">
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO3-1" href="#co_finance_and_python_CO3-1"><img src="Images/1.png" alt="1" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the uncertain price of the stock as an <code class="calibre22">ndarray</code> object.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO3-2" href="#co_finance_and_python_CO3-2"><img src="Images/2.png" alt="2" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Defines the strike price as a Python variable with an integer value (<code class="calibre22">int</code> object).</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO3-3" href="#co_finance_and_python_CO3-3"><img src="Images/3.png" alt="3" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Calculates the maximum expression element-wise.</p></dd>
<dt class="calibre19"><a class="calibre6" id="callout_finance_and_python_CO3-4" href="#co_finance_and_python_CO3-4"><img src="Images/4.png" alt="4" class="calibre44"/></a></dt>
<dd class="calibre45"><p class="calibre46">Shows the resulting data now stored in the <code class="calibre22">ndarray</code> object <code class="calibre22">C</code>.</p></dd>
</dl>

<p class="author1">This illustrates the style and approach of this book:</p>
<ol class="calibre47">
<li class="calibre48">
<p class="author1">Notions and concepts in finance are introduced.</p>
</li>
<li class="calibre48">
<p class="author1">A mathematical representation and model is provided.</p>
</li>
<li class="calibre48">
<p class="author1">The mathematical model is translated into executable Python code.</p>
</li>

</ol>

<p class="author1">In that sense, finance motivates the use of mathematics, which in turn motivates the use of Python programming <a data-type="indexterm" data-primary="financial theory" data-secondary="uncertainty" data-startref="finance-uncertainty" id="idm44853710583080" class="calibre6"/><a data-type="indexterm" data-primary="uncertainty" data-startref="uncertainty" id="idm44853710581832" class="calibre6"/>techniques.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Getting Started with Python" class="calibre4"><div class="preface" id="python_start">
<h1 class="calibre17">Getting Started with Python</h1>

<p class="author1">One of the<a data-type="indexterm" data-primary="Python" data-secondary="requirements for" id="python-requirements" class="calibre6"/><a data-type="indexterm" data-primary="requirements for Python" id="requirements-python" class="calibre6"/> benefits of Python is that it is an open source language, which holds true for the absolute majority of important packages as well. This allows for easy installation of the language and required packages on all major operating systems, such as macOS, Windows, and Linux.
There are only a few major packages that are required for the code of this book and finance in general in addition to a basic Python 
<span class="firstname">interpreter</span>:</p>
<dl class="calibre18">
<dt class="calibre19"><a href="http://numpy.org" class="calibre6"><code class="calibre22">NumPy</code></a></dt>
<dd class="calibre20">
<p class="calibre21">This<a data-type="indexterm" data-primary="NumPy" id="idm44853710572904" class="calibre6"/> package allows the efficient handling of large, <em class="calibre7">n</em>-dimensional numerical data sets.</p>
</dd>
<dt class="calibre19"><a href="http://pandas.pydata.org" class="calibre6"><code class="calibre22">pandas</code></a></dt>
<dd class="calibre20">
<p class="calibre21">This package<a data-type="indexterm" data-primary="pandas" id="idm44853710569848" class="calibre6"/> is primarily for the efficient handling of tabular data sets, such as financial time series data. Although not required for the purposes of this book, <code class="calibre22">pandas</code> has become one of the most popular Python packages in finance.</p>
</dd>
<dt class="calibre19"><a href="http://scipy.org" class="calibre6"><code class="calibre22">SciPy</code></a></dt>
<dd class="calibre20">
<p class="calibre21">This package is<a data-type="indexterm" data-primary="SciPy" id="idm44853710566584" class="calibre6"/> a collection of scientific functions that are required, for example, to solve typical optimization problems.</p>
</dd>
<dt class="calibre19"><a href="http://sympy.org" class="calibre6"><code class="calibre22">SymPy</code></a></dt>
<dd class="calibre20">
<p class="calibre21">This package<a data-type="indexterm" data-primary="SymPy" id="idm44853710563784" class="calibre6"/> allows for symbolic mathematics with Python, which sometimes comes in handy when dealing with financial models and algorithms.</p>
</dd>
<dt class="calibre19"><a href="http://matplotlib.org" class="calibre6"><code class="calibre22">matplotlib</code></a></dt>
<dd class="calibre20">
<p class="calibre21">This package<a data-type="indexterm" data-primary="matplotlib" id="idm44853710560968" class="calibre6"/> is the standard package in Python for visualization. It allows you to generate and customize different types of plots, such as line plots, bar charts, and histograms.</p>
</dd>
</dl>

<p class="author1">Similarly, there are only two tools that are required to get started with interactive Python coding:</p>
<dl class="calibre18">
<dt class="calibre19"><a href="http://ipython.org" class="calibre6">IPython</a></dt>
<dd class="calibre20">
<p class="calibre21">This is<a data-type="indexterm" data-primary="IPython" id="idm44853711311736" class="calibre6"/> the most popular environment in which to do interactive Python coding on the command line (terminal, shell).</p>
</dd>
<dt class="calibre19"><a href="http://jupyter.org" class="calibre6">JupyterLab</a></dt>
<dd class="calibre20">
<p class="calibre21">This is the interactive<a data-type="indexterm" data-primary="JupyterLab" id="idm44853711309096" class="calibre6"/> development environment in which to do interactive Python coding and development in the browser.</p>
</dd>
</dl>

<p class="author1">The <a data-type="indexterm" data-primary="Python" data-secondary="requirements for" data-startref="python-requirements" id="idm44853711307480" class="calibre6"/><a data-type="indexterm" data-primary="requirements for Python" data-startref="requirements-python" id="idm44853711306200" class="calibre6"/>technical prerequisites to follow along with regard to Python programming are minimal. There are basically two options for making use of the Python code in this book:</p>
<dl class="calibre18">
<dt class="calibre19">Quant Platform</dt>
<dd class="calibre20">
<p class="calibre21">On<a data-type="indexterm" data-primary="Quant Platform" id="idm44853711303480" class="calibre6"/><a data-type="indexterm" data-primary="Python" data-secondary="Quant Platform" id="idm44853711302744" class="calibre6"/> the <a href="http://finpy.pqp.io" class="calibre6">Quant Platform</a>, for which you can sign up for free, you find a full-fledged environment for interactive financial analytics with Python. This allows you to make use of the Python code provided in this book via the browser, making a local installation unnecessary. After signing up for free, you have automatic access to all code and all Jupyter Notebooks that accompany the book, and you can execute the code right away in the browser.</p>
</dd>
<dt class="calibre19">Local Python environment</dt>
<dd class="calibre20">
<p class="calibre21">It is also straightforward nowadays to install a local Python environment that allows you to dive into financial analytics and the book code on your own computer. This section describes how to do this.</p>
</dd>
</dl>
<div data-type="caution" class="calibre28"><h1 class="calibre49">Local Installation Versus the Quant Platform</h1>
<p class="author1">From experience, the local installation of an appropriate Python environment can sometimes prove difficult for someone who is just starting out in the programming world. Therefore, it is recommended that you do not spend too much time at the beginning on installing Python locally if you face any issues. Rather, make use of the <a href="http://finpy.pqp.io" class="calibre6">Quant Platform</a> and later on, with some more experience, you can still return and install Python on your local machine.</p>
</div>

<p class="author1">An <a data-type="indexterm" data-primary="Python" data-secondary="installing" id="python-install" class="calibre6"/><a data-type="indexterm" data-primary="installing Python" id="install-python" class="calibre6"/><a data-type="indexterm" data-primary="local installation of Python" id="local-install-python" class="calibre6"/><a data-type="indexterm" data-primary="conda" id="conda" class="calibre6"/>easy and modern way of installing Python is by the use of the <a href="http://conda.io" class="calibre6"><code class="calibre22">conda</code></a> package and environment manager (see <a data-type="xref" href="#conda_01" class="calibre6">Figure 1-1</a>).</p>

<figure class="calibre50"><div id="conda_01" class="figure">
<img src="Images/ftwp_0101.png" alt="ftwp 0101" class="calibre51"/>
<h6 class="calibre52"><span class="firstname">Figure 1-1. </span><code class="calibre22">conda</code> web page</h6>
</div></figure>

<p class="author1">The most efficient way to install <code class="calibre22">conda</code> and a basic Python interpreter is via<a data-type="indexterm" data-primary="Miniconda" id="idm44853711286504" class="calibre6"/> the <a href="https://oreil.ly/NI0Wi" class="calibre6">Miniconda</a> distribution. On the Miniconda <a href="https://oreil.ly/gaWTP" class="calibre6">download page</a>, installer packages for the most important operating systems and Python versions are provided (see <a data-type="xref" href="#conda_02" class="calibre6">Figure 1-2</a>). Additional options, such as for Apple’s M1 chips (“Apple Silicon”), are provided by the <a href="https://oreil.ly/gKeo3" class="calibre6">Miniforge project</a>.</p>

<figure class="calibre50"><div id="conda_02" class="figure">
<img src="Images/ftwp_0102.png" alt="ftwp 0102" class="calibre51"/>
<h6 class="calibre52"><span class="firstname">Figure 1-2. </span>Miniconda download page</h6>
</div></figure>

<p class="author1">After having installed Miniconda or Miniforge<a data-type="indexterm" data-primary="Miniforge" id="idm44853711280216" class="calibre6"/> according to the guidelines provided for your operating system, you should open a shell or command prompt and check whether <code class="calibre22">conda</code> is available. The examples that follow are based on <code class="calibre22">conda</code> as installed via Miniforge on an Apple Mac computer with the M1 chip. You should get an output similar to this:</p>

<pre data-type="programlisting" class="calibre43">(base) minione:finpy yves$ conda --version
conda 4.10.3
(base) minione:finpy yves$</pre>

<p class="author1">Also note the <code class="calibre22">(base)</code> part of the prompt that is typical for <code class="calibre22">conda</code>-based Python installations. The next step is to create a <a data-type="indexterm" data-primary="Python environment, creating" id="idm44853711276344" class="calibre6"/>new <em class="calibre7">Python environment</em> as follows (and to answer “y” when prompted):</p>

<pre data-type="programlisting" class="calibre43">pro:finpy yves$ conda create --name finpy python=3.9
...
Preparing transaction: done
Verifying transaction: done
Executing transaction: done
#
# To activate this environment, use
#
#     $ conda activate finpy
#
# To deactivate an active environment, use
#
#     $ conda deactivate</pre>

<p class="author1">After the successful completion, activate the environment as <a data-type="indexterm" data-primary="conda" data-startref="conda" id="idm44853711273672" class="calibre6"/>follows:</p>

<pre data-type="programlisting" class="calibre43">(base) minione:finpy yves$ conda activate finpy
(finpy) minione:finpy yves$</pre>

<p class="author1">Notice how the prompt changes. Next, install <a data-type="indexterm" data-primary="IPython" data-secondary="installing" id="idm44853711271464" class="calibre6"/><a data-type="indexterm" data-primary="JupyterLab" data-secondary="installing" id="idm44853711270488" class="calibre6"/>the required tools IPython and JupyterLab as follows (and answer “y” when prompted):</p>

<pre data-type="programlisting" class="calibre43">(finpy) minione:finpy yves$ conda install ipython jupyterlab
...</pre>

<p class="author1">After that, you should install the major Python packages<a data-type="indexterm" data-primary="NumPy" data-secondary="installing" id="idm44853711268232" class="calibre6"/><a data-type="indexterm" data-primary="pandas" id="idm44853711267256" class="calibre6"/><a data-type="indexterm" data-primary="matplotlib" data-secondary="installing" id="idm44853711266584" class="calibre6"/><a data-type="indexterm" data-primary="SciPy" data-secondary="installing" id="idm44853711265640" class="calibre6"/><a data-type="indexterm" data-primary="SymPy" data-secondary="installing" id="idm44853711264696" class="calibre6"/> generally used for financial data science as follows (the flag <code class="calibre22">-y</code> avoids the confirmation prompt):</p>

<pre data-type="programlisting" class="calibre43">(finpy) minione:finpy yves$ conda install -y numpy pandas matplotlib scipy sympy
...</pre>

<p class="author1">This provides the most important Python packages for data analysis in general and financial analytics in particular. You might check whether everything has been installed as follows:</p>

<pre data-type="programlisting" class="calibre43">(finpy) minione:finpy yves$ conda list
# packages in environment at /Users/yves/Python/envs/finpy:
#
# Name                    Version                   Build    Channel
anyio                     3.3.0            py39h2804cbe_0    conda-forge
appnope                   0.1.2            py39h2804cbe_1    conda-forge
argon2-cffi               20.1.0           py39h5161555_2    conda-forge
...
jupyterlab                3.1.12             pyhd8ed1ab_0    conda-forge
...
numpy                     1.21.2           py39h1f3b974_0    conda-forge
...
python                    3.9.7        h54d631c_1_cpython    conda-forge
...
zipp                      3.5.0              pyhd8ed1ab_0    conda-forge
zlib                      1.2.11            h31e879b_1009    conda-forge
zstd                      1.5.0                h861e0a7_0    conda-forge
(finpy) minione:finpy yves$</pre>

<p class="author1">An interactive Python session is then started by simply typing <code class="calibre22">python</code>:</p>

<pre data-type="programlisting" class="calibre43">(finpy) minione:finpy yves$ python
Python 3.9.7 | packaged by conda-forge | (default, Sep 14 2021, 01:14:24)
[Clang 11.1.0 ] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; print('Hello Finance World.')
Hello Finance World.
&gt;&gt;&gt; exit()
(finpy) minione:finpy yves$</pre>

<p class="author1">A better interactive shell is provided by<a data-type="indexterm" data-primary="IPython" data-secondary="starting" id="idm44853711257752" class="calibre6"/> IPython, which is started via <code class="calibre22">ipython</code> on the shell:</p>

<pre data-type="programlisting" class="calibre43">(finpy) minione:finpy yves$ ipython
Python 3.9.7 | packaged by conda-forge | (default, Sep 14 2021, 01:14:24)
Type 'copyright', 'credits' or 'license' for more information
IPython 7.27.0 -- An enhanced Interactive Python. Type '?' for help.

In [1]: from numpy.random import default_rng

In [2]: rng = default_rng(100)

In [3]: rng.random(10)
Out[3]:
array([0.83498163, 0.59655403, 0.28886324, 0.04295157, 0.9736544 ,
       0.5964717 , 0.79026316, 0.91033938, 0.68815445, 0.18999147])

In [4]: exit
(finpy) minione:finpy yves$</pre>

<p class="author1">However, it is <a data-type="indexterm" data-primary="JupyterLab" data-secondary="starting" id="idm44853711254584" class="calibre6"/>recommended—especially for the Python beginner—to work with JupyterLab in the browser. To this end, type <code class="calibre22">jupyter lab</code> on the shell, which should give an output with messages similar to the following:</p>

<pre data-type="programlisting" class="calibre43">(finpy) minione:finpy yves$ jupyter lab
...
[I 2021-09-16 14:18:21.774 ServerApp] Jupyter Server 1.11.0 is running at:
[I 2021-09-16 14:18:21.774 ServerApp] http://localhost:8888/lab
[I 2021-09-16 14:18:21.774 ServerApp]  or http://127.0.0.1:8888/lab
[I 2021-09-16 14:18:21.774 ServerApp] Use Control-C to stop this server
	 and shut down all kernels (twice to skip confirmation).</pre>

<p class="author1">In general, a new browser tab is opened automatically, which then shows you the starting page of JupyterLab similar to <a data-type="xref" href="#jupyter_01" class="calibre6">Figure 1-3</a>.</p>

<p class="author1">You can then open<a data-type="indexterm" data-primary="Jupyter Notebooks, opening" id="jupyter-notebook-open" class="calibre6"/><a data-type="indexterm" data-primary="opening Jupyter Notebooks" id="open-jupyter-notebook" class="calibre6"/><a data-type="indexterm" data-primary="executing code" id="idm44853711248024" class="calibre6"/> a new Jupyter Notebook and start with interactive Python coding, as shown in <a data-type="xref" href="#jupyter_02" class="calibre6">Figure 1-4</a>. To write code in a cell, click on the cell. To execute the code, use Shift-Return, Ctrl-Return, or Alt-Return (you will notice the difference).</p>

<figure class="calibre50"><div id="jupyter_01" class="figure">
<img src="Images/ftwp_0103.png" alt="ftwp 0103" class="calibre53"/>
<h6 class="calibre52"><span class="firstname">Figure 1-3. </span>JupyterLab start page</h6>
</div></figure>

<figure class="calibre50"><div id="jupyter_02" class="figure">
<img src="Images/ftwp_0104.png" alt="ftwp 0104" class="calibre53"/>
<h6 class="calibre52"><span class="firstname">Figure 1-4. </span>New Jupyter Notebook</h6>
</div></figure>

<p class="author1">You can also open one of the Jupyter Notebook files provided with this<a data-type="indexterm" data-primary="Jupyter Notebooks, opening" data-startref="jupyter-notebook-open" id="idm44853711241592" class="calibre6"/><a data-type="indexterm" data-primary="opening Jupyter Notebooks" data-startref="open-jupyter-notebook" id="idm44853711240600" class="calibre6"/> book (see <a data-type="xref" href="#jupyter_03" class="calibre6">Figure 1-5</a>).</p>

<figure class="calibre50"><div id="jupyter_03" class="figure">
<img src="Images/ftwp_0105.png" alt="ftwp 0105" class="calibre53"/>
<h6 class="calibre52"><span class="firstname">Figure 1-5. </span>Jupyter Notebook accompanying the book</h6>
</div></figure>

<p class="author1">This section just provides the very basics to get started with Python and related tools, such as IPython and JupyterLab. For more details—for example, about how to work with IPython—refer to the book by<a data-type="indexterm" data-primary="Python" data-secondary="installing" data-startref="python-install" id="idm44853711236072" class="calibre6"/><a data-type="indexterm" data-primary="installing Python" data-startref="install-python" id="idm44853711234824" class="calibre6"/><a data-type="indexterm" data-primary="local installation of Python" data-startref="local-install-python" id="idm44853711233880" class="calibre6"/> VanderPlas (2016) listed in <a data-type="xref" href="ch07.xhtml#where_to_go" class="calibre6">Chapter 7</a>.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Conclusions" class="calibre4"><div class="preface" id="idm44853710579912">
<h1 class="calibre17">Conclusions</h1>

<p class="author1">Finance can look back on a long history. The period from 1950 to 1980 is characterized by the introduction of rigorous mathematical analysis to the field. From the 1980s onward, and in particular since 2000, the role of computers and computational finance has gained tremendously in importance. This trend will be further reinforced by the increasing role AI plays in the field, with its computationally demanding algorithms from machine learning (ML) and deep learning (DL).</p>

<p class="author1">The finance field makes use of four different types of language: <em class="calibre7">natural language</em> (English in general), <em class="calibre7">financial language</em> (notions and expressions special to the field), <em class="calibre7">mathematical language</em> (like linear algebra or probability theory), and <em class="calibre7">programming language</em> (like Python for the purposes of this book).</p>

<p class="author1">The approach of this book is to introduce related concepts from finance, mathematics, and Python programming alongside one another. The necessary prerequisites on the Python side are minimal, with the <code class="calibre22">conda</code> package and environment manager often as the tool of choice nowadays to manage Python environments.</p>

<p class="author1">You are now ready to move on to <a data-type="xref" href="ch02_split_000.xhtml#two_state_economy" class="calibre6">Chapter 2</a>, which discusses the most simple financial model presented in the book and introduces many of the central finance notions. The intuition that you gain in the most simple financial model should easily carry over to the more advanced models and approaches discussed from <a data-type="xref" href="ch03.xhtml#three_state_economy" class="calibre6">Chapter 3</a> onward.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="References" class="calibre4"><div class="preface" id="idm44853710579512">
<h1 class="calibre17">References</h1>

<p class="author1">Articles and books cited in this chapter:</p>

<ul class="printings">
<li class="calibre54">
<p class="author1">Cox, John, Jonathan Ingersoll and Stephen Ross. 1985. “A Theory of the Term Structure of Interest Rates.” <em class="calibre7">Econometrica</em> 53 (2): 385–407.</p>
</li>
<li class="calibre54">
<p class="author1">Fletcher, Laurence. 2020. “Hedge Funds Exploit Technology to Reduce Cost and Waste.” <em class="calibre7">Financial Times</em>, December 15, 2020. <a href="https://oreil.ly/HE4Cc" class="calibre6"><em class="calibre7">https://oreil.ly/HE4Cc</em></a>.</p>
</li>
<li class="calibre54">
<p class="author1">Heston, Steven. 1993. “A Closed-Form Solution for Options with Stochastic Volatility with Applications to Bond and Currency Options.” <em class="calibre7">The Review of Financial Studies</em> 6 (2): 327–343.</p>
</li>
<li class="calibre54">
<p class="author1">Hilpisch, Yves. 2018. <em class="calibre7">Python for Finance: Mastering Data-Driven Finance</em>. 2nd ed. Sebastopol: O’Reilly.</p>
</li>
<li class="calibre54">
<p class="author1">Hilpisch, Yves. 2020. <em class="calibre7">Artificial Intelligence in Finance: A Python-Based Guide</em>. 
<span class="firstname">Sebastopol</span>: O’Reilly.</p>
</li>
<li class="calibre54">
<p class="author1">Longstaff, Francis and Eduardo Schwartz. 2001. “Valuing American Options by Simulation: A Simple Least Squares Approach.” <em class="calibre7">Review of Financial Studies</em> 14 (1): 113–147.</p>
</li>
<li class="calibre54">
<p class="author1">Markowitz, Harry. 1952. “Portfolio Selection.” <em class="calibre7">Journal of Finance</em> 7 (1): 77-91.</p>
</li>
<li class="calibre54">
<p class="author1">Milne, Frank. 1995. <em class="calibre7">Finance Theory and Asset Pricing</em>. New York: Oxford University Press.</p>
</li>
<li class="calibre54">
<p class="author1">Rubinstein, Mark. 2006. <em class="calibre7">A History of the Theory of Investments</em>. Hoboken: Wiley Finance.</p>
</li>
</ul>
</div></section>







</div></section></div></body></html>