- en: Chapter 5\. Modern Trend-Following Patterns
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Continuing with the trend-following concept, this chapter reveals new patterns
    that are not part of the classic ones. I refer to these new patterns as *modern*
    since they are personal discoveries that I use in my analyses.
  prefs: []
  type: TYPE_NORMAL
- en: The aim remains the same, which is to create objective conditions and back-test
    them so that you form an opinion about their frequency and predictability. The
    important thing to remember is that a pattern’s predictability is quite random
    from one market to the other, meaning that what works on GBPUSD may not work on
    EURGBP as every market has different statistical and technical properties.
  prefs: []
  type: TYPE_NORMAL
- en: Therefore, the main assumption I am making is that modern patterns are neither
    better nor worse than classic patterns; they are simply a diversification tool
    that  allows you to get more confirmation in the analyses. This means that if
    you see at least two or three patterns (classic or modern) emerging around the
    same time, you should have a better conviction to take the trade. Let’s now get
    started with these new patterns and explore their intuition and code.
  prefs: []
  type: TYPE_NORMAL
- en: The Quintuplets Pattern
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The *Quintuplets* pattern is a multicandlestick configuration that confirms
    the underlying trend. This pattern was born out of the psychology of herding as
    well as the failure of reaction,^([1](ch05.xhtml#idm46762868430992)) which gives
    it the extra push to continue in the same direction. It is characterized by having
    five successive small candles of the same type. The pattern relies on the gradual
    upward drift event where the market seems to be overvalued or overbought but remains
    unscathed and continues upward.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This type of pattern is typically seen in markets after an impactful event where
    the price action remains in a low-volatility environment but a clear trend can
    be seen. An example of this would be USDTRY^([2](ch05.xhtml#idm46762868428896)) at
    the end of December 2021\. Turkish president Recep Tayyip Erdoğan shook the markets
    with his statements on inflation and interest rates, which caused huge volatility,
    but then a deterministic form of indecision occurred where the USD steadily rose
    versus the TRY.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5-1](#figure5-1) illustrates a bullish Quintuplets pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: ​​![](assets/mfpr_0501.png)
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5-1\. A bullish Quintuplets pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The Quintuplets pattern occurs when volatility slows down, as evidenced by the
    small-bodied bullish candles. [Figure 5-2](#figure5-2) shows a bearish Quintuplets
    pattern.
  prefs: []
  type: TYPE_NORMAL
- en: ​​![](assets/mfpr_0502.png)
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5-2\. A bearish Quintuplets pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The difference between the Three Candles pattern discussed in [Chapter 4](ch04.xhtml#chapter4)
    and the Quintuplets pattern is the number of candlesticks and their size. The
    former assumes that big moves are followed by big moves, while the latter assumes
    that slow and gradual moves are followed by slow and gradual moves as well. (This
    is in tandem with the volatility-clustering event in the financial markets. *Volatility
    clustering* is the persistence of volatility through time where low volatility
    is generally followed by low volatility while high volatility is followed by high
    volatility.)
  prefs: []
  type: TYPE_NORMAL
- en: Hence, both patterns point to the same direction but deal with different market
    properties.
  prefs: []
  type: TYPE_NORMAL
- en: 'Detecting the Quintuplets pattern is easy, but the pattern can be uncommon
    since you have many conditions to fulfill. Algorithmically, the conditions need
    to be as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: If the latest five close prices are each greater than their open prices, as
    well as the close prices preceding them, and each candlestick respects a maximum
    body size, then print 1 in the next buy row.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the latest five close prices are each lower than their open prices, as well
    as the close prices preceding them, and each candlestick respects a maximum body
    size, then print −1 in the next sell row.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Remember, the Quintuplets pattern is composed of five small candles. Therefore,
    you need to code the condition that they must have a maximum size.
  prefs: []
  type: TYPE_NORMAL
- en: 'The job now is to code the signal function as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Similar to the Three Candles pattern, [Table 5-1](#table5-1) shows the default
    values for the variable `body` when using the hourly time frame.
  prefs: []
  type: TYPE_NORMAL
- en: 'Table 5-1\. Quintuplets pattern: candle size choice'
  prefs: []
  type: TYPE_NORMAL
- en: '| Asset | Body | Type |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| EURUSD | 0.0005 | Pip |'
  prefs: []
  type: TYPE_TB
- en: '| USDCHF | 0.0005 | Pip |'
  prefs: []
  type: TYPE_TB
- en: '| GBPUSD | 0.0005 | Pip |'
  prefs: []
  type: TYPE_TB
- en: '| USDCAD | 0.0005 | Pip |'
  prefs: []
  type: TYPE_TB
- en: '| BTCUSD | 50 | USD |'
  prefs: []
  type: TYPE_TB
- en: '| ETHUSD | 10 | USD |'
  prefs: []
  type: TYPE_TB
- en: '| GOLD | 2 | USD |'
  prefs: []
  type: TYPE_TB
- en: '| S&P500 | 10 | Points |'
  prefs: []
  type: TYPE_TB
- en: '| FTSE100 | 10 | Points |'
  prefs: []
  type: TYPE_TB
- en: '[Figure 5-3](#figure5-3) shows the trades generated on ETHUSD following the
    signals given by the function. The Quintuplets are validated at the close, which
    is why the signals are given on the open of the next candlestick.'
  prefs: []
  type: TYPE_NORMAL
- en: ​![](assets/mfpr_0503.png)
  prefs: []
  type: TYPE_NORMAL
- en: Figure 5-3\. Signal chart on ETHUSD
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The upward-pointing arrows refer to bullish signals generated on the open of
    the candlestick, whereas the downward-pointing arrows refer to bearish signals
    also generated on the open of the candlestick.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5-4](#figure5-4) shows another example of the signals silver. You can
    see that whenever the conditions remain valid, you may get successive Quintuplets,
    but it does not necessarily say anything about the reinforcement of the conviction
    for a trend continuation.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0504.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-4\. Signal chart on silver
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '[Table 5-2](#table5-2) summarizes the performance of the Quintuplets pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Table 5-2\. Quintuplets pattern: performance summary table'
  prefs: []
  type: TYPE_NORMAL
- en: '| Asset | Hit Ratio | Profit Factor | Risk-Reward Ratio | Signals |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| EURUSD | 55.21% | 0.93 | 0.76 | 2032 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCHF | 57.28% | 0.98 | 0.73 | 2004 |'
  prefs: []
  type: TYPE_TB
- en: '| GBPUSD | 58.08% | 1.06 | 0.76 | 2052 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCAD | 59.04% | 1.04 | 0.72 | 2146 |'
  prefs: []
  type: TYPE_TB
- en: '| BTCUSD | 57.49% | 1.09 | 0.81 | 854 |'
  prefs: []
  type: TYPE_TB
- en: '| ETHUSD | 58.25% | 0.93 | 0.67 | 800 |'
  prefs: []
  type: TYPE_TB
- en: '| GOLD | 57.93% | 1.16 | 0.84 | 1883 |'
  prefs: []
  type: TYPE_TB
- en: '| S&P500 | 59.44% | 1.12 | 0.77 | 217 |'
  prefs: []
  type: TYPE_TB
- en: '| FTSE100 | 58.96% | 1.05 | 0.73 | 212 |'
  prefs: []
  type: TYPE_TB
- en: The results are mixed and close to breakeven on multiple markets when accounting
    for the realized risk-reward ratio. Remember from [“Coding Performance Evaluation
    Functions”](ch02.xhtml#performance-evaluation), the hit ratio does not mean anything
    without the realized risk-reward ratio. This is why a 57.28% hit ratio on the
    USDCHF is not impressive since you are risking $1 to gain $0.76 in every trade.
    This is also seen through a profit factor that is less than 1.00.
  prefs: []
  type: TYPE_NORMAL
- en: The main conclusion is that the Quintuplets pattern should be used in combination
    with other techniques while optimizing entries and exits so as to obtain better
    metrics.
  prefs: []
  type: TYPE_NORMAL
- en: The Double Trouble Pattern
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The *Double Trouble* pattern uses exogenous variables to be validated, meaning
    that you borrow information from a volatility indicator called the *average true
    range* (ATR) to validate the signal on the pattern.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s first define the concept of volatility and understand the ATR before introducing
    the Double Trouble pattern.
  prefs: []
  type: TYPE_NORMAL
- en: Volatility is one of the key concepts in trading and investing as it is directly
    related to risk and indirectly related to reward. A *volatile* asset or variable
    is one that has its returns fluctuate greatly around its mean value.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5-5](#figure5-5) shows a low-volatility line (the less widely varying
    one) and a high-volatility line (the wildly swinging one).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0505.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-5\. Comparison between high- and low-volatility variables
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'You can code it yourself with the following snippet:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: I have used a `numpy` function called `random.normal()`, which outputs random
    samples from a normal distribution. A normal distribution is a probabilistic continuous
    function with a mean that splits the data in a symmetric way. Data close to the
    mean tends to occur more frequently than data far from the mean. Visually, normally
    distributed data looks like a smooth bell with the middle value being the mean.
  prefs: []
  type: TYPE_NORMAL
- en: 'The different types of volatility can be summed up like so:'
  prefs: []
  type: TYPE_NORMAL
- en: Historical volatility
  prefs: []
  type: TYPE_NORMAL
- en: This is the realized volatility over a certain period of time. Even though it
    is backward looking, historical volatility is used more often than not as an expectation
    of future volatility. One example of a historical measure is the standard deviation.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Before moving on, I want to mention a type of financial instruments called derivatives.
    *Derivatives* are products that traders use to trade markets in certain ways.
    For example, a *forward* contract is a derivative contract where a buyer locks
    in a price for an asset to buy it at a later time. A forward contract is an obligation.
    Another type of derivative is an option. An *option* is the right but not the
    obligation to buy a certain asset at a specific price in the future by paying
    a premium now (the option’s price). When a buyer wants to buy the underlying stock,
    they exercise their option to do so; otherwise, they may let the option expire.
  prefs: []
  type: TYPE_NORMAL
- en: Implied volatility
  prefs: []
  type: TYPE_NORMAL
- en: 'In its simplest definition, implied volatility is the measure that, when inputted
    into the Black-Scholes equation, gives out the option’s market price. (The Black-Scholes
    equation is a mathematical formula used to price options. The option’s price is
    the premium a buyer pays to buy the option, which gives them the right to buy
    a certain asset at a predetermined price before a certain expiration date.) It
    is the expected future actual volatility. It has one time scale: the option’s
    expiration date.'
  prefs: []
  type: TYPE_NORMAL
- en: Forward volatility
  prefs: []
  type: TYPE_NORMAL
- en: The volatility over a specific period in the future.
  prefs: []
  type: TYPE_NORMAL
- en: Actual volatility
  prefs: []
  type: TYPE_NORMAL
- en: The amount of volatility at any given time, also known as *local volatility*.
    This measure is hard to calculate and has no time scale.
  prefs: []
  type: TYPE_NORMAL
- en: The most basic type of volatility is the standard deviation. It is one of the
    pillars of descriptive statistics. First, I must explain variance.
  prefs: []
  type: TYPE_NORMAL
- en: '*Variance* is a dispersion measure calculated as the squared deviations from
    the mean. You take the squared deviations, to force the distance from the mean
    to be non-negative, and then you take the square root of variance, thus turning
    it into the standard deviation and making the measure have the same units as the
    mean.'
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: By squaring the deviations, you are avoiding a negative distance measure, and
    by taking the square root, you are comparing apples (standard deviation) to apples
    (mean).
  prefs: []
  type: TYPE_NORMAL
- en: 'Variance is therefore calculated through this mathematical formula:'
  prefs: []
  type: TYPE_NORMAL
- en: <math alttext="sigma squared equals StartFraction 1 Over n EndFraction sigma-summation
    Underscript i equals 1 Overscript n Endscripts left-parenthesis x Subscript i
    Baseline minus chi right-parenthesis squared"><mrow><msup><mi>σ</mi> <mn>2</mn></msup>
    <mo>=</mo> <mfrac><mn>1</mn> <mi>n</mi></mfrac> <msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub>
    <mo>-</mo><mi>χ</mi><mo>)</mo></mrow> <mn>2</mn></msup></mrow></math>
  prefs: []
  type: TYPE_NORMAL
- en: 'Following this logic, standard deviation is therefore as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: <math alttext="sigma equals StartRoot StartFraction 1 Over n EndFraction sigma-summation
    Underscript i equals 1 Overscript n Endscripts left-parenthesis x Subscript i
    Baseline minus chi right-parenthesis squared EndRoot"><mrow><mi>σ</mi> <mo>=</mo>
    <msqrt><mrow><mfrac><mn>1</mn> <mi>n</mi></mfrac> <msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub>
    <mo>-</mo><mi>χ</mi><mo>)</mo></mrow> <mn>2</mn></msup></mrow></msqrt></mrow></math>
  prefs: []
  type: TYPE_NORMAL
- en: In layperson’s terms, standard deviation is the average distance away from the
    mean that you expect to find when you analyze every value in the data set.
  prefs: []
  type: TYPE_NORMAL
- en: With the concept of volatility in mind, let’s go over the volatility indicator
    that you must use to find the Double Trouble pattern, the ATR.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The ATR is another way to measure volatility. Similar to the standard deviation,
    the ATR takes into account the highs and the lows in its calculation, thus making
    it more complete than the standard deviation.
  prefs: []
  type: TYPE_NORMAL
- en: The ATR is used as a gauge of historical volatility. It was developed by Wilder
    Welles Jr., the creator of the RSI, an indicator discussed in [Chapter 3](ch03.xhtml#chapter3).
    The first building block of the ATR is the *true range*. Let’s see how to calculate
    the true range.
  prefs: []
  type: TYPE_NORMAL
- en: 'Suppose you have an OHLC array. For each hour, the true range is simply the
    greatest of the three price differences:'
  prefs: []
  type: TYPE_NORMAL
- en: High − Low
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: High − Previous close
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Previous close − Low
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Once you have gotten the maximum out of those, you simply take a smoothed average
    of a certain lookback period of the true ranges to get the ATR.
  prefs: []
  type: TYPE_NORMAL
- en: Since in periods of panic and price depreciation you see volatility go up, the
    ATR will most likely trend higher during these periods. Similarly, in times of
    steady uptrends or downtrends, the ATR will tend to go lower. [Figure 5-6](#figure5-6)
    shows an example of EURUSD with the 10-period ATR measure. What can you say by
    looking at the graph?
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0506.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-6\. EURUSD with the 10-period ATR
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Obviously, there is a negative correlation with the market and its ATR measure.
    This is quite common, as high volatility is often associated with fear (a falling
    market), whereas low volatility is often associated with greed (a rising market).
    The correlation is not perfect, but over the long term it is statistically negative.
  prefs: []
  type: TYPE_NORMAL
- en: The code for the ATR can be found in the following code snippet.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Make sure you have already defined the `smoothed_ma()` function from [Chapter 3](ch03.xhtml#chapter3).
    The ATR is a smoothed average of the true ranges for a certain lookback period.
    Therefore, it is not a simple average.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Now you are ready to learn about the *Double Trouble* pattern, a two-candle
    trend-following configuration that often signals a continuation in the aggregate
    direction.
  prefs: []
  type: TYPE_NORMAL
- en: The bullish Double Trouble pattern is composed of two bullish candles with the
    first close price lower than the second close price. The second candlestick must
    be at least double the size (from high to low) of the previous candlestick’s 10-period
    ATR.
  prefs: []
  type: TYPE_NORMAL
- en: The bullish Double Trouble is based on the market psychology of euphoria. Another
    explanation is that it can be a form of a short squeeze, which can further increase
    the probability of a bullish exit.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: A *short squeeze* is an abnormal situation characterized by rapidly rising prices
    in a market. The market must have a huge number of short sellers before the short
    squeeze. The rapid price increase is magnified by the trigger of short sellers’
    stop-loss orders.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5-7](#figure5-7) illustrates a bullish Double Trouble pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0507.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-7\. A bullish Double Trouble pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The bearish Double Trouble pattern is composed of two bearish candles with the
    first close price higher than the second close price. The second candlestick must
    also be at least double the size (from high to low) of the previous candlestick
    10-period ATR.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5-8](#figure5-8) illustrates a bearish Double Trouble pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0508.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-8\. A bearish Double Trouble pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: It is clear now that the Double Trouble pattern highly depends on volatility
    to appear. The validation of the pattern can occur only when the distance between
    the current high and the current low is two times greater than the 10-period ATR
    of the previous hour.
  prefs: []
  type: TYPE_NORMAL
- en: 'Algorithmically speaking, the code for the Double Trouble pattern is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The signal function uses the `abs()` function, which takes the absolute values
    of the numbers inside the brackets. This is used to measure the size of a candle.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: By calculating the ATR, you are using the fifth column (index = 4). Therefore,
    the buy and sell signals of the Double Trouble pattern must be in the sixth and
    seventh columns (index = 5 and index = 6) as opposed to the previous patterns
    where no intermediary indicator has been calculated. Make sure to shift the columns
    before you call the functions.
  prefs: []
  type: TYPE_NORMAL
- en: Figures [5-9](#figure5-9) and [5-10](#figure5-10) show a signal chart on the
    FTSE 100 and on BTCUSD.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0509.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-9\. Signal chart on the FTSE 100
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0510.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-10\. Signal chart on BTCUSD
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '[Table 5-3](#table5-3) summarizes the performance of the Double Trouble pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Table 5-3\. Double Trouble pattern: performance summary table'
  prefs: []
  type: TYPE_NORMAL
- en: '| Asset | Hit Ratio | Profit Factor | Risk-Reward Ratio | Signals |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| EURUSD | 51.54% | 1.03 | 0.97 | 2103 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCHF | 50.47% | 1.03 | 1.01 | 2106 |'
  prefs: []
  type: TYPE_TB
- en: '| GBPUSD | 50.06% | 0.98 | 0.98 | 2155 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCAD | 50.86% | 1.00 | 0.96 | 1787 |'
  prefs: []
  type: TYPE_TB
- en: '| BTCUSD | 53.59% | 1.21 | 1.05 | 1056 |'
  prefs: []
  type: TYPE_TB
- en: '| ETHUSD | 56.76% | 1.30 | 0.99 | 953 |'
  prefs: []
  type: TYPE_TB
- en: '| GOLD | 51.76% | 1.10 | 1.02 | 2007 |'
  prefs: []
  type: TYPE_TB
- en: '| S&P500 | 54.00% | 1.32 | 1.13 | 237 |'
  prefs: []
  type: TYPE_TB
- en: '| FTSE100 | 45.95% | 0.62 | 0.73 | 198 |'
  prefs: []
  type: TYPE_TB
- en: You can see that the Double Trouble pattern outperforms the Quintuplets pattern
    since it has relatively better profit factors and risk-reward ratios.
  prefs: []
  type: TYPE_NORMAL
- en: These results show that the Double Trouble pattern may be more predictive than
    the Quintuplets pattern. This also suggests that taking into account volatility
    can offer new insights and opportunities in the world of pattern recognition.
  prefs: []
  type: TYPE_NORMAL
- en: The Bottle Pattern
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This is one of the simplest and most intuitive patterns I have discovered. It
    relies on two candlesticks to signal a continuation of the trend. I have named
    it the *Bottle* pattern because the second candle looks like a Bottle. This pattern
    also marks the return of the gap as it is one of the conditions needed to validate
    a bullish or bearish signal.
  prefs: []
  type: TYPE_NORMAL
- en: The bullish Bottle pattern is composed of a bullish candle followed by another
    bullish candle with no wick on the low side but with a wick on the high side.
    At the same time, the second candle must open below the last candle’s close, which
    is considered a gap lower (or inside gap).
  prefs: []
  type: TYPE_NORMAL
- en: The pattern can be used to confirm upside continuations, as the underlying psychology
    is that the market has failed to make a new low after its opening, suggesting
    strong bullish pressure. [Figure 5-11](#figure5-11) illustrates the bullish Bottle.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0511.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-11\. A bullish Bottle pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The bearish Bottle pattern is composed of a bearish candlestick followed by
    another bearish candlestick with no wick on the high side but with a wick on the
    low side. At the same time, the second candlestick must open above the last candlestick’s
    close, which is considered a gap higher. [Figure 5-12](#figure5-12) illustrates
    the bearish Bottle.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0512.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-12\. A bearish Bottle pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: It is relatively easy to spot the configuration, but you must be careful to
    respect all the conditions as sometimes the gap may not occur, thus rendering
    the pattern invalid.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can express the signal function for the pattern the following way:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: At this point, you should understand how the conditions are written and, therefore,
    the conditions should become second nature to you. Furthermore, the simplicity
    of this pattern makes the code basic.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s see the signals in action ([Figure 5-13](#figure5-13)) before performing
    the back-testing and interpreting the results.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0513.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-13\. Signal chart on USDCHF
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The first thing you notice is that over the last 100 hours, there was only two
    bearish Bottle patterns on USDCHF. This is normal and can occur from time to time,
    especially with a condition that imposes equality. [Figure 5-14](#figure5-14)
    shows AUDJPY where you can also see one bearish signal during the last 100 trading
    hours.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0514.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-14\. Signal chart on the AUDJPY
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You can use the rounding function to increase the signal frequency of the Bottle
    pattern. I have chosen not to do it so as to keep the true essence of the pattern.
  prefs: []
  type: TYPE_NORMAL
- en: '[Table 5-4](#table5-4) summarizes the performance of the Bottle pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Table 5-4\. Bottle pattern: performance summary table'
  prefs: []
  type: TYPE_NORMAL
- en: '| Asset | Hit Ratio | Profit Factor | Risk-Reward Ratio | Signals |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| EURUSD | 51.39% | 0.99 | 0.94 | 395 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCHF | 52.85% | 1.17 | 1.04 | 507 |'
  prefs: []
  type: TYPE_TB
- en: '| GBPUSD | 50.75% | 0.85 | 0.83 | 398 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCAD | 50.48% | 1.14 | 1.11 | 513 |'
  prefs: []
  type: TYPE_TB
- en: '| BTCUSD | 50.44% | 0.98 | 0.96 | 337 |'
  prefs: []
  type: TYPE_TB
- en: '| ETHUSD | 50.95% | 0.83 | 0.80 | 365 |'
  prefs: []
  type: TYPE_TB
- en: '| GOLD | 47.98% | 0.82 | 0.89 | 471 |'
  prefs: []
  type: TYPE_TB
- en: '| S&P500 | 41.81% | 0.72 | 1.01 | 55 |'
  prefs: []
  type: TYPE_TB
- en: '| FTSE100 | 53.91% | 1.81 | 1.55 | 115 |'
  prefs: []
  type: TYPE_TB
- en: The pattern seems to perform better on the USDCHF and the FTSE 100 than the
    other back-tested assets. It is important to know that patterns, whether good
    or bad ones, are unlikely to work on every market; therefore, when you find a
    good pattern, you must trade it on the right market.
  prefs: []
  type: TYPE_NORMAL
- en: The simplest example is the underperformance of reversal patterns on trending
    markets and the underperformance of continuation patterns on ranging markets.
    You need to keep in mind that you are looking for good techniques (patterns or
    strategies), not perfect ones.
  prefs: []
  type: TYPE_NORMAL
- en: The Slingshot Pattern
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The name of this pattern comes from the fact it deals with a breakout system
    that confirms the new trend. Therefore, the *Slingshot* pattern is a four-candlestick
    trend detection system that uses the pull-back method after a breakout occurs.
    The definition may seem complicated, but in reality, it is very simple. Let’s
    start by the conditions of the bullish Slingshot.
  prefs: []
  type: TYPE_NORMAL
- en: First, the pattern is characterized by having a first bullish candle followed
    by a higher one confirming a bullish bias, and then it has two more candlesticks,
    with the latter one not surpassing the high of the former. Finally, the last candlestick
    must have a low at or below the high of the first candlestick and a close higher
    than the high of the second candlestick. There is no strict rule about the color
    of the second and third candles. [Figure 5-15](#figure5-15) shows the perfect
    bullish Slingshot pattern.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0515.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-15\. A bullish Slingshot pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The bearish Slingshot pattern ([Figure 5-16](#figure5-16)) is characterized
    by having a first bearish candlestick followed by a lower one confirming a bearish
    bias, and then it has two more candlesticks, with the latter one not breaking
    the low of the former. Finally, the last candlestick must have a high at or above
    the low of the first candlestick and a close lower than the low of the second
    candlestick.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0516.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-16\. A bearish Slingshot pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Detecting the Slingshot pattern is a bit complex due to the conditions and
    its rarity but can be simplified by an algorithm, as in the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 5-17](#figure5-17) shows an example of the gold commodity highlighting
    the signals given by the Slingshot pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0517.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-17\. Signal chart on gold
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The pattern is usually for short-term trend continuation moves; therefore, the
    aim is not to continue for days in the same direction but at least shape marginal
    new highs (bullish Slingshot) or new lows (bearish Slingshot).
  prefs: []
  type: TYPE_NORMAL
- en: Hence, exit strategies can greatly impact the results of this pattern. Nevertheless,
    I back-test it using the same conditions as the rest of the patterns (by exiting
    upon the next signal whether bullish or bearish).
  prefs: []
  type: TYPE_NORMAL
- en: In reality, you must create your own entry and exit rules based on risk and
    reward preferences so that you optimize the expected results. [Figure 5-18](#figure5-18)
    shows an example for AUDNZD.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0518.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-18\. Signal chart on AUDNZD
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '[Table 5-5](#table5-5) summarizes the results of the Slingshot pattern.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Table 5-5\. Slingshot pattern: performance summary table'
  prefs: []
  type: TYPE_NORMAL
- en: '| Asset | Hit Ratio | Profit Factor | Risk-Reward Ratio | Signals |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| EURUSD | 50.03% | 0.98 | 0.98 | 1591 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCHF | 51.81% | 0.96 | 0.90 | 1621 |'
  prefs: []
  type: TYPE_TB
- en: '| GBPUSD | 48.27% | 1.01 | 1.08 | 1622 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCAD | 48.61% | 0.94 | 0.99 | 1728 |'
  prefs: []
  type: TYPE_TB
- en: '| BTCUSD | 52.01% | 0.88 | 0.82 | 721 |'
  prefs: []
  type: TYPE_TB
- en: '| ETHUSD | 48.52% | 1.01 | 1.07 | 577 |'
  prefs: []
  type: TYPE_TB
- en: '| GOLD | 47.90% | 0.85 | 0.93 | 1332 |'
  prefs: []
  type: TYPE_TB
- en: '| S&P500 | 49.36% | 1.01 | 1.04 | 158 |'
  prefs: []
  type: TYPE_TB
- en: '| FTSE100 | 57.14% | 1.38 | 1.04 | 189 |'
  prefs: []
  type: TYPE_TB
- en: The Slingshot pattern has a relatively healthy number of signals when compared
    to other candlestick patterns. However, as it is greatly impacted by exit techniques
    (covered in subsequent chapters), its predictability is relatively low with the
    exception of the FTSE 100.
  prefs: []
  type: TYPE_NORMAL
- en: The H Pattern
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The *H* pattern is a three-candle continuation configuration. The bullish H
    pattern ([Figure 5-19](#figure5-19)) is composed of a bullish candle followed
    by an indecision candlestick^([3](ch05.xhtml#idm46762866479184)) that has its
    open price equal to its close price. Next, the third candle must be bullish, and
    its close price must be higher than the indecision candle’s close. Finally, the
    low of the third candle must be higher than the low of the indecision candle.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0519.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-19\. A bullish H pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The bearish H pattern ([Figure 5-20](#figure5-20)) is composed of a bearish
    candle followed by an indecision candle; next, the third candle must be bearish,
    and its close must be lower than the indecision candle’s close. Finally, the high
    of the third candle must be lower than the high of the indecision candle.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0520.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-20\. A bearish H pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'The following code snippet shows how to scan for the H pattern:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 5-21](#figure5-21) shows an example of a signal generated by the S&P
    500\. Visibly, the pattern may be rare depending on the market’s characteristics.
    As is the case theoretically, trend-following patterns have on average better
    results on trending markets than on ranging markets.'
  prefs: []
  type: TYPE_NORMAL
- en: With equities being mostly trending, the results shown in the performance summary
    [table](#table5-6) show that the H pattern outperforms on equity indices.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0521.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-21\. Signal chart on the S&P 500
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Patterns generally have targets that are called *potential*. Up to this point,
    you have been back-testing them with the assumption of an exit at the next signal.
    This is fine because you want to harmonize the results across the patterns to
    have an apples-to-apples comparison.
  prefs: []
  type: TYPE_NORMAL
- en: With the H pattern and the other modern candlestick patterns presented in this
    book, I have found that there is not really an added value of imposing a certain
    exit as each market performs differently. Therefore, I have found that it is better
    to use your own judgment, apply the exits from your own strategy, or simply exit
    at the next signal if you are just trading on the pattern.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 5-22](#figure5-22) shows a signal generated on the hourly values of
    the AUDNZD pair.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_0522.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5-22\. Signal chart on AUDNZD
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Let’s now take a look at the back-testing results and see how you can interpret
    them (see [Table 5-6](#table5-6)).
  prefs: []
  type: TYPE_NORMAL
- en: 'Table 5-6\. H pattern: performance summary table'
  prefs: []
  type: TYPE_NORMAL
- en: '| Asset | Hit Ratio | Profit Factor | Risk-Reward Ratio | Signals |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| EURUSD | 51.56% | 0.89 | 0.84 | 128 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCHF | 45.83% | 0.77 | 0.91 | 144 |'
  prefs: []
  type: TYPE_TB
- en: '| GBPUSD | 44.68% | 0.93 | 1.15 | 94 |'
  prefs: []
  type: TYPE_TB
- en: '| USDCAD | 57.49% | 1.31 | 0.97 | 120 |'
  prefs: []
  type: TYPE_TB
- en: '| BTCUSD | 61.53% | 3.25 | 2.03 | 26 |'
  prefs: []
  type: TYPE_TB
- en: '| ETHUSD | 41.83% | 0.55 | 0.77 | 98 |'
  prefs: []
  type: TYPE_TB
- en: '| GOLD | 65.38% | 2.55 | 1.34 | 52 |'
  prefs: []
  type: TYPE_TB
- en: '| S&P500 | 59.64% | 1.33 | 0.90 | 57 |'
  prefs: []
  type: TYPE_TB
- en: '| FTSE100 | 50.00% | 1.35 | 1.35 | 36 |'
  prefs: []
  type: TYPE_TB
- en: 'There seems to be more predictive strength with this pattern, but the disadvantage
    is clear here: the frequency of signals. You can clearly see a lack of trades. As
    expected, you see better results on trending markets like the S&P 500 and the
    FTSE 100 than on ranging markets like the USDCHF and GBPUSD.'
  prefs: []
  type: TYPE_NORMAL
- en: ^([1](ch05.xhtml#idm46762868430992-marker)) This event occurs when market participants
    are expecting a reversal due to extreme conditions but the market continues its
    initial state.
  prefs: []
  type: TYPE_NORMAL
- en: ^([2](ch05.xhtml#idm46762868428896-marker)) USDTRY is the value of 1 USD in
    terms of the Turkish lira.
  prefs: []
  type: TYPE_NORMAL
- en: ^([3](ch05.xhtml#idm46762866479184-marker)) The indecision pattern is also called
    a Doji.
  prefs: []
  type: TYPE_NORMAL
