<html><head></head><body>
<div id="sbo-rt-content"><section data-pdf-bookmark="Chapter 3. Introducing Technical Analysis" data-type="chapter" epub:type="chapter"><div class="chapter" id="chapter3">
<h1><span class="label">Chapter 3. </span>Introducing Technical Analysis</h1>
<p><em>Technical analysis</em> relies<a contenteditable="false" data-primary="technical analysis" data-type="indexterm" id="ix_tech_analysis_ch3"/> on the visual interpretation of the price action’s history to determine the likely aggregate direction of the market. It relies on the idea that the past is the best predictor of the future. There are several types of techniques within the vast field that is technical analysis, notably the following:</p>
<dl>
<dt>Charting analysis</dt>
<dd>This is where<a contenteditable="false" data-primary="visualization algorithm" data-secondary="charting analysis" data-type="indexterm" id="idm46762879215568"/><a contenteditable="false" data-primary="charting analysis" data-type="indexterm" id="idm46762879214160"/> you apply subjective visual interpretation techniques onto charts. You generally use methods like drawing support and resistance lines as well as retracements to find inflection levels that aim to determine the next move.</dd>
<dt>Indicator analysis</dt>
<dd>This is where<a contenteditable="false" data-primary="relative strength index (RSI) indicator" data-type="indexterm" id="idm46762874722448"/><a contenteditable="false" data-primary="indicator analysis" data-type="indexterm" id="idm46762874721344"/> you use mathematical formulas to create objective indicators that can be either trend following or contrarian. Among known indicators are moving averages and the relative strength index (RSI), both of which are discussed in greater detail in this chapter.</dd>
<dt>Pattern recognition</dt>
<dd>This is where<a contenteditable="false" data-primary="self-fulfilling prophecy" data-type="indexterm" id="idm46762874719216"/><a contenteditable="false" data-primary="pattern recognition in technical analysis" data-seealso="contrarian patterns; trend-following patterns" data-type="indexterm" id="idm46762874718112"/> you monitor certain recurring configurations and act on them. A <em>pattern </em>is generally an event that emerges from time to time and presents a certain theoretical or empirical outcome. In finance, it is more complicated, but certain patterns have been shown to add value across time, and this may partly be due to a phenomenon called <em>self-fulfilling prophecy</em> (a process by which an initial expectation leads to its confirmation). Among known patterns are candlestick patterns, which are the protagonists of this book.</dd>
</dl>
<p class="pagebreak-before">Let’s take a quick tour of the history of technical analysis so that you have a better idea of what to expect. Technical analysis relies on three principles:</p>
<dl>
<dt>History repeats itself.</dt>
<dd>You are likely<a contenteditable="false" data-primary="history repeating itself, pattern of" data-type="indexterm" id="idm46762874713328"/> to see clusters during trends and ranges. Also, certain configurations and patterns are likely to have a similar outcome most of the time.<sup><a data-type="noteref" href="ch03.xhtml#idm46762874711840" id="idm46762874711840-marker">1</a></sup></dd>
<dt>The market discounts everything.</dt>
<dd>It is assumed<a contenteditable="false" data-primary="discounts, market" data-type="indexterm" id="idm46762874710096"/> that everything (all fundamental, technical, and quantitative information) is included in the current price.</dd>
<dt>The market moves in waves.</dt>
<dd>Due to different<a contenteditable="false" data-primary="markets" data-secondary="as moving in waves" data-secondary-sortas="moving in waves" data-type="indexterm" id="idm46762874707824"/> time frames and needs, traders buy and sell at different frequencies, therefore creating trends and waves as opposed to a straight line.</dd>
</dl>
<p>Unfortunately, technical analysis is overhyped and misused by the retail trading community, which gives it a somewhat less than savory reputation in the professional industry. Every type of analysis has its strengths and weaknesses, and there are successful fundamental, technical, and quantitative investors, but there are also failed investors from the three fields.</p>
<p>Fundamental<a contenteditable="false" data-primary="quantitative analysis" data-type="indexterm" id="idm46762874705024"/><a contenteditable="false" data-primary="fundamental analysis" data-type="indexterm" id="idm46762874703888"/> analysis relies on economic and financial data to deliver a judgment on a specific security or currency with a long-term investment horizon, whereas quantitative analysis is more versatile and is more often applied to short-term data. It uses mathematical and statistical concepts to deliver a forecast.</p>
<p>Among other<a contenteditable="false" data-primary="undervalued asset, fundamental analysis" data-type="indexterm" id="idm46762874702016"/><a contenteditable="false" data-primary="oversold asset, fundamental analysis" data-type="indexterm" id="idm46762874700912"/><a contenteditable="false" data-primary="market efficiency hypothesis" data-type="indexterm" id="idm46762874699792"/><a contenteditable="false" data-primary="efficient markets hypothesis" data-type="indexterm" id="idm46762874698672"/><a contenteditable="false" data-primary="alpha trading" data-type="indexterm" id="idm46762874697552"/> assumptions, technical analysis suggests that markets are not efficient, but what does that mean? <em>Market efficiency</em> states that information is already embedded in the current price and that price and value are the same thing. When you buy an asset, you are hoping that it is <em>undervalued</em> (in fundamental analysis jargon) or <em>oversold</em> (in technical analysis jargon), which is why you believe the price should go up to meet the value. Therefore, you are assuming that the value is greater than the price. Market efficiency rebuffs any claims that the price does not equal the value and therefore suggests that any alpha trading must not result in above average returns (<em>alpha trading</em> is the act of engaging in speculative operations to perform better than a benchmark, which is typically an index or a weighted measure).</p>
<p>The market efficiency hypothesis is the technical analyst’s greatest enemy, as one of its principles is that in the weak form of efficiency, you cannot earn excess returns from technical analysis. Hence, technical analysis gets shot down right at the beginning, and then fundamental analysis gets its share of the beating.</p>
<p>It is fair to assume that at some point in the future, markets will have no choice but to be efficient due to the number of participants and the ease of access to information. However<a contenteditable="false" data-primary="abnormal events, and lack of market efficiency" data-type="indexterm" id="idm46762874693552"/>, as political and abnormal events show us, markets tend to be anything but efficient.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>An example of a political event that triggers panic and irrationality in the markets is the Russian invasion of Ukraine. Similarly, an example of an abnormal economic event is an unexpected interest rate hike from a central bank.</p>
</div>
<section data-pdf-bookmark="Charting Analysis" data-type="sect1"><div class="sect1" id="idm46762874691024">
<h1>Charting Analysis</h1>
<p>Before<a contenteditable="false" data-primary="visualization algorithm" data-secondary="charting analysis" data-type="indexterm" id="ix_vis_chart_analysis"/><a contenteditable="false" data-primary="technical analysis" data-secondary="charting analysis" data-type="indexterm" id="ix_tech_chart_analysis"/><a contenteditable="false" data-primary="charting analysis" data-type="indexterm" id="ix_chart_analysis"/> you can understand what charting analysis is, you need to know what you see when opening a chart, more specifically a candlestick chart.</p>
<p>Let’s assume that the market opens at $100. Some trading activity occurs. Let’s also record the high price ($102) and the low price ($98) printed during the hourly period. Also, record the hourly close price ($101). Recall that these four pieces of data are referred to as <em>open</em>, <em>high</em>, <em>low</em>, and <em>close</em> (OHLC). They represent the four basic prices that are necessary to create candlestick charts.</p>
<p><em>Candlesticks </em>are extremely<a contenteditable="false" data-primary="OHLC data" data-type="indexterm" id="idm46762874840000"/><a contenteditable="false" data-primary="candlesticks" data-type="indexterm" id="idm46762874838864"/> simple and intuitive. They are box-shaped chronological elements across the timeline that contain the OHLC data. <a data-type="xref" href="#figure3-1">Figure 3-1</a> shows everything you need to know about how a candlestick works.</p>
<figure><div class="figure" id="figure3-1"><img alt="" height="472" src="assets/mfpr_0301.png" width="529"/>
<h6><span class="label">Figure 3-1. </span>On the left, a bullish candlestick; on the right, a bearish candlestick</h6>
</div></figure>
<p class="pagebreak-before">A <em>bullish </em>candlestick<a contenteditable="false" data-primary="open price" data-type="indexterm" id="idm46762874833424"/><a contenteditable="false" data-primary="close price" data-type="indexterm" id="idm46762874832288"/><a contenteditable="false" data-primary="bearish versus bullish candlesticks" data-type="indexterm" id="idm46762874831184"/><a contenteditable="false" data-primary="bullish versus bearish candlesticks" data-type="indexterm" id="idm46762874830112"/> has a close price higher than its open price, whereas a <em>bearish </em>candlestick has a close price lower than its open price.</p>
<p>Candlestick charts are among the most famous ways to analyze financial time series. They contain more information than simple line charts and have more visual interpretability than bar charts. Many libraries in Python offer charting functions, but in my opinion it is always better to do it yourself. Let’s start from the beginning, with line charts.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>A <em>line chart</em> is created<a contenteditable="false" data-primary="line charts" data-type="indexterm" id="idm46762874826704"/> by joining the close prices chronologically. It is the simplest way to chart an asset. It contains the least information among the three chart types since it shows only the close price.</p>
</div>
<p>Plotting<a contenteditable="false" data-primary="matplotlib library" data-type="indexterm" id="idm46762874824896"/> basic line plots is extremely easy in Python and requires only one line of code. You have to make sure that you have imported a library called <code>matplotlib</code>, which handles the plotting for you. The following code snippet shows how to plot a line chart of a one-dimensional array that contains close prices for the EURUSD in an hourly time frame:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<strong><code class="c1"># Importing the necessary charting library</code></strong><code>
</code><code class="kn">import</code><code> </code><code class="nn">matplotlib</code><code class="nn">.</code><code class="nn">pyplot</code><code> </code><code class="k">as</code><code> </code><code class="nn">plt</code><code>
</code><code>
</code><strong><code class="c1"># The syntax to plot a line chart</code></strong><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">my_data</code><code class="p">,</code><code> </code><code class="n">color</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">black</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">EURUSD</code><code class="s1">'</code><code class="p">)</code><code>
</code><code>
</code><strong><code class="c1"># The syntax to add the label created above</code></strong><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="p">)</code><code>
</code><code>
</code><strong><code class="c1"># The syntax to add a grid</code></strong><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">grid</code><code class="p">(</code><code class="p">)</code><code>
</code></pre>
<p><a data-type="xref" href="#figure3-2">Figure 3-2</a> shows a line chart on EURUSD. The chart provides information only about the closing price and the aggregate direction.</p>
<figure><div class="figure" id="figure3-2"><img alt="" height="414" src="assets/mfpr_0302.png" width="600"/>
<h6><span class="label">Figure 3-2. </span>Line chart on EURUSD</h6>
</div></figure>
<p>Now let’s take it to the next level with candlestick charts.</p>
<p>The easiest<a contenteditable="false" data-primary="candlestick pattern charting" data-secondary="basic" data-type="indexterm" id="ix_candle_chart_basic"/> way to do this is to think about vertical lines at each time step (as with the simple bar charts shown in <a data-type="xref" href="ch02.xhtml#chapter2">Chapter 2</a>). Follow these steps:</p>
<ol>
<li>Plot vertical lines for each row representing the highs and lows. For example, on OHLC data, you use a <code>matplotlib</code> function called <code>vlines()</code>, which plots a vertical line on the chart using a minimum (low price) value and a maximum (high price). Therefore, this function plots bars that span between each high and low. <a data-type="xref" href="#figure3-3">Figure 3-3</a> shows a simple bar chart (like the one from <a data-type="xref" href="ch02.xhtml#chapter2">Chapter 2</a>) where each bar is the range between the high and low of the EURUSD. </li>
<li>Repeat the first step, only this time apply the new vertical line on the open and close prices. This gives you a vertical line inside a vertical line, but that’s not visible. How do you fix this? Impose a color condition and a greater width that represents the candlestick’s body.</li>
</ol>
<figure><div class="figure" id="figure3-3"><img alt="" height="414" src="assets/mfpr_0303.png" width="600"/>
<h6><span class="label">Figure 3-3. </span>Simple bar chart on EURUSD</h6>
</div></figure>
<p><a data-type="xref" href="#figure3-4">Figure 3-4</a> shows a complete<a contenteditable="false" data-primary="bar charts" data-type="indexterm" id="idm46762874891040"/> candlestick chart on EURUSD. You can see that with the color-coding and the visibility of the totality of the OHLC data, you are able to get more information such as volatility and the general tendency of the close price to the open price. This type of information is not available in line charts.</p>
<figure><div class="figure" id="figure3-4"><img alt="" height="294" src="assets/mfpr_0304.png" width="600"/>
<h6><span class="label">Figure 3-4. </span>Candlestick chart on EURUSD</h6>
</div></figure>
<p>The full code to do this is as follows:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code> <code class="nf">ohlc_plot_candles</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">window</code><code class="p">):</code>
      
    <code class="n">sample</code> <code class="o">=</code> <code class="n">data</code><code class="p">[</code><code class="o">-</code><code class="n">window</code><code class="p">:,</code> <code class="p">]</code>
    
    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">sample</code><code class="p">)):</code>
        
        <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">2</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">1</code><code class="p">],</code> 
                   <code class="n">color</code> <code class="o">=</code> <code class="s1">'black'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mi">1</code><code class="p">)</code>  
        
        <code class="k">if</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">&gt;</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]:</code>
            
            <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">],</code> 
                       <code class="n">color</code> <code class="o">=</code> <code class="s1">'green'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mi">3</code><code class="p">)</code>  

        <code class="k">if</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">&lt;</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]:</code>
            
            <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">],</code> 
                       <code class="n">color</code> <code class="o">=</code> <code class="s1">'red'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mi">3</code><code class="p">)</code>  
            
        <code class="k">if</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">==</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]:</code>
            
            <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]</code> <code class="o">+</code> 
                       <code class="mf">0.00003</code><code class="p">,</code> <code class="n">color</code> <code class="o">=</code> <code class="s1">'black'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mf">1.00</code><code class="p">)</code>  
            
    <code class="n">plt</code><code class="o">.</code><code class="n">grid</code><code class="p">()</code>
</pre>
<p>To call the function<a contenteditable="false" data-primary="ohlc_plot_candles()" data-type="indexterm" id="idm46762874783888"/> and show the last 100 candlesticks, use the following syntax:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="n">ohlc_plot_candles</code><code class="p">(</code><code class="n">my_data</code><code class="p">,</code> <code class="n">window</code> <code class="o">=</code> <code class="mi">100</code><code class="p">)</code></pre>
<p>Some people<a contenteditable="false" data-primary="color parameter" data-type="indexterm" id="idm46762877054064"/> prefer plotting candlesticks in other colors. To do that, you have to tweak the <code>color</code> parameter. For example, the following code plots a gray (bullish) and black (bearish) candlestick chart:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code> <code class="nf">ohlc_plot_candles</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">window</code><code class="p">):</code>
      
    <code class="n">sample</code> <code class="o">=</code> <code class="n">data</code><code class="p">[</code><code class="o">-</code><code class="n">window</code><code class="p">:,</code> <code class="p">]</code>
    
    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">sample</code><code class="p">)):</code>
        
        <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">2</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">1</code><code class="p">],</code>
                   <code class="n">color</code> <code class="o">=</code> <code class="s1">'black'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mi">1</code><code class="p">)</code>  
        
        <code class="k">if</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">&gt;</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]:</code>
            
            <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">],</code>
                       <code class="n">color</code> <code class="o">=</code> <code class="s1">'grey'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mi">3</code><code class="p">)</code>  

        <code class="k">if</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">&lt;</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]:</code>
            
            <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">],</code>
                       <code class="n">color</code> <code class="o">=</code> <code class="s1">'black'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mi">3</code><code class="p">)</code>  
            
        <code class="k">if</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">]</code> <code class="o">==</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]:</code>
            
            <code class="n">plt</code><code class="o">.</code><code class="n">vlines</code><code class="p">(</code><code class="n">x</code> <code class="o">=</code> <code class="n">i</code><code class="p">,</code> <code class="n">ymin</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">3</code><code class="p">],</code> <code class="n">ymax</code> <code class="o">=</code> <code class="n">sample</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="mi">0</code><code class="p">]</code> <code class="o">+</code>
                       <code class="mf">0.00003</code><code class="p">,</code> <code class="n">color</code> <code class="o">=</code> <code class="s1">'black'</code><code class="p">,</code> <code class="n">linewidth</code> <code class="o">=</code> <code class="mf">1.00</code><code class="p">)</code>  
            
    <code class="n">plt</code><code class="o">.</code><code class="n">grid</code><code class="p">()</code></pre>
<p><em>Charting analysis</em> is the task of finding support and resistance lines through subjective drawing. <em>Lines</em>, whether horizontal or diagonal, are the essence of finding levels to predict the market’s reaction:</p>
<ul>
<li><em>A support level</em> is a level<a contenteditable="false" data-primary="support and resistance levels, charting analysis" data-type="indexterm" id="idm46762877043056"/><a contenteditable="false" data-primary="resistance and support levels, charting analysis" data-type="indexterm" id="idm46762875337104"/> from where the market should bounce, as it is implied that demand should be higher than the supply around it.</li>
<li><em>A resistance level</em> is a level from where the market should retreat, as it is implied that supply should be higher than the demand around it.</li>
</ul>
<p>The asset’s direction<a contenteditable="false" data-primary="markets" data-secondary="ranging" data-type="indexterm" id="idm46762875334304"/><a contenteditable="false" data-primary="ranging market" data-type="indexterm" id="idm46762875332896"/><a contenteditable="false" data-primary="sideways asset direction on timeline" data-type="indexterm" id="idm46762875331792"/><a contenteditable="false" data-primary="downtrend, asset direction on timeline" data-type="indexterm" id="idm46762875330672"/><a contenteditable="false" data-primary="uptrend, asset direction on timeline" data-type="indexterm" id="idm46762875329552"/> on a timeline axis can be threefold: <em>uptrend </em>where prices are making higher highs, <em>downtrend </em>where prices are making lower lows, and <em>sideways (or ranging) </em>where prices fluctuate around the same level for extended periods of time.</p>
<p><a data-type="xref" href="#figure3-5">Figure 3-5</a> shows a support level on EURUSD close to 0.9850. Generally, traders start thinking about buying when a price is close to support. This is in anticipation of a reaction to the upside since the balance of power should shift more to the demand (positive) side, where traders accept to pay a higher price as they expect an even higher price in the future (remember the price-to-value argument discussed earlier). The implication here is that most traders see a price that is lower than the value.</p>
<figure><div class="figure" id="figure3-5"><img alt="" height="294" src="assets/mfpr_0305.png" width="600"/>
<h6><span class="label">Figure 3-5. </span>Candlestick chart on EURUSD showing support at 0.9850</h6>
</div></figure>
<p><a data-type="xref" href="#figure3-6">Figure 3-6</a> shows a resistance<a contenteditable="false" data-primary="resistance and support levels, charting analysis" data-type="indexterm" id="idm46762875322832"/><a contenteditable="false" data-primary="support and resistance levels, charting analysis" data-type="indexterm" id="idm46762875321600"/> level on EURUSD close to 0.9960. Generally, traders start thinking about shorting the market when it is close to resistance. This is in anticipation that a reaction to the downside should occur since the balance of power should shift more to the supply side. The implication here is that most traders see a price that is higher than the value.</p>
<figure><div class="figure" id="figure3-6"><img alt="" height="294" src="assets/mfpr_0306.png" width="600"/>
<h6><span class="label">Figure 3-6. </span>Candlestick chart on EURUSD showing resistance at 0.9960</h6>
</div></figure>
<p>Ranging<a contenteditable="false" data-primary="ranging market" data-type="indexterm" id="idm46762875318112"/><a contenteditable="false" data-primary="markets" data-secondary="ranging" data-type="indexterm" id="idm46762875316976"/><a contenteditable="false" data-primary="sideways asset direction on timeline" data-type="indexterm" id="idm46762875315600"/> (sideways) markets give more confidence that horizontal support and resistance lines will work. This is because of the already implied general balance between supply and demand. Therefore, if there is excess supply, the market would adjust quickly, as demand should rise enough to stabilize the price.</p>
<p><a data-type="xref" href="#figure3-7">Figure 3-7</a> shows a ranging market trapped between two horizontal levels; this is the case of EURUSD. Whenever the market approaches the resistance line in a ranging market, you should have more confidence that a drop will occur than you would in a rising market, and whenever it approaches support, you should have more confidence that a bounce will occur than you would in a falling market.</p>
<p>Furthermore<a contenteditable="false" data-primary="ascending channel, trending market" data-type="indexterm" id="idm46762875312368"/><a contenteditable="false" data-primary="descending channel, trending market" data-type="indexterm" id="idm46762875100976"/><a contenteditable="false" data-primary="markets" data-secondary="ascending and descending channels" data-type="indexterm" id="idm46762875099856"/><a contenteditable="false" data-primary="markets" data-secondary="trending" data-type="indexterm" id="idm46762875098464"/><a contenteditable="false" data-primary="trending market" data-type="indexterm" id="idm46762875097088"/>, charting analysis is also applied on trending markets. This comes in the form of ascending and descending channels. They share the same inclination as horizontal levels but with a bias (discussed later).</p>
<figure><div class="figure" id="figure3-7"><img alt="" height="294" src="assets/mfpr_0307.png" width="600"/>
<h6><span class="label">Figure 3-7. </span>Candlestick chart on EURUSD showing support at 0.9850 and resistance <span class="keep-together">at 0.9960</span></h6>
</div></figure>
<p><a data-type="xref" href="#figure3-8">Figure 3-8</a> shows an <em>ascending channel </em>where support and resistance points rise over time to reflect the bullish pressure stemming from a steadily rising demand force.</p>
<figure><div class="figure" id="figure3-8"><img alt="" height="298" src="assets/mfpr_0308.png" width="600"/>
<h6><span class="label">Figure 3-8. </span>Candlestick chart on AUDUSD showing an ascending channel</h6>
</div></figure>
<p>Traders seeing this would anticipate a bullish reaction whenever the market approaches the lower part of the ascending channel and would expect a bearish reaction whenever the market approaches the upper part of the channel.</p>
<p>This<a contenteditable="false" data-primary="self-fulfilling prophecy" data-type="indexterm" id="idm46762875088928"/> has no sound scientific backing because nothing says that the market must move in parallel, but the self-fulfilling prophecy may be why such channels are considered predictive in nature.</p>
<p><a data-type="xref" href="#figure3-9">Figure 3-9</a> shows a descending channel<a contenteditable="false" data-primary="descending channel, trending market" data-type="indexterm" id="idm46762875086400"/> where support and resistance points fall with time to reflect the bearish pressure coming from a steadily rising supply force. Generally, bearish channels tend to be more aggressive as fear dominates greed and sellers are more panicky than buyers are greedy.</p>
<figure><div class="figure" id="figure3-9"><img alt="" height="298" src="assets/mfpr_0309.png" width="600"/>
<h6><span class="label">Figure 3-9. </span>Candlestick chart on EURUSD showing a descending channel</h6>
</div></figure>
<p>I mentioned a bias<a contenteditable="false" data-primary="invisible hand (bias)" data-type="indexterm" id="idm46762875082608"/><a contenteditable="false" data-primary="biases" data-secondary="in ascending and descending channels" data-secondary-sortas="ascending and descending channels" data-type="indexterm" id="idm46762875081472"/><a contenteditable="false" data-primary="biases" data-secondary="invisible hand" data-type="indexterm" id="idm46762875079792"/> when dealing with ascending and descending channels. I refer to this bias as the <em>invisible hand</em>. Here’s why:</p>
<p>“The trend is your friend.” This saying, coined by Martin Zweig, means that with ascending channels, you need to be focusing more on buying whenever the market reverts to the support zone. That’s because you want the invisible hand of the bullish pressure to increase your probability of a winning trade. Similarly, in the case of a descending channel, focus more on short selling whenever the market reaches the upper limit. The full version of Zweig’s axiom goes as follows: “The trend is your friend, until the end when it bends.” This means that at any point in time, the market may change its regime, and any friendship with the trend gets terminated. In the end, charting analysis is subjective<a contenteditable="false" data-primary="subjective chart evaluation" data-type="indexterm" id="idm46762875077424"/> in nature and relies more on the experience of the trader or analyst.</p>
<p class="pagebreak-before">It is worth<a contenteditable="false" data-primary="resistance and support levels, charting analysis" data-type="indexterm" id="idm46762875075488"/><a contenteditable="false" data-primary="support and resistance levels, charting analysis" data-type="indexterm" id="idm46762875074320"/> mentioning also that there are many ways of finding support and resistance levels other than drawing them through visual estimation:</p>
<dl>
<dt>Fibonacci retracements</dt>
<dd>This is where<a contenteditable="false" data-primary="Fibonacci retracements" data-type="indexterm" id="idm46762875071648"/> you use Fibonacci ratios to give out reactionary levels. Fibonacci retracements are usually calculated on up or down legs so that you know where the market will reverse if it touches one of these levels. The problem with this method is that it is very subjective and, as with any other technique, not perfect. The advantage is that it gives many interesting levels.</dd>
<dt>Pivot points</dt>
<dd>With pivot<a contenteditable="false" data-primary="pivot points" data-type="indexterm" id="idm46762875069520"/> points you use simple mathematical formulas to find levels. Based on yesterday’s trading activity, you use formulas to project today’s future support and resistance levels. Then whenever the market approaches the levels, you try to fade the move by trading in the opposite direction.</dd>
<dt>Moving averages</dt>
<dd>These are discussed in the next section. They are dynamic in nature and follow the price. You can also use them to detect the current market regime<a contenteditable="false" data-primary="" data-startref="ix_candle_chart_basic" data-type="indexterm" id="idm46762875067232"/><a contenteditable="false" data-primary="" data-startref="ix_vis_chart_analysis" data-type="indexterm" id="idm46762875065856"/><a contenteditable="false" data-primary="" data-startref="ix_chart_analysis" data-type="indexterm" id="idm46762875064480"/><a contenteditable="false" data-primary="" data-startref="ix_tech_chart_analysis" data-type="indexterm" id="idm46762875063104"/>.</dd>
</dl>
<div data-type="tip"><h6>Tip</h6>
<p>The best way to find support and resistance levels is to combine as many techniques as possible so that you have a certain confluence of methods, which in turn will increase your conviction for the initial idea. Trading is a numbers game, and stacking as much odds as possible on your side should eventually increase your chances for a better-performing system.</p>
</div>
</div></section>
<section data-pdf-bookmark="Indicator Analysis" data-type="sect1"><div class="sect1" id="ch3_indicator-analysis">
<h1>Indicator Analysis</h1>
<p><em>Indicator analysis</em> is the second-most used technical<a contenteditable="false" data-primary="technical analysis" data-secondary="indicator analysis" data-type="indexterm" id="ix_tech_anal_indic_anal"/><a contenteditable="false" data-primary="indicator analysis" data-type="indexterm" id="ix_indic_anal_ch3"/> analysis tool. It generally accompanies charting to confirm your initial idea. You can consider <em>indicators </em>as assistants. They can be divided into two types:</p>
<dl>
<dt>Trend-following indicators</dt>
<dd>Used to detect<a contenteditable="false" data-primary="trend-following patterns" data-secondary="indicator analysis" data-type="indexterm" id="idm46762875054368"/> and trade a trending market where the current move is expected to continue. Therefore, they are related to the persistence of the move.</dd>
<dt>Contrarian indicators</dt>
<dd>Used to fade<a contenteditable="false" data-primary="contrarian patterns" data-secondary="indicator analysis" data-type="indexterm" id="idm46762875051744"/> the move and best used in sideways markets as they generally signal the end of the initial move. Therefore, they are related to the expected reversal of the move (and therefore to the anti-persistence of the move).</dd>
</dl>
<p>The following sections present two pillars of technical analysis, <a data-type="link" href="#moving-average-section">moving averages</a> (trend following) and the <a data-type="link" href="#rsi-section">relative strength index</a> (contrarian).</p>
<section data-pdf-bookmark="Moving Averages" data-type="sect2"><div class="sect2" id="moving-average-section">
<h2>Moving Averages</h2>
<p>The most famous trend-following overlay indicator is the <em>moving average</em>. Its simplicity makes it without a doubt one of the most sought-after tools. Moving averages help confirm and ride the trend. You can also use them to find support and resistance levels, stops, and targets, as well as to understand the underlying trend.</p>
<p>There<a contenteditable="false" data-primary="rolling mean of close price, for moving average" data-type="indexterm" id="idm46762875044480"/> are many types of moving averages, but the most common is the simple moving average where you take a rolling mean of the close price, as shown in the following formula:</p>
<div data-type="equation">
<math alttext="Moving average Subscript i Baseline equals StartFraction upper P r i c e Subscript i Baseline plus upper P r i c e Subscript i minus 1 Baseline plus period period period plus upper P r i c e Subscript i minus n Baseline Over n EndFraction">
<mrow>
<mtext>Moving</mtext>
<mspace width="4.pt"/>
<msub><mtext>average</mtext> <mi>i</mi> </msub>
<mo>=</mo>
<mfrac><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi> <mi>i</mi> </msub><mo>+</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi> <mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow> </msub><mo>+</mo><mo lspace="0%" rspace="0%">.</mo><mo lspace="0%" rspace="0%">.</mo><mo lspace="0%" rspace="0%">.</mo><mo>+</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi> <mrow><mi>i</mi><mo>-</mo><mi>n</mi></mrow> </msub></mrow> <mi>n</mi></mfrac>
</mrow>
</math>
</div>
<p>This is the simple mean that you use in statistics and basically any other part in life. It is simply the total values of the observations divided by the number of observations.<sup><a data-type="noteref" href="ch03.xhtml#idm46762875027664" id="idm46762875027664-marker">2</a></sup></p>
<p><a data-type="xref" href="#figure3-10">Figure 3-10</a> shows the 30-hour simple moving average applied on USDCAD. The term <em>30-hour</em> means that I calculate the moving average of the latest 30 periods in case of hourly bars.</p>
<figure><div class="figure" id="figure3-10"><img alt="" height="297" src="assets/mfpr_0310.png" width="600"/>
<h6><span class="label">Figure 3-10. </span>Candlestick chart on USDCAD with a 30-hour simple moving average</h6>
</div></figure>
<p class="pagebreak-before">Rules of thumb with moving averages include the following:</p>
<ul>
<li>Whenever the market is above its moving average, a bullish momentum is in progress, and you are better off looking for long opportunities.</li>
<li>Whenever the market is below its moving average, a bearish momentum is in progress, and you are better off looking for short opportunities.</li>
<li>Whenever the market crosses over or under its moving average, you can say that the momentum has changed and that the market may be entering a new regime (trend).</li>
</ul>
<p>You can<a contenteditable="false" data-primary="bullish crossover, moving average" data-type="indexterm" id="idm46762875020160"/><a contenteditable="false" data-primary="golden cross" data-type="indexterm" id="idm46762875018960"/> also combine moving averages so that they give out signals. For example, whenever a short-term moving average crosses over a long-term moving average, a bullish crossover occurs, and the market may continue to rise. This is also referred to as a <em>golden cross</em>.</p>
<p>In contrast<a contenteditable="false" data-primary="death cross" data-type="indexterm" id="idm46762875016864"/><a contenteditable="false" data-primary="bearish crossover, moving average" data-type="indexterm" id="idm46762875015728"/>, whenever a short-term moving average crosses under a long-term moving average, a bearish crossover has occurred, and the market may continue to drop. This is also referred to as a <em>death cross</em>.</p>
<p><a data-type="xref" href="#figure3-11">Figure 3-11</a> shows USDCAD with a 10-hour (closer to the market price) and a 30-hour moving average (further from the market price). You can notice that, at the beginning, a golden cross appeared and signaled a beginning of a bullish trend.</p>
<figure><div class="figure" id="figure3-11"><img alt="" height="297" src="assets/mfpr_0311.png" width="600"/>
<h6><span class="label">Figure 3-11. </span>Candlestick chart on USDCAD with a 30-hour and a 10-hour simple <span class="keep-together">moving average</span></h6>
</div></figure>
<p class="pagebreak-before">To code a moving average, use this function:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code> <code class="nf">ma</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">lookback</code><code class="p">,</code> <code class="n">close</code><code class="p">,</code> <code class="n">position</code><code class="p">):</code> 
    
    <code class="n">data</code> <code class="o">=</code> <code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="mi">1</code><code class="p">)</code>
    
    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)):</code>
           
            <code class="k">try</code><code class="p">:</code>
                
                <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">=</code> <code class="p">(</code><code class="n">data</code><code class="p">[</code><code class="n">i</code> <code class="o">-</code> <code class="n">lookback</code> <code class="o">+</code> <code class="mi">1</code><code class="p">:</code><code class="n">i</code> <code class="o">+</code> <code class="mi">1</code><code class="p">,</code> 
                                     <code class="n">close</code><code class="p">]</code><code class="o">.</code><code class="n">mean</code><code class="p">())</code>
            
            <code class="k">except</code> <code class="ne">IndexError</code><code class="p">:</code>
                
                <code class="k">pass</code>
            
    <code class="n">data</code> <code class="o">=</code> <code class="n">delete_row</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">lookback</code><code class="p">)</code>
    
    <code class="k">return</code> <code class="n">data</code></pre>
<p>To calculate<a contenteditable="false" data-primary="ma() function" data-type="indexterm" id="idm46762874988080"/> a 30-period (or hour, depending on your time frame) moving average on the close prices, you need to define the <code>ma()</code> function and call it as follows:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<strong><code class="c1"># Setting the lookback period</code></strong><code>
</code><code class="n">lookback</code><code> </code><code class="o">=</code><code> </code><code class="mi">30</code><code>
</code><code>
</code><strong><code class="c1"># Setting the index of the close price column</code></strong><code>
</code><code class="n">close_column</code><code> </code><code class="o">=</code><code> </code><code class="mi">3</code><code>
</code><code>
</code><strong><code class="c1"># Setting the index of the moving average column</code></strong><code>
</code><code class="n">ma_column</code><code> </code><code class="o">=</code><code> </code><code class="mi">4</code><code>
</code><code>
</code><strong><code class="c1"># Calling the moving average function</code></strong><code>
</code><code class="n">my_data</code><code> </code><code class="o">=</code><code> </code><code class="n">ma</code><code class="p">(</code><code class="n">my_data</code><code class="p">,</code><code> </code><code class="n">lookback</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">,</code><code> </code><code class="n">ma_column</code><code class="p">)</code></pre>
</div></section>
<section data-pdf-bookmark="The Relative Strength Index" data-type="sect2"><div class="sect2" id="rsi-section">
<h2>The Relative Strength Index</h2>
<p>Let’s now<a contenteditable="false" data-primary="relative strength index (RSI) indicator" data-type="indexterm" id="ix_rel_str_ind_rsi"/> discuss the contrarian indicator. First introduced by J. Welles<a contenteditable="false" data-primary="Wilder, J. Welles Jr." data-type="indexterm" id="idm46762876725840"/> Wilder Jr.,<sup><a data-type="noteref" href="ch03.xhtml#idm46762876724608" id="idm46762876724608-marker">3</a></sup> the <em>relative strength index</em> (RSI) is one of the most popular and versatile bounded indicators. It is mainly used as a contrarian indicator where extreme values signal a reaction that can be exploited.</p>
<p class="pagebreak-before">Use the following steps to calculate the default 14-period RSI:</p>
<ol>
<li>Calculate the change in the closing prices from the previous ones.</li>
<li>Separate the positive net changes from the negative net changes.</li>
<li>Calculate a smoothed moving average on the positive net changes and on the absolute values of the negative net changes.</li>
<li>Divide the smoothed positive changes by the smoothed absolute negative changes. Refer to this calculation as the relative strength (RS).</li>
<li>Apply this normalization<a contenteditable="false" data-primary="normalization" data-type="indexterm" id="idm46762876692688"/> formula for every time step to get the RSI:</li>
</ol>
<div data-type="equation">
<math alttext="upper R upper S upper I Subscript i Baseline equals 100 minus StartFraction 100 Over 1 plus upper R upper S Subscript i Baseline EndFraction">
<mrow>
<mi>R</mi>
<mi>S</mi>
<msub><mi>I</mi> <mi>i</mi> </msub>
<mo>=</mo>
<mn>100</mn>
<mo>-</mo>
<mfrac><mn>100</mn> <mrow><mn>1</mn><mo>+</mo><mi>R</mi><msub><mi>S</mi> <mi>i</mi> </msub></mrow></mfrac>
</mrow>
</math>
</div>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>The <em>smoothed</em> moving average<a contenteditable="false" data-primary="smoothed moving average" data-type="indexterm" id="idm46762876681552"/> is a special type of moving average developed by the creator of the RSI. It is smoother and more stable than the simple moving average.</p>
</div>
<p>Generally, the RSI uses a lookback period of 14 by default, although each trader may have their own preferences on this. Here’s how to use this indicator:</p>
<ul>
<li>Whenever the RSI is showing a reading of 30 or less, the market is considered to be oversold, and a correction to the upside might occur.</li>
<li>Whenever the RSI is showing a reading of 70 or more, the market is considered to be overbought, and a correction to the downside might occur.</li>
<li>Whenever the RSI surpasses or breaks the 50 level, a new trend might be emerging, but this is generally a weak assumption and more theoretical than practical in nature.</li>
</ul>
<p><a data-type="xref" href="#figure3-12">Figure 3-12</a> shows EURUSD versus its 14-period RSI in the second panel. Indicators should be used to confirm long or short bias and are very helpful in timing and analyzing the current  market state.</p>
<figure><div class="figure" id="figure3-12"><img alt="" height="294" src="assets/mfpr_0312.png" width="600"/>
<h6><span class="label">Figure 3-12. </span>Hourly EURUSD values in the top panel with the 14-period RSI in the <span class="keep-together">bottom panel</span></h6>
</div></figure>
<p>To create the RSI using the usual array method, define the smoothed moving average first as follows:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code> <code class="nf">smoothed_ma</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">alpha</code><code class="p">,</code> <code class="n">lookback</code><code class="p">,</code> <code class="n">close</code><code class="p">,</code> <code class="n">position</code><code class="p">):</code>
    
    <code class="n">lookback</code> <code class="o">=</code> <code class="p">(</code><code class="mi">2</code> <code class="o">*</code> <code class="n">lookback</code><code class="p">)</code> <code class="o">-</code> <code class="mi">1</code>
    
    <code class="n">alpha</code> <code class="o">=</code> <code class="n">alpha</code> <code class="o">/</code> <code class="p">(</code><code class="n">lookback</code> <code class="o">+</code> <code class="mf">1.0</code><code class="p">)</code>
    
    <code class="n">beta</code>  <code class="o">=</code> <code class="mi">1</code> <code class="o">-</code> <code class="n">alpha</code>
    
    <code class="n">data</code> <code class="o">=</code> <code class="n">ma</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">lookback</code><code class="p">,</code> <code class="n">close</code><code class="p">,</code> <code class="n">position</code><code class="p">)</code>

    <code class="n">data</code><code class="p">[</code><code class="n">lookback</code> <code class="o">+</code> <code class="mi">1</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">=</code> <code class="p">(</code><code class="n">data</code><code class="p">[</code><code class="n">lookback</code> <code class="o">+</code> <code class="mi">1</code><code class="p">,</code> <code class="n">close</code><code class="p">]</code> <code class="o">*</code> <code class="n">alpha</code><code class="p">)</code> <code class="o">+</code> 
                                   <code class="p">(</code><code class="n">data</code><code class="p">[</code><code class="n">lookback</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">*</code> <code class="n">beta</code><code class="p">)</code>

    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="n">lookback</code> <code class="o">+</code> <code class="mi">2</code><code class="p">,</code> <code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)):</code>
        
            <code class="k">try</code><code class="p">:</code>
                
                <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">=</code> <code class="p">(</code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">close</code><code class="p">]</code> <code class="o">*</code> <code class="n">alpha</code><code class="p">)</code> <code class="o">+</code> 
                                    <code class="p">(</code><code class="n">data</code><code class="p">[</code><code class="n">i</code> <code class="o">-</code> <code class="mi">1</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">*</code> <code class="n">beta</code><code class="p">)</code>
        
            <code class="k">except</code> <code class="ne">IndexError</code><code class="p">:</code>
                
                <code class="k">pass</code>
            
    <code class="k">return</code> <code class="n">data</code>
</pre>
<p class="pagebreak-before">Now, let’s code the RSI using the following function:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code> <code class="nf">rsi</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">lookback</code><code class="p">,</code> <code class="n">close</code><code class="p">,</code> <code class="n">position</code><code class="p">):</code>
    
    <code class="n">data</code> <code class="o">=</code> <code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="mi">5</code><code class="p">)</code>
    
    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)):</code>
        
        <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">=</code> <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">close</code><code class="p">]</code> <code class="o">-</code> <code class="n">data</code><code class="p">[</code><code class="n">i</code> <code class="o">-</code> <code class="mi">1</code><code class="p">,</code> <code class="n">close</code><code class="p">]</code>
     
    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)):</code>
        
        <code class="k">if</code> <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">&gt;</code> <code class="mi">0</code><code class="p">:</code>
            
            <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code>
            
        <code class="k">elif</code> <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">]</code> <code class="o">&lt;</code> <code class="mi">0</code><code class="p">:</code>
            
            <code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">2</code><code class="p">]</code> <code class="o">=</code> <code class="nb">abs</code><code class="p">(</code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code> <code class="n">position</code><code class="p">])</code>
            
    <code class="n">data</code> <code class="o">=</code> <code class="n">smoothed_ma</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="n">lookback</code><code class="p">,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">1</code><code class="p">,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">3</code><code class="p">)</code>
    <code class="n">data</code> <code class="o">=</code> <code class="n">smoothed_ma</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="n">lookback</code><code class="p">,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">2</code><code class="p">,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">4</code><code class="p">)</code>

    <code class="n">data</code><code class="p">[:,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">5</code><code class="p">]</code> <code class="o">=</code> <code class="n">data</code><code class="p">[:,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">3</code><code class="p">]</code> <code class="o">/</code> <code class="n">data</code><code class="p">[:,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">4</code><code class="p">]</code>
    
    <code class="n">data</code><code class="p">[:,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">6</code><code class="p">]</code> <code class="o">=</code> <code class="p">(</code><code class="mi">100</code> <code class="o">-</code> <code class="p">(</code><code class="mi">100</code> <code class="o">/</code> <code class="p">(</code><code class="mi">1</code> <code class="o">+</code> <code class="n">data</code><code class="p">[:,</code> <code class="n">position</code> <code class="o">+</code> <code class="mi">5</code><code class="p">])))</code>

    <code class="n">data</code> <code class="o">=</code> <code class="n">delete_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">position</code><code class="p">,</code> <code class="mi">6</code><code class="p">)</code>
    <code class="n">data</code> <code class="o">=</code> <code class="n">delete_row</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">lookback</code><code class="p">)</code>

    <code class="k">return</code> <code class="n">data</code>
</pre>
<p>To summarize, indicators can be calculated in many ways. The two most commonly used ones are moving averages and the RSI. I come back to them later in Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch10.xhtml#chapter10">10</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch11.xhtml#chapter11">11</a>. At the moment, make sure to grasp the concepts of technical analysis. Let’s move on to pattern recognition<a contenteditable="false" data-primary="" data-startref="ix_rel_str_ind_rsi" data-type="indexterm" id="idm46762872502352"/><a contenteditable="false" data-primary="" data-startref="ix_indic_anal_ch3" data-type="indexterm" id="idm46762872500976"/><a contenteditable="false" data-primary="" data-startref="ix_tech_anal_indic_anal" data-type="indexterm" id="idm46762872310240"/>.</p>
</div></section>
</div></section>
<section class="pagebreak-before" data-pdf-bookmark="Pattern Recognition" data-type="sect1"><div class="sect1" id="idm46762872308768">
<h1 class="less_space">Pattern Recognition</h1>
<p><em>Patterns </em>are recurring<a contenteditable="false" data-primary="technical analysis" data-secondary="pattern recognition" data-type="indexterm" id="ix_tech_pattern_recog"/><a contenteditable="false" data-primary="pattern recognition in technical analysis" data-type="indexterm" id="ix_pattern_recog_tech"/> configurations that show a specific prediction of the ensuing move. Patterns can be divided into the following types:</p>
<dl>
<dt>Classic price patterns</dt>
<dd>These are known<a contenteditable="false" data-primary="classic price patterns" data-type="indexterm" id="idm46762872302288"/> technical reversal price patterns, which are extremely subjective and can be considered unreliable due to the difficulty of back-testing them without taking subjective conditions. However, they are still used by many traders and analysts.</dd>
<dt>Timing patterns</dt>
<dd>Based on a combination<a contenteditable="false" data-primary="timing patterns" data-type="indexterm" id="idm46762872300416"/> of timing and price. These patterns are less well-known but can be powerful and predictive when used correctly.</dd>
<dt>Candlestick patterns</dt>
<dd>This is where<a contenteditable="false" data-primary="OHLC data" data-secondary="for candlestick patterns" data-secondary-sortas="candlestick patterns" data-type="indexterm" id="idm46762872298416"/><a contenteditable="false" data-primary="candlestick pattern charting" data-type="indexterm" id="idm46762872296960"/> OHLC data is used to predict the future reaction of the market. Candlesticks are one of the best ways to visualize a chart as they harbor many patterns that could signal reversals or confirm the move. They are discussed in greater depth in coming chapters.</dd>
</dl>
<p>Classic price patterns refer to theoretical configurations such as double tops and rectangles. They are usually either reversal or continuation patterns:</p>
<dl>
<dt>Continuation price patterns</dt>
<dd>These are configurations<a contenteditable="false" data-primary="rectangles and triangles, continuation price patterns" data-type="indexterm" id="idm46762872294176"/><a contenteditable="false" data-primary="triangles and rectangles, continuation price patterns" data-type="indexterm" id="idm46762872293200"/><a contenteditable="false" data-primary="continuation price patterns" data-type="indexterm" id="idm46762872292224"/> that confirm the aggregate ongoing move. Examples include rectangles and triangles.</dd>
<dt>Reversal price patterns</dt>
<dd>These are configurations<a contenteditable="false" data-primary="reversal price patterns" data-seealso="contrarian patterns" data-type="indexterm" id="idm46762872290352"/> that fade the aggregate ongoing move. Examples include head and shoulders and double bottoms.</dd>
</dl>
<p>Old-school chartists<a contenteditable="false" data-primary="double tops and bottoms, reversal price patterns" data-type="indexterm" id="idm46762872288384"/> are familiar with double tops and bottoms, which signal reversals and give the potential of said reversals. Despite their simplicity, they are subjective, and some are not visible like others.</p>
<p>This hinders the ability to know whether they add value or not. <a data-type="xref" href="#figure3-13">Figure 3-13</a> shows an illustration of a double top where a bearish bias is given right after the validation of the pattern, which is usually breaking the line linking the lows of the bottom between the two tops. This line is referred to as the <em>neckline</em>.</p>
<figure><div class="figure" id="figure3-13"><img alt="" height="407" src="assets/mfpr_0313.png" width="600"/>
<h6><span class="label">Figure 3-13. </span>Double top illustration</h6>
</div></figure>
<p>Notice these three important elements in a double top:</p>
<dl>
<dt>The neckline</dt>
<dd>This is the<a contenteditable="false" data-primary="neckline, double top chart" data-type="indexterm" id="idm46762872282272"/> line linking the lowest low between the two peaks and the beginning/end of the pattern. It serves to determine the pull-back level, which we’ll define next.</dd>
<dt>The pull-back</dt>
<dd>Having broken<a contenteditable="false" data-primary="pull-back, double top chart" data-type="indexterm" id="idm46762872280208"/> the neckline, the market should shape a desperate attempt toward the neckline but fails to continue higher as the sellers use this level as re-entry to continue shorting. Therefore, the pull-back level is the theoretical optimal selling point after validating a double top.</dd>
<dt>The potential</dt>
<dd>This is the target<a contenteditable="false" data-primary="potential" data-type="indexterm" id="idm46762872278064"/> of the double top. It is measured as the midpoint between the top of the pattern and the neckline projected lower and starting from the same neckline point.</dd>
</dl>
<p>The double top or bottom can have any size, but preferably it should be visible to most market participants so that its impact is bigger. Theoretically, the pattern’s psychological explanation is that with the second top or bottom, the market has failed to push the prices beyond the first peak and therefore is showing weakness, which might be exploited by the seller.</p>
<p>There are other patterns that are more objective in nature; i.e., they have clear rules of detection and initiation. These are all based on clear objective conditions and are not subject to the analyst’s discretion. This facilitates their back-testing and evaluation.</p>
<p>Before ending this introductory chapter, I want to point out some misconceptions and best practices of technical analysis so that you start the right way<a contenteditable="false" data-primary="" data-startref="ix_pattern_recog_tech" data-type="indexterm" id="idm46762872275424"/><a contenteditable="false" data-primary="" data-startref="ix_tech_pattern_recog" data-type="indexterm" id="idm46762872274048"/>.</p>
</div></section>
<section data-pdf-bookmark="Common Pitfalls of Technical Analysis" data-type="sect1"><div class="sect1" id="idm46762872308176">
<h1>Common Pitfalls of Technical Analysis</h1>
<p>As simple<a contenteditable="false" data-primary="technical analysis" data-secondary="common pitfalls" data-type="indexterm" id="ix_tech_anal_pitfalls"/> as technical analysis is, it can be misused, and this unfortunately fuels an everlasting debate about its utility and place relative to fundamental analysis. The important thing is to set expectations right and to remain within the means of logical thinking. This section talks about known pitfalls of technical analysis that you must make sure to avoid in order to maximize your survival rate in the financial jungle.</p>
<section data-pdf-bookmark="Wanting to Get Rich Quickly" data-type="sect2"><div class="sect2" id="idm46762872268960">
<h2>Wanting to Get Rich Quickly</h2>
<p>This pitfall<a contenteditable="false" data-primary="get rich quick desire, as pitfall of technical analysis" data-type="indexterm" id="idm46762872267664"/><a contenteditable="false" data-primary="behavioral finance" data-seealso="biases" data-type="indexterm" id="idm46762872266432"/><a contenteditable="false" data-primary="trade psychology" data-seealso="biases" data-type="indexterm" id="idm46762872265056"/> is mostly psychological, as it deals with a lack of discipline and poor management. The need to make money as soon as possible to impress society pushes a trader to make emotional and bad decisions with regard to trades and trading-related activities.</p>
<p>This is also related to the fact that with the need to make money, you are likely to keep changing your trading plan because you believe that the new plan is a quicker way to wealth.</p>
<p>When you do not have enough faith in yourself and think that other people are better than you at making money, you are more likely to follow them, especially because of the abundance of information they provide. No one except you can change your future.</p>
</div></section>
<section data-pdf-bookmark="Forcing the Patterns" data-type="sect2"><div class="sect2" id="idm46762872261920">
<h2>Forcing the Patterns</h2>
<p>A common<a contenteditable="false" data-primary="confirmation bias" data-type="indexterm" id="idm46762872260592"/><a contenteditable="false" data-primary="biases" data-secondary="cognitive" data-type="indexterm" id="idm46762872259456"/><a contenteditable="false" data-primary="cognitive biases" data-type="indexterm" id="idm46762872258080"/><a contenteditable="false" data-primary="forcing patterns, as pitfall of technical analysis" data-type="indexterm" id="idm46762872256976"/> psychological deficiency known as<em> confirmation bias </em>prevents traders from seeing signals that contradict their already established views.</p>
<p>Sometimes, you have an initial view on some market and therefore start looking for anything that agrees with the view, and this can also force patterns into existence even though there is no validity to them.</p>
<div data-type="warning" epub:type="warning"><h6>Warning</h6>
<p>You have to always be neutral in your analysis and approach elements with caution while retaining a maximum of objectivity. Of course, this is easier said than done, and the best alternative for absolute neutrality is an algorithmic approach that comes at the expense of the human intelligence factor.</p>
</div>
</div></section>
<section data-pdf-bookmark="Hindsight Bias, the Dream Smasher" data-type="sect2"><div class="sect2" id="idm46762872252896">
<h2>Hindsight Bias, the Dream Smasher</h2>
<p>Technical analysis<a contenteditable="false" data-primary="cognitive biases" data-type="indexterm" id="idm46762872251552"/><a contenteditable="false" data-primary="biases" data-secondary="cognitive" data-type="indexterm" id="idm46762872250416"/><a contenteditable="false" data-primary="hindsight bias" data-type="indexterm" id="idm46762872249040"/> looks good in the past. Everything looked obvious and easy to predict, even with very basic strategies; however, when you apply the latter, you find deceiving results due to the harsh reality that your brain is wired to trick you into believing the past was perfectly predictable.</p>
<p>This is also why back-testing<a contenteditable="false" data-primary="back-testing" data-secondary="versus forward-testing results" data-secondary-sortas="forward-testing results" data-type="indexterm" id="idm46762872247344"/> results almost always outperform forward-testing. When you look at past patterns and believe that they should have been easy to spot, you are exhibiting <em>hindsight bias</em>. To remedy this problem, you have to back-test using unbiased algorithms. Only then can you know for sure if the pattern adds value or not. Many retail traders fall into the trap of taking a general and simplistic look at the past to determine the validity of their strategies, which then fail to perform. I discuss these biases in greater depth in <a data-type="xref" href="ch12.xhtml#chapter12">Chapter 12</a>.</p>
</div></section>
<section data-pdf-bookmark="Assuming That Past Events Have the Same Future Outcome" data-type="sect2"><div class="sect2" id="idm46762872243872">
<h2>Assuming That Past Events Have the Same Future Outcome</h2>
<p>You’ve heard<a contenteditable="false" data-primary="“past predicts future” assumption, as pitfall of technical analysis" data-primary-sortas="past predicts future assumption, as pitfall of technical analysis" data-type="indexterm" id="idm46762872242544"/> the saying “History doesn’t repeat itself, but it does often rhyme.” This saying is key to understanding how the markets function. When you apply technical analysis, you must not expect exact outcomes from past signals and patterns. Rather, you must use them as guidelines and probabilistic elements that suggest markets may have a similar reaction that can be correlated with past reactions.</p>
<p>Trading is a numbers game, and you have to stack the odds in your favor. Humans sometimes do behave the same way when they are confronted with similar events. However, as different participants enter and leave the activity of buying and selling, with their motives changing all the time, you can be certain that the future reaction of the market after encountering a pattern similar to one in the past will not be exactly the same, although it might <em>rhyme</em> with the past, meaning it might have a correlated reaction on average.</p>
<p>This being said, do not expect to time the market perfectly every time you see a distinct pattern.</p>
</div></section>
<section data-pdf-bookmark="Making Things More Complicated Than They Need to Be" data-type="sect2"><div class="sect2" id="idm46762872239456">
<h2>Making Things More Complicated Than They Need to Be</h2>
<p>Another saying is “Everything should be made as simple as possible, but no simpler.” This is a perfect description of how you should do research and trade.</p>
<p>Financial<a contenteditable="false" data-primary="overfitting of data" data-type="indexterm" id="idm46762872237680"/> markets are highly complex, semi-random environments that require more than simple strategies, yet strategies must not be so sophisticated that you fall into the trap of <em>overfitting</em>, a common issue where traders perfectly predict the past and assume it will behave exactly the same in the future, thus resulting in huge paper gains in the past but huge real losses in the future<a contenteditable="false" data-primary="" data-startref="ix_tech_anal_pitfalls" data-type="indexterm" id="idm46762872236000"/>.</p>
</div></section>
</div></section>
<section data-pdf-bookmark="Technical Analysis Best Practices" data-type="sect1"><div class="sect1" id="idm46762872234112">
<h1>Technical Analysis Best Practices</h1>
<p>When you misuse<a contenteditable="false" data-primary="technical analysis" data-secondary="best practices" data-type="indexterm" id="ix_tech_anal_best_prac"/> something, you tend to shy away from blaming yourself, instead placating your ego and relieving yourself of any responsibility. Let’s list some best practices that optimize the way you analyze the markets technically.</p>
<section data-pdf-bookmark="Harness the Power of Different Time Frames" data-type="sect2"><div class="sect2" id="idm46762872230496">
<h2>Harness the Power of Different Time Frames</h2>
<p>Many analysts<a contenteditable="false" data-primary="multiple time frames, analyzing market in" data-type="indexterm" id="idm46762872229136"/><a contenteditable="false" data-primary="time frames" data-secondary="technical analysis for differing" data-type="indexterm" id="idm46762872227904"/> and traders analyze the markets by looking only at the short-term horizon. An example of this is to look for opportunities on the hourly chart while disregarding the market’s configuration on the daily chart. It is a strict rule to know that the longer time frame (weekly and monthly) is always more important than the shorter time frame, meaning that if you have a solid resistance on the higher time frame, you should not really look to buy close to that level even if you see a bullish configuration on the shorter time frame.</p>
<p>The reason<a contenteditable="false" data-primary="alignment of the planets, principle of" data-type="indexterm" id="idm46762872225920"/> you should do this is to respect the <em>principle of the alignment of the planets</em>, which in this case dictates the fact that the more elements that confirm each other, the better your confidence in the probability of a successful trade. A good framework to follow is to analyze the market in at least three different time frames, starting with the longer time horizon and going down.</p>
</div></section>
<section data-pdf-bookmark="Use More Than One Strategy or Indicator" data-type="sect2"><div class="sect2" id="idm46762872223648">
<h2>Use More Than One Strategy or Indicator</h2>
<p>Some analysts<a contenteditable="false" data-primary="strategies" data-seealso="contrarian strategies; trend-following strategies" data-type="indexterm" id="idm46762872222336"/><a contenteditable="false" data-primary="indicator analysis" data-type="indexterm" id="idm46762872220832"/> argue that charting analysis works better than indicators or patterns, while others disagree. The best solution is to use all three and create a strategy that combines the best formations from each type of analysis. Why use only one when you have the choice of using more? Remember, it is a numbers game, and you need to have as many opinions as possible.</p>
</div></section>
<section data-pdf-bookmark="Choose the Right Type of Strategy for Current Market Conditions" data-type="sect2"><div class="sect2" id="idm46762872219344">
<h2>Choose the Right Type of Strategy for Current Market Conditions</h2>
<p>As stated, the market<a contenteditable="false" data-primary="trending market" data-type="indexterm" id="idm46762872217696"/><a contenteditable="false" data-primary="markets" data-secondary="current market regime" data-type="indexterm" id="idm46762872216560"/><a contenteditable="false" data-primary="markets" data-secondary="ranging" data-type="indexterm" id="idm46762872215184"/><a contenteditable="false" data-primary="markets" data-secondary="trending" data-type="indexterm" id="idm46762872213808"/><a contenteditable="false" data-primary="sideways asset direction on timeline" data-type="indexterm" id="idm46762872212432"/><a contenteditable="false" data-primary="current market regime, choosing strategy based on" data-type="indexterm" id="idm46762872211264"/><a contenteditable="false" data-primary="contrarian strategies" data-type="indexterm" id="idm46762872210128"/><a contenteditable="false" data-primary="trend-following strategies" data-type="indexterm" id="idm46762872209024"/><a contenteditable="false" data-primary="mean-reversion concept" data-type="indexterm" id="idm46762872207904"/><a contenteditable="false" data-primary="momentum principle" data-type="indexterm" id="idm46762872206800"/> tends to trend or move sideways. The two main types of strategies can be categorized into contrarian or trend following, with the former relying on the concept of mean reversion (fading the aggregate move) and the latter relying on the momentum principle (following the aggregate move).</p>
<p>Before you choose<a contenteditable="false" data-primary="ranging market" data-type="indexterm" id="idm46762872204976"/> the strategy to deploy, you have to know whether the market is trending or ranging, and this can be done by using moving averages or other trend identification techniques.</p>
<p>The main point is not to use contrarian strategies in a strongly trending market and not to use trend-following strategies in ranging markets. This is easier said than done because it is extremely difficult, if not impossible, to estimate the current and next market regime.</p>
</div></section>
<section data-pdf-bookmark="Don’t Underestimate Default Parameters" data-type="sect2"><div class="sect2" id="idm46762872203040">
<h2>Don’t Underestimate Default Parameters</h2>
<p>Default<a contenteditable="false" data-primary="default parameters, avoiding underestimation of" data-type="indexterm" id="idm46762872201744"/> parameters are actually not as horrible as people portray them, for one obvious reason: they have the most visibility to traders and analysts.</p>
<p>To look at an example, consider the relative strength index. You can say that the default version that uses 14 periods as a lookback window is probably more reliable than a version that uses 55 periods, assuming the same strategy, and this is because more people look at the default version and base their decisions on it than use the 55 periods version<a contenteditable="false" data-primary="" data-startref="ix_tech_anal_best_prac" data-type="indexterm" id="idm46762872199808"/><a contenteditable="false" data-primary="" data-startref="ix_tech_analysis_ch3" data-type="indexterm" id="idm46762872198432"/>.</p>
<p>A key point in trading is to make sure that the configuration you are seeing can be seen by other participants so that you maximize your chances of a winning trade. This is not to say that you must use exactly the same techniques as others, but it can be helpful sometimes not to tweak the indicators too much.</p>
</div></section>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="idm46762874711840"><sup><a href="ch03.xhtml#idm46762874711840-marker">1</a></sup> This assumes a nonrandom probability that over the long term shows deterministic characteristics.</p><p data-type="footnote" id="idm46762875027664"><sup><a href="ch03.xhtml#idm46762875027664-marker">2</a></sup> You can also think of the mean as the sum divided by the quantity.</p><p data-type="footnote" id="idm46762876724608"><sup><a href="ch03.xhtml#idm46762876724608-marker">3</a></sup>  See <em>New Concepts in Technical Trading Systems</em> by J. Welles Wilder Jr. (1978), published by Trend Research.</p></div></div></section></div></body></html>