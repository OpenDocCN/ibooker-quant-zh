- en: Chapter 6\. Dynamic Economy
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬å…­ç« ã€‚åŠ¨æ€ç»æµ
- en: Multiperiod models of securities markets are much more realistic than single
    period models. In fact, they are extensively used for practical purposes in the
    financial industry.
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¯åˆ¸å¸‚åœºçš„å¤šæœŸæ¨¡å‹æ¯”å•æœŸæ¨¡å‹æ›´åŠ çœŸå®ã€‚äº‹å®ä¸Šï¼Œåœ¨é‡‘èè¡Œä¸šä¸­ï¼Œå®ƒä»¬è¢«å¹¿æ³›ç”¨äºå®é™…ç›®çš„ã€‚
- en: ''
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Stanley Pliska (1997)
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Stanley Pliskaï¼ˆ1997ï¼‰
- en: Although markets are not complete at any one time, they are dynamically complete
    in the sense that any consumption process can be financed by trading the given
    set of financial securities, adjusting portfolios through time as uncertainty
    is resolved bit by bit.
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å°½ç®¡å¸‚åœºåœ¨ä»»ä½•ä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šéƒ½ä¸å®Œå…¨ï¼Œä½†ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œå®ƒä»¬åœ¨åŠ¨æ€ä¸Šæ˜¯å®Œå…¨çš„ï¼Œå› ä¸ºä»»ä½•æ¶ˆè´¹è¿‡ç¨‹éƒ½å¯ä»¥é€šè¿‡äº¤æ˜“ç»™å®šçš„ä¸€ç»„é‡‘èè¯åˆ¸æ¥èèµ„ï¼Œéšç€æ—¶é—´çš„æ¨ç§»è°ƒæ•´æŠ•èµ„ç»„åˆï¼Œå› ä¸ºä¸ç¡®å®šæ€§é€æ­¥è§£å†³ã€‚
- en: ''
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Darrell Duffie (1986)
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Darrell Duffieï¼ˆ1986ï¼‰
- en: In reality, quantitative informationâ€”such as changes in stock prices or interest
    ratesâ€”is revealed gradually over time. While static model economies are an elegant
    way of introducing fundamental notions in finance, a realistic financial model
    requires a dynamic representation of the financial world.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œé‡åŒ–ä¿¡æ¯ï¼ˆå¦‚è‚¡ç¥¨ä»·æ ¼æˆ–åˆ©ç‡çš„å˜åŒ–ï¼‰ä¼šéšç€æ—¶é—´é€æ¸æ˜¾éœ²å‡ºæ¥ã€‚å°½ç®¡é™æ€æ¨¡å‹ç»æµå­¦æ˜¯å¼•å…¥é‡‘èåŸºæœ¬æ¦‚å¿µçš„ä¸€ç§ä¼˜é›…æ–¹å¼ï¼Œä½†ç°å®çš„é‡‘èæ¨¡å‹éœ€è¦å¯¹é‡‘èä¸–ç•Œè¿›è¡ŒåŠ¨æ€è¡¨ç¤ºã€‚
- en: 'The formalism needed to properly model dynamic economies is more involved and
    cannot be covered in full detail in this chapter. However, the chapter can present
    two of the most important dynamic model economies based on discrete time dynamics:
    the Cox-Ross-Rubinstein (1979) binomial option pricing model and the Black-Scholes-Merton
    (1973) option pricing model in a discrete Monte Carlo simulation version. In this
    context, *discrete time* means that the set of relevant dates is extended from
    just two to a larger, but still finite, numberâ€”say, to five or 50.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ­£ç¡®åœ°å»ºæ¨¡åŠ¨æ€ç»æµï¼Œéœ€è¦æ›´å¤šçš„å½¢å¼åŒ–å·¥å…·ï¼Œè¿™åœ¨æœ¬ç« ä¸­æ— æ³•å®Œå…¨è¯¦ç»†è¯´æ˜ã€‚ç„¶è€Œï¼Œæœ¬ç« å¯ä»¥ä»‹ç»åŸºäºç¦»æ•£æ—¶é—´åŠ¨æ€çš„ä¸¤ä¸ªæœ€é‡è¦çš„åŠ¨æ€æ¨¡å‹ç»æµï¼šCox-Ross-Rubinsteinï¼ˆ1979ï¼‰äºŒå‰æœŸæƒå®šä»·æ¨¡å‹å’ŒBlack-Scholes-Mertonï¼ˆ1973ï¼‰æœŸæƒå®šä»·æ¨¡å‹çš„ç¦»æ•£è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿç‰ˆæœ¬ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œç¦»æ•£æ—¶é—´â€æ„å‘³ç€ç›¸å…³æ—¥æœŸé›†ä»ä»…ä¸¤ä¸ªæ‰©å±•åˆ°æ›´å¤§ä½†ä»æœ‰é™çš„æ•°å­—ï¼Œæ¯”å¦‚è¯´ï¼Œäº”ä¸ªæˆ–äº”åä¸ªã€‚
- en: 'The tools used in this chapter are more or less the same as before: linear
    algebra, probability theory, and also, like in the previous chapter, stochastic
    elements to implement Monte Carlo simulation. Duffie (1988) and Pliska (1997)
    are great resources for dynamic financial modeling in discrete time. Glasserman
    (2004) is a comprehensive reference book for Monte Carlo simulation methods in
    finance.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« ä½¿ç”¨çš„å·¥å…·ä¸ä»¥å‰å¤§è‡´ç›¸åŒï¼šçº¿æ€§ä»£æ•°ï¼Œæ¦‚ç‡è®ºï¼Œä»¥åŠåƒå‰ä¸€ç« ä¸€æ ·çš„éšæœºå…ƒç´ æ¥å®ç°è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿã€‚Duffieï¼ˆ1988ï¼‰å’ŒPliskaï¼ˆ1997ï¼‰æ˜¯ç¦»æ•£æ—¶é—´åŠ¨æ€é‡‘èå»ºæ¨¡çš„ä¼˜ç§€èµ„æºã€‚Glassermanï¼ˆ2004ï¼‰æ˜¯é‡‘èä¸­è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿæ–¹æ³•çš„å…¨é¢å‚è€ƒä¹¦ã€‚
- en: Topics covered in this chapter are stochastic processes, option pricing in dynamically
    complete markets, binomial option pricing, Black-Scholes-Merton (1973) dynamic
    simulation, early exercise and American option pricing, as well as Least-Squares
    Monte Carlo (LSM) option pricing.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« æ¶µç›–çš„ä¸»é¢˜åŒ…æ‹¬éšæœºè¿‡ç¨‹ï¼ŒåŠ¨æ€å®Œå…¨å¸‚åœºä¸­çš„æœŸæƒå®šä»·ï¼ŒäºŒå‰æœŸæƒå®šä»·ï¼ŒBlack-Scholes-Mertonï¼ˆ1973ï¼‰åŠ¨æ€æ¨¡æ‹Ÿï¼Œæ—©æœŸè¡Œæƒå’Œç¾å¼æœŸæƒå®šä»·ï¼Œä»¥åŠæœ€å°äºŒä¹˜è’™ç‰¹å¡ç½—ï¼ˆLSMï¼‰æœŸæƒå®šä»·ã€‚
- en: 'The following table gives an overview of the topics in finance, mathematics,
    and Python found in this chapter:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹è¡¨æ¦‚è¿°äº†æœ¬ç« å‘ç°çš„é‡‘èã€æ•°å­¦å’ŒPythonä¸»é¢˜ï¼š
- en: '| Finance | Mathematics | Python |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '| é‡‘è | æ•°å­¦ | Python |'
- en: '| --- | --- | --- |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Uncertainty, tree-based | Stochastic process, binomial tree | `NumPy`, `ndarray`
    |'
  id: totrans-14
  prefs: []
  type: TYPE_TB
  zh: '| ä¸ç¡®å®šæ€§ï¼ŒåŸºäºæ ‘ç»“æ„ | éšæœºè¿‡ç¨‹ï¼ŒäºŒå‰æ ‘ | `NumPy`, `ndarray` |'
- en: '| Uncertainty, simulation-based | Stochastic process, Monte Carlo simulation
    | `NumPy`, `ndarray`, `rng.standard_normal` |'
  id: totrans-15
  prefs: []
  type: TYPE_TB
  zh: '| ä¸ç¡®å®šæ€§ï¼ŒåŸºäºæ¨¡æ‹Ÿ | éšæœºè¿‡ç¨‹ï¼Œè’™ç‰¹å¡ç½—æ¨¡æ‹Ÿ | `NumPy`, `ndarray`, `rng.standard_normal` |'
- en: '| European option pricing | Inner values, backward induction, risk-neutral
    expectation | `NumPy`, `ndarray`, `np.maximum` |'
  id: totrans-16
  prefs: []
  type: TYPE_TB
  zh: '| æ¬§å¼æœŸæƒå®šä»· | å†…åœ¨ä»·å€¼ï¼Œåå‘å½’çº³ï¼Œé£é™©ä¸­æ€§æœŸæœ› | `NumPy`, `ndarray`, `np.maximum` |'
- en: '| American option pricing | Inner values, continuation values, OLS regression,
    backward induction, risk-neutral expectation | `NumPy`, `ndarray`, `np.polyval`,
    `np.polyfit`, `np.where` |'
  id: totrans-17
  prefs: []
  type: TYPE_TB
  zh: '| ç¾å¼æœŸæƒå®šä»· | å†…åœ¨ä»·å€¼ï¼Œç»§ç»­ä»·å€¼ï¼ŒOLSå›å½’ï¼Œåå‘å½’çº³ï¼Œé£é™©ä¸­æ€§æœŸæœ› | `NumPy`, `ndarray`, `np.polyval`,
    `np.polyfit`, `np.where` |'
- en: As in [ChapterÂ 5](ch05_split_000.xhtml#static_economy), the major goal of this
    chapter is *generalization*. While [ChapterÂ 5](ch05_split_000.xhtml#static_economy)
    generalizes the *state space*, this chapter sets out to generalize the *discrete
    set of relevant points in time* at which new information is revealed and economic
    action takes place. While some additional formalism is needed to do so, the chapter
    is, on the other hand, less formal since it focuses on two specific models only
    and does not try to provide a general framework for dynamic economies in discrete
    time. Such a general framework, including many examples implemented in Python,
    is found in Hilpisch (2015).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚åŒ[ç¬¬äº”ç« ](ch05_split_000.xhtml#static_economy)ï¼Œæœ¬ç« çš„ä¸»è¦ç›®æ ‡æ˜¯*æ³›åŒ–*ã€‚è™½ç„¶[ç¬¬äº”ç« ](ch05_split_000.xhtml#static_economy)æ³›åŒ–äº†*çŠ¶æ€ç©ºé—´*ï¼Œæœ¬ç« æ—¨åœ¨æ³›åŒ–*æ—¶é—´ä¸Šçš„ç¦»æ•£çš„ç›¸å…³ç‚¹*ï¼Œè¿™äº›ç‚¹åœ¨æ–°ä¿¡æ¯æ­ç¤ºå’Œç»æµè¡ŒåŠ¨å‘ç”Ÿæ—¶ã€‚è™½ç„¶éœ€è¦ä¸€äº›é¢å¤–çš„å½¢å¼ä¸»ä¹‰æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œä½†æœ¬ç« åˆ™è¾ƒå°‘å½¢å¼åŒ–ï¼Œå› ä¸ºå®ƒåªä¸“æ³¨äºä¸¤ä¸ªç‰¹å®šçš„æ¨¡å‹ï¼Œå¹¶ä¸è¯•å›¾ä¸ºç¦»æ•£æ—¶é—´ä¸­çš„åŠ¨æ€ç»æµæä¾›ä¸€èˆ¬æ¡†æ¶ã€‚è¿™æ ·çš„ä¸€èˆ¬æ¡†æ¶ï¼ŒåŒ…æ‹¬è®¸å¤šPythonå®ç°çš„ä¾‹å­ï¼Œå¯ä»¥åœ¨Hilpisch
    (2015)ä¸­æ‰¾åˆ°ã€‚
- en: Binomial Option Pricing
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: äºŒé¡¹å¼æœŸæƒå®šä»·
- en: The binomial option pricing model became popular immediately after publication
    in 1979â€”both as a numerically efficient method to price European options and American
    options as well as a teaching tool. While the Black-Scholes-Merton (1973) model
    relies on continuous time finance and stochastic calculus, the binomial option
    pricing model is, in a sense, a discrete time version of the BSM model that can
    be fully understood with elementary mathematics only.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 1979å¹´å‘å¸ƒåï¼ŒäºŒé¡¹å¼æœŸæƒå®šä»·æ¨¡å‹ç«‹å³æµè¡Œèµ·æ¥â€”â€”æ—¢ä½œä¸ºè®¡ç®—æ¬§å¼æœŸæƒå’Œç¾å¼æœŸæƒçš„æ•°å€¼é«˜æ•ˆæ–¹æ³•ï¼Œä¹Ÿä½œä¸ºæ•™å­¦å·¥å…·ã€‚è™½ç„¶Black-Scholes-Merton
    (1973)æ¨¡å‹ä¾èµ–äºè¿ç»­æ—¶é—´é‡‘èå’Œéšæœºå¾®ç§¯åˆ†ï¼Œä½†äºŒé¡¹å¼æœŸæƒå®šä»·æ¨¡å‹åœ¨æŸç§æ„ä¹‰ä¸Šæ˜¯BSMæ¨¡å‹çš„ç¦»æ•£æ—¶é—´ç‰ˆæœ¬ï¼Œå¯ä»¥å®Œå…¨é€šè¿‡åŸºç¡€æ•°å­¦ç†è§£ã€‚
- en: 'In the Cox-Ross-Rubinstein (1979) model, there are two traded financial assets:
    a risky one, called *stock*, and a risk-less one, called *bond*. The model economy
    is considered over a *finite set of dates* <math alttext="script upper T identical-to
    StartSet t 0 equals 0 comma t 1 comma t 2 comma period period period comma t Subscript
    upper M Baseline equals upper T EndSet"><mrow><mi>ğ’¯</mi> <mo>â‰¡</mo> <mo>{</mo>
    <msub><mi>t</mi> <mn>0</mn></msub> <mo>=</mo> <mn>0</mn> <mo>,</mo> <msub><mi>t</mi>
    <mn>1</mn></msub> <mo>,</mo> <msub><mi>t</mi> <mn>2</mn></msub> <mo>,</mo> <mo>.</mo>
    <mo>.</mo> <mo>.</mo> <mo>,</mo> <msub><mi>t</mi> <mi>M</mi></msub> <mo>=</mo>
    <mi>T</mi> <mo>}</mo></mrow></math> , with <math alttext="upper M plus 1 comma
    upper M greater-than 1"><mrow><mi>M</mi> <mo>+</mo> <mn>1</mn> <mo>,</mo> <mi>M</mi>
    <mo>></mo> <mn>1</mn></mrow></math> elements.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Cox-Ross-Rubinstein (1979)æ¨¡å‹ä¸­ï¼Œæœ‰ä¸¤ç§äº¤æ˜“é‡‘èèµ„äº§ï¼šä¸€ç§é£é™©çš„ï¼Œç§°ä¸º*è‚¡ç¥¨*ï¼Œä¸€ç§æ— é£é™©çš„ï¼Œç§°ä¸º*å€ºåˆ¸*ã€‚è¯¥æ¨¡å‹ç»æµåœ¨ä¸€ä¸ª*æœ‰é™æ—¥æœŸé›†åˆ*
    <math alttext="script upper T identical-to StartSet t 0 equals 0 comma t 1 comma
    t 2 comma period period period comma t Subscript upper M Baseline equals upper
    T EndSet"><mrow><mi>ğ’¯</mi> <mo>â‰¡</mo> <mo>{</mo> <msub><mi>t</mi> <mn>0</mn></msub>
    <mo>=</mo> <mn>0</mn> <mo>,</mo> <msub><mi>t</mi> <mn>1</mn></msub> <mo>,</mo>
    <msub><mi>t</mi> <mn>2</mn></msub> <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo>
    <mo>,</mo> <msub><mi>t</mi> <mi>M</mi></msub> <mo>=</mo> <mi>T</mi> <mo>}</mo></mrow></math>
    ä¸­è¿›è¡Œï¼Œå…¶ä¸­åŒ…å« <math alttext="upper M plus 1 comma upper M greater-than 1"><mrow><mi>M</mi>
    <mo>+</mo> <mn>1</mn> <mo>,</mo> <mi>M</mi> <mo>></mo> <mn>1</mn></mrow></math>
    ä¸ªå…ƒç´ ã€‚
- en: 'Given a stock price of <math alttext="upper S Subscript t Sub Subscript i"><msub><mi>S</mi>
    <msub><mi>t</mi> <mi>i</mi></msub></msub></math> , the stock price at the next
    date <math alttext="upper S Subscript t Sub Subscript i plus 1"><msub><mi>S</mi>
    <msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></msub></math>
    can only take on two different values:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®šè‚¡ç¥¨ä»·æ ¼ä¸º <math alttext="upper S Subscript t Sub Subscript i"><msub><mi>S</mi>
    <msub><mi>t</mi> <mi>i</mi></msub></msub></math> ï¼Œè‚¡ç¥¨åœ¨ä¸‹ä¸€ä¸ªæ—¥æœŸ <math alttext="upper
    S Subscript t Sub Subscript i plus 1"><msub><mi>S</mi> <msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></msub></math>
    åªèƒ½å–ä¸¤ä¸ªä¸åŒçš„å€¼ï¼š
- en: <math alttext="upper S Subscript t Sub Subscript i plus 1 Baseline equals StartLayout
    Enlarged left-brace 1st Row  upper S Subscript t Sub Subscript i Baseline dot
    u 2nd Row  upper S Subscript t Sub Subscript i Baseline dot d EndLayout" display="block"><mrow><msub><mi>S</mi>
    <msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></msub> <mo>=</mo>
    <mfenced separators="" open="{" close=""><mtable><mtr><mtd columnalign="left"><mrow><msub><mi>S</mi>
    <msub><mi>t</mi> <mi>i</mi></msub></msub> <mo>Â·</mo> <mi>u</mi></mrow></mtd></mtr>
    <mtr><mtd columnalign="left"><mrow><msub><mi>S</mi> <msub><mi>t</mi> <mi>i</mi></msub></msub>
    <mo>Â·</mo> <mi>d</mi></mrow></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper S Subscript t Sub Subscript i plus 1 Baseline equals StartLayout
    Enlarged left-brace 1st Row  upper S Subscript t Sub Subscript i Baseline dot
    u 2nd Row  upper S Subscript t Sub Subscript i Baseline dot d EndLayout" display="block"><mrow><msub><mi>S</mi>
    <msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></msub> <mo>=</mo>
    <mfenced separators="" open="{" close=""><mtable><mtr><mtd columnalign="left"><mrow><msub><mi>S</mi>
    <msub><mi>t</mi> <mi>i</mi></msub></msub> <mo>Â·</mo> <mi>u</mi></mrow></mtd></mtr>
    <mtr><mtd columnalign="left"><mrow><msub><mi>S</mi> <msub><mi>t</mi> <mi>i</mi></msub></msub>
    <mo>Â·</mo> <mi>d</mi></mrow></mtd></mtr></mtable></mfenced></mrow></math>
- en: <math alttext="u"><mi>u</mi></math> stands for an *upward movement* and <math
    alttext="d"><mi>d</mi></math> for a *downward movement*.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="u"><mi>u</mi></math> ä»£è¡¨*å‘ä¸Šç§»åŠ¨*ï¼Œ<math alttext="d"><mi>d</mi></math>
    ä»£è¡¨*å‘ä¸‹ç§»åŠ¨*ã€‚
- en: 'To simplify the handling of dates, assume an evenly spaced time grid with <math
    alttext="upper M"><mi>M</mi></math> time intervals of length <math alttext="normal
    upper Delta t equals StartFraction upper T Over upper M EndFraction"><mrow><mi>Î”</mi>
    <mi>t</mi> <mo>=</mo> <mfrac><mi>T</mi> <mi>M</mi></mfrac></mrow></math> each.
    The finite set of dates can then be written as <math alttext="script upper T identical-to
    StartSet t 0 equals 0 comma t 1 equals normal upper Delta t comma t 2 equals 2
    normal upper Delta t comma period period period comma upper T EndSet"><mrow><mi>ğ’¯</mi>
    <mo>â‰¡</mo> <mo>{</mo> <msub><mi>t</mi> <mn>0</mn></msub> <mo>=</mo> <mn>0</mn>
    <mo>,</mo> <msub><mi>t</mi> <mn>1</mn></msub> <mo>=</mo> <mi>Î”</mi> <mi>t</mi>
    <mo>,</mo> <msub><mi>t</mi> <mn>2</mn></msub> <mo>=</mo> <mn>2</mn> <mi>Î”</mi>
    <mi>t</mi> <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <mi>T</mi> <mo>}</mo></mrow></math>
    . In addition, define:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®€åŒ–æ—¥æœŸå¤„ç†ï¼Œå‡è®¾æ—¶é—´ç½‘æ ¼å‡åŒ€åˆ†å¸ƒï¼Œé•¿åº¦ä¸º <math alttext="upper M"><mi>M</mi></math> ä¸ªæ—¶é—´é—´éš”ï¼Œæ¯ä¸ªé—´éš”é•¿åº¦ä¸º
    <math alttext="normal upper Delta t equals StartFraction upper T Over upper M
    EndFraction"><mrow><mi>Î”</mi> <mi>t</mi> <mo>=</mo> <mfrac><mi>T</mi> <mi>M</mi></mfrac></mrow></math>
    ã€‚é‚£ä¹ˆæœ‰é™çš„æ—¥æœŸé›†åˆå¯ä»¥å†™æˆ <math alttext="script upper T identical-to StartSet t 0 equals
    0 comma t 1 equals normal upper Delta t comma t 2 equals 2 normal upper Delta
    t comma period period period comma upper T EndSet"><mrow><mi>ğ’¯</mi> <mo>â‰¡</mo>
    <mo>{</mo> <msub><mi>t</mi> <mn>0</mn></msub> <mo>=</mo> <mn>0</mn> <mo>,</mo>
    <msub><mi>t</mi> <mn>1</mn></msub> <mo>=</mo> <mi>Î”</mi> <mi>t</mi> <mo>,</mo>
    <msub><mi>t</mi> <mn>2</mn></msub> <mo>=</mo> <mn>2</mn> <mi>Î”</mi> <mi>t</mi>
    <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <mi>T</mi> <mo>}</mo></mrow></math>
    ã€‚æ­¤å¤–ï¼Œå®šä¹‰ï¼š
- en: <math alttext="StartLayout Enlarged left-brace 1st Row  u identical-to e Superscript
    sigma StartRoot normal upper Delta t EndRoot Baseline 2nd Row  d identical-to
    e Superscript minus sigma StartRoot normal upper Delta t EndRoot Baseline equals
    u Superscript negative 1 EndLayout" display="block"><mfenced separators="" open="{"
    close=""><mtable><mtr><mtd columnalign="left"><mrow><mi>u</mi> <mo>â‰¡</mo> <msup><mi>e</mi>
    <mrow><mi>Ïƒ</mi><msqrt><mrow><mi>Î”</mi><mi>t</mi></mrow></msqrt></mrow></msup></mrow></mtd></mtr>
    <mtr><mtd columnalign="left"><mrow><mi>d</mi> <mo>â‰¡</mo> <msup><mi>e</mi> <mrow><mo>-</mo><mi>Ïƒ</mi><msqrt><mrow><mi>Î”</mi><mi>t</mi></mrow></msqrt></mrow></msup>
    <mo>=</mo> <msup><mi>u</mi> <mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow></mtd></mtr></mtable></mfenced></math>
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="StartLayout Enlarged left-brace 1st Row  u identical-to e Superscript
    sigma StartRoot normal upper Delta t EndRoot Baseline 2nd Row  d identical-to
    e Superscript minus sigma StartRoot normal upper Delta t EndRoot Baseline equals
    u Superscript negative 1 EndLayout" display="block"><mfenced separators="" open="{"
    close=""><mtable><mtr><mtd columnalign="left"><mrow><mi>u</mi> <mo>â‰¡</mo> <msup><mi>e</mi>
    <mrow><mi>Ïƒ</mi><msqrt><mrow><mi>Î”</mi><mi>t</mi></mrow></msqrt></mrow></msup></mrow></mtd></mtr>
    <mtr><mtd columnalign="left"><mrow><mi>d</mi> <mo>â‰¡</mo> <msup><mi>e</mi> <mrow><mo>-</mo><mi>Ïƒ</mi><msqrt><mrow><mi>Î”</mi><mi>t</mi></mrow></msqrt></mrow></msup>
    <mo>=</mo> <msup><mi>u</mi> <mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow></mtd></mtr></mtable></mfenced></math>
- en: It turns out that one consequence of this definition is the property <math alttext="u
    dot d equals 1"><mrow><mi>u</mi> <mo>Â·</mo> <mi>d</mi> <mo>=</mo> <mn>1</mn></mrow></math>
    , which will prove convenient in that it creates a so-called *recombining* binomial
    tree. <math><mrow><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi>â„</mi> <mrow><mn>>0</mn></mrow></msub></mrow></math>
    represents the constant *volatility factor*.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœè¡¨æ˜ï¼Œè¿™ä¸€å®šä¹‰çš„ä¸€ä¸ªåæœæ˜¯æ€§è´¨ <math alttext="u dot d equals 1"><mrow><mi>u</mi> <mo>Â·</mo>
    <mi>d</mi> <mo>=</mo> <mn>1</mn></mrow></math> ï¼Œè¿™åœ¨åˆ›å»ºæ‰€è°“çš„*å¯é‡ç»„*äºŒé¡¹æ ‘æ—¶éå¸¸æ–¹ä¾¿ã€‚ <math><mrow><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub></mrow></math> è¡¨ç¤ºå¸¸æ•°*æ³¢åŠ¨ç‡å› å­*ã€‚
- en: Assume that the risk-less, constant short rate is given by <math><mrow><mi>r</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>â‰¥0</mn></mrow></msub></mrow></math> . Given a bond price of <math alttext="upper
    B Subscript t Sub Subscript i"><msub><mi>B</mi> <msub><mi>t</mi> <mi>i</mi></msub></msub></math>
    , the price of the bond one period later is given by
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æ— é£é™©ã€æ’å®šçš„çŸ­æœŸåˆ©ç‡ç”± <math><mrow><mi>r</mi><mo>âˆˆ</mo><msub><mi>â„</mi> <mrow><mn>â‰¥0</mn></mrow></msub></mrow></math>
    ç»™å®šã€‚ç»™å®šå€ºåˆ¸ä»·æ ¼ä¸º <math alttext="upper B Subscript t Sub Subscript i"><msub><mi>B</mi>
    <msub><mi>t</mi> <mi>i</mi></msub></msub></math> ï¼Œåˆ™å€ºåˆ¸åœ¨ä¸€æœŸåçš„ä»·æ ¼ä¸º
- en: <math alttext="upper B Subscript t Sub Subscript i plus 1 Baseline equals upper
    B Subscript t Sub Subscript i Baseline dot e Superscript r dot left-parenthesis
    t Super Subscript i plus 1 Superscript minus t Super Subscript i Superscript right-parenthesis"
    display="block"><mrow><msub><mi>B</mi> <msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></msub>
    <mo>=</mo> <msub><mi>B</mi> <msub><mi>t</mi> <mi>i</mi></msub></msub> <mo>Â·</mo>
    <msup><mi>e</mi> <mrow><mi>r</mi><mo>Â·</mo><mo>(</mo><msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub>
    <mo>-</mo><msub><mi>t</mi> <mi>i</mi></msub> <mo>)</mo></mrow></msup></mrow></math>
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper B Subscript t Sub Subscript i plus 1 Baseline equals upper
    B Subscript t Sub Subscript i Baseline dot e Superscript r dot left-parenthesis
    t Super Subscript i plus 1 Superscript minus t Super Subscript i Superscript right-parenthesis"
    display="block"><mrow><msub><mi>B</mi> <msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></msub>
    <mo>=</mo> <msub><mi>B</mi> <msub><mi>t</mi> <mi>i</mi></msub></msub> <mo>Â·</mo>
    <msup><mi>e</mi> <mrow><mi>r</mi><mo>Â·</mo><mo>(</mo><msub><mi>t</mi> <mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub>
    <mo>-</mo><msub><mi>t</mi> <mi>i</mi></msub> <mo>)</mo></mrow></msup></mrow></math>
- en: or
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…
- en: <math alttext="upper B Subscript t plus normal upper Delta t Baseline equals
    upper B Subscript t Baseline dot e Superscript r dot normal upper Delta t" display="block"><mrow><msub><mi>B</mi>
    <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub> <mo>=</mo> <msub><mi>B</mi>
    <mi>t</mi></msub> <mo>Â·</mo> <msup><mi>e</mi> <mrow><mi>r</mi><mo>Â·</mo><mi>Î”</mi><mi>t</mi></mrow></msup></mrow></math>
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper B Subscript t plus normal upper Delta t Baseline equals
    upper B Subscript t Baseline dot e Superscript r dot normal upper Delta t" display="block"><mrow><msub><mi>B</mi>
    <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub> <mo>=</mo> <msub><mi>B</mi>
    <mi>t</mi></msub> <mo>Â·</mo> <msup><mi>e</mi> <mrow><mi>r</mi><mo>Â·</mo><mi>Î”</mi><mi>t</mi></mrow></msup></mrow></math>
- en: for some <math alttext="t element-of script upper T minus upper T"><mrow><mi>t</mi>
    <mo>âˆˆ</mo> <mi>ğ’¯</mi> <mo>âˆ–</mo> <mi>T</mi></mrow></math> .
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä¸€äº› <math alttext="t element-of script upper T minus upper T"><mrow><mi>t</mi>
    <mo>âˆˆ</mo> <mi>ğ’¯</mi> <mo>âˆ–</mo> <mi>T</mi></mrow></math> ã€‚
- en: 'A central numerical parameter value to be derived, based on the preceding assumptions,
    is the martingale probability for an upward movement at any given node. Given
    that there are only two branches for every node, the downward probability is then
    known as well. Denote the *martingale probability* for an upward movement by <math><mrow><mi>q</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub> <mo>,</mo><mn>0</mn><mo><</mo><mi>q</mi><mo><</mo><mn>1</mn></mrow></math>.
    One gets from the martingale property for the stock price:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºä¸Šè¿°å‡è®¾æ¨å¯¼å‡ºçš„ä¸€ä¸ªé‡è¦æ•°å€¼å‚æ•°æ˜¯ä»»ä½•ç»™å®šèŠ‚ç‚¹ä¸Šå‘ä¸Šç§»åŠ¨çš„é…æ¦‚ç‡ã€‚é‰´äºæ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œå‘ä¸‹æ¦‚ç‡ä¹Ÿå› æ­¤è¢«ç¡®å®šã€‚ç”¨ <math><mrow><mi>q</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub> <mo>,</mo><mn>0</mn><mo><</mo><mi>q</mi><mo><</mo><mn>1</mn></mrow></math>
    è¡¨ç¤º*é…æ¦‚ç‡*å‘ä¸Šç§»åŠ¨ã€‚ä»è‚¡ç¥¨ä»·æ ¼çš„é…æ€§è´¨å¯ä»¥å¾—å‡ºï¼š
- en: <math alttext="StartLayout 1st Row 1st Column upper S Subscript t 2nd Column
    equals 3rd Column e Superscript minus r normal upper Delta t Baseline bold upper
    E Superscript upper Q Baseline left-parenthesis upper S Subscript t plus normal
    upper Delta t Baseline right-parenthesis 2nd Row 1st Column Blank 2nd Column equals
    3rd Column e Superscript minus r normal upper Delta t Baseline left-parenthesis
    q upper S Subscript t Baseline u plus left-parenthesis 1 minus q right-parenthesis
    upper S Subscript t Baseline d right-parenthesis 3rd Row 1st Column 1 2nd Column
    equals 3rd Column e Superscript minus r normal upper Delta t Baseline left-parenthesis
    q u plus left-parenthesis 1 minus q right-parenthesis d right-parenthesis 4th
    Row 1st Column q 2nd Column equals 3rd Column StartFraction e Superscript r normal
    upper Delta t Baseline minus d Over u minus d EndFraction EndLayout" display="block"><mtable><mtr><mtd><msub><mi>S</mi>
    <mi>t</mi></msub></mtd> <mtd><mo>=</mo></mtd> <mtd><mrow><msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <msup><mi>ğ„</mi> <mi>Q</mi></msup> <mrow><mo>(</mo> <msub><mi>S</mi> <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub>
    <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mo>=</mo></mtd> <mtd><mrow><msup><mi>e</mi>
    <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup> <mfenced separators=""
    open="(" close=")"><mi>q</mi> <msub><mi>S</mi> <mi>t</mi></msub> <mi>u</mi> <mo>+</mo>
    <mrow><mo>(</mo> <mn>1</mn> <mo>-</mo> <mi>q</mi> <mo>)</mo></mrow> <msub><mi>S</mi>
    <mi>t</mi></msub> <mi>d</mi></mfenced></mrow></mtd></mtr> <mtr><mtd><mrow><mo>â‡”</mo>
    <mn>1</mn></mrow></mtd> <mtd><mo>=</mo></mtd> <mtd><mrow><msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <mfenced separators="" open="(" close=")"><mi>q</mi> <mi>u</mi> <mo>+</mo> <mo>(</mo>
    <mn>1</mn> <mo>-</mo> <mi>q</mi> <mo>)</mo> <mi>d</mi></mfenced></mrow></mtd></mtr>
    <mtr><mtd><mrow><mo>â‡”</mo> <mi>q</mi></mrow></mtd> <mtd><mo>=</mo></mtd> <mtd><mfrac><mrow><msup><mi>e</mi>
    <mrow><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup> <mo>-</mo><mi>d</mi></mrow>
    <mrow><mi>u</mi><mo>-</mo><mi>d</mi></mrow></mfrac></mtd></mtr></mtable></math>
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="StartLayout 1st Row 1st Column upper S Subscript t 2nd Column
    equals 3rd Column e Superscript minus r normal upper Delta t Baseline bold upper
    E Superscript upper Q Baseline left-parenthesis upper S Subscript t plus normal
    upper Delta t Baseline right-parenthesis 2nd Row 1st Column Blank 2nd Column equals
    3rd Column e Superscript minus r normal upper Delta t Baseline left-parenthesis
    q upper S Subscript t Baseline u plus left-parenthesis 1 minus q right-parenthesis
    upper S Subscript t Baseline d right-parenthesis 3rd Row 1st Column 1 2nd Column
    equals 3rd Column e Superscript minus r normal upper Delta t Baseline left-parenthesis
    q u plus left-parenthesis 1 minus q right-parenthesis d right-parenthesis 4th
    Row 1st Column q 2nd Column equals 3rd Column StartFraction e Superscript r normal
    upper Delta t Baseline minus d Over u minus d EndFraction EndLayout" display="block"><mtable><mtr><mtd><msub><mi>S</mi>
    <mi>t</mi></msub></mtd> <mtd><mo>=</mo></mtd> <mtd><mrow><msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <msup><mi>ğ„</mi> <mi>Q</mi></msup> <mrow><mo>(</mo> <msub><mi>S</mi> <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub>
    <mo>)</mo></mrow></mrow></mtd></mtr> <mtr><mtd><mo>=</mo></mtd> <mtd><mrow><msup><mi>e</mi>
    <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup> <mfenced separators=""
    open="(" close=")"><mi>q</mi> <msub><mi>S</mi> <mi>t</mi></msub> <mi>u</mi> <mo>+</mo>
    <mrow><mo>(</mo> <mn>1</mn> <mo>-</mo> <mi>q</mi> <mo>)</mo></mrow> <msub><mi>S</mi>
    <mi>t</mi></msub> <mi>d</mi></mfenced></mrow></mtd></mtr> <mtr><mtd><mrow><mo>â‡”</mo>
    <mn>1</mn></mrow></mtd> <mtd><mo>=</mo></mtd> <mtd><mrow><msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <mfenced separators="" open="(" close=")"><mi>q</mi> <mi>u</mi> <mo>+</mo> <mo>(</mo>
    <mn>1</mn> <mo>-</mo> <mi>q</mi> <mo>)</mo> <mi>d</mi></mfenced></mrow></mtd></mtr>
    <mtr><mtd><mrow><mo>â‡”</mo> <mi>q</mi></mrow></mtd> <mtd><mo>=</mo></mtd> <mtd><mfrac><mrow><msup><mi>e</mi>
    <mrow><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup> <mo>-</mo><mi>d</mi></mrow>
    <mrow><mi>u</mi><mo>-</mo><mi>d</mi></mrow></mfrac></mtd></mtr></mtable></math>
- en: This shows that the martingale measure is fixed at every node and consequently
    for the whole tree.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™è¡¨æ˜é…æµ‹åº¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä»¥åŠæ•´ä¸ªæ ‘ä¸Šéƒ½æ˜¯å›ºå®šçš„ã€‚
- en: The basics of the binomial option pricing model are easily translated into Python
    code:^([1](ch06.xhtml#idm44853685071096))
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: äºŒé¡¹æœŸæƒå®šä»·æ¨¡å‹çš„åŸºç¡€å¾ˆå®¹æ˜“è½¬åŒ–ä¸ºPythonä»£ç ï¼š^([1](ch06.xhtml#idm44853685071096))
- en: '[PRE0]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO1-1)'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO1-1)'
- en: The initial stock price value.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: åˆå§‹è‚¡ç¥¨ä»·æ ¼å€¼ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO1-2)'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO1-2)'
- en: The strike price for the option to be valued.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æœŸæƒçš„è¡Œä½¿ä»·æ ¼ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO1-3)'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO1-3)'
- en: The constant risk-less short rate.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: å¸¸æ•°æ— é£é™©çŸ­æœŸåˆ©ç‡ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO1-4)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO1-4)'
- en: The time horizon and option maturity.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¶é—´è·¨åº¦å’ŒæœŸæƒåˆ°æœŸæ—¶é—´ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO1-5)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO1-5)'
- en: The constant volatility factor.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: æ’å®šæ³¢åŠ¨ç‡å› å­ã€‚
- en: '[![6](Images/6.png)](#co_dynamic_economy_CO1-6)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](Images/6.png)](#co_dynamic_economy_CO1-6)'
- en: The number of time intervals.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¶é—´é—´éš”çš„æ•°é‡ã€‚
- en: '[![7](Images/7.png)](#co_dynamic_economy_CO1-7)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](Images/7.png)](#co_dynamic_economy_CO1-7)'
- en: The resulting length of each time interval.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªæ—¶é—´é—´éš”çš„ç»“æœé•¿åº¦ã€‚
- en: '[![8](Images/8.png)](#co_dynamic_economy_CO1-8)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](Images/8.png)](#co_dynamic_economy_CO1-8)'
- en: The discount factor for the fixed time interval.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: å›ºå®šæ—¶é—´é—´éš”çš„æŠ˜ç°å› å­ã€‚
- en: '[![9](Images/9.png)](#co_dynamic_economy_CO1-9)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '[![9](Images/9.png)](#co_dynamic_economy_CO1-9)'
- en: The upward and downward factors.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šæ¶¨å’Œä¸‹è·Œå› å­ã€‚
- en: '[![10](Images/10.png)](#co_dynamic_economy_CO1-11)'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '[![10](Images/10.png)](#co_dynamic_economy_CO1-11)'
- en: The martingale probability for an upward movement.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šæ¶¨ç§»åŠ¨çš„é©¬ä¸æ ¼å°”æ¦‚ç‡ã€‚
- en: 'The simulation of the stock price process and the valuation of options in this
    model are a bit more involved. The following presents two different implementations:
    one based on *Python loops*, which might be easier to understand at the beginning,
    and one based on *vectorized* `NumPy` *code*, which is more concise and efficient,
    but may be a bit harder to grasp at first.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥æ¨¡å‹ä¸­è‚¡ç¥¨ä»·æ ¼è¿‡ç¨‹çš„æ¨¡æ‹Ÿå’ŒæœŸæƒä¼°å€¼ç¨å¾®å¤æ‚ã€‚ä»¥ä¸‹å±•ç¤ºäº†ä¸¤ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼šä¸€ç§åŸºäº*Pythonå¾ªç¯*ï¼Œå¯èƒ½æ›´å®¹æ˜“ç†è§£ï¼›å¦ä¸€ç§åŸºäº*å‘é‡åŒ–çš„`NumPy`ä»£ç *ï¼Œæ›´ä¸ºç®€æ´é«˜æ•ˆï¼Œä½†ä¸€å¼€å§‹å¯èƒ½æ›´éš¾ç†è§£ã€‚
- en: Simulation and Valuation Based on Python Loops
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºPythonå¾ªç¯çš„æ¨¡æ‹Ÿå’Œä¼°å€¼
- en: 'Even though the implementation in this subsection uses Python loops, the basic
    data structure is a `NumPy` `ndarray` object:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿æœ¬å°èŠ‚çš„å®ç°ä½¿ç”¨äº†Pythonå¾ªç¯ï¼ŒåŸºæœ¬æ•°æ®ç»“æ„æ˜¯`NumPy`çš„`ndarray`å¯¹è±¡ï¼š
- en: '[PRE1]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO2-1)'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO2-1)'
- en: Initializes the `ndarray` object.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: åˆå§‹åŒ–`ndarray`å¯¹è±¡ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO2-3)'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO2-3)'
- en: Sets the initial stock price value in the upper-lefthand corner.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾ç½®å·¦ä¸Šè§’çš„åˆå§‹è‚¡ç¥¨ä»·æ ¼å€¼ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO2-5)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO2-5)'
- en: Sets a counter `z` to 1.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è®¡æ•°å™¨`z`è®¾ä¸º1ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO2-6)'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO2-6)'
- en: Iterates from `1` to `m+1`, that is, over all time steps after 0.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ä»`1`åˆ°`m+1`è¿­ä»£ï¼Œå³ä»0åçš„æ‰€æœ‰æ—¶é—´æ­¥ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO2-7)'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO2-7)'
- en: Iterates over the relevant nodes for the given time step.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: è¿­ä»£ç»™å®šæ—¶é—´æ­¥éª¤çš„ç›¸å…³èŠ‚ç‚¹ã€‚
- en: '[![6](Images/6.png)](#co_dynamic_economy_CO2-8)'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](Images/6.png)](#co_dynamic_economy_CO2-8)'
- en: Calculates the up and down values and sets them in the `ndarray` object.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ä¸Šæ¶¨å’Œä¸‹è·Œå€¼ï¼Œå¹¶åœ¨`ndarray`å¯¹è±¡ä¸­è®¾ç½®å®ƒä»¬ã€‚
- en: '[![7](Images/7.png)](#co_dynamic_economy_CO2-10)'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](Images/7.png)](#co_dynamic_economy_CO2-10)'
- en: Increases the counter by 1 to include more relevant nodes in the next step.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è®¡æ•°å™¨å¢åŠ 1ä»¥åŒ…æ‹¬ä¸‹ä¸€æ­¥ä¸­æ›´å¤šç›¸å…³èŠ‚ç‚¹ã€‚
- en: '[![8](Images/8.png)](#co_dynamic_economy_CO2-11)'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](Images/8.png)](#co_dynamic_economy_CO2-11)'
- en: The resulting recombining binomial tree.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœçš„å†ç»„åˆäºŒé¡¹æ ‘ã€‚
- en: European option pricing
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ¬§å¼æœŸæƒå®šä»·
- en: The valuation of a European option based on the available stock price process
    happens by calculating the inner values of the option at maturity and applying
    *backward induction*. This basically means starting at the end, moving backward
    step by step to the present, and at every node repeatedly applying the risk-neutral
    pricing paradigm as introduced in the simple static two-state economy of [ChapterÂ 2](ch02_split_000.xhtml#two_state_economy).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®å¯ç”¨è‚¡ç¥¨ä»·æ ¼è¿‡ç¨‹å¯¹æ¬§å¼æœŸæƒè¿›è¡Œä¼°å€¼æ˜¯é€šè¿‡è®¡ç®—æœŸæƒåœ¨åˆ°æœŸæ—¶çš„å†…åœ¨ä»·å€¼ï¼Œå¹¶åº”ç”¨*åå‘å½’çº³*æ¥å®ç°çš„ã€‚è¿™åŸºæœ¬ä¸Šæ„å‘³ç€ä»æœ«å°¾å¼€å§‹ï¼Œé€æ­¥å‘å‰ç§»åŠ¨åˆ°ç°åœ¨ï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹é‡å¤åº”ç”¨é£é™©ä¸­æ€§å®šä»·èŒƒå¼ï¼Œæ­£å¦‚åœ¨[ç¬¬2ç« ](ch02_split_000.xhtml#two_state_economy)ä¸­ä»‹ç»çš„ç®€å•é™æ€åŒçŠ¶æ€ç»æµä¸­ã€‚
- en: 'The following Python code assumes a European put option payoff:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹Pythonä»£ç å‡è®¾æ¬§å¼çœ‹è·ŒæœŸæƒçš„æ”¯ä»˜ï¼š
- en: '[PRE2]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO3-1)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO3-1)'
- en: The `ndarray` object for the inner values.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: å†…éƒ¨å€¼çš„`ndarray`å¯¹è±¡ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO3-2)'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO3-2)'
- en: This calculates the inner values for the relevant nodes.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™è®¡ç®—äº†ç›¸å…³èŠ‚ç‚¹çš„å†…åœ¨ä»·å€¼ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO3-4)'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO3-4)'
- en: This does the node-wise valuation by applying risk-neutral pricing.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åº”ç”¨é£é™©ä¸­æ€§å®šä»·è¿›è¡ŒèŠ‚ç‚¹ä¼°å€¼ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO3-5)'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO3-5)'
- en: The resulting present value binomial tree.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœçš„ç°å€¼äºŒé¡¹æ ‘ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO3-6)'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO3-6)'
- en: The present value today of the European put option.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: æ¬§å¼çœ‹è·ŒæœŸæƒçš„ç°å€¼ã€‚
- en: American option pricing
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç¾å¼æœŸæƒå®šä»·
- en: 'One of the major features of the binomial option pricing model is that American
    options are as easily valued as their European counterparts. An *American option*
    can be exercised at any time *on and before* the maturity date. The adjustment
    to be made to the backward valuation algorithm is simple: one just needs to check
    whether the inner value of the American option is at any given node higher than
    the continuation value, that is, the present value of not exercising the option.
    If that is the case, the option is exercised, and the value of the American option
    is set to the inner value. Formally, one gets'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: äºŒé¡¹å¼æœŸæƒå®šä»·æ¨¡å‹çš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€æ˜¯ç¾å¼æœŸæƒä¸å…¶æ¬§å¼å¯¹åº”ç‰©ä¸€æ ·å®¹æ˜“ä¼°å€¼ã€‚*ç¾å¼æœŸæƒ*å¯ä»¥åœ¨åˆ°æœŸæ—¥ä¹‹å‰çš„ä»»ä½•æ—¶é—´è¡Œä½¿ã€‚å‘åä¼°å€¼ç®—æ³•éœ€è¦è¿›è¡Œçš„è°ƒæ•´å¾ˆç®€å•ï¼šåªéœ€æ£€æŸ¥ç¾å¼æœŸæƒåœ¨ä»»ä½•ç»™å®šèŠ‚ç‚¹çš„å†…åœ¨ä»·å€¼æ˜¯å¦é«˜äºç»§ç»­ä»·å€¼ï¼Œå³ä¸è¡Œä½¿æœŸæƒçš„ç°å€¼ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œåˆ™è¡Œä½¿è¯¥æœŸæƒï¼Œå¹¶å°†ç¾å¼æœŸæƒçš„ä»·å€¼è®¾ç½®ä¸ºå†…åœ¨ä»·å€¼ã€‚å½¢å¼ä¸Šï¼Œå¯ä»¥å¾—åˆ°
- en: <math alttext="upper V Subscript t Baseline equals max left-bracket h Subscript
    t Baseline comma e Superscript minus r normal upper Delta t Baseline bold upper
    E Superscript upper Q Baseline left-parenthesis upper V Subscript t plus normal
    upper Delta t Baseline right-parenthesis right-bracket" display="block"><mrow><msub><mi>V</mi>
    <mi>t</mi></msub> <mo>=</mo> <mo movablelimits="true" form="prefix">max</mo> <mfenced
    separators="" open="[" close="]"><msub><mi>h</mi> <mi>t</mi></msub> <mo>,</mo>
    <msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <msup><mi>ğ„</mi> <mi>Q</mi></msup> <mrow><mo>(</mo> <msub><mi>V</mi> <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub>
    <mo>)</mo></mrow></mfenced></mrow></math>
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper V Subscript t Baseline equals max left-bracket h Subscript
    t Baseline comma e Superscript minus r normal upper Delta t Baseline bold upper
    E Superscript upper Q Baseline left-parenthesis upper V Subscript t plus normal
    upper Delta t Baseline right-parenthesis right-bracket" display="block"><mrow><msub><mi>V</mi>
    <mi>t</mi></msub> <mo>=</mo> <mo movablelimits="true" form="prefix">max</mo> <mfenced
    separators="" open="[" close="]"><msub><mi>h</mi> <mi>t</mi></msub> <mo>,</mo>
    <msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <msup><mi>ğ„</mi> <mi>Q</mi></msup> <mrow><mo>(</mo> <msub><mi>V</mi> <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub>
    <mo>)</mo></mrow></mfenced></mrow></math>
- en: where <math alttext="h Subscript t"><msub><mi>h</mi> <mi>t</mi></msub></math>
    is the inner value at time <math alttext="t"><mi>t</mi></math> , and <math alttext="e
    Superscript minus r normal upper Delta t Baseline bold upper E Superscript upper
    Q Baseline left-parenthesis upper V Subscript t plus normal upper Delta t Baseline
    right-parenthesis"><mrow><msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup>
    <msup><mi>ğ„</mi> <mi>Q</mi></msup> <mrow><mo>(</mo> <msub><mi>V</mi> <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub>
    <mo>)</mo></mrow></mrow></math> is the continuation value.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­<math alttext="h Subscript t"><msub><mi>h</mi> <mi>t</mi></msub></math>æ˜¯æ—¶é—´<math
    alttext="t"><mi>t</mi></math>çš„å†…åœ¨ä»·å€¼ï¼Œè€Œ<math alttext="e Superscript minus r normal
    upper Delta t Baseline bold upper E Superscript upper Q Baseline left-parenthesis
    upper V Subscript t plus normal upper Delta t Baseline right-parenthesis"><mrow><msup><mi>e</mi>
    <mrow><mo>-</mo><mi>r</mi><mi>Î”</mi><mi>t</mi></mrow></msup> <msup><mi>ğ„</mi>
    <mi>Q</mi></msup> <mrow><mo>(</mo> <msub><mi>V</mi> <mrow><mi>t</mi><mo>+</mo><mi>Î”</mi><mi>t</mi></mrow></msub>
    <mo>)</mo></mrow></mrow></math>æ˜¯ç»§ç»­ä»·å€¼ã€‚
- en: 'In Python, a single line of code needs to be added:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Pythonä¸­ï¼Œåªéœ€æ·»åŠ ä¸€è¡Œä»£ç ï¼š
- en: '[PRE3]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO4-1)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO4-1)'
- en: This line checks for the early exercise decision and puts the inner value as
    the American option value when it is higher than the continuation value.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤è¡Œæ£€æŸ¥æ˜¯å¦åº”æå‰è¡Œæƒï¼Œå¹¶åœ¨å†…åœ¨ä»·å€¼é«˜äºç»§ç»­ä»·å€¼æ—¶å°†å†…åœ¨ä»·å€¼ä½œä¸ºç¾å¼æœŸæƒä»·å€¼ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO4-2)'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO4-2)'
- en: The resulting binomial tree for the present values of the American put option.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: ç¾å¼çœ‹è·ŒæœŸæƒç°å€¼çš„ç»“æœäºŒé¡¹æ ‘ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO4-3)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO4-3)'
- en: The present value today of the American put option, which is considerably higher
    than without early exercise.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: ä»Šå¤©çš„ç¾å¼çœ‹è·ŒæœŸæƒç°å€¼æ˜¾è‘—é«˜äºä¸æå‰è¡Œæƒæ—¶çš„ä»·å€¼ã€‚
- en: Simulation and Valuation Based on Vectorized Code
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŸºäºå‘é‡åŒ–ä»£ç çš„æ¨¡æ‹Ÿå’Œä¼°å€¼
- en: 'The algorithm implementation that follows makes systematic use of `NumPy` vectorization
    capabilities. The implementation is presented step by step, also with some illustrating
    lines of code not needed for the algorithm implementation itself:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: éšåçš„ç®—æ³•å®ç°ç³»ç»Ÿåœ°åˆ©ç”¨äº†`NumPy`çš„å‘é‡åŒ–èƒ½åŠ›ã€‚è¯¥å®ç°é€æ­¥å‘ˆç°ï¼Œè¿˜åŒ…æ‹¬ä¸€äº›ç¤ºä¾‹æ€§ä»£ç è¡Œï¼Œè¿™äº›è¡Œä¸æ˜¯ç®—æ³•å®ç°æœ¬èº«æ‰€éœ€çš„ï¼š
- en: '[PRE4]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO5-1)'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO5-1)'
- en: Creates an `ndarray` object for the number of upward movements from `0` to `m`.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºä»`0`åˆ°`m`çš„å‘ä¸Šè¿åŠ¨æ¬¡æ•°åˆ›å»º`ndarray`å¯¹è±¡ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO5-3)'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO5-3)'
- en: Calculating the squares by a vectorized operation.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å‘é‡åŒ–æ“ä½œè®¡ç®—å‘é‡çš„å¹³æ–¹ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO5-4)'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO5-4)'
- en: Calculating the powers of 2 by using the `u` object as a vector exponent.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨`u`å¯¹è±¡ä½œä¸ºå‘é‡æŒ‡æ•°è®¡ç®—2çš„å¹‚ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO5-5)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO5-5)'
- en: Resizes the `u` object from one dimension to two dimensions. The number of upward
    movements is now stored in each row.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: å°†`u`å¯¹è±¡ä»ä¸€ç»´è°ƒæ•´ä¸ºäºŒç»´ã€‚ç°åœ¨æ¯è¡Œä¸­å­˜å‚¨å‘ä¸Šè¿åŠ¨çš„æ¬¡æ•°ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO5-6)'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO5-6)'
- en: Transposes the `u` object to get a two-dimensional `ndarray` object `d` with
    the number of downward movements in each column.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: è½¬ç½®`u`å¯¹è±¡ä»¥è·å¾—äºŒç»´`ndarray`å¯¹è±¡`d`ï¼Œå…¶ä¸­æ¯åˆ—ä¸­çš„ä¸‹é™è¿åŠ¨æ¬¡æ•°ã€‚
- en: '[![6](Images/6.png)](#co_dynamic_economy_CO5-8)'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](Images/6.png)](#co_dynamic_economy_CO5-8)'
- en: Combines the `u` and `d` objects to arrive at the net number of upward and downward
    movements. For instance, `+2` means â€œtwo more upward movements than downward movementsâ€
    or `-1` means â€œone more downward movement than upward movements.â€^([2](ch06.xhtml#idm44853683423000))
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: å°†`u`å’Œ`d`å¯¹è±¡ç»„åˆèµ·æ¥ï¼Œå¾—åˆ°å‘ä¸Šå’Œå‘ä¸‹ç§»åŠ¨çš„å‡€æ•°ç›®ã€‚ä¾‹å¦‚ï¼Œ`+2`è¡¨ç¤ºâ€œæ¯”å‘ä¸‹ç§»åŠ¨å¤šä¸¤æ¬¡å‘ä¸Šç§»åŠ¨â€æˆ–`-1`è¡¨ç¤ºâ€œæ¯”å‘ä¸Šç§»åŠ¨å°‘ä¸€æ¬¡å‘ä¸‹ç§»åŠ¨â€ã€‚^([2](ch06.xhtml#idm44853683423000))
- en: 'Equipped with a matrix containing the net number of movements in the binomial
    tree, simulation of the stock price process boils down to a single line of code:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: é…å¤‡æœ‰åŒ…å«äºŒå‰æ ‘ä¸­å‡€ç§»åŠ¨æ¬¡æ•°çš„çŸ©é˜µï¼Œè‚¡ç¥¨ä»·æ ¼è¿‡ç¨‹çš„ä»¿çœŸå½’ç»“ä¸ºå•è¡Œä»£ç ï¼š
- en: '[PRE5]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO6-1)'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO6-1)'
- en: The vectorized simulation of the stock price process (binomial tree).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: è‚¡ç¥¨ä»·æ ¼è¿‡ç¨‹çš„å‘é‡åŒ–ä»¿çœŸï¼ˆäºŒå‰æ ‘ï¼‰ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO6-2)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO6-2)'
- en: Only the numbers on and above the diagonal are relevant.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ä¹‹å‰ä¸€æ ·ï¼Œåªæœ‰å¯¹è§’çº¿åŠä»¥ä¸Šçš„æ•°å­—æ‰ç›¸å…³ã€‚
- en: 'The valuation of both the European and American put options is also vectorized
    to some extent. A single loop over the time steps remains:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹æ¬§å¼å’Œç¾å¼çœ‹è·ŒæœŸæƒçš„ä¼°å€¼åœ¨æŸç§ç¨‹åº¦ä¸Šä¹Ÿè¿›è¡Œäº†å‘é‡åŒ–ã€‚ä»…éœ€å¯¹æ—¶é—´æ­¥é•¿è¿›è¡Œä¸€æ¬¡å¾ªç¯ï¼š
- en: '[PRE6]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO7-1)'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO7-1)'
- en: The calculation of the inner value of the put option, fully vectorized this
    time.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤æ¬¡å®Œå…¨å‘é‡åŒ–çš„çœ‹è·ŒæœŸæƒå†…åœ¨ä»·å€¼çš„è®¡ç®—ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO7-2)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO7-2)'
- en: As before, only the numbers on and above the diagonal are relevant.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ä¹‹å‰ä¸€æ ·ï¼Œåªæœ‰å¯¹è§’çº¿åŠä»¥ä¸Šçš„æ•°å­—æ‰ç›¸å…³ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO7-3)'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO7-3)'
- en: Creates a copy of the `h` object.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»º`h`å¯¹è±¡çš„å‰¯æœ¬ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO7-4)'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO7-4)'
- en: The partly vectorized valuation algorithm for the European put option.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: éƒ¨åˆ†å‘é‡åŒ–çš„æ¬§å¼çœ‹è·ŒæœŸæƒä¼°å€¼ç®—æ³•ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO7-6)'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO7-6)'
- en: The present value of the European put option.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: æ¬§å¼çœ‹è·ŒæœŸæƒçš„ç°å€¼ã€‚
- en: '[![6](Images/6.png)](#co_dynamic_economy_CO7-7)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](Images/6.png)](#co_dynamic_economy_CO7-7)'
- en: The partly vectorized valuation algorithm for the American put option.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: éƒ¨åˆ†å‘é‡åŒ–çš„ç¾å¼çœ‹è·ŒæœŸæƒä¼°å€¼ç®—æ³•ã€‚
- en: '[![7](Images/7.png)](#co_dynamic_economy_CO7-10)'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](Images/7.png)](#co_dynamic_economy_CO7-10)'
- en: The present value of the American put option.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: ç¾å¼çœ‹è·ŒæœŸæƒçš„ç°å€¼ã€‚
- en: European and American Options
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ¬§ç¾æœŸæƒ
- en: The beauty of the (recombining) binomial option pricing model of Cox, Ross,
    and Rubinstein (1979) not only lies in its simplicity but also in the fact that
    it can be used to value both European options and American options with high accuracy
    in an efficient manner. In the limit, making time steps infinitely small, the
    model converges to the Black-Scholes-Merton (1973) model, which is another advantage.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: Coxã€Rosså’ŒRubinsteinï¼ˆ1979ï¼‰çš„ï¼ˆå†ç»„åˆï¼‰äºŒå‰æœŸæƒå®šä»·æ¨¡å‹ä¹‹ç¾ä¸ä»…åœ¨äºå…¶ç®€å•æ€§ï¼Œè¿˜åœ¨äºå…¶èƒ½å¤Ÿé«˜æ•ˆä¸”ç²¾ç¡®åœ°å¯¹æ¬§å¼æœŸæƒå’Œç¾å¼æœŸæƒè¿›è¡Œä¼°å€¼çš„äº‹å®ã€‚åœ¨æé™æƒ…å†µä¸‹ï¼Œæ—¶é—´æ­¥é•¿æ— é™å°ï¼Œè¯¥æ¨¡å‹æ”¶æ•›äºBlack-Scholes-Mertonï¼ˆ1973ï¼‰æ¨¡å‹ï¼Œè¿™æ˜¯å¦ä¸€ä¸ªä¼˜ç‚¹ã€‚
- en: Speed Comparison
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€Ÿåº¦æ¯”è¾ƒ
- en: 'Vectorizing code not only makes Python code more concise, but it generally
    allows for significant speed improvements. The following code snippets implement
    the previous algorithms for a speed comparison based on a larger, more realistic
    number of time steps. First, the basic numerical parameters need to be adjusted:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: å‘é‡åŒ–ä»£ç ä¸ä»…ä½¿Pythonä»£ç æ›´ç®€æ´ï¼Œè€Œä¸”é€šå¸¸å¯ä»¥æ˜¾è‘—æé«˜é€Ÿåº¦ã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µå®ç°äº†å‰è¿°ç®—æ³•ï¼Œç”¨äºåŸºäºæ›´å¤§ã€æ›´ç°å®çš„æ—¶é—´æ­¥é•¿è¿›è¡Œé€Ÿåº¦æ¯”è¾ƒã€‚é¦–å…ˆï¼Œéœ€è¦è°ƒæ•´åŸºæœ¬æ•°å€¼å‚æ•°ï¼š
- en: '[PRE7]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO8-1)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO8-1)'
- en: Increases the number of time intervals to a realistic level, yielding rather
    accurate numerical option values.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ—¶é—´é—´éš”å¢åŠ åˆ°ä¸€ä¸ªç°å®æ°´å¹³ï¼Œå¾—å‡ºç›¸å½“ç²¾ç¡®çš„æ•°å€¼æœŸæƒä»·å€¼ã€‚
- en: 'The function `binomial_looping()` integrates all elements of the *loop-based
    implementation* of the simulation and valuation algorithm for the American put
    option:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°`binomial_looping()`é›†æˆäº†å¯¹ç¾å¼çœ‹è·ŒæœŸæƒçš„ä»¿çœŸå’Œä¼°å€¼ç®—æ³•çš„*åŸºäºå¾ªç¯çš„å®ç°*çš„æ‰€æœ‰è¦ç´ ï¼š
- en: '[PRE8]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The execution takes less than 200 milliseconds on the authorâ€™s computer:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…ç”µè„‘ä¸Šæ‰§è¡Œé€Ÿåº¦ä¸åˆ°200æ¯«ç§’ï¼š
- en: '[PRE9]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The function `binomial_vectorization()` integrates all elements of the *vectorized
    implementation* of the simulation and valuation algorithm for the American put
    option:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°`binomial_vectorization()`é›†æˆäº†å¯¹ç¾å¼çœ‹è·ŒæœŸæƒçš„ä»¿çœŸå’Œä¼°å€¼ç®—æ³•çš„*å‘é‡åŒ–å®ç°*çš„æ‰€æœ‰è¦ç´ ï¼š
- en: '[PRE10]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'This implementation is about 40 times faster than the loop-based one, which
    impressively illustrates the power of vectorized implementation approaches in
    terms of performance improvements:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§å®ç°æ¯”åŸºäºå¾ªç¯çš„å®ç°å¿«çº¦40å€ï¼Œè¿™å……åˆ†å±•ç¤ºäº†å‘é‡åŒ–å®ç°æ–¹æ³•åœ¨æ€§èƒ½æ”¹è¿›æ–¹é¢çš„å¼ºå¤§åŠ›é‡ï¼š
- en: '[PRE11]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Infrastructure and Performance
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åŸºç¡€è®¾æ–½å’Œæ€§èƒ½
- en: All absolute times reported here are dependent both on the hardware and software
    configuration used. For instance, you can use `NumPy` in combination with the
    [Math Kernel Library (MKL) from Intel](https://oreil.ly/dWyk9). This combination
    can significantly speed up numerical operations on Intel processor-based systems.
    Relative times and speed-up factors should be roughly similar on different infrastructures.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰è¿™é‡ŒæŠ¥å‘Šçš„ç»å¯¹æ—¶é—´éƒ½å–å†³äºæ‰€ä½¿ç”¨çš„ç¡¬ä»¶å’Œè½¯ä»¶é…ç½®ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨Intelå¤„ç†å™¨ç³»ç»Ÿä¸Šä½¿ç”¨`NumPy`ä¸[è‹±ç‰¹å°”æ•°å­¦æ ¸å¿ƒåº“ï¼ˆMKLï¼‰](https://oreil.ly/dWyk9)çš„ç»„åˆã€‚è¿™ç§ç»„åˆå¯ä»¥æ˜¾è‘—åŠ å¿«æ•°å€¼è¿ç®—é€Ÿåº¦ã€‚åœ¨ä¸åŒåŸºç¡€è®¾æ–½ä¸Šï¼Œç›¸å¯¹æ—¶é—´å’ŒåŠ é€Ÿæ¯”åº”å¤§è‡´ç›¸ä¼¼ã€‚
- en: Black-Scholes-Merton Option Pricing
  id: totrans-158
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Black-Scholes-MertonæœŸæƒå®šä»·
- en: A static simulation version of the Black-Scholes-Merton (1973) model for option
    pricing is discussed in [ChapterÂ 5](ch05_split_000.xhtml#static_economy). This
    section introduces a *dynamic simulation version* for their seminal option pricing
    model. For additional background information on the model, refer to [ChapterÂ 5](ch05_split_000.xhtml#static_economy).
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: Black-Scholes-Mertonï¼ˆ1973å¹´ï¼‰æ¨¡å‹çš„é™æ€ä»¿çœŸç‰ˆæœ¬ç”¨äºæœŸæƒå®šä»·ï¼Œåœ¨[ç¬¬5ç« ](ch05_split_000.xhtml#static_economy)ä¸­è¿›è¡Œäº†è®¨è®ºã€‚æœ¬èŠ‚ä»‹ç»äº†ä»–ä»¬å¼€åˆ›æ€§çš„æœŸæƒå®šä»·æ¨¡å‹çš„*åŠ¨æ€ä»¿çœŸç‰ˆæœ¬*ã€‚æœ‰å…³è¯¥æ¨¡å‹çš„æ›´å¤šèƒŒæ™¯ä¿¡æ¯ï¼Œè¯·å‚é˜…[ç¬¬5ç« ](ch05_split_000.xhtml#static_economy)ã€‚
- en: The stochastic differential equation for the Black-Scholes-Merton (1973) economy
    is given by
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: Black-Scholes-Mertonï¼ˆ1973å¹´ï¼‰ç»æµçš„éšæœºå¾®åˆ†æ–¹ç¨‹å¦‚ä¸‹
- en: <math alttext="d upper S Subscript t Baseline equals r upper S Subscript t Baseline
    d t plus sigma upper S Subscript t Baseline d upper Z Subscript t" display="block"><mrow><mi>d</mi>
    <msub><mi>S</mi> <mi>t</mi></msub> <mo>=</mo> <mi>r</mi> <msub><mi>S</mi> <mi>t</mi></msub>
    <mi>d</mi> <mi>t</mi> <mo>+</mo> <mi>Ïƒ</mi> <msub><mi>S</mi> <mi>t</mi></msub>
    <mi>d</mi> <msub><mi>Z</mi> <mi>t</mi></msub></mrow></math>
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="d upper S Subscript t Baseline equals r upper S Subscript t Baseline
    d t plus sigma upper S Subscript t Baseline d upper Z Subscript t" display="block"><mrow><mi>d</mi>
    <msub><mi>S</mi> <mi>t</mi></msub> <mo>=</mo> <mi>r</mi> <msub><mi>S</mi> <mi>t</mi></msub>
    <mi>d</mi> <mi>t</mi> <mo>+</mo> <mi>Ïƒ</mi> <msub><mi>S</mi> <mi>t</mi></msub>
    <mi>d</mi> <msub><mi>Z</mi> <mi>t</mi></msub></mrow></math>
- en: where <math><mrow><msub><mi>S</mi> <mi>t</mi></msub> <mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub></mrow></math> is the stock price at time <math
    alttext="t"><mi>t</mi></math> , <math><mrow><mi>r</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>â‰¥0</mn></mrow></msub></mrow></math> is the constant short rate, <math><mrow><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub></mrow></math> is the constant volatility factor,
    and <math alttext="upper Z Subscript t"><msub><mi>Z</mi> <mi>t</mi></msub></math>
    is an arithmetic Brownian motion (see Glasserman (2004, chapter 3) and Hilpisch
    (2018, chapter 12)).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ—¶é—´<math><mrow><msub><mi>t</mi> <mi>t</mi></msub> <mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub></mrow></math>å¤„çš„è‚¡ç¥¨ä»·æ ¼ï¼Œå…¶ä¸­<math><mrow><mi>r</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>â‰¥0</mn></mrow></msub></mrow></math>æ˜¯æ’å®šçš„çŸ­æœŸåˆ©ç‡ï¼Œ<math><mrow><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi>â„</mi>
    <mrow><mn>>0</mn></mrow></msub></mrow></math>æ˜¯æ’å®šçš„æ³¢åŠ¨ç‡å› å­ï¼Œ<math alttext="upper Z
    Subscript t"><msub><mi>Z</mi> <mi>t</mi></msub></math>æ˜¯ç®—æœ¯å¸ƒæœ—è¿åŠ¨ï¼ˆå‚è§Glassermanï¼ˆ2004å¹´ï¼Œç¬¬3ç« ï¼‰å’ŒHilpischï¼ˆ2018å¹´ï¼Œç¬¬12ç« ï¼‰ï¼‰ã€‚
- en: Monte Carlo Simulation of Stock Price Paths
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿè‚¡ä»·è·¯å¾„
- en: Assume a finite set of relevant points in time <math alttext="script upper T
    identical-to StartSet t 0 equals 0 comma t 1 comma t 2 comma period period period
    comma t Subscript upper M Baseline equals upper T EndSet"><mrow><mi>ğ’¯</mi> <mo>â‰¡</mo>
    <mo>{</mo> <msub><mi>t</mi> <mn>0</mn></msub> <mo>=</mo> <mn>0</mn> <mo>,</mo>
    <msub><mi>t</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>t</mi> <mn>2</mn></msub>
    <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo> <mo>,</mo> <msub><mi>t</mi> <mi>M</mi></msub>
    <mo>=</mo> <mi>T</mi> <mo>}</mo></mrow></math> , with <math alttext="upper M plus
    1 comma upper M greater-than 1"><mrow><mi>M</mi> <mo>+</mo> <mn>1</mn> <mo>,</mo>
    <mi>M</mi> <mo>></mo> <mn>1</mn></mrow></math> , and a fixed interval length of
    <math alttext="normal upper Delta t"><mrow><mi>Î”</mi> <mi>t</mi></mrow></math>
    . The stock price <math alttext="upper S Subscript t Baseline comma 0 less-than
    t less-than-or-equal-to upper T"><mrow><msub><mi>S</mi> <mi>t</mi></msub> <mo>,</mo>
    <mn>0</mn> <mo><</mo> <mi>t</mi> <mo>â‰¤</mo> <mi>T</mi></mrow></math> , given the
    previous stock price <math alttext="upper S Subscript t minus normal upper Delta
    t"><msub><mi>S</mi> <mrow><mi>t</mi><mo>-</mo><mi>Î”</mi><mi>t</mi></mrow></msub></math>
    , can then be simulated according to the difference equation
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æ—¶é—´<math alttext="script upper T identical-to StartSet t 0 equals 0 comma t
    1 comma t 2 comma period period period comma t Subscript upper M Baseline equals
    upper T EndSet"><mrow><mi>ğ’¯</mi> <mo>â‰¡</mo> <mo>{</mo> <msub><mi>t</mi> <mn>0</mn></msub>
    <mo>=</mo> <mn>0</mn> <mo>,</mo> <msub><mi>t</mi> <mn>1</mn></msub> <mo>,</mo>
    <msub><mi>t</mi> <mn>2</mn></msub> <mo>,</mo> <mo>.</mo> <mo>.</mo> <mo>.</mo>
    <mo>,</mo> <msub><mi>t</mi> <mi>M</mi></msub> <mo>=</mo> <mi>T</mi> <mo>}</mo></mrow></math>ä¸­æœ‰é™çš„ç›¸å…³ç‚¹ï¼Œå…·æœ‰<math
    alttext="upper M plus 1 comma upper M greater-than 1"><mrow><mi>M</mi> <mo>+</mo>
    <mn>1</mn> <mo>,</mo> <mi>M</mi> <mo>></mo> <mn>1</mn></mrow></math>ï¼Œä»¥åŠå›ºå®šçš„æ—¶é—´é—´éš”é•¿åº¦<math
    alttext="normal upper Delta t"><mrow><mi>Î”</mi> <mi>t</mi></mrow></math>ã€‚ç»™å®šå‰ä¸€è‚¡ç¥¨ä»·æ ¼<math
    alttext="upper S Subscript t minus normal upper Delta t"><msub><mi>S</mi> <mrow><mi>t</mi><mo>-</mo><mi>Î”</mi><mi>t</mi></mrow></msub></math>ï¼Œåˆ™è‚¡ç¥¨ä»·æ ¼<math
    alttext="upper S Subscript t Baseline comma 0 less-than t less-than-or-equal-to
    upper T"><mrow><msub><mi>S</mi> <mi>t</mi></msub> <mo>,</mo> <mn>0</mn> <mo><</mo>
    <mi>t</mi> <mo>â‰¤</mo> <mi>T</mi></mrow></math>å¯ä»¥æŒ‰ç…§å·®åˆ†æ–¹ç¨‹è¿›è¡Œæ¨¡æ‹Ÿã€‚
- en: <math alttext="upper S Subscript t Baseline equals upper S Subscript t minus
    normal upper Delta t Baseline dot exp left-parenthesis left-parenthesis r minus
    StartFraction sigma squared Over 2 EndFraction right-parenthesis normal upper
    Delta t plus sigma StartRoot normal upper Delta t EndRoot z right-parenthesis"
    display="block"><mrow><msub><mi>S</mi> <mi>t</mi></msub> <mo>=</mo> <msub><mi>S</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>Î”</mi><mi>t</mi></mrow></msub> <mo>Â·</mo> <mo form="prefix">exp</mo>
    <mfenced separators="" open="(" close=")"><mfenced separators="" open="(" close=")"><mi>r</mi>
    <mo>-</mo> <mfrac><msup><mi>Ïƒ</mi> <mn>2</mn></msup> <mn>2</mn></mfrac></mfenced>
    <mi>Î”</mi> <mi>t</mi> <mo>+</mo> <mi>Ïƒ</mi> <msqrt><mrow><mi>Î”</mi> <mi>t</mi></mrow></msqrt>
    <mi>z</mi></mfenced></mrow></math>
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper S Subscript t Baseline equals upper S Subscript t minus
    normal upper Delta t Baseline dot exp left-parenthesis left-parenthesis r minus
    StartFraction sigma squared Over 2 EndFraction right-parenthesis normal upper
    Delta t plus sigma StartRoot normal upper Delta t EndRoot z right-parenthesis"
    display="block"><mrow><msub><mi>S</mi> <mi>t</mi></msub> <mo>=</mo> <msub><mi>S</mi>
    <mrow><mi>t</mi><mo>-</mo><mi>Î”</mi><mi>t</mi></mrow></msub> <mo>Â·</mo> <mo form="prefix">exp</mo>
    <mfenced separators="" open="(" close=")"><mfenced separators="" open="(" close=")"><mi>r</mi>
    <mo>-</mo> <mfrac><msup><mi>Ïƒ</mi> <mn>2</mn></msup> <mn>2</mn></mfrac></mfenced>
    <mi>Î”</mi> <mi>t</mi> <mo>+</mo> <mi>Ïƒ</mi> <msqrt><mrow><mi>Î”</mi> <mi>t</mi></mrow></msqrt>
    <mi>z</mi></mfenced></mrow></math>
- en: where <math alttext="z"><mi>z</mi></math> is a standard normally distributed
    random variable. This scheme is called *Euler discretization*. It is known to
    be accurate in that it ensures convergence of the discrete time process to the
    continuous time process for <math alttext="normal upper Delta t"><mrow><mi>Î”</mi>
    <mi>t</mi></mrow></math> converging to 0.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­<math alttext="z"><mi>z</mi></math>æ˜¯æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºå˜é‡ã€‚è¿™ç§æ–¹æ¡ˆç§°ä¸º*æ¬§æ‹‰ç¦»æ•£åŒ–*ã€‚å·²çŸ¥å®ƒèƒ½ç¡®ä¿éšç€<math
    alttext="normal upper Delta t"><mrow><mi>Î”</mi> <mi>t</mi></mrow></math>è¶‹äº0ï¼Œç¦»æ•£æ—¶é—´è¿‡ç¨‹æ”¶æ•›äºè¿ç»­æ—¶é—´è¿‡ç¨‹ã€‚
- en: 'The dynamic Monte Carlo simulation isâ€”with the background knowledge from the
    static simulation in [ChapterÂ 5](ch05_split_000.xhtml#static_economy)â€”straightforward
    to implement in Python. [FigureÂ 6-1](#bsm_dyn_01) shows 10 simulated stock price
    paths:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ¨æ€è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿåœ¨é™æ€æ¨¡æ‹Ÿçš„èƒŒæ™¯çŸ¥è¯†æ”¯æŒä¸‹ï¼ˆå‚è§[ç¬¬5ç« ](ch05_split_000.xhtml#static_economy)ï¼‰åœ¨Pythonä¸­æ˜“äºå®ç°ã€‚å›¾[6-1](#bsm_dyn_01)æ˜¾ç¤ºäº†10æ¡æ¨¡æ‹Ÿè‚¡ä»·è·¯å¾„ï¼š
- en: '[PRE12]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO9-1)'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO9-1)'
- en: The financial parameters are as before.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: é‡‘èå‚æ•°ä¸ä¹‹å‰ç›¸åŒã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO9-6)'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO9-6)'
- en: These are the Monte Carlo simulation parameters (paths, time steps, length of
    time interval, discount factor for single time interval).
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿçš„å‚æ•°ï¼ˆè·¯å¾„ã€æ—¶é—´æ­¥é•¿ã€æ—¶é—´é—´éš”é•¿åº¦ã€å•ä¸ªæ—¶é—´é—´éš”çš„æŠ˜ç°å› å­ï¼‰ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO9-12)'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO9-12)'
- en: A two-dimensional `ndarray` object with standard normally distributed random
    numbers of appropriate size is generated.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆäº†ä¸€ä¸ªé€‚å½“å¤§å°çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒéšæœºæ•°çš„äºŒç»´`ndarray`å¯¹è±¡ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO9-14)'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO9-14)'
- en: Another two-dimensional `ndarray` object of the same shape is instantiated,
    and the initial values for the single stock price paths are set.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ä¸ªç›¸åŒå½¢çŠ¶çš„äºŒç»´`ndarray`å¯¹è±¡è¢«å®ä¾‹åŒ–ï¼Œå¹¶è®¾ç½®äº†å•åªè‚¡ç¥¨ä»·æ ¼è·¯å¾„çš„åˆå§‹å€¼ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO9-17)'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO9-17)'
- en: The single stock price paths are simulated based on the initial stock prices,
    the random number matrix, and the difference equation for the geometric Brownian
    motion.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºåˆå§‹è‚¡ç¥¨ä»·æ ¼ã€éšæœºæ•°çŸ©é˜µå’Œå‡ ä½•å¸ƒæœ—è¿åŠ¨çš„å·®åˆ†æ–¹ç¨‹ï¼Œæ¨¡æ‹Ÿäº†å•åªè‚¡ç¥¨ä»·æ ¼è·¯å¾„ã€‚
- en: '[![6](Images/6.png)](#co_dynamic_economy_CO9-19)'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](Images/6.png)](#co_dynamic_economy_CO9-19)'
- en: Plots the first 10 simulated paths.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: ç»˜åˆ¶å‰10æ¡æ¨¡æ‹Ÿè·¯å¾„ã€‚
- en: '![ftwp 0601](Images/ftwp_0601.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![ftwp 0601](Images/ftwp_0601.png)'
- en: Figure 6-1\. Simulated stock price paths for Black-Scholes-Merton (1973)
  id: totrans-182
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾ 6-1\. Black-Scholes-Mertonï¼ˆ1973å¹´ï¼‰æ¨¡æ‹Ÿè‚¡ä»·è·¯å¾„
- en: 'As in the static case, the end-of-period values of the stock price can be visualized
    in the form of a histogram (see [FigureÂ 6-2](#bsm_dyn_02)):'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸é™æ€æƒ…å†µä¸€æ ·ï¼Œè‚¡ç¥¨æœŸæœ«ä»·å€¼å¯ä»¥ä»¥ç›´æ–¹å›¾å½¢å¼å¯è§†åŒ–ï¼ˆå‚è§ [å›¾ 6-2](#bsm_dyn_02)ï¼‰ï¼š
- en: '[PRE13]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO10-1)'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO10-1)'
- en: Mathematically expected value for <math alttext="upper S Subscript upper T"><msub><mi>S</mi>
    <mi>T</mi></msub></math> .
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°å­¦æœŸæœ›å€¼ä¸º <math alttext="upper S Subscript upper T"><msub><mi>S</mi> <mi>T</mi></msub></math>
    ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO10-2)'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO10-2)'
- en: The average over all simulated values `ST`.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰æ¨¡æ‹Ÿå€¼ `ST` çš„å¹³å‡å€¼ã€‚
- en: '![ftwp 0602](Images/ftwp_0602.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![ftwp 0602](Images/ftwp_0602.png)'
- en: Figure 6-2\. Frequency distribution of simulated end-of-period stock prices
    for Black-Scholes-Merton (1973)
  id: totrans-190
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾ 6-2\. Black-Scholes-Merton (1973) æ¨¡å‹æ¨¡æ‹ŸæœŸæœ«è‚¡ç¥¨ä»·æ ¼é¢‘ç‡åˆ†å¸ƒ
- en: Monte Carlo Valuation of the European Put Option
  id: totrans-191
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¬§å¼çœ‹è·ŒæœŸæƒçš„è’™ç‰¹å¡æ´›ä¼°å€¼
- en: The Monte Carlo estimator for the price of the European put option is
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: æ¬§å¼çœ‹è·ŒæœŸæƒä»·æ ¼çš„è’™ç‰¹å¡æ´›ä¼°è®¡é‡æ˜¯
- en: <math alttext="upper P 0 equals e Superscript minus r upper T Baseline StartFraction
    1 Over upper I EndFraction sigma-summation Underscript i equals 1 Overscript upper
    I Endscripts max left-parenthesis upper K minus upper S Subscript upper T Baseline
    left-parenthesis i right-parenthesis comma 0 right-parenthesis" display="block"><mrow><msub><mi>P</mi>
    <mn>0</mn></msub> <mo>=</mo> <msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>T</mi></mrow></msup>
    <mfrac><mn>1</mn> <mi>I</mi></mfrac> <munderover><mo>âˆ‘</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>I</mi></munderover> <mo movablelimits="true" form="prefix">max</mo> <mrow><mo>(</mo>
    <mi>K</mi> <mo>-</mo> <msub><mi>S</mi> <mi>T</mi></msub> <mrow><mo>(</mo> <mi>i</mi>
    <mo>)</mo></mrow> <mo>,</mo> <mn>0</mn> <mo>)</mo></mrow></mrow></math>
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper P 0 equals e Superscript minus r upper T Baseline StartFraction
    1 Over upper I EndFraction sigma-summation Underscript i equals 1 Overscript upper
    I Endscripts max left-parenthesis upper K minus upper S Subscript upper T Baseline
    left-parenthesis i right-parenthesis comma 0 right-parenthesis" display="block"><mrow><msub><mi>P</mi>
    <mn>0</mn></msub> <mo>=</mo> <msup><mi>e</mi> <mrow><mo>-</mo><mi>r</mi><mi>T</mi></mrow></msup>
    <mfrac><mn>1</mn> <mi>I</mi></mfrac> <munderover><mo>âˆ‘</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>I</mi></munderover> <mo movablelimits="true" form="prefix">max</mo> <mrow><mo>(</mo>
    <mi>K</mi> <mo>-</mo> <msub><mi>S</mi> <mi>T</mi></msub> <mrow><mo>(</mo> <mi>i</mi>
    <mo>)</mo></mrow> <mo>,</mo> <mn>0</mn> <mo>)</mo></mrow></mrow></math>
- en: 'where <math alttext="upper I"><mi>I</mi></math> is the number of simulated
    price paths. Against this background, European put option pricing boils down to
    a few lines of Python code only given the simulated stock price paths. [FigureÂ 6-3](#bsm_dyn_03)
    shows a histogram of the simulated inner values at maturity:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="upper I"><mi>I</mi></math> æ˜¯æ¨¡æ‹Ÿä»·æ ¼è·¯å¾„çš„æ•°é‡ã€‚åœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œæ¬§å¼çœ‹è·ŒæœŸæƒå®šä»·ä»…æ¶‰åŠå‡ è¡Œ
    Python ä»£ç ï¼Œä»…éœ€ç»™å®šæ¨¡æ‹Ÿè‚¡ä»·è·¯å¾„ã€‚[å›¾ 6-3](#bsm_dyn_03) æ˜¾ç¤ºäº†åˆ°æœŸå†…åœ¨ä»·å€¼çš„æ¨¡æ‹Ÿç›´æ–¹å›¾ï¼š
- en: '[PRE14]'
  id: totrans-195
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO11-1)'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO11-1)'
- en: Calculates the inner values in vectorized fashion.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥å‘é‡åŒ–æ–¹å¼è®¡ç®—å†…åœ¨ä»·å€¼ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO11-3)'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO11-3)'
- en: Plots the frequency distribution of the inner values at maturity, illustrating
    the highly asymmetric payoff that is typical for an option.^([3](ch06.xhtml#idm44853679632632))
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: ç»˜åˆ¶äº†åˆ°æœŸå†…åœ¨ä»·å€¼çš„é¢‘ç‡åˆ†å¸ƒï¼Œè¯´æ˜å…¸å‹çš„æœŸæƒé«˜åº¦ä¸å¯¹ç§°å›æŠ¥ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO11-4)'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO11-4)'
- en: Calculates the average over all inner values and discounts the average to the
    present.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æ‰€æœ‰å†…åœ¨ä»·å€¼çš„å¹³å‡å€¼å¹¶å¯¹å…¶ç°å€¼æŠ˜ç°ã€‚
- en: '![ftwp 0603](Images/ftwp_0603.png)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![ftwp 0603](Images/ftwp_0603.png)'
- en: Figure 6-3\. Frequency distribution of simulated inner values at maturity for
    the European put option
  id: totrans-203
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾ 6-3\. æ¬§å¼çœ‹è·ŒæœŸæƒåˆ°æœŸå†…åœ¨ä»·å€¼æ¨¡æ‹Ÿé¢‘ç‡åˆ†å¸ƒ
- en: Monte Carlo Valuation of the American Put Option
  id: totrans-204
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¾å¼çœ‹è·ŒæœŸæƒçš„è’™ç‰¹å¡æ´›ä¼°å€¼
- en: The valuation of American (put) options based on Monte Carlo simulation is a
    bit more involved. The most popular algorithm in this regard is the *Least-Squares
    Monte Carlo* (LSM) algorithm from Longstaff and Schwartz (2001) because it is
    relatively simple and efficient to apply from a numerical and computational perspective.
    The scope of this chapter does not allow us to go into details. However, it allows
    us to present a concise, highly vectorized Python implementation. For an in-depth
    treatment of the LSM algorithm applied to the Black-Scholes-Merton (1973) model
    economy, including Python code, refer to Hilpisch (2015, chapter 7).
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿçš„ç¾å¼ï¼ˆçœ‹è·Œï¼‰æœŸæƒå®šä»·ç¨æ˜¾å¤æ‚ã€‚åœ¨è¿™æ–¹é¢æœ€æµè¡Œçš„ç®—æ³•æ˜¯ Longstaff å’Œ Schwartz (2001) çš„*æœ€å°äºŒä¹˜è’™ç‰¹å¡æ´›*ï¼ˆLSMï¼‰ç®—æ³•ï¼Œå› ä¸ºåœ¨æ•°å€¼å’Œè®¡ç®—è§’åº¦ä¸Šç›¸å¯¹ç®€å•é«˜æ•ˆã€‚æœ¬ç« çš„èŒƒå›´ä¸å…è®¸æ·±å…¥è®¨è®ºï¼Œä½†å¯ä»¥å‘ˆç°ä¸€ç§ç®€æ˜æ‰¼è¦ã€é«˜åº¦å‘é‡åŒ–çš„
    Python å®ç°ã€‚æœ‰å…³åº”ç”¨äº Black-Scholes-Merton (1973) æ¨¡å‹ç»æµå­¦çš„ LSM ç®—æ³•çš„è¯¦ç»†å¤„ç†ï¼ŒåŒ…æ‹¬ Python ä»£ç ï¼Œè¯·å‚é˜…
    Hilpisch (2015, ç¬¬ 7 ç« )ã€‚
- en: 'The following Python code implements the LSM algorithm for American option
    valuation:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ Python ä»£ç å®ç°äº† LSM ç®—æ³•ç”¨äºç¾å¼æœŸæƒå®šä»·ï¼š
- en: '[PRE15]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '[![1](Images/1.png)](#co_dynamic_economy_CO12-1)'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](Images/1.png)](#co_dynamic_economy_CO12-1)'
- en: Calculates the inner values over the complete stock price path `ndarray` object.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—å®Œæ•´è‚¡ä»·è·¯å¾„ `ndarray` å¯¹è±¡çš„å†…åœ¨ä»·å€¼ã€‚
- en: '[![2](Images/2.png)](#co_dynamic_economy_CO12-2)'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](Images/2.png)](#co_dynamic_economy_CO12-2)'
- en: Sets the initial simulated American option price values to the inner values
    at maturity.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: å°†åˆå§‹æ¨¡æ‹Ÿçš„ç¾å¼æœŸæƒä»·æ ¼å€¼è®¾å®šä¸ºåˆ°æœŸå†…åœ¨ä»·å€¼ã€‚
- en: '[![3](Images/3.png)](#co_dynamic_economy_CO12-3)'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](Images/3.png)](#co_dynamic_economy_CO12-3)'
- en: The algorithm also works based on backward induction, starting at <math alttext="upper
    T minus normal upper Delta t"><mrow><mi>T</mi> <mo>-</mo> <mi>Î”</mi> <mi>t</mi></mrow></math>
    and stopping at <math alttext="normal upper Delta t"><mrow><mi>Î”</mi> <mi>t</mi></mrow></math>
    .
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥ç®—æ³•è¿˜åŸºäºåå‘å½’çº³æ³•ï¼Œä» <math alttext="upper T minus normal upper Delta t"><mrow><mi>T</mi>
    <mo>-</mo> <mi>Î”</mi> <mi>t</mi></mrow></math> å¼€å§‹ï¼Œå¹¶åœ¨ <math alttext="normal upper
    Delta t"><mrow><mi>Î”</mi> <mi>t</mi></mrow></math> å¤„åœæ­¢ã€‚
- en: '[![4](Images/4.png)](#co_dynamic_economy_CO12-4)'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](Images/4.png)](#co_dynamic_economy_CO12-4)'
- en: This is the central step of the algorithm during which the continuation values
    are estimated (approximated) based on the OLS regression of the present simulated
    option values against the stock price levels.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ç®—æ³•çš„æ ¸å¿ƒæ­¥éª¤ï¼Œåœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæ ¹æ®å½“å‰æ¨¡æ‹ŸæœŸæƒä»·å€¼å¯¹è‚¡ä»·æ°´å¹³è¿›è¡ŒOLSå›å½’ï¼Œä¼°è®¡ï¼ˆè¿‘ä¼¼ï¼‰ç»§ç»­ä»·å€¼ã€‚
- en: '[![5](Images/5.png)](#co_dynamic_economy_CO12-6)'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](Images/5.png)](#co_dynamic_economy_CO12-6)'
- en: If the inner value is higher than the estimated (approximated) continuation
    value, exercise takes place and otherwise not.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœå†…åœ¨ä»·å€¼é«˜äºä¼°è®¡ï¼ˆè¿‘ä¼¼ï¼‰çš„ç»§ç»­ä»·å€¼ï¼Œå°±è¿›è¡Œè¡Œæƒï¼Œå¦åˆ™ä¸è¡Œæƒã€‚
- en: '[![6](Images/6.png)](#co_dynamic_economy_CO12-7)'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](Images/6.png)](#co_dynamic_economy_CO12-7)'
- en: The present value is calculated as the average over the American option price
    vector at <math alttext="t equals normal upper Delta t"><mrow><mi>t</mi> <mo>=</mo>
    <mi>Î”</mi> <mi>t</mi></mrow></math> as derived based on the LSM algorithm and
    discounted for the last remaining time interval to the present <math alttext="t
    equals 0"><mrow><mi>t</mi> <mo>=</mo> <mn>0</mn></mrow></math> .
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: å½“å‰å€¼è¢«è®¡ç®—ä¸ºåŸºäºLSMç®—æ³•å¯¼å‡ºçš„åœ¨<math alttext="t equals normal upper Delta t"><mrow><mi>t</mi>
    <mo>=</mo> <mi>Î”</mi> <mi>t</mi></mrow></math>æ—¶åˆ»çš„ç¾å¼æœŸæƒä»·æ ¼å‘é‡çš„å¹³å‡å€¼ï¼Œå¹¶å¯¹å‰©ä½™çš„æ—¶é—´é—´éš”åˆ°å½“å‰<math
    alttext="t equals 0"><mrow><mi>t</mi> <mo>=</mo> <mn>0</mn></mrow></math>è¿›è¡ŒæŠ˜ç°ã€‚
- en: Early Exercise and Monte Carlo Simulation
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æå‰è¡Œæƒå’Œè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ
- en: The efficient, Monte Carlo simulationâ€“based valuation of options and derivatives
    with early exercise features had been a mainly unsolved problem until the end
    of the 1990s. At the beginning of the 2000s only, researchers were able to propose
    computationally efficient algorithms to deal with early exercise in a simulation
    context. As often in science and finance, once such an algorithm is knownâ€”such
    as the LSM algorithmâ€”the implementation and application almost seem quite natural.
    After all, only a few lines of Python code are needed to accurately value the
    American put option in this section based on simulation. Nevertheless, the LSM
    algorithm must be considered a major breakthrough that helped to kick off the
    computational period in finance (see [ChapterÂ 1](ch01.xhtml#finance_python)).
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: ç›´åˆ°1990å¹´ä»£æœ«ï¼ŒåŸºäºè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿçš„å…·æœ‰æå‰è¡Œæƒç‰¹å¾çš„æœŸæƒå’Œè¡ç”Ÿäº§å“çš„æœ‰æ•ˆå®šä»·ä¸€ç›´æ˜¯ä¸€ä¸ªä¸»è¦æœªè§£å†³çš„é—®é¢˜ã€‚ç›´åˆ°2000å¹´åˆï¼Œç ”ç©¶äººå‘˜æ‰èƒ½å¤Ÿæå‡ºåœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­å¤„ç†æå‰è¡Œæƒçš„è®¡ç®—æœ‰æ•ˆç®—æ³•ã€‚åœ¨ç§‘å­¦å’Œé‡‘èä¸­ï¼Œä¸€æ—¦æœ‰äº†è¿™æ ·çš„ç®—æ³•â€”â€”æ¯”å¦‚LSMç®—æ³•â€”â€”å®ç°å’Œåº”ç”¨å‡ ä¹æ˜¾å¾—ç›¸å½“è‡ªç„¶ã€‚æ¯•ç«Ÿï¼Œä»…ä»…éœ€è¦å‡ è¡ŒPythonä»£ç å°±èƒ½å¤ŸåŸºäºæ¨¡æ‹Ÿå‡†ç¡®åœ°ä¼°å€¼æœ¬èŠ‚ä¸­çš„ç¾å¼çœ‹æ¶¨æœŸæƒã€‚ç„¶è€Œï¼ŒLSMç®—æ³•å¿…é¡»è¢«è§†ä¸ºé‡‘èè®¡ç®—æ—¶æœŸçš„ä¸€ä¸ªé‡å¤§çªç ´ï¼ˆè§[ç¬¬1ç« ](ch01.xhtml#finance_python)ï¼‰ã€‚
- en: Conclusions
  id: totrans-222
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: This chapter presents in a rather informal manner two popular, dynamically complete
    financial models. The first is the so-called *recombining binomial tree model*
    by Cox-Ross-Rubinstein (1979). The beauty of it lies in its simplicity and that
    it allows one to implement European and American option pricing in a numerically
    efficient way and based on high school mathematics only. It is also a good â€œteaching
    and understandingâ€ tool as compared to continuous time financial models that require
    advanced stochastic calculus.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« ä»¥æ¯”è¾ƒéæ­£å¼çš„æ–¹å¼ä»‹ç»äº†ä¸¤ç§æµè¡Œçš„ã€åŠ¨æ€å®Œå¤‡çš„é‡‘èæ¨¡å‹ã€‚ç¬¬ä¸€ç§æ˜¯ç”±è€ƒå…‹æ–¯-ç½—æ–¯-é²å®¾æ–¯å¦ï¼ˆ1979å¹´ï¼‰æå‡ºçš„æ‰€è°“*å†ç»„åˆäºŒå‰æ ‘æ¨¡å‹*ã€‚å…¶ç¾å¦™ä¹‹å¤„åœ¨äºå…¶ç®€å•æ€§ï¼Œå®ƒä½¿äººèƒ½å¤Ÿä»¥é«˜ä¸­æ•°å­¦ä¸ºåŸºç¡€ä»¥ä¸€ç§æ•°å€¼é«˜æ•ˆçš„æ–¹å¼å®ç°æ¬§å¼æœŸæƒå’Œç¾å¼æœŸæƒå®šä»·ã€‚ä¸éœ€è¦é«˜çº§éšæœºå¾®ç§¯åˆ†çš„è¿ç»­æ—¶é—´é‡‘èæ¨¡å‹ç›¸æ¯”ï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„â€œæ•™å­¦å’Œç†è§£â€å·¥å…·ã€‚
- en: The second model is a *dynamic Monte Carlo simulation version* of the Black-Scholes-Merton
    (1973) continuous time option pricing model. Using `NumPy` simulation techniques,
    dynamic Monte Carlo simulation can also be implemented in a numerically efficient
    manner. Even the computationally demanding Least-Squares Monte Carlo algorithm
    by Longstaff and Schwartz (2001), involving a time-consuming OLS regression step,
    is quite fast when implemented based on vectorization techniques.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒç§æ¨¡å‹æ˜¯Black-Scholes-Mertonï¼ˆ1973å¹´ï¼‰è¿ç»­æ—¶é—´æœŸæƒå®šä»·æ¨¡å‹çš„*åŠ¨æ€è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿç‰ˆæœ¬*ã€‚ä½¿ç”¨`NumPy`æ¨¡æ‹ŸæŠ€æœ¯ï¼ŒåŠ¨æ€è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿä¹Ÿå¯ä»¥ä»¥æ•°å€¼é«˜æ•ˆçš„æ–¹å¼å®ç°ã€‚å³ä½¿æ˜¯åŒ…å«è€—æ—¶OLSå›å½’æ­¥éª¤çš„Longstaffå’ŒSchwartzï¼ˆ2001å¹´ï¼‰çš„è®¡ç®—è¦æ±‚è¾ƒé«˜çš„æœ€å°äºŒä¹˜è’™ç‰¹å¡æ´›ç®—æ³•ï¼ŒåŸºäºå‘é‡åŒ–æŠ€æœ¯å®ç°æ—¶ä¹Ÿç›¸å½“å¿«é€Ÿã€‚
- en: In summary, `NumPy`, with its powerful vectorization capabilities, has proven
    once again that it allows not only for concise algorithmic code but also for fast
    execution timesâ€”even in the context of more realistic and complex dynamic model
    economies.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ä¹‹ï¼Œ`NumPy`å‡­å€Ÿå…¶å¼ºå¤§çš„å‘é‡åŒ–èƒ½åŠ›å†æ¬¡è¯æ˜ï¼Œå®ƒä¸ä»…å¯ä»¥ç¼–å†™ç®€æ´çš„ç®—æ³•ä»£ç ï¼Œè€Œä¸”å¯ä»¥å®ç°å¿«é€Ÿçš„æ‰§è¡Œæ—¶é—´â€”â€”å³ä½¿åœ¨æ›´åŠ ç°å®å’Œå¤æ‚çš„åŠ¨æ€æ¨¡å‹ç»æµç¯å¢ƒä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚
- en: Further Resources
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¿›ä¸€æ­¥èµ„æº
- en: 'Papers cited in this chapter:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« å¼•ç”¨çš„è®ºæ–‡æœ‰ï¼š
- en: 'Black, Fischer and Myron Scholes. 1973\. â€œThe Pricing of Options and Corporate
    Liabilities.â€ *Journal of Political Economy* 81 (3): 638â€“659.'
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Black, Fischer å’Œ Myron Scholes. 1973\. â€œæœŸæƒå®šä»·ä¸å…¬å¸è´Ÿå€ºã€‚â€ *æ”¿æ²»ç»æµå­¦æ‚å¿—* 81 (3): 638â€“659.'
- en: 'Cox, John, Stephen Ross and Mark Rubinstein. 1979\. â€œOption Pricing: A Simplified
    Approach.â€ *Journal of Financial Economics* 7 (3): 229â€“263.'
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Cox, John, Stephen Ross å’Œ Mark Rubinstein. 1979\. â€œæœŸæƒå®šä»·ï¼šä¸€ç§ç®€åŒ–æ–¹æ³•ã€‚â€ *é‡‘èç»æµå­¦æ‚å¿—*
    7 (3): 229â€“263.'
- en: 'Duffie, Darrell. 1986\. â€œStochastic Equilibria: Existence, Spanning Number,
    and the *No Expected Gains from Financial Trade* Hypothesis.â€ *Econometrica* 54
    (5): 1161â€“1183.'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Duffie, Darrell. 1986\. â€œéšæœºå‡è¡¡ï¼šå­˜åœ¨æ€§ã€è·¨åº¦æ•°åŠ*é‡‘èäº¤æ˜“æ— é¢„æœŸæ”¶ç›Š*å‡è®¾ã€‚â€ *è®¡é‡ç»æµå­¦* 54 (5): 1161â€“1183.'
- en: 'Longstaff, Francis and Eduardo Schwartz. 2001\. â€œValuing American Options by
    Simulation: A Simple Least Squares Approach.â€ *Review of Financial Studies* 14
    (1): 113â€“147.'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Longstaff, Francis å’Œ Eduardo Schwartz. 2001\. â€œæ¨¡æ‹Ÿæ³•ä¼°å€¼ç¾å¼æœŸæƒï¼šä¸€ç§ç®€å•çš„æœ€å°äºŒä¹˜æ–¹æ³•ã€‚â€ *é‡‘èç ”ç©¶è¯„è®º*
    14 (1): 113â€“147.'
- en: 'Merton, Robert. 1973\. â€œTheory of Rational Option Pricing.â€ *Bell Journal of
    Economics and Management Science* (4): 141â€“183.'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Merton, Robert. 1973\. â€œç†æ€§æœŸæƒå®šä»·ç†è®ºã€‚â€ *è´å°”ç»æµä¸ç®¡ç†ç§‘å­¦æ‚å¿—* (4): 141â€“183.'
- en: 'Books cited in this chapter:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« å¼•ç”¨çš„ä¹¦ç±ï¼š
- en: 'Duffie, Darrell. 1988\. *Security Marketsâ€”Stochastic Models*. San Diego: Academic
    Press.'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Duffie, Darrell. 1988\. *è¯åˆ¸å¸‚åœºâ€”éšæœºæ¨¡å‹*. åœ£è¿­æˆˆ: Academic Press.'
- en: 'Glasserman, Paul. 2004\. *Monte Carlo Methods in Financial Engineering*. New
    York: Springer Verlag.'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Glasserman, Paul. 2004\. *é‡‘èå·¥ç¨‹ä¸­çš„è’™ç‰¹å¡æ´›æ–¹æ³•*. çº½çº¦: Springer Verlag.'
- en: 'Hilpisch, Yves. 2018\. *Python for Finance*. 2nd ed. Sebastopol: Oâ€™Reilly.'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Hilpisch, Yves. 2018\. *Pythoné‡‘èå­¦*. ç¬¬äºŒç‰ˆ. Sebastopol: Oâ€™Reilly.'
- en: Hilpisch, Yves. 2015\. *Derivatives Analytics with Python*. Wiley Finance.
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hilpisch, Yves. 2015\. *Pythonè¡ç”Ÿå“åˆ†æ*. Wiley Finance.
- en: 'Pliska, Stanley. 1997\. *Introduction to Mathematical Finance.* Malden and
    Oxford: Blackwell Publishers.'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Pliska, Stanley. 1997\. *æ•°å­¦é‡‘èå¯¼è®º.* Malden å’Œ Oxford: Blackwell Publishers.'
- en: ^([1](ch06.xhtml#idm44853685071096-marker)) The parameters assumed in this chapter
    are from Longstaff and Schwartz (2001, table 1).
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch06.xhtml#idm44853685071096-marker)) æœ¬ç« å‡è®¾çš„å‚æ•°æ¥è‡ªLongstaffå’ŒSchwartzï¼ˆ2001å¹´ï¼Œè¡¨1ï¼‰ã€‚
- en: ^([2](ch06.xhtml#idm44853683423000-marker)) Note that only the numbers on and
    above the diagonal are relevant. Numbers below the diagonal can be ignored. They
    result from the specific vectorized operations implemented on the `ndarray` object.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](ch06.xhtml#idm44853683423000-marker)) éœ€è¦æ³¨æ„åªæœ‰å¯¹è§’çº¿åŠä»¥ä¸Šçš„æ•°å­—æ˜¯ç›¸å…³çš„ã€‚å¿½ç•¥å¯¹è§’çº¿ä»¥ä¸‹çš„æ•°å­—ï¼Œè¿™äº›æ•°å­—æ˜¯åœ¨`ndarray`å¯¹è±¡ä¸Šå®ç°çš„ç‰¹å®šå‘é‡åŒ–æ“ä½œçš„ç»“æœã€‚
- en: ^([3](ch06.xhtml#idm44853679632632-marker)) Here, as also often seen in practice,
    there is a large number of cases for which the option expires worthless, that
    is, with a payoff of 0.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: ^([3](ch06.xhtml#idm44853679632632-marker)) æ­¤å¤„ï¼Œæ­£å¦‚åœ¨å®è·µä¸­ç»å¸¸è§åˆ°çš„ï¼Œæœ‰å¤§é‡æƒ…å†µæ˜¯æœŸæƒæ— ä»·å€¼åˆ°æœŸï¼Œå³å›æŠ¥ä¸º0ã€‚
