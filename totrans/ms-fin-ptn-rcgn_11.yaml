- en: Chapter 11\. Candlestick-Based Contrarian Strategies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter covers the contrarian part of candlestick pattern strategies. Remember
    that candlestick patterns on their own are unlikely to provide stable returns,
    as they must join forces with more sophisticated techniques and indicators in
    order to transform simple ideas and observations into actionable trade setups.
  prefs: []
  type: TYPE_NORMAL
- en: You should recognize some of the indicators used in this chapter as they have
    already shown that they can be useful in trend following. Notably, the RSI can
    provide not only the current market state (helpful in determining the trend) but
    also extreme levels that could point to a reversal (helpful in determining contrarian
    trades). In other words, depending on how you use it, the RSI can be a trend-following
    or a contrarian indicator.
  prefs: []
  type: TYPE_NORMAL
- en: Make sure to focus on the intuition of combining patterns with indicators so
    that you can create your own combination of strategies. After all, the point of
    [Chapter 10](ch10.xhtml#chapter10) and [Chapter 11](#chapter11) is to help you
    design your own strategy.
  prefs: []
  type: TYPE_NORMAL
- en: Combining the Doji Pattern with the RSI
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This strategy may be the most familiar one that combines a candlestick pattern
    and a technical indicator. With the Doji being the simplest contrarian configuration
    and the RSI being the most commonly used and researched indicator, both can give
    a good confirmation for the expected contrarian move.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The RSI filter makes it possible to transform the Doji into a one-candlestick
    pattern instead of three. This is because the first and third candlesticks in
    the Doji pattern are used only to differentiate bullish from bearish Doji patterns.
    Therefore, the Doji is just the plus sign–looking candlestick.
  prefs: []
  type: TYPE_NORMAL
- en: The strategy uses an aggressive technique on the RSI that awaits for its reading
    to be below the oversold level or above the overbought level. Oversold and overbought
    levels are variable and depend on the underlying market and on the lookback of
    the RSI.
  prefs: []
  type: TYPE_NORMAL
- en: Generally, with a 14-period RSI (the default version), traders tend to use 30
    as the oversold level and 70 as the overbought level. This strategy uses a 3-period
    RSI with 20 as the oversold level and 80 as the overbought level. This aims to
    increase the frequency of the signals as it makes it more likely to have a simultaneous
    Doji pattern with a signal on the RSI.
  prefs: []
  type: TYPE_NORMAL
- en: 'The trading conditions are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: A long signal is generated whenever a bullish Doji pattern appears while the
    3-period RSI is below 20.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A short signal is generated whenever a bearish Doji pattern appears while the
    3-period RSI is above 80.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following code snippet shows how to code the signal function of the strategy:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 11-1](#figure11-1) shows a signal chart on AUDNZD showing the strategy
    in action. As you may have gathered from previous chapters, contrarian techniques
    work better in a flat (sideways) market, as there is an implied equilibrium between
    supply and demand and an excess in either is bound to return to normality. This
    excess is measured through contrarian tools.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1101.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-1\. Signal chart of the strategy using the Doji pattern and the RSI
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To sum up, the Doji pattern is versatile and is easily integrated with technical
    indicators due to its simplicity. The strategy is easy to grasp, and many other
    variations exist that tweak it to improve its frequency and profitability.
  prefs: []
  type: TYPE_NORMAL
- en: Combining the Engulfing Pattern with Bollinger Bands
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Chapter 10](ch10.xhtml#chapter10) mentioned that Bollinger bands are an envelopment
    technique that move with the market price and provide dynamic support and resistance
    levels using a statistical approach. This strategy couples the Engulfing pattern
    with the position of the market price relative to the lower or upper Bollinger
    band.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The trading conditions of the strategy are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: A long signal is generated whenever a bullish Engulfing pattern appears while
    the market price is below the lower Bollinger band.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A short signal is generated whenever a bearish Engulfing pattern appears while
    the market price is above the upper Bollinger band.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: A market price below its lower Bollinger band implies a statistically oversold
    event and suggests a bullish reaction, whereas a market price above its upper
    Bollinger band implies a statistically overbought event and suggests a bearish
    reaction.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following code snippet shows how to code the signal function of the strategy:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Generally, Bollinger bands use a lookback period of 20 and a standard deviation
    of 2\. But let’s review what this means one more time so you thoroughly understand
    how this great indicator is designed:'
  prefs: []
  type: TYPE_NORMAL
- en: The 20-period lookback period refers to a 20-period moving average calculated
    on the market price (close price). Similarly, a 20-period moving standard deviation
    measure is calculated on the market price (close price).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The standard deviation of 2 means that the rolling standard deviation measure
    is multiplied by two before adding it to the moving average or subtracting it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following code snippet shows the function to calculate the Bollinger bands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: The words *volatility* and *standard deviation* are used interchangeably.
  prefs: []
  type: TYPE_NORMAL
- en: The strategy uses 20-period Bollinger bands with a standard deviation of 1\.
    This is to increase the frequency of signals just as you have seen with the previous
    strategy. [Figure 11-2](#figure11-2) shows a signal chart in USDCAD so you can
    see the strategy in action.
  prefs: []
  type: TYPE_NORMAL
- en: Notice how the bands are closer to the market price and are regularly broken
    or surpassed. Statistically speaking, if we assume that financial time series
    follow a normal distribution, then 68% of the market price should be contained
    within one standard deviation of the moving average (represented by the upper
    and lower bands).
  prefs: []
  type: TYPE_NORMAL
- en: The Engulfing pattern is not an abundant pattern on its own, and thus by adding
    an extra filter (Bollinger bands), the frequency goes down even further, which
    is why tweaking the parameters is important.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1102.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-2\. Signal chart of the strategy using the Engulfing pattern and Bollinger
    bands
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Combining the Piercing Pattern with the Stochastic Oscillator
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This strategy combines the Piercing pattern, a classic candlestick contrarian
    configuration, with the stochastic oscillator, a technical indicator discussed
    in [Chapter 10](ch10.xhtml#chapter10).
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Remember that the stochastic oscillator uses the normalization function to create
    a rolling calculation trapped between 0 and 100 while taking into account the
    high and low prices. It resembles the RSI in the way it is interpreted and used.
  prefs: []
  type: TYPE_NORMAL
- en: 'The trading conditions of the strategy are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: A long signal is generated whenever a bullish Piercing pattern appears while
    the 14-period stochastic oscillator is below 20.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A short signal is generated whenever a bearish Piercing pattern appears while
    the 14-period stochastic oscillator is above 80.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following code snippet shows how to code the signal function of the strategy:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 11-3](#figure11-3) shows a signal chart on USDCHF with bullish and
    bearish signals represented by upward-pointing arrows and downward-pointing arrows,
    respectively.'
  prefs: []
  type: TYPE_NORMAL
- en: To sum up, combining the Piercing pattern with the stochastic oscillator offers
    an extra confirmation factor to the expected reversal. The stochastic oscillator
    can be tweaked as much as needed to calibrate the strategy to the desired frequency
    and profitability. Of course, no strategy works on all assets, but that’s the
    nature of these semi-random environments we call financial markets.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1103.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-3\. Signal chart of the strategy using the Piercing pattern and the
    stochastic oscillator
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Combining the Euphoria Pattern with K’s Envelopes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*K’s envelopes* are a couple of simple 800-period moving averages where one
    is applied on the highs of the price and the other is applied on the lows of the
    price, thus creating a zone. Therefore, it is a dynamic support and resistance
    area that moves with the market price. An important characteristic of K’s envelopes
    is stability, which comes from the fact that the lookback period is significantly
    high, therefore making it relatively immune to short-term fluctuations or noise.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The indicator is extremely simple and is used in determining the current regime
    (bullish or bearish) or to find demand and supply zones whenever the market enters
    the zone. The following block of code shows the function of K’s envelopes:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 11-4](#figure11-4) shows USDCHF with K’s envelopes applied. Notice
    how the envelopes provide a dynamic support and resistance zone.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1104.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-4\. USDCHF with K’s envelopes
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Now, the idea is to combine K’s envelopes with a candlestick pattern. The trading
    conditions of the strategy are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: A long signal is generated whenever a bullish Euphoria pattern appears while
    the current market price is inside K’s envelopes.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A short signal is generated whenever a bearish Euphoria pattern appears while
    the current market price is inside K’s envelopes.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: By being inside K’s envelopes, the market price is therefore pending an expecting
    reaction in the direction that is determined by the Euphoria pattern. In other
    words, the trigger and the direction are given by the Euphoria pattern, while
    the confirmation is given by K’s envelopes.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following code snippet shows how to code the signal function of the strategy:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 11-5](#figure11-5) shows a signal chart with K’s envelopes visible
    on the chart. The signal has been generated due to the appearance of the Euphoria
    pattern within the envelopes.'
  prefs: []
  type: TYPE_NORMAL
- en: The strategy borrows from the field of graphical analysis (support and resistance
    levels) and applies the Euphoria modern candlestick pattern to confirm the demand
    zone or the supply zone.
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1105.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-5\. Signal chart of the strategy using K’s envelopes and the Euphoria
    pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Combining the Barrier Pattern with the RSI-ATR
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: What exactly is the RSI-ATR? Well, you already know that the RSI is a momentum
    indicator and that the ATR is a volatility indicator. You have also seen how to
    code them and use them accordingly. However, fusing them into one indicator is
    something you have not seen yet. The RSI-ATR is a structured indicator composed
    of the directional elements of the RSI and the deflating/inflating properties
    of the ATR. It is used in the same way as the RSI.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: A *structured indicator* is a technical indicator composed of two or more indicators.
    Examples of a structured indicator are the RSI-ATR and the stochastic-RSI (an
    indicator that has the stochastic oscillator and the RSI as building blocks).
  prefs: []
  type: TYPE_NORMAL
- en: 'To calculate the RSI-ATR (by default, the lookback period is 14), follow these
    steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Calculate an RSI on the market price.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Calculate an ATR on the market price using the formula as you know it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Divide the RSI from the first step by the ATR from the second step.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Calculate an RSI on the results of the previous step.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Hence, the RSI-ATR is an RSI calculated on the ratio between the RSI (applied
    on the market price) and the ATR. This is why it is a volatility-weighted indicator.
    The following snippet shows how to create the indicator in Python:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 11-6](#figure11-6) shows the five-period RSI-ATR applied on USDCHF.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1106.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-6\. USDCHF with the 14-period RSI-ATR
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: You must have noticed that there are three parameters when dealing with the
    RSI-ATR as opposed to one parameter with the RSI. The first parameter on the RSI-ATR
    is the lookback period of the RSI, the second parameter is the lookback of the
    ATR, and the third parameter is the lookback of the final RSI.
  prefs: []
  type: TYPE_NORMAL
- en: The RSI-ATR is characterized by more volatility and rate of change than the
    original RSI, thus making it much more reactive to market fluctuations. On the
    other hand, you use it the same way you would use the RSI.
  prefs: []
  type: TYPE_NORMAL
- en: Remember that the Barrier pattern is a modern configuration (see [Chapter 7](ch07.xhtml#chapter7))
    and is simply an embodiment of the concept of support and resistance levels.
  prefs: []
  type: TYPE_NORMAL
- en: 'The trading conditions of the strategy are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: A long signal is generated whenever a bullish Barrier pattern appears while
    the 5-period RSI-ATR is below 20.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A short signal is generated whenever a bearish Barrier pattern appears while
    the 5-period RSI-ATR is above 80.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following code snippet shows how to code the signal function of the strategy:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '[Figure 11-7](#figure11-7) shows a signal chart on AUDNZD.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](assets/mfpr_1107.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-7\. Signal chart of the strategy using RSI-ATR with the Barrier pattern
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: To sum up, the RSI-ATR is an interesting indicator that offers volatility-weighted
    information of the RSI. Combining the indicator with a candlestick pattern that
    is based on the concept of support and resistance levels could yield strong trade
    configurations.
  prefs: []
  type: TYPE_NORMAL
