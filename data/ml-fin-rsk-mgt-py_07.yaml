- en: Chapter 5\. Modeling Market Risk
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬5ç« ã€‚å»ºæ¨¡å¸‚åœºé£é™©
- en: A measure of risk driven by historical data assumes the future will follow the
    pattern of the past. You need to understand the limitations of that assumption.
    More importantly, you need to model scenarios in which that pattern breaks down.
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸºäºå†å²æ•°æ®é©±åŠ¨çš„é£é™©åº¦é‡å‡è®¾æœªæ¥ä¼šéµå¾ªè¿‡å»çš„æ¨¡å¼ã€‚ä½ éœ€è¦ç†è§£è¿™ç§å‡è®¾çš„å±€é™æ€§ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä½ éœ€è¦å»ºæ¨¡é‚£äº›è¿™ç§æ¨¡å¼ä¼šå´©æºƒçš„åœºæ™¯ã€‚
- en: ''
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Miles Kennedy
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿ˆå°”æ–¯Â·è‚¯å°¼è¿ª
- en: Risk is ubiquitous in finance, but it is hard to quantify. First and foremost,
    itâ€™s important to know how to differentiate the sources of financial risks on
    the grounds that it might not be a wise move to use the same tools against risks
    arising from different sources.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: é£é™©åœ¨é‡‘èä¸­æ— å¤„ä¸åœ¨ï¼Œä½†éš¾ä»¥é‡åŒ–ã€‚é¦–è¦çš„æ˜¯è¦çŸ¥é“å¦‚ä½•åŒºåˆ†é‡‘èé£é™©çš„æ¥æºï¼Œå› ä¸ºä½¿ç”¨ç›¸åŒçš„å·¥å…·åº”å¯¹æ¥è‡ªä¸åŒæ¥æºçš„é£é™©å¯èƒ½å¹¶ä¸æ˜æ™ºã€‚
- en: Thus, treating the various sources of financial risk differently is crucial
    because the impacts of those different risks, as well as the tools used to mitigate
    them, are completely different. Assuming that firms are subject to large market
    fluctuations, then all assets in their portfolios are susceptible to risk originating
    from these fluctuations. However, a different tool should be developed to cope
    with a risk emanating from customer profiles. In addition, keep in mind that different
    risk factors contribute significantly to asset prices. All of these examples imply
    that treating risk factors needs careful consideration in finance.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼ŒåŒºåˆ«å¯¹å¾…é‡‘èé£é™©çš„å„ç§æ¥æºè‡³å…³é‡è¦ï¼Œå› ä¸ºè¿™äº›ä¸åŒé£é™©çš„å½±å“ä»¥åŠç”¨äºå‡è½»å®ƒä»¬çš„å·¥å…·æ˜¯å®Œå…¨ä¸åŒçš„ã€‚å‡è®¾å…¬å¸é¢ä¸´ç€å¤§å¹…å¸‚åœºæ³¢åŠ¨ï¼Œé‚£ä¹ˆå…¶æŠ•èµ„ç»„åˆä¸­çš„æ‰€æœ‰èµ„äº§éƒ½å®¹æ˜“å—åˆ°è¿™äº›æ³¢åŠ¨å¸¦æ¥çš„é£é™©å½±å“ã€‚ç„¶è€Œï¼Œåº”å¼€å‘å‡ºä¸åŒçš„å·¥å…·æ¥åº”å¯¹æºè‡ªå®¢æˆ·èµ„æ–™çš„é£é™©ã€‚æ­¤å¤–ï¼Œè¯·è®°ä½ï¼Œä¸åŒçš„é£é™©å› ç´ å¯¹èµ„äº§ä»·æ ¼çš„è´¡çŒ®éå¸¸æ˜¾è‘—ã€‚æ‰€æœ‰è¿™äº›ä¾‹å­éƒ½è¡¨æ˜ï¼Œåœ¨é‡‘èé¢†åŸŸå¤„ç†é£é™©å› ç´ éœ€è¦ä»”ç»†è€ƒè™‘ã€‚
- en: As was briefly discussed previously, these risks are mainly market, credit,
    liquidity, and operational risks. It is evident that some other types can be added
    to this list, but they can be thought of as subbranches of these main four risk
    types, which will be our focus throughout this chapter.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚å‰é¢ç®€è¦è®¨è®ºè¿‡çš„é‚£æ ·ï¼Œè¿™äº›é£é™©ä¸»è¦æ˜¯å¸‚åœºé£é™©ã€ä¿¡ç”¨é£é™©ã€æµåŠ¨æ€§é£é™©å’Œæ“ä½œé£é™©ã€‚æ˜¾ç„¶ï¼Œè¿˜å¯ä»¥æ·»åŠ å…¶ä»–ç±»å‹ï¼Œä½†å¯ä»¥å°†å®ƒä»¬è§†ä¸ºè¿™å››ç§ä¸»è¦é£é™©ç±»å‹çš„åˆ†æ”¯ï¼Œè¿™å°†æ˜¯æœ¬ç« çš„é‡ç‚¹ã€‚
- en: '*Market risk* is the risk arising from changes in financial indicators, such
    as the exchange rate, interest rate, inflation, and so on. Market risk can be
    referred to as risk of losses in on- and off-balance-sheet positions arising from
    movements in market prices (BIS 2020). Letâ€™s now see how these factors affect
    market risk. Suppose that a rise in inflation rates poses a threat to the current
    profitability of the financial institutions, since inflation creates pressures
    on interest rates. This, in turn, affects the cost of funds for borrowers. These
    instances can be amplified, but we should also note the interactions of these
    financial risk sources. That is, when a single source of financial risk changes,
    other risk sources cannot stay constant. Thus to some extent, financial indicators
    are interrelated, meaning that the interactions of these risk sources should be
    taken into account.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '*å¸‚åœºé£é™©*æ˜¯æŒ‡ç”±é‡‘èæŒ‡æ ‡å˜åŒ–å¼•èµ·çš„é£é™©ï¼Œä¾‹å¦‚æ±‡ç‡ã€åˆ©ç‡ã€é€šè´§è†¨èƒ€ç­‰ã€‚å¸‚åœºé£é™©å¯ä»¥è¢«å®šä¹‰ä¸ºåœ¨èµ„äº§è´Ÿå€ºè¡¨å’Œéèµ„äº§è´Ÿå€ºè¡¨å¤´å¯¸ä¸­ç”±å¸‚åœºä»·æ ¼æ³¢åŠ¨å¼•èµ·çš„æŸå¤±é£é™©ï¼ˆBIS
    2020ï¼‰ã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›å› ç´ å¦‚ä½•å½±å“å¸‚åœºé£é™©ã€‚å‡è®¾é€šè´§è†¨èƒ€ç‡ä¸Šå‡å¯¹é‡‘èæœºæ„å½“å‰çš„ç›ˆåˆ©èƒ½åŠ›æ„æˆå¨èƒï¼Œå› ä¸ºé€šè´§è†¨èƒ€ä¼šå¯¹åˆ©ç‡æ–½åŠ å‹åŠ›ï¼Œè¿™åè¿‡æ¥å½±å“å€Ÿæ¬¾äººçš„èµ„é‡‘æˆæœ¬ã€‚è¿™äº›å®ä¾‹å¯èƒ½ä¼šè¢«æ”¾å¤§ï¼Œä½†æˆ‘ä»¬è¿˜åº”æ³¨æ„è¿™äº›é‡‘èé£é™©æ¥æºä¹‹é—´çš„ç›¸äº’ä½œç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªé‡‘èé£é™©æ¥æºå˜åŒ–æ—¶ï¼Œå…¶ä»–é£é™©æ¥æºä¸èƒ½ä¿æŒä¸å˜ã€‚å› æ­¤ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œé‡‘èæŒ‡æ ‡æ˜¯ç›¸äº’å…³è”çš„ï¼Œè¿™æ„å‘³ç€è¿™äº›é£é™©æ¥æºçš„ç›¸äº’ä½œç”¨åº”è¯¥è¢«è€ƒè™‘è¿›å»ã€‚'
- en: 'As you can imagine, there are different tools to manage market risk. Of them,
    the most prominent and widely accepted tools are value at risk (VaR) and expected
    shortfall (ES). The ultimate aim of this chapter is to augment these approaches
    using recent developments in ML. At this juncture, it would be tempting to ask
    the following questions:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€æƒ³è±¡çš„é‚£æ ·ï¼Œæœ‰ä¸åŒçš„å·¥å…·æ¥ç®¡ç†å¸‚åœºé£é™©ã€‚å…¶ä¸­ï¼Œæœ€æ˜¾è‘—å’Œå¹¿æ³›æ¥å—çš„å·¥å…·æ˜¯ä»·å€¼-at-riskï¼ˆVaRï¼‰å’Œé¢„æœŸç¼ºå¤±ï¼ˆESï¼‰ã€‚æœ¬ç« çš„æœ€ç»ˆç›®æ ‡æ˜¯åˆ©ç”¨æœºå™¨å­¦ä¹ çš„æœ€æ–°å‘å±•æ¥å¢å¼ºè¿™äº›æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ—¶åˆ»ï¼Œå¼•äººå…¥èƒœåœ°æå‡ºä»¥ä¸‹é—®é¢˜å¯èƒ½ä¼šå¾ˆè¯±äººï¼š
- en: Do traditional models fail in finance?
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¼ ç»Ÿæ¨¡å‹åœ¨é‡‘èä¸­å¤±è´¥äº†å—ï¼Ÿ
- en: What makes the ML-based model different?
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœºå™¨å­¦ä¹ æ¨¡å‹çš„ç‹¬ç‰¹ä¹‹å¤„æ˜¯ä»€ä¹ˆï¼Ÿ
- en: I will start by tackling the first question. The first and foremost challenge
    that traditional models are unable to address is the complexity of the financial
    system. Due either to some strong assumptions, or simply their inability to capture
    the complexity introduced by the data, long-standing traditional models are starting
    to be replaced by ML-based models.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å°†ä»è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜å¼€å§‹ã€‚ä¼ ç»Ÿæ¨¡å‹æ— æ³•è§£å†³çš„é¦–è¦æŒ‘æˆ˜æ˜¯é‡‘èç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ç”±äºæŸäº›å¼ºçƒˆçš„å‡è®¾æˆ–è€…ç®€å•åœ°æ— æ³•æ•æ‰æ•°æ®å¼•å…¥çš„å¤æ‚æ€§ï¼Œé•¿æœŸä»¥æ¥çš„ä¼ ç»Ÿæ¨¡å‹å¼€å§‹è¢«åŸºäºæœºå™¨å­¦ä¹ çš„æ¨¡å‹æ‰€å–ä»£ã€‚
- en: 'This fact is well put by Prado (2020):'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: Pradoï¼ˆ2020å¹´ï¼‰ç”ŸåŠ¨åœ°è¡¨è¾¾äº†è¿™ä¸€äº‹å®ï¼š
- en: Considering the complexity of modern financial systems, it is unlikely that
    a researcher will be able to uncover the ingredients of a theory by visual inspection
    of the data or by running a few regressions.
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°ç°ä»£é‡‘èç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œç ”ç©¶äººå‘˜ä¸å¤ªå¯èƒ½é€šè¿‡å¯¹æ•°æ®çš„è§†è§‰æ£€æŸ¥æˆ–è¿è¡Œå‡ ä¸ªå›å½’åˆ†ææ¥æ­ç¤ºç†è®ºçš„æ„æˆè¦ç´ ã€‚
- en: 'To address the second question, it would be wise to think about the working
    logic of ML models. ML models, as opposed to old statistical methods, try to unveil
    the associations between variables, identify key variables, and enable us to find
    out the impact of the variables on the dependent variable without the need for
    a well-established theory. This is, in fact, the beauty of ML models in the sense
    that they allow us to discover theories rather than require them:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæ™ºæ…§ä¹‹ä¸¾åº”æ˜¯æ€è€ƒæœºå™¨å­¦ä¹ æ¨¡å‹çš„å·¥ä½œé€»è¾‘ã€‚ä¸æ—§ç»Ÿè®¡æ–¹æ³•ç›¸å¯¹ï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹è¯•å›¾æ­ç¤ºå˜é‡ä¹‹é—´çš„å…³è”ï¼Œè¯†åˆ«å…³é”®å˜é‡ï¼Œå¹¶ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ‰¾å‡ºè¿™äº›å˜é‡å¯¹å› å˜é‡çš„å½±å“ï¼Œè€Œæ— éœ€ä¸€ä¸ªå®Œå¤‡çš„ç†è®ºæ”¯æŒã€‚è¿™å®é™…ä¸Šæ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹ä¹‹ç¾ï¼Œå› ä¸ºå®ƒä»¬è®©æˆ‘ä»¬èƒ½å¤Ÿå‘ç°ç†è®ºï¼Œè€Œä¸æ˜¯ä¾èµ–äºç†è®ºï¼š
- en: Many methods from statistics and machine learning (ML) may, in principle, be
    used for both prediction and inference. However, statistical methods have a long-standing
    focus on inference, which is achieved through the creation and fitting of a project-specific
    probability model...
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ä¸­çš„è®¸å¤šæ–¹æ³•ï¼ŒåŸåˆ™ä¸Šæ—¢å¯ç”¨äºé¢„æµ‹ä¹Ÿå¯ç”¨äºæ¨æ–­ã€‚ç„¶è€Œï¼Œç»Ÿè®¡æ–¹æ³•é•¿æœŸä»¥æ¥ä¸“æ³¨äºæ¨æ–­ï¼Œè¿™æ˜¯é€šè¿‡åˆ›å»ºå’Œæ‹Ÿåˆç‰¹å®šäºé¡¹ç›®çš„æ¦‚ç‡æ¨¡å‹æ¥å®ç°çš„...
- en: ''
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: By contrast, ML concentrates on prediction by using general-purpose learning
    algorithms to find patterns in often rich and unwieldy data.
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç›¸æ¯”ä¹‹ä¸‹ï¼Œæœºå™¨å­¦ä¹ é›†ä¸­äºåˆ©ç”¨é€šç”¨å­¦ä¹ ç®—æ³•åœ¨é€šå¸¸æ˜¯ä¸°å¯Œä¸”éš¾ä»¥å¤„ç†çš„æ•°æ®ä¸­æ‰¾å‡ºæ¨¡å¼æ¥è¿›è¡Œé¢„æµ‹ã€‚
- en: ''
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Bzdok (2018, p. 232)
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Bzdokï¼ˆ2018å¹´ï¼Œç¬¬232é¡µï¼‰
- en: In the following section, weâ€™ll start our discussion on the market risk models.
    First, weâ€™ll talk about the application of the VaR and ES models. After discussing
    the traditional application of these models, we will learn how we can improve
    them by using an ML-based approach. Letâ€™s jump in.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å¼€å§‹è®¨è®ºå¸‚åœºé£é™©æ¨¡å‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†è®¨è®ºVaRå’ŒESæ¨¡å‹çš„åº”ç”¨ã€‚åœ¨è®¨è®ºè¿™äº›ä¼ ç»Ÿæ¨¡å‹çš„åº”ç”¨åï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•é€šè¿‡é‡‡ç”¨åŸºäºæœºå™¨å­¦ä¹ çš„æ–¹æ³•æ¥æ”¹è¿›å®ƒä»¬ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚
- en: Value at Risk (VaR)
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é£é™©ä»·å€¼ï¼ˆVaRï¼‰
- en: The VaR model emerged from a request made by a J.P. Morgan executive who wanted
    to have a summary report showing possible losses as well as risks that J.P. Morgan
    was exposed to on a given day. This report would inform executives about the risks
    assumed by the institution in an aggregated manner. The method by which market
    risk is computed is known as VaR. This report was the starting point of VaR, and
    now it has become so widespread that not only institutions prefer using VaR, but
    its adoption has become required by regulators.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: VaRæ¨¡å‹èµ·æºäºä¸€ä½J.P.æ‘©æ ¹çš„é«˜ç®¡æå‡ºçš„è¦æ±‚ï¼Œä»–å¸Œæœ›æœ‰ä¸€ä»½æ±‡æ€»æŠ¥å‘Šï¼Œæ˜¾ç¤ºJ.P.æ‘©æ ¹åœ¨æŸä¸€å¤©å¯èƒ½é¢ä¸´çš„æŸå¤±ä»¥åŠé£é™©ã€‚è¿™ä»½æŠ¥å‘Šå°†å‘é«˜ç®¡ä»¬å±•ç¤ºæœºæ„æ‰¿æ‹…çš„èšåˆé£é™©ã€‚è®¡ç®—å¸‚åœºé£é™©çš„æ–¹æ³•è¢«ç§°ä¸ºVaRã€‚è¿™ä»½æŠ¥å‘Šæ˜¯VaRçš„èµ·ç‚¹ï¼Œç°åœ¨å®ƒå·²ç»å¦‚æ­¤æ™®åŠï¼Œä¸ä»…æœºæ„å–œæ¬¢ä½¿ç”¨VaRï¼Œç›‘ç®¡æœºæ„ä¹Ÿè¦æ±‚å…¶é‡‡ç”¨ã€‚
- en: 'The adoption of VaR dates back to the 1990s, and despite numerous extensions
    to it and new proposed models, it is still in use. What makes it so appealing?
    The answer comes from Kevin Dowd (2002, p. 10):'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: VaRçš„é‡‡ç”¨å¯ä»¥è¿½æº¯åˆ°ä¸Šä¸–çºª90å¹´ä»£ï¼Œå°½ç®¡å®ƒå·²ç»æœ‰äº†è®¸å¤šæ‰©å±•å’Œæ–°æå‡ºçš„æ¨¡å‹ï¼Œä½†ä»åœ¨ä½¿ç”¨ä¸­ã€‚å®ƒæœ‰ä½•å¸å¼•åŠ›ï¼Ÿç­”æ¡ˆæ¥è‡ªKevin Dowdï¼ˆ2002å¹´ï¼Œç¬¬10é¡µï¼‰ï¼š
- en: The VaR figure has two important characteristics. The first is that it provides
    a common consistent measure of risk across different positions and risk factors.
    It enables us to measure the risk associated with a fixed-income position, say,
    in a way that is comparable to and consistent with a measure of the risk associated
    with equity positions. VaR provides us with a common risk yardstick, and this
    yardstick makes it possible for institutions to manage their risks in new ways
    that were not possible before. The other characteristic of VaR is that it takes
    account of the correlations between different risk factors. If two risks offset
    each other, the VaR allows for this offset and tells us that the overall risk
    is fairly low.
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: VaRæ•°å­—æœ‰ä¸¤ä¸ªé‡è¦ç‰¹å¾ã€‚é¦–å…ˆï¼Œå®ƒæä¾›äº†ä¸€ä¸ªè·¨ä¸åŒå¤´å¯¸å’Œé£é™©å› ç´ çš„é£é™©çš„å¸¸è§ä¸€è‡´åº¦æµ‹é‡ã€‚å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿè¡¡é‡ä¸å›ºå®šæ”¶ç›Šå¤´å¯¸ç›¸å…³çš„é£é™©ï¼Œæ¯”å¦‚ä»¥ä¸è‚¡ç¥¨å¤´å¯¸ç›¸å…³çš„é£é™©è¡¡é‡ç›¸æ¯”è¾ƒä¸”ä¿æŒä¸€è‡´ã€‚VaRä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¸¸è§çš„é£é™©æ ‡å°ºï¼Œè€Œè¿™ä¸ªæ ‡å°ºä½¿æœºæ„èƒ½å¤Ÿä»¥ä¹‹å‰ä¸å¯èƒ½çš„æ–°æ–¹å¼æ¥ç®¡ç†é£é™©ã€‚VaRçš„å¦ä¸€ä¸ªç‰¹å¾æ˜¯å®ƒè€ƒè™‘äº†ä¸åŒé£é™©å› ç´ ä¹‹é—´çš„ç›¸å…³æ€§ã€‚å¦‚æœä¸¤ä¸ªé£é™©ç›¸äº’æŠµæ¶ˆï¼ŒVaRå…è®¸è¿™ç§æŠµæ¶ˆå¹¶å‘Šè¯‰æˆ‘ä»¬æ€»ä½“é£é™©ç›¸å½“ä½ã€‚
- en: 'In fact, VaR addresses one of the most common questions an investor has: *what
    is the maximum expected loss of my investment?*'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼ŒVaRå›ç­”äº†æŠ•èµ„è€…æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ï¼š*æˆ‘çš„æŠ•èµ„çš„æœ€å¤§é¢„æœŸæŸå¤±æ˜¯å¤šå°‘ï¼Ÿ*
- en: VaR provides a very intuitive and practical answer to this question. In this
    regard, it is used to measure the worst expected loss for a company over a given
    period and a pre-defined confidence interval. Suppose that a daily VaR of an investment
    is $1 million with 95% confidence interval. This would read as there being a 5%
    chance that an investor might incur a loss greater than $1 million in a day.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: VaRä¸ºè¿™ä¸ªé—®é¢˜æä¾›äº†ä¸€ä¸ªéå¸¸ç›´è§‚å’Œå®ç”¨çš„ç­”æ¡ˆã€‚åœ¨è¿™æ–¹é¢ï¼Œå®ƒç”¨äºè¡¡é‡å…¬å¸åœ¨ç»™å®šæœŸé—´å’Œé¢„å®šä¹‰ç½®ä¿¡åŒºé—´å†…çš„æœ€åé¢„æœŸæŸå¤±ã€‚å‡è®¾æŸé¡¹æŠ•èµ„çš„æ—¥VaRä¸º$1 millionï¼Œå¹¶ä¸”ç½®ä¿¡åŒºé—´ä¸º95%ã€‚è¿™æ„å‘³ç€æœ‰5%çš„æœºä¼šï¼ŒæŠ•èµ„è€…å¯èƒ½ä¼šåœ¨ä¸€å¤©å†…é­å—è¶…è¿‡$1
    millionçš„æŸå¤±ã€‚
- en: Based on this definition, we can determine that the components of VaR are a
    confidence interval, a time period, the value of an asset or portfolio, and the
    standard deviation, as we are talking about risk.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®è¿™ä¸€å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šVaRçš„ç»„æˆéƒ¨åˆ†æ˜¯ç½®ä¿¡åŒºé—´ã€æ—¶é—´æ®µã€èµ„äº§æˆ–æŠ•èµ„ç»„åˆçš„ä»·å€¼ä»¥åŠæ ‡å‡†åå·®ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨è°ˆè®ºé£é™©ã€‚
- en: 'In summary, there are some important points in VaR analysis that need to be
    highlighted:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ç»“æ¥è¯´ï¼Œåœ¨VaRåˆ†æä¸­éœ€è¦å¼ºè°ƒä¸€äº›é‡è¦ç‚¹ï¼š
- en: VaR needs an estimation of the probability of loss.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VaRéœ€è¦ä¼°è®¡æŸå¤±çš„æ¦‚ç‡ã€‚
- en: VaR concentrates on the potential losses. We are not talking about actual or
    realized losses; rather, VaR is a kind of loss projection.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VaRé›†ä¸­åœ¨æ½œåœ¨çš„æŸå¤±ä¸Šã€‚æˆ‘ä»¬è°ˆè®ºçš„ä¸æ˜¯å®é™…çš„æˆ–å·²å®ç°çš„æŸå¤±ï¼›ç›¸åï¼ŒVaRæ˜¯ä¸€ç§æŸå¤±é¢„æµ‹ã€‚
- en: 'VaR has three key ingredients:'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VaRæœ‰ä¸‰ä¸ªå…³é”®è¦ç´ ï¼š
- en: Standard deviation that defines the level of loss.
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®šä¹‰æŸå¤±æ°´å¹³çš„æ ‡å‡†åå·®ã€‚
- en: Fixed time horizon over which risk is assessed.
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›ºå®šçš„æ—¶é—´è·¨åº¦ç”¨äºè¯„ä¼°é£é™©ã€‚
- en: Confidence interval.
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç½®ä¿¡åŒºé—´ã€‚
- en: 'VaR can be measured via three different approaches:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: VaRå¯ä»¥é€šè¿‡ä¸‰ç§ä¸åŒçš„æ–¹æ³•æ¥è¡¡é‡ï¼š
- en: Variance-covariance VaR
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–¹å·®-åæ–¹å·®VaR
- en: Historical simulation VaR
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†å²æ¨¡æ‹ŸVaR
- en: Monte Carlo VaR
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è’™ç‰¹å¡æ´›VaR
- en: Variance-Covariance Method
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ–¹å·®-åæ–¹å·®æ–¹æ³•
- en: The variance-covariance method is also known as the *parametric* method, because
    observations are assumed to be normally distributed. The variance-covariance method
    is commonplace in that returns are deemed to follow normal distribution. The parametric
    form assumption makes the application of variance-covariance method easy.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: æ–¹å·®-åæ–¹å·®æ–¹æ³•ä¹Ÿè¢«ç§°ä¸º*å‚æ•°*æ–¹æ³•ï¼Œå› ä¸ºå‡è®¾è§‚å¯Ÿå€¼æœä»æ­£æ€åˆ†å¸ƒã€‚æ–¹å·®-åæ–¹å·®æ–¹æ³•åœ¨å›æŠ¥è¢«è®¤ä¸ºæ˜¯æ­£æ€åˆ†å¸ƒæ—¶å¾ˆæ™®éã€‚å‚æ•°å½¢å¼çš„å‡è®¾ä½¿å¾—æ–¹å·®-åæ–¹å·®æ–¹æ³•çš„åº”ç”¨å˜å¾—å®¹æ˜“ã€‚
- en: As in all VaR approaches, we can either work with a single asset or a portfolio.
    However, working with a portfolio requires careful treatment in the sense that
    correlation structure and portfolio variance need to be estimated. At this point,
    correlation comes into the picture, and historical data is used to calculate correlation,
    mean, and standard deviation. When augmenting this with an ML-based approach,
    correlation structure will be our main focus.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: å°±åƒæ‰€æœ‰çš„VaRæ–¹æ³•ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¸€èµ„äº§æˆ–æŠ•èµ„ç»„åˆã€‚ç„¶è€Œï¼Œä½¿ç”¨æŠ•èµ„ç»„åˆéœ€è¦ä»”ç»†å¤„ç†ï¼Œå› ä¸ºéœ€è¦ä¼°è®¡ç›¸å…³ç»“æ„å’ŒæŠ•èµ„ç»„åˆæ–¹å·®ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œç›¸å…³æ€§å˜å¾—é‡è¦ï¼Œå¹¶ä¸”ä½¿ç”¨å†å²æ•°æ®æ¥è®¡ç®—ç›¸å…³æ€§ã€å‡å€¼å’Œæ ‡å‡†åå·®ã€‚åœ¨ç”¨MLæ–¹æ³•å¢å¼ºæ—¶ï¼Œç›¸å…³ç»“æ„å°†æ˜¯æˆ‘ä»¬çš„ä¸»è¦å…³æ³¨ç‚¹ã€‚
- en: 'Suppose that we have a portfolio consisting of a single asset, as shown in
    [FigureÂ 5-1](#VaR_illustration). It is shown that the return of this asset is
    zero and standard deviation is 1, and if the holding period is 1, the corresponding
    VaR value can be computed from the value of the asset by the corresponding Z-value
    and standard deviation. Hence, the normality assumption makes things easier, but
    it is a strong assumption, as there is no guarantee that asset returns are normally
    distributed; rather, most asset returns do not follow a normal distribution. Moreover,
    due to the normality assumption, potential risk in tail might not be captured.
    Therefore the normality assumption comes with a cost. See the following:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”±å•ä¸€èµ„äº§ç»„æˆçš„æŠ•èµ„ç»„åˆï¼Œå¦‚[å›¾ 5-1](#VaR_illustration)æ‰€ç¤ºã€‚æ˜¾ç¤ºè¯¥èµ„äº§çš„å›æŠ¥ä¸ºé›¶ï¼Œæ ‡å‡†å·®ä¸º1ï¼Œå¦‚æœæŒæœ‰æœŸä¸º1ï¼Œåˆ™å¯ä»¥é€šè¿‡è¯¥èµ„äº§çš„ä»·å€¼å’Œç›¸åº”çš„Zå€¼ä»¥åŠæ ‡å‡†å·®è®¡ç®—ç›¸åº”çš„VaRå€¼ã€‚å› æ­¤ï¼Œæ­£æ€æ€§å‡è®¾ä½¿äº‹æƒ…å˜å¾—æ›´å®¹æ˜“ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¼ºå‡è®¾ï¼Œå› ä¸ºä¸èƒ½ä¿è¯èµ„äº§å›æŠ¥æœä»æ­£æ€åˆ†å¸ƒï¼›ç›¸åï¼Œå¤§å¤šæ•°èµ„äº§å›æŠ¥å¹¶ä¸æœä»æ­£æ€åˆ†å¸ƒã€‚æ­¤å¤–ï¼Œç”±äºæ­£æ€æ€§å‡è®¾ï¼Œå¯èƒ½æ— æ³•æ•æ‰åˆ°å°¾éƒ¨çš„æ½œåœ¨é£é™©ã€‚å› æ­¤ï¼Œæ­£æ€æ€§å‡è®¾æ˜¯æœ‰ä»£ä»·çš„ã€‚å‚è§ä»¥ä¸‹å†…å®¹ï¼š
- en: '[PRE0]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO1-1)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO1-1)'
- en: Generating probability density function based on given `x`, mean, and standard
    deviation
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºç»™å®šçš„`x`ã€å‡å€¼å’Œæ ‡å‡†å·®ç”Ÿæˆæ¦‚ç‡å¯†åº¦å‡½æ•°
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO1-2)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO1-2)'
- en: Limiting the x-axis and y-axis
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: é™åˆ¶xè½´å’Œyè½´
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO1-3)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO1-3)'
- en: Specifying the location of `x` at 5% percentile of the `x` data
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: æŒ‡å®š`x`ä½äº`x`æ•°æ®çš„5%åˆ†ä½æ•°çš„ä½ç½®
- en: '![VaR_illustration](assets/mlfr_0501.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![VaR_illustration](assets/mlfr_0501.png)'
- en: Figure 5-1\. VaR illustration
  id: totrans-51
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾ 5-1\. VaR æ’å›¾
- en: Note
  id: totrans-52
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: Following Fama (1965), it was realized that stock price returns do not follow
    normal distribution due to fat tail and asymmetry. This empirical observation
    implies that stock returns have higher kurtosis than that of a normal distribution.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®Famaï¼ˆ1965ï¼‰çš„ç ”ç©¶ï¼Œç”±äºåšå°¾å’Œä¸å¯¹ç§°æ€§ï¼Œè‚¡ç¥¨ä»·æ ¼å›æŠ¥å¹¶ä¸æœä»æ­£æ€åˆ†å¸ƒã€‚è¿™ä¸€å®è¯è§‚å¯Ÿæ„å‘³ç€è‚¡ç¥¨å›æŠ¥çš„å³°åº¦é«˜äºæ­£æ€åˆ†å¸ƒã€‚
- en: Having high kurtosis amounts to fat tail, and this is able to capture the extreme
    negative returns. As the variance-covariance method is unable to capture fat tail,
    it cannot, therefore, estimate extreme negative returns that are likely to occur,
    especially in periods of crisis.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: é«˜å³°åº¦å¯¹åº”äºåšå°¾ï¼Œè¿™èƒ½å¤Ÿæ•æ‰æç«¯è´Ÿå›æŠ¥ã€‚ç”±äºæ–¹å·®-åæ–¹å·®æ–¹æ³•æ— æ³•æ•æ‰åšå°¾ï¼Œå› æ­¤æ— æ³•ä¼°è®¡å¯èƒ½å‘ç”Ÿçš„æç«¯è´Ÿå›æŠ¥ï¼Œç‰¹åˆ«æ˜¯åœ¨å±æœºæœŸé—´ã€‚
- en: 'Letâ€™s see how we apply the variance-covariance VaR in Python. To illustrate,
    letâ€™s consider a two-asset portfolio. The formula of the variance-covariance VaR
    is as follows:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨Pythonä¸­åº”ç”¨æ–¹å·®-åæ–¹å·®VaRã€‚ä¸ºäº†è¯´æ˜ï¼Œè®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªåŒèµ„äº§ç»„åˆã€‚æ–¹å·®-åæ–¹å·®VaRçš„å…¬å¼å¦‚ä¸‹ï¼š
- en: <math alttext="dollar-sign VaR equals upper V sigma Subscript p Baseline StartRoot
    t EndRoot upper Z Subscript alpha Baseline dollar-sign"><mrow><mtext>VaR</mtext>
    <mo>=</mo> <mi>V</mi> <msub><mi>Ïƒ</mi> <mi>p</mi></msub> <msqrt><mi>t</mi></msqrt>
    <msub><mi>Z</mi> <mi>Î±</mi></msub></mrow></math><math alttext="dollar-sign sigma
    Subscript p Baseline equals StartRoot w 1 squared sigma 1 squared plus w 2 squared
    sigma 2 squared plus rho w 1 w 2 sigma 1 sigma 2 EndRoot dollar-sign"><mrow><msub><mi>Ïƒ</mi>
    <mi>p</mi></msub> <mo>=</mo> <msqrt><mrow><msubsup><mi>w</mi> <mn>1</mn> <mn>2</mn></msubsup>
    <msubsup><mi>Ïƒ</mi> <mn>1</mn> <mn>2</mn></msubsup> <mo>+</mo> <msubsup><mi>w</mi>
    <mn>2</mn> <mn>2</mn></msubsup> <msubsup><mi>Ïƒ</mi> <mn>2</mn> <mn>2</mn></msubsup>
    <mo>+</mo> <mi>Ï</mi> <msub><mi>w</mi> <mn>1</mn></msub> <msub><mi>w</mi> <mn>2</mn></msub>
    <msub><mi>Ïƒ</mi> <mn>1</mn></msub> <msub><mi>Ïƒ</mi> <mn>2</mn></msub></mrow></msqrt></mrow></math><math
    alttext="dollar-sign sigma Subscript p Baseline equals StartRoot w 1 sigma 1 plus
    w 2 plus sigma plus 2 w 1 w 2 sigma-summation Underscript 1 comma 2 Endscripts
    EndRoot dollar-sign"><mrow><msub><mi>Ïƒ</mi> <mi>p</mi></msub> <mo>=</mo> <msqrt><mrow><msub><mi>w</mi>
    <mn>1</mn></msub> <msub><mi>Ïƒ</mi> <mn>1</mn></msub> <mo>+</mo> <msub><mi>w</mi>
    <mn>2</mn></msub> <mo>+</mo> <mi>Ïƒ</mi> <mo>+</mo> <mn>2</mn> <msub><mi>w</mi>
    <mn>1</mn></msub> <msub><mi>w</mi> <mn>2</mn></msub> <msub><mo>âˆ‘</mo> <mrow><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mrow></msqrt></mrow></math>
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign VaR equals upper V sigma Subscript p Baseline StartRoot
    t EndRoot upper Z Subscript alpha Baseline dollar-sign"><mrow><mtext>VaR</mtext>
    <mo>=</mo> <mi>V</mi> <msub><mi>Ïƒ</mi> <mi>p</mi></msub> <msqrt><mi>t</mi></msqrt>
    <msub><mi>Z</mi> <mi>Î±</mi></msub></mrow></math><math alttext="dollar-sign sigma
    Subscript p Baseline equals StartRoot w 1 squared sigma 1 squared plus w 2 squared
    sigma 2 squared plus rho w 1 w 2 sigma 1 sigma 2 EndRoot dollar-sign"><mrow><msub><mi>Ïƒ</mi>
    <mi>p</mi></msub> <mo>=</mo> <msqrt><mrow><msubsup><mi>w</mi> <mn>1</mn> <mn>2</mn></msubsup>
    <msubsup><mi>Ïƒ</mi> <mn>1</mn> <mn>2</mn></msubsup> <mo>+</mo> <msubsup><mi>w</mi>
    <mn>2</mn> <mn>2</mn></msubsup> <msubsup><mi>Ïƒ</mi> <mn>2</mn> <mn>2</mn></msubsup>
    <mo>+</mo> <mi>Ï</mi> <msub><mi>w</mi> <mn>1</mn></msub> <msub><mi>w</mi> <mn>2</mn></msub>
    <msub><mi>Ïƒ</mi> <mn>1</mn></msub> <msub><mi>Ïƒ</mi> <mn>2</mn></msub></mrow></msqrt></mrow></math><math
    alttext="dollar-sign sigma Subscript p Baseline equals StartRoot w 1 sigma 1 plus
    w 2 plus sigma plus 2 w 1 w 2 sigma-summation Underscript 1 comma 2 Endscripts
    EndRoot dollar-sign"><mrow><msub><mi>Ïƒ</mi> <mi>p</mi></msub> <mo>=</mo> <msqrt><mrow><msub><mi>w</mi>
    <mn>1</mn></msub> <msub><mi>Ïƒ</mi> <mn>1</mn></msub> <mo>+</mo> <msub><mi>w</mi>
    <mn>2</mn></msub> <mo>+</mo> <mi>Ïƒ</mi> <mo>+</mo> <mn>2</mn> <msub><mi>w</mi>
    <mn>1</mn></msub> <msub><mi>w</mi> <mn>2</mn></msub> <msub><mo>âˆ‘</mo> <mrow><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mrow></msqrt></mrow></math>
- en: 'To apply this in code, we start with the following:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨ä»£ç ä¸­åº”ç”¨æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬ä»ä»¥ä¸‹å†…å®¹å¼€å§‹ï¼š
- en: '[PRE1]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO2-1)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO2-1)'
- en: Identifying the parameters to be used in extracting data from Alpha Vantage
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®šä» Alpha Vantage æå–æ•°æ®æ—¶è¦ä½¿ç”¨çš„å‚æ•°ã€‚
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO2-2)'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO2-2)'
- en: Making a request to the Alpha Vantage website
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: å‘ Alpha Vantage ç½‘ç«™å‘å‡ºè¯·æ±‚ã€‚
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO2-3)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO2-3)'
- en: Opening the response file, which is in a text format
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰“å¼€å“åº”æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä»¥æ–‡æœ¬æ ¼å¼å­˜åœ¨ã€‚
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO2-4)'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO2-4)'
- en: Reversing the data that covers the period of 2019-01 to 2019-12 and appending
    the daily stock prices of IBM, MSFT, and INTC
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åè½¬æ¶µç›– 2019-01 è‡³ 2019-12 æœŸé—´çš„æ•°æ®ï¼Œå¹¶é™„åŠ  IBMã€MSFT å’Œ INTC çš„æ¯æ—¥è‚¡ä»·ã€‚
- en: Note
  id: totrans-67
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: Alpha Vantage is a data-providing company that partners with major exchanges
    and institutions. Using Alpha Vantageâ€™s API, it is possible to access stock prices
    with various time intervals (intraday, daily, weekly, and so on), stock fundamentals,
    and foreign exchange information. For more information, please see [Alpha Vantageâ€™s
    website](https://oreil.ly/ByZYD).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Alpha Vantage æ˜¯ä¸€å®¶ä¸ä¸»è¦äº¤æ˜“æ‰€å’Œæœºæ„åˆä½œçš„æ•°æ®æä¾›å…¬å¸ã€‚åˆ©ç”¨ Alpha Vantage çš„ APIï¼Œå¯ä»¥è·å–å„ç§æ—¶é—´é—´éš”ï¼ˆæ—¥å†…ã€æ—¥å¸¸ã€æ¯å‘¨ç­‰ï¼‰çš„è‚¡ç¥¨ä»·æ ¼ã€è‚¡ç¥¨åŸºæœ¬é¢å’Œå¤–æ±‡ä¿¡æ¯ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®[Alpha
    Vantage çš„ç½‘ç«™](https://oreil.ly/ByZYD)ã€‚
- en: 'We then perform our calculations:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬è¿›è¡Œè®¡ç®—ï¼š
- en: '[PRE2]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO3-1)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO3-1)'
- en: Calculating logarithmic return
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—å¯¹æ•°æ”¶ç›Šç‡ã€‚
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO3-2)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO3-2)'
- en: Drawing random numbers for weights
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ç»˜åˆ¶æƒé‡çš„éšæœºæ•°ã€‚
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO3-3)'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO3-3)'
- en: Generating weights
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆæƒé‡ã€‚
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO3-4)'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO3-4)'
- en: Calculating covariance matrix
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—åæ–¹å·®çŸ©é˜µã€‚
- en: '[![5](assets/5.png)](#co_modeling_market_risk_CO3-5)'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_modeling_market_risk_CO3-5)'
- en: Finding the portfolio standard deviation
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥æ‰¾æŠ•èµ„ç»„åˆæ ‡å‡†åå·®ã€‚
- en: '[![6](assets/6.png)](#co_modeling_market_risk_CO3-6)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_modeling_market_risk_CO3-6)'
- en: Computing the Z-score for a specific value using the percent point function
    (`ppf`)
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ç™¾åˆ†ç‚¹å‡½æ•° (`ppf`) è®¡ç®—ç‰¹å®šå€¼çš„ Z åˆ†æ•°
- en: '[![7](assets/7.png)](#co_modeling_market_risk_CO3-7)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_modeling_market_risk_CO3-7)'
- en: Estimating the variance-covariance VaR model
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼°ç®—æ–¹å·®-åæ–¹å·® VaR æ¨¡å‹
- en: VaR changes depending on the time horizon in the sense that holding assets for
    a longer period makes an investor more susceptible to risk. As shown in [FigureÂ 5-2](#VaR_horizon),
    VaR increases in relation to holding time by the amount of <math alttext="StartRoot
    t EndRoot"><msqrt><mi>t</mi></msqrt></math> . Additionally, the holding period
    is the longest period for portfolio liquidation. Taking into account the reporting
    purpose, a 30-day period may be a more suitable one for an investor. Therefore,
    weâ€™ll illustrate that period in the following code, in which we generate [FigureÂ 5-2](#VaR_horizon).
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: VaR éšæ—¶é—´è·¨åº¦å˜åŒ–ï¼Œè¿™æ„å‘³ç€æŒæœ‰èµ„äº§çš„æ—¶é—´è¶Šé•¿ï¼ŒæŠ•èµ„è€…è¶Šå®¹æ˜“å—åˆ°é£é™©çš„å½±å“ã€‚å¦‚[å›¾ 5-2](#VaR_horizon)æ‰€ç¤ºï¼ŒVaR éšæŒæœ‰æ—¶é—´çš„å¢åŠ è€Œå¢åŠ ã€‚æ­¤å¤–ï¼ŒæŒæœ‰æœŸæ˜¯æŠ•èµ„ç»„åˆæ¸…ç®—çš„æœ€é•¿æœŸé™ã€‚è€ƒè™‘åˆ°æŠ¥å‘Šç›®çš„ï¼Œ30
    å¤©å¯èƒ½æ›´é€‚åˆæŠ•èµ„è€…ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„ä»£ç ä¸­è¯´æ˜è¯¥æœŸé™ï¼Œåœ¨å…¶ä¸­ç”Ÿæˆ[å›¾ 5-2](#VaR_horizon)ã€‚
- en: '[PRE3]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The pros and cons of the variance-covariance method are as follows:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: æ–¹å·®-åæ–¹å·®æ–¹æ³•çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š
- en: Pros
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼˜åŠ¿
- en: Easy to calculate
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜“äºè®¡ç®—
- en: Does not require a large number of samples
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸éœ€è¦å¤§é‡æ ·æœ¬
- en: Cons
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼ºç‚¹
- en: Observations are normally distributed
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è§‚å¯Ÿå€¼å‘ˆæ­£æ€åˆ†å¸ƒ
- en: Does not work well with nonlinear structures
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨éçº¿æ€§ç»“æ„ä¸‹æ•ˆæœä¸ä½³
- en: Requires the computation of the covariance matrix
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éœ€è¦è®¡ç®—åæ–¹å·®çŸ©é˜µ
- en: '![VaR_horizon](assets/mlfr_0502.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![VaR_horizon](assets/mlfr_0502.png)'
- en: Figure 5-2\. VaR over different horizons
  id: totrans-96
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾ 5-2\. ä¸åŒæ—¶é—´è·¨åº¦ä¸‹çš„ VaR
- en: So, even though assuming normality sounds appealing, it may not be the best
    way to estimate VaR, especially in the case where the asset returns do not have
    a normal distribution. Luckily, there is another method that does not have a normality
    assumption, namely the historical simulation VaR model.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå³ä½¿å‡è®¾æ­£æ€æ€§å¬èµ·æ¥å¾ˆå¸å¼•äººï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ä¼°ç®— VaR çš„æœ€ä½³æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯å½“èµ„äº§å›æŠ¥ä¸ç¬¦åˆæ­£æ€åˆ†å¸ƒæ—¶ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿˜æœ‰å¦ä¸€ç§ä¸éœ€è¦æ­£æ€æ€§å‡è®¾çš„æ–¹æ³•ï¼Œå³å†å²æ¨¡æ‹Ÿ
    VaR æ¨¡å‹ã€‚
- en: The Historical Simulation Method
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å†å²æ¨¡æ‹Ÿæ–¹æ³•
- en: 'Having strong assumptions, such as a normal distribution, might be the cause
    of inaccurate estimations. A solution to this issue is the historical simulation
    VaR. This is an empirical method: instead of using a parametric approach, we find
    the percentile, which is the Z-table equivalent of variance-covariance method.
    Suppose that the confidence interval is 95%; 5% will be used in lieu of the Z-table
    values, and all we need to do is to multiply this percentile by the initial investment.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: å¼ºå‡è®¾ï¼Œå¦‚æ­£æ€åˆ†å¸ƒï¼Œå¯èƒ½å¯¼è‡´ä¼°ç®—ä¸å‡†ç¡®ã€‚è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•æ˜¯å†å²æ¨¡æ‹Ÿ VaRã€‚è¿™æ˜¯ä¸€ç§ç»éªŒæ–¹æ³•ï¼šæˆ‘ä»¬ä¸ä½¿ç”¨å‚æ•°åŒ–æ–¹æ³•ï¼Œè€Œæ˜¯æ‰¾åˆ°ç™¾åˆ†ä½æ•°ï¼Œè¿™ç›¸å½“äºæ–¹å·®-åæ–¹å·®æ–¹æ³•ä¸­çš„
    Z è¡¨ç­‰æ•ˆç‰©ã€‚å‡è®¾ç½®ä¿¡åŒºé—´ä¸º 95%ï¼Œåˆ™ä½¿ç”¨ 5% ä»£æ›¿ Z è¡¨çš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å°†è¯¥ç™¾åˆ†ä½æ•°ä¹˜ä»¥åˆå§‹æŠ•èµ„ã€‚
- en: 'The following are the steps taken in the historical simulation VaR:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: å†å²æ¨¡æ‹Ÿ VaR çš„æ­¥éª¤å¦‚ä¸‹ï¼š
- en: Obtain the asset returns of the portfolio (or individual asset)
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è·å–æŠ•èµ„ç»„åˆï¼ˆæˆ–å•ä¸ªèµ„äº§ï¼‰çš„èµ„äº§å›æŠ¥
- en: Find the corresponding return percentile based on confidence interval
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ ¹æ®ç½®ä¿¡åŒºé—´æ‰¾åˆ°ç›¸åº”çš„è¿”å›ç™¾åˆ†ä½æ•°
- en: Multiply this percentile by initial investment
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†è¯¥ç™¾åˆ†ä½æ•°ä¹˜ä»¥åˆå§‹æŠ•èµ„
- en: 'To do this in code, we can define the following function:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: è‹¥è¦åœ¨ä»£ç ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä»¥ä¸‹å‡½æ•°ï¼š
- en: '[PRE4]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO4-1)'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO4-1)'
- en: Calculating the 95% percentile of stock returns
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—è‚¡ç¥¨å›æŠ¥çš„ 95% ç™¾åˆ†ä½æ•°
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO4-2)'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO4-2)'
- en: Estimating the historical simulation VaR
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼°ç®—å†å²æ¨¡æ‹Ÿ VaR
- en: 'The historical simulation VaR method implicitly assumes that historical price
    changes have a similar pattern, i.e., that there is no structural break. The pros
    and cons of this method are as follows:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: å†å²æ¨¡æ‹Ÿ VaR æ–¹æ³•éšå«åœ°å‡è®¾å†å²ä»·æ ¼å˜åŠ¨å…·æœ‰ç±»ä¼¼çš„æ¨¡å¼ï¼Œå³ä¸å­˜åœ¨ç»“æ„æ€§æ–­è£‚ã€‚æ­¤æ–¹æ³•çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š
- en: Pros
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼˜åŠ¿
- en: No distributional assumption
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ— åˆ†å¸ƒå‡è®¾
- en: Works well with nonlinear structures
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é€‚ç”¨äºéçº¿æ€§ç»“æ„
- en: Easy to calculate
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜“äºè®¡ç®—
- en: Cons
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼ºç‚¹
- en: Requires a large sample
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éœ€è¦å¤§æ ·æœ¬
- en: Needs high computing power
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éœ€è¦é«˜è®¡ç®—èƒ½åŠ›
- en: The Monte Carlo Simulation VaR
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ VaR
- en: Before delving into the Monte Carlo simulation VaR estimation, it would be good
    to briefly introduce the Monte Carlo simulation. Monte Carlo is a computerized
    mathematical method used to make an estimation in cases where there is no closed-form
    solution, so it is a highly efficient tool for numerical approximation. Monte
    Carlo relies on repeated random samples from a given distribution.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ·±å…¥æ¢è®¨è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿ VaR ä¼°è®¡ä¹‹å‰ï¼Œç®€è¦ä»‹ç»ä¸€ä¸‹è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿä¼šå¾ˆæœ‰å¥½å¤„ã€‚è’™ç‰¹å¡ç½—æ˜¯ä¸€ç§è®¡ç®—æ•°å€¼é€¼è¿‘çš„é«˜æ•ˆå·¥å…·ï¼Œç”¨äºæ²¡æœ‰é—­å¼è§£çš„æƒ…å†µä¸‹è¿›è¡Œä¼°è®¡ã€‚è’™ç‰¹å¡ç½—ä¾èµ–äºä»ç»™å®šåˆ†å¸ƒä¸­é‡å¤ç”Ÿæˆçš„éšæœºæ ·æœ¬ã€‚
- en: 'The logic behind Monte Carlo is well defined by Glasserman (2003, p. 11):'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: è’™ç‰¹å¡ç½—èƒŒåçš„é€»è¾‘ç”± Glassermanï¼ˆ2003, p. 11ï¼‰å®šä¹‰å¦‚ä¸‹ï¼š
- en: Monte Carlo methods are based on the analogy between probability and volume.
    The mathematics of measure formalizes the intuitive notion of probability, associating
    an event with a set of outcomes and defining the probability of the event to be
    its volume or measure relative to that of a universe of possible outcomes. Monte
    Carlo uses this identity in reverse, calculating the volume of a set by interpreting
    the volume as a probability.
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è’™ç‰¹å¡ç½—æ–¹æ³•åŸºäºæ¦‚ç‡ä¸ä½“ç§¯çš„ç±»æ¯”ã€‚æµ‹åº¦çš„æ•°å­¦å½¢å¼åŒ–äº†æ¦‚ç‡çš„ç›´è§‚æ¦‚å¿µï¼Œå°†äº‹ä»¶ä¸ä¸€ç»„ç»“æœç›¸å…³è”ï¼Œå¹¶å°†äº‹ä»¶çš„æ¦‚ç‡å®šä¹‰ä¸ºå…¶ç›¸å¯¹äºå¯èƒ½ç»“æœå®‡å®™çš„ä½“ç§¯æˆ–æµ‹åº¦ã€‚è’™ç‰¹å¡ç½—ä»¥åå‘æ–¹å¼ä½¿ç”¨æ­¤æ ‡è¯†ï¼Œé€šè¿‡è§£é‡Šä½“ç§¯ä¸ºæ¦‚ç‡æ¥è®¡ç®—é›†åˆçš„ä½“ç§¯ã€‚
- en: From the application standpoint, Monte Carlo is very similar to the historical
    simulation VaR, but it does not use historical observations. Rather, it generates
    random samples from a given distribution. Monte Carlo helps decision makers by
    providing links between possible outcomes and probabilities, which makes it an
    efficient and applicable tool in finance.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: ä»åº”ç”¨çš„è§’åº¦æ¥çœ‹ï¼Œè’™ç‰¹å¡ç½—ä¸å†å²æ¨¡æ‹Ÿ VaR éå¸¸ç›¸ä¼¼ï¼Œä½†å®ƒä¸ä½¿ç”¨å†å²è§‚å¯Ÿå€¼ã€‚ç›¸åï¼Œå®ƒä»ç»™å®šåˆ†å¸ƒä¸­ç”Ÿæˆéšæœºæ ·æœ¬ã€‚è’™ç‰¹å¡ç½—é€šè¿‡æä¾›å¯èƒ½ç»“æœå’Œæ¦‚ç‡ä¹‹é—´çš„è”ç³»æ¥å¸®åŠ©å†³ç­–è€…ï¼Œä½¿å…¶æˆä¸ºé‡‘èä¸­é«˜æ•ˆå’Œé€‚ç”¨çš„å·¥å…·ã€‚
- en: 'Mathematical Monte Carlo can be defined in the following way:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°å­¦è’™ç‰¹å¡ç½—å¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š
- en: 'Let <math alttext="upper X 1 comma upper X 2 comma ellipsis comma upper X Subscript
    n Baseline"><mrow><msub><mi>X</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>X</mi>
    <mn>2</mn></msub> <mo>,</mo> <mo>â‹¯</mo> <mo>,</mo> <msub><mi>X</mi> <mi>n</mi></msub></mrow></math>
    be independent and identically distributed random variables, and f(x) be a real-valued
    function. The law of large numbers states that:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: è®© <math alttext="upper X 1 comma upper X 2 comma ellipsis comma upper X Subscript
    n Baseline"><mrow><msub><mi>X</mi> <mn>1</mn></msub> <mo>,</mo> <msub><mi>X</mi>
    <mn>2</mn></msub> <mo>,</mo> <mo>â‹¯</mo> <mo>,</mo> <msub><mi>X</mi> <mi>n</mi></msub></mrow></math>
    ä¸ºç‹¬ç«‹åŒåˆ†å¸ƒçš„éšæœºå˜é‡ï¼Œå¹¶ä¸” f(x) æ˜¯å®å€¼å‡½æ•°ã€‚å¤§æ•°æ³•åˆ™è¡¨æ˜ï¼š
- en: <math alttext="sans-serif upper E left-parenthesis f left-parenthesis upper
    X right-parenthesis right-parenthesis almost-equals StartFraction 1 Over upper
    N EndFraction sigma-summation Underscript i Overscript upper N Endscripts f left-parenthesis
    upper X Subscript i Baseline right-parenthesis" display="block"><mrow><mi>ğ–¤</mi>
    <mrow><mo>(</mo> <mi>f</mi> <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow> <mo>)</mo></mrow>
    <mo>â‰ˆ</mo> <mfrac><mn>1</mn> <mi>N</mi></mfrac> <munderover><mo>âˆ‘</mo> <mi>i</mi>
    <mi>N</mi></munderover> <mi>f</mi> <mrow><mo>(</mo> <msub><mi>X</mi> <mi>i</mi></msub>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sans-serif upper E left-parenthesis f left-parenthesis upper
    X right-parenthesis right-parenthesis almost-equals StartFraction 1 Over upper
    N EndFraction sigma-summation Underscript i Overscript upper N Endscripts f left-parenthesis
    upper X Subscript i Baseline right-parenthesis" display="block"><mrow><mi>ğ–¤</mi>
    <mrow><mo>(</mo> <mi>f</mi> <mrow><mo>(</mo> <mi>X</mi> <mo>)</mo></mrow> <mo>)</mo></mrow>
    <mo>â‰ˆ</mo> <mfrac><mn>1</mn> <mi>N</mi></mfrac> <munderover><mo>âˆ‘</mo> <mi>i</mi>
    <mi>N</mi></munderover> <mi>f</mi> <mrow><mo>(</mo> <msub><mi>X</mi> <mi>i</mi></msub>
    <mo>)</mo></mrow></mrow></math>
- en: 'So in a nutshell, a Monte Carlo simulation is doing nothing but generating
    random samples and calculating their mean. Computationally, it follows these steps:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œè’™ç‰¹å¡ç½—æ¨¡æ‹Ÿä»€ä¹ˆéƒ½åœ¨åšéšæœºç”Ÿæˆæ ·æœ¬å¹¶è®¡ç®—å®ƒä»¬çš„å‡å€¼ã€‚åœ¨è®¡ç®—ä¸Šï¼Œå®ƒéµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
- en: Define the domain
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®šä¹‰åŸŸ
- en: Generate random numbers
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç”Ÿæˆéšæœºæ•°
- en: Iterate and aggregate the result
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è¿­ä»£å’Œæ±‡æ€»ç»“æœ
- en: The determination of mathematical <math alttext="pi"><mi>Ï€</mi></math> is a
    simple but illustrative example of Monte Carlo application.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®šæ•°å­¦ <math alttext="pi"><mi>Ï€</mi></math> çš„æ–¹æ³•æ˜¯è’™ç‰¹å¡ç½—åº”ç”¨çš„ç®€å•ä½†æœ‰è¯´æ˜æ€§çš„ä¾‹å­ã€‚
- en: 'Suppose we have a circle with radius *r* = 1 and an area of 4\. The area of
    a circle is <math alttext="pi"><mi>Ï€</mi></math> , and area of a square in which
    we try to fit the circle is 4\. The ratio turns out to be:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŠå¾„ä¸º *r* = 1 çš„åœ†ï¼Œé¢ç§¯ä¸º 4\. åœ†çš„é¢ç§¯æ˜¯ <math alttext="pi"><mi>Ï€</mi></math> ï¼Œè€Œè¯•å›¾å°†åœ†æ”¾å…¥çš„æ­£æ–¹å½¢çš„é¢ç§¯æ˜¯
    4\. æ¯”ç‡ç»“æœå¦‚ä¸‹ï¼š
- en: <math alttext="dollar-sign StartFraction pi Over 4 EndFraction dollar-sign"><mfrac><mi>Ï€</mi>
    <mn>4</mn></mfrac></math>
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign StartFraction pi Over 4 EndFraction dollar-sign"><mfrac><mi>Ï€</mi>
    <mn>4</mn></mfrac></math>
- en: 'To leave <math alttext="pi"><mi>Ï€</mi></math> alone, the proportion between
    a circle and area can be defined as:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: ç•™ä¸‹ <math alttext="pi"><mi>Ï€</mi></math> ä¸å˜ï¼Œåœ†å’Œé¢ç§¯ä¹‹é—´çš„æ¯”ä¾‹å¯ä»¥å®šä¹‰ä¸ºï¼š
- en: <math alttext="dollar-sign StartFraction upper C i r c u m f e r e n c e Subscript
    c i r c l e Baseline Over upper A r e a Subscript s q u a r e Baseline EndFraction
    equals StartFraction m Over n EndFraction dollar-sign"><mrow><mfrac><mrow><mi>C</mi><mi>i</mi><mi>r</mi><mi>c</mi><mi>u</mi><mi>m</mi><mi>f</mi><mi>e</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>c</mi><msub><mi>e</mi>
    <mrow><mi>c</mi><mi>i</mi><mi>r</mi><mi>c</mi><mi>l</mi><mi>e</mi></mrow></msub></mrow>
    <mrow><mi>A</mi><mi>r</mi><mi>e</mi><msub><mi>a</mi> <mrow><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi></mrow></msub></mrow></mfrac>
    <mo>=</mo> <mfrac><mi>m</mi> <mi>n</mi></mfrac></mrow></math>
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign StartFraction upper C i r c u m f e r e n c e Subscript
    c i r c l e Baseline Over upper A r e a Subscript s q u a r e Baseline EndFraction
    equals StartFraction m Over n EndFraction dollar-sign"><mrow><mfrac><mrow><mi>C</mi><mi>i</mi><mi>r</mi><mi>c</mi><mi>u</mi><mi>m</mi><mi>f</mi><mi>e</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>c</mi><msub><mi>e</mi>
    <mrow><mi>c</mi><mi>i</mi><mi>r</mi><mi>c</mi><mi>l</mi><mi>e</mi></mrow></msub></mrow>
    <mrow><mi>A</mi><mi>r</mi><mi>e</mi><msub><mi>a</mi> <mrow><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi></mrow></msub></mrow></mfrac>
    <mo>=</mo> <mfrac><mi>m</mi> <mi>n</mi></mfrac></mrow></math>
- en: 'Once we equalize these equations, it turns out that:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æˆ‘ä»¬å¹³è¡¡è¿™äº›æ–¹ç¨‹å¼ï¼Œç»“æœæ˜¯ï¼š
- en: <math alttext="dollar-sign pi equals 4 x StartFraction m Over n EndFraction
    dollar-sign"><mrow><mi>Ï€</mi> <mo>=</mo> <mn>4</mn> <mi>x</mi> <mfrac><mi>m</mi>
    <mi>n</mi></mfrac></mrow></math>
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign pi equals 4 x StartFraction m Over n EndFraction
    dollar-sign"><mrow><mi>Ï€</mi> <mo>=</mo> <mn>4</mn> <mi>x</mi> <mfrac><mi>m</mi>
    <mi>n</mi></mfrac></mrow></math>
- en: If we go step by step, the first is to define domain, which is [-1, 1]. So the
    numbers inside the circle satisfy <math alttext="x squared plus y squared less-than-or-equal-to
    1"><mrow><msup><mi>x</mi> <mn>2</mn></msup> <mo>+</mo> <msup><mi>y</mi> <mn>2</mn></msup>
    <mo>â‰¤</mo> <mn>1</mn></mrow></math> .
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬é€æ­¥è¿›è¡Œï¼Œé¦–å…ˆæ˜¯å®šä¹‰åŸŸï¼Œå³ [-1, 1]ã€‚å› æ­¤ï¼Œåœ†å†…éƒ¨çš„æ•°å­—æ»¡è¶³ <math alttext="x squared plus y squared
    less-than-or-equal-to 1"><mrow><msup><mi>x</mi> <mn>2</mn></msup> <mo>+</mo> <msup><mi>y</mi>
    <mn>2</mn></msup> <mo>â‰¤</mo> <mn>1</mn></mrow></math> ã€‚
- en: 'The second step is to generate random numbers to meet this given condition.
    That is to say, we need to have uniformly distributed random samples, which is
    a rather easy task in Python. For the sake of practice, I will generate 100 uniformly
    distributed random numbers using the NumPy library:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒæ­¥æ˜¯ç”Ÿæˆéšæœºæ•°ä»¥æ»¡è¶³è¿™ä¸€ç»™å®šæ¡ä»¶ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦å…·æœ‰å‡åŒ€åˆ†å¸ƒçš„éšæœºæ ·æœ¬ï¼Œåœ¨Pythonä¸­è¿™æ˜¯ä¸€é¡¹ç›¸å½“ç®€å•çš„ä»»åŠ¡ã€‚ä¸ºäº†ç»ƒä¹ ï¼Œæˆ‘å°†ä½¿ç”¨NumPyåº“ç”Ÿæˆ100ä¸ªå‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°ï¼š
- en: '[PRE5]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO5-1)'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO5-1)'
- en: Generating random numbers from uniform distribution
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å‡åŒ€åˆ†å¸ƒç”Ÿæˆéšæœºæ•°
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO5-2)'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO5-2)'
- en: Checking if points are inside the circle, which has a radius of 1
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ç‚¹æ˜¯å¦åœ¨åŠå¾„ä¸º1çš„åœ†å†…
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO5-3)'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO5-3)'
- en: Calculating 95% of every stock return and appending the result in the list named
    `MC_percentile95`
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æ¯ä¸ªè‚¡ç¥¨å›æŠ¥çš„95%å¹¶å°†ç»“æœé™„åŠ åˆ°åä¸º `MC_percentile95` çš„åˆ—è¡¨ä¸­
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO5-4)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO5-4)'
- en: Estimating Monte Carlo VaR
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼°è®¡è’™ç‰¹å¡ç½—VaR
- en: Denoising
  id: totrans-148
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é™å™ª
- en: 'Volatility is everywhere, but it is a formidable task to find out what kind
    of volatility is most valuable. In general, there are two types of information
    in the market: *noise* and *signal*. The former generates nothing but random information,
    but the latter equips us with valuable information by which an investor can make
    money. To illustrate, consider that there are two main players in the market:
    one using noisy information called a noise trader, and an informed trader who
    exploits signal or insider information. The noise traderâ€™s trading motivation
    is driven by random behavior. So information flow in the market is considered
    a buying signal for some noise traders and a selling signal for others.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¢åŠ¨æ€§æ— å¤„ä¸åœ¨ï¼Œä½†æ‰¾å‡ºå“ªç§æ³¢åŠ¨æ€§æœ€æœ‰ä»·å€¼å´æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå¸‚åœºä¸Šå­˜åœ¨ä¸¤ç§ä¿¡æ¯ï¼š*å™ªéŸ³* å’Œ *ä¿¡å·*ã€‚å‰è€…ä»…äº§ç”Ÿéšæœºä¿¡æ¯ï¼Œè€Œåè€…é€šè¿‡æä¾›æœ‰ä»·å€¼çš„ä¿¡æ¯ä½¿æŠ•èµ„è€…èƒ½å¤Ÿèµšé’±ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè€ƒè™‘å¸‚åœºä¸Šçš„ä¸¤ä¸ªä¸»è¦å‚ä¸è€…ï¼šä¸€ä¸ªä½¿ç”¨å˜ˆæ‚ä¿¡æ¯çš„å™ªéŸ³äº¤æ˜“è€…ï¼Œä»¥åŠåˆ©ç”¨ä¿¡å·æˆ–å†…å¹•ä¿¡æ¯çš„çŸ¥æƒ…äº¤æ˜“è€…ã€‚å™ªéŸ³äº¤æ˜“è€…çš„äº¤æ˜“åŠ¨æœºå—åˆ°éšæœºè¡Œä¸ºçš„é©±åŠ¨ã€‚å› æ­¤ï¼Œå¸‚åœºä¸­çš„ä¿¡æ¯æµè¢«è®¤ä¸ºæ˜¯æŸäº›å™ªéŸ³äº¤æ˜“è€…çš„ä¹°å…¥ä¿¡å·å’Œå…¶ä»–äººçš„å–å‡ºä¿¡å·ã€‚
- en: However, informed traders are considered to be rational ones in the sense that
    they are able to assess a signal because they know that it is private information.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼ŒçŸ¥æƒ…äº¤æ˜“è€…è¢«è®¤ä¸ºæ˜¯ç†æ€§çš„ï¼Œå› ä¸ºä»–ä»¬èƒ½å¤Ÿè¯„ä¼°ä¿¡å·ï¼Œå› ä¸ºä»–ä»¬çŸ¥é“è¿™æ˜¯ç§äººä¿¡æ¯ã€‚
- en: Consequently, continuous flow of information should be treated with caution.
    In short, information coming from noise traders can be considered as noise, and
    information coming from insiders can be taken as signal, and this is the sort
    of information that matters. Investors who cannot distinguish between noise and
    signal can fail to gain profit and/or assess risk properly.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œè¿ç»­çš„ä¿¡æ¯æµåº”è¯¥è°¨æ…å¤„ç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ¥è‡ªå™ªéŸ³äº¤æ˜“è€…çš„ä¿¡æ¯å¯ä»¥è§†ä¸ºå™ªéŸ³ï¼Œè€Œæ¥è‡ªå†…éƒ¨äººå£«çš„ä¿¡æ¯åˆ™å¯è§†ä¸ºä¿¡å·ï¼Œè€Œè¿™æ‰æ˜¯é‡è¦çš„ä¿¡æ¯ã€‚ä¸èƒ½åŒºåˆ†å™ªéŸ³å’Œä¿¡å·çš„æŠ•èµ„è€…å¯èƒ½ä¼šæœªèƒ½è·åˆ©å’Œ/æˆ–æ­£ç¡®è¯„ä¼°é£é™©ã€‚
- en: Now the problem turns out to be differentiating the flow of information in the
    financial markets. How can we differentiate noise from signal? And how can we
    use this information?
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨é—®é¢˜è½¬å˜ä¸ºå¦‚ä½•åŒºåˆ†é‡‘èå¸‚åœºä¸­ä¿¡æ¯æµçš„ä¸åŒã€‚æˆ‘ä»¬å¦‚ä½•åŒºåˆ†å™ªéŸ³å’Œä¿¡å·ï¼Ÿæˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™äº›ä¿¡æ¯ï¼Ÿ
- en: It is now worthwhile to discuss the Marchenkoâ€“Pastur theorem, which helps have
    homogenous covariance matrices. The Marchenkoâ€“Pastur theorem allows us to extract
    signal from noise using eigenvalues of covariance matrices.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ˜¯è®¨è®ºé©¬å°”ç´ç§‘-å¸•æ–¯å›¾å°”å®šç†çš„æ—¶å€™äº†ï¼Œè¿™æœ‰åŠ©äºæœ‰å‡åŒ€åæ–¹å·®çŸ©é˜µã€‚é©¬å°”ç´ç§‘-å¸•æ–¯å›¾å°”å®šç†å…è®¸æˆ‘ä»¬åˆ©ç”¨åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼ä»å™ªéŸ³ä¸­æå–ä¿¡å·ã€‚
- en: Note
  id: totrans-154
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: Let <math alttext="upper A element-of double-struck upper R Superscript n x
    n"><mrow><mi>A</mi> <mo>âˆˆ</mo> <msup><mi>â„</mi> <mrow><mi>n</mi><mi>x</mi><mi>n</mi></mrow></msup></mrow></math>
    be a square matrix. Then, <math alttext="lamda element-of double-struck upper
    R"><mrow><mi>Î»</mi> <mo>âˆˆ</mo> <mi>â„</mi></mrow></math> is an eigenvalue of *A*
    and <math alttext="x element-of double-struck upper R Superscript n"><mrow><mi>x</mi>
    <mo>âˆˆ</mo> <msup><mi>â„</mi> <mi>n</mi></msup></mrow></math> is the corresponding
    eigenvector of *A* if
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: è®¾ <math alttext="upper A element-of double-struck upper R Superscript n x n"><mrow><mi>A</mi>
    <mo>âˆˆ</mo> <msup><mi>â„</mi> <mrow><mi>n</mi><mi>x</mi><mi>n</mi></mrow></msup></mrow></math>
    æ˜¯ä¸€ä¸ªæ–¹é˜µã€‚é‚£ä¹ˆï¼Œ<math alttext="lamda element-of double-struck upper R"><mrow><mi>Î»</mi>
    <mo>âˆˆ</mo> <mi>â„</mi></mrow></math> æ˜¯ *A* çš„ç‰¹å¾å€¼ï¼Œ<math alttext="x element-of double-struck
    upper R Superscript n"><mrow><mi>x</mi> <mo>âˆˆ</mo> <msup><mi>â„</mi> <mi>n</mi></msup></mrow></math>
    æ˜¯å¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œå¦‚æœ
- en: <math alttext="dollar-sign upper A x equals lamda x dollar-sign"><mrow><mi>A</mi>
    <mi>x</mi> <mo>=</mo> <mi>Î»</mi> <mi>x</mi></mrow></math>
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper A x equals lamda x dollar-sign"><mrow><mi>A</mi>
    <mi>x</mi> <mo>=</mo> <mi>Î»</mi> <mi>x</mi></mrow></math>
- en: where <math alttext="x element-of double-struck upper R Superscript n Baseline
    not-equals 0"><mrow><mi>x</mi> <mo>âˆˆ</mo> <msup><mi>â„</mi> <mi>n</mi></msup> <mo>â‰ </mo>
    <mn>0</mn></mrow></math> .
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="x å±äºåŒç­’ä¸Š R ä¸Šæ ‡ n åŸºçº¿ ä¸ç­‰äº 0"><mrow><mi>x</mi> <mo>âˆˆ</mo> <msup><mi>â„</mi>
    <mi>n</mi></msup> <mo>â‰ </mo> <mn>0</mn></mrow></math> .
- en: '*Eigenvalue* and *eigenvector* have special meanings in a financial context.
    Eigenvectors represent the variance in covariance matrix, while an eigenvalue
    shows the magnitude of an eigenvector. Specifically, the largest eigenvector corresponds
    to largest variance, and the magnitude of this is equal to the corresponding eigenvalue.
    Due to noise in the data, some eigenvalues can be thought of as random, and it
    makes sense to detect and filter out these eigenvalues to retain only signals.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '*ç‰¹å¾å€¼* å’Œ *ç‰¹å¾å‘é‡* åœ¨é‡‘èä¸Šä¸‹æ–‡ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ã€‚ç‰¹å¾å‘é‡è¡¨ç¤ºåæ–¹å·®çŸ©é˜µçš„æ–¹å·®ï¼Œè€Œç‰¹å¾å€¼æ˜¾ç¤ºç‰¹å¾å‘é‡çš„å¤§å°ã€‚å…·ä½“æ¥è¯´ï¼Œæœ€å¤§ç‰¹å¾å‘é‡å¯¹åº”æœ€å¤§æ–¹å·®ï¼Œå…¶å¤§å°ç­‰äºç›¸åº”çš„ç‰¹å¾å€¼ã€‚ç”±äºæ•°æ®ä¸­å­˜åœ¨å™ªå£°ï¼ŒæŸäº›ç‰¹å¾å€¼å¯ä»¥è¢«è§†ä¸ºéšæœºçš„ï¼Œå› æ­¤æœ‰å¿…è¦æ£€æµ‹å¹¶è¿‡æ»¤è¿™äº›ç‰¹å¾å€¼ï¼Œä»¥ä¿ç•™ä¿¡å·ã€‚'
- en: 'To differentiate noise and signal, we fit the Marchenkoâ€“Pastur theorem probability
    density function (PDF) to the noisy covariance. The PDF the of Marchenkoâ€“Pastur
    theorem takes the following form (Prado 2020):'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†åŒºåˆ†å™ªå£°å’Œä¿¡å·ï¼Œæˆ‘ä»¬å°† Marchenkoâ€“Pastur å®šç†çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆPDFï¼‰æ‹Ÿåˆåˆ°å˜ˆæ‚çš„åæ–¹å·®ä¸­ã€‚Marchenkoâ€“Pastur å®šç†çš„
    PDF å–ä»¥ä¸‹å½¢å¼ï¼ˆPrado 2020ï¼‰ï¼š
- en: <math mode="display"><mrow><mi>f</mi> <mrow><mo>(</mo> <mi>Î»</mi> <mo>)</mo></mrow>
    <mo>=</mo> <mfenced close="" open="{" separators=""><mtable><mtr><mtd columnalign="left"><mrow><mfrac><mi>T</mi>
    <mi>N</mi></mfrac> <msqrt><mrow><mrow><mo>(</mo> <msub><mi>Î»</mi> <mi>t</mi></msub>
    <mo>-</mo> <mi>Î»</mi> <mo>)</mo></mrow> <mrow><mo>(</mo> <mi>Î»</mi> <mo>-</mo>
    <msub><mi>Î»</mi> <mo>-</mo></msub> <mo>)</mo></mrow></mrow></msqrt></mrow></mtd>
    <mtd columnalign="right"><mrow><mtext>if</mtext> <mi>Î»</mi> <mo>âˆˆ</mo> <mo>[</mo>
    <mi>Î»</mi> <mo>-</mo> <msub><mi>Î»</mi> <mo>-</mo></msub> <mo>]</mo></mrow></mtd></mtr>
    <mtr><mtd columnalign="left"><mrow><mn>0</mn> <mo>,</mo></mrow></mtd> <mtd columnalign="right"><mrow><mtext>if</mtext>
    <mi>Î»</mi> <mo>âˆ‰</mo> <mo>[</mo> <mi>Î»</mi> <mo>-</mo> <msub><mi>Î»</mi> <mo>-</mo></msub>
    <mo>]</mo></mrow></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: <math mode="display"><mrow><mi>f</mi> <mrow><mo>(</mo> <mi>Î»</mi> <mo>)</mo></mrow>
    <mo>=</mo> <mfenced close="" open="{" separators=""><mtable><mtr><mtd columnalign="left"><mrow><mfrac><mi>T</mi>
    <mi>N</mi></mfrac> <msqrt><mrow><mrow><mo>(</mo> <msub><mi>Î»</mi> <mi>t</mi></msub>
    <mo>-</mo> <mi>Î»</mi> <mo>)</mo></mrow> <mrow><mo>(</mo> <mi>Î»</mi> <mo>-</mo>
    <msub><mi>Î»</mi> <mo>-</mo></msub> <mo>)</mo></mrow></mrow></msqrt></mrow></mtd>
    <mtd columnalign="right"><mrow><mtext>if</mtext> <mi>Î»</mi> <mo>âˆˆ</mo> <mo>[</mo>
    <mi>Î»</mi> <mo>-</mo> <msub><mi>Î»</mi> <mo>-</mo></msub> <mo>]</mo></mrow></mtd></mtr>
    <mtr><mtd columnalign="left"><mrow><mn>0</mn> <mo>,</mo></mrow></mtd> <mtd columnalign="right"><mrow><mtext>if</mtext>
    <mi>Î»</mi> <mo>âˆ‰</mo> <mo>[</mo> <mi>Î»</mi> <mo>-</mo> <msub><mi>Î»</mi> <mo>-</mo></msub>
    <mo>]</mo></mrow></mtd></mtr></mtable></mfenced></mrow></math>
- en: where <math alttext="lamda Subscript plus Baseline and lamda Subscript minus
    Baseline"><mrow><msub><mi>Î»</mi> <mo>+</mo></msub> <mtext>and</mtext> <msub><mi>Î»</mi>
    <mo>-</mo></msub></mrow></math> are the maximum and minimum eigenvalues, respectively.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="lamda ä¸‹æ ‡ plus åŸºçº¿ å’Œ lamda ä¸‹æ ‡ minus åŸºçº¿"><mrow><msub><mi>Î»</mi>
    <mo>+</mo></msub> <mtext>å’Œ</mtext> <msub><mi>Î»</mi> <mo>-</mo></msub></mrow></math>
    åˆ†åˆ«ä¸ºæœ€å¤§å’Œæœ€å°ç‰¹å¾å€¼ã€‚
- en: 'In the following code block, which is a slight modification of the code provided
    by Prado (2020), we will generate the probability density function of a Marchenkoâ€“Pastur
    distribution and kernel density, which will allow us to model a random variable
    in a nonparametric approach. Then, the Marchenkoâ€“Pastur distribution will be fitted
    to the data:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»¥ä¸‹ä»£ç å—ä¸­ï¼Œè¿™æ˜¯å¯¹ Prado (2020) æä¾›çš„ä»£ç ç¨ä½œä¿®æ”¹ï¼Œæˆ‘ä»¬å°†ç”Ÿæˆ Marchenkoâ€“Pastur åˆ†å¸ƒå’Œæ ¸å¯†åº¦çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œè¿™å°†å…è®¸æˆ‘ä»¬ä»¥éå‚æ•°åŒ–çš„æ–¹å¼å¯¹éšæœºå˜é‡è¿›è¡Œå»ºæ¨¡ã€‚ç„¶åï¼Œå°†
    Marchenkoâ€“Pastur åˆ†å¸ƒæ‹Ÿåˆåˆ°æ•°æ®ä¸­ï¼š
- en: '[PRE6]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO6-1)'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO6-1)'
- en: Calculating maximum expected eigenvalue
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æœ€å¤§æœŸæœ›ç‰¹å¾å€¼
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO6-2)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO6-2)'
- en: Calculating minimum expected eigenvalue
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æœ€å°æœŸæœ›ç‰¹å¾å€¼
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO6-3)'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO6-3)'
- en: Generating probability density function of Marchenko-Pastur distribution
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆ Marchenko-Pastur åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO6-4)'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO6-4)'
- en: Initiating kernel density estimation
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: åˆå§‹åŒ–æ ¸å¯†åº¦ä¼°è®¡
- en: '[![5](assets/5.png)](#co_modeling_market_risk_CO6-5)'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_modeling_market_risk_CO6-5)'
- en: Fitting kernel density to the observations
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: å°†æ ¸å¯†åº¦æ‹Ÿåˆåˆ°è§‚æµ‹å€¼
- en: '[![6](assets/6.png)](#co_modeling_market_risk_CO6-6)'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_modeling_market_risk_CO6-6)'
- en: Assessing the log density model on observations
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: è¯„ä¼°è§‚æµ‹æ•°æ®ä¸Šçš„å¯¹æ•°å¯†åº¦æ¨¡å‹
- en: '[![7](assets/7.png)](#co_modeling_market_risk_CO6-7)'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_modeling_market_risk_CO6-7)'
- en: Generating random samples from normal distribution
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æ­£æ€åˆ†å¸ƒç”Ÿæˆéšæœºæ ·æœ¬
- en: '[![8](assets/8.png)](#co_modeling_market_risk_CO6-8)'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](assets/8.png)](#co_modeling_market_risk_CO6-8)'
- en: Converting covariance matrix into correlation matrix
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: å°†åæ–¹å·®çŸ©é˜µè½¬æ¢ä¸ºç›¸å…³çŸ©é˜µ
- en: '[![9](assets/9.png)](#co_modeling_market_risk_CO6-9)'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '[![9](assets/9.png)](#co_modeling_market_risk_CO6-9)'
- en: Calculating eigenvalues of the correlation matrix
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ç›¸å…³çŸ©é˜µçš„ç‰¹å¾å€¼
- en: '[![10](assets/10.png)](#co_modeling_market_risk_CO6-10)'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '[![10](assets/10.png)](#co_modeling_market_risk_CO6-10)'
- en: Turning the NumPy array into diagonal matrix
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: å°† NumPy æ•°ç»„è½¬æ¢ä¸ºå¯¹è§’çŸ©é˜µ
- en: '[![11](assets/11.png)](#co_modeling_market_risk_CO6-11)'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '[![11](assets/11.png)](#co_modeling_market_risk_CO6-11)'
- en: Calling `mp_pdf` to estimate the probability density function of the Marchenkoâ€“Pastur
    distribution
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: è°ƒç”¨ `mp_pdf` ä¼°ç®— Marchenkoâ€“Pastur åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°
- en: '[![12](assets/12.png)](#co_modeling_market_risk_CO6-12)'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '[![12](assets/12.png)](#co_modeling_market_risk_CO6-12)'
- en: Calling `kde_fit` to fit kernel distribution to the data
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: è°ƒç”¨ `kde_fit` å¯¹æ•°æ®è¿›è¡Œæ ¸åˆ†å¸ƒæ‹Ÿåˆ
- en: The resulting [FigureÂ 5-3](#Marchenko_Pastur) shows that the Marchenkoâ€“Pastur
    distribution fits the data well. Thanks to the Marchenkoâ€“Pastur theorem, we are
    able to differentiate the noise and signal; we can now refer to data for which
    the noise has filtered as *denoised*.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœæ˜¾ç¤ºçš„[å›¾5-3](#Marchenko_Pastur)è¡¨æ˜Marchenkoâ€“Pasturåˆ†å¸ƒå¾ˆå¥½åœ°é€‚é…äº†æ•°æ®ã€‚å¤šäºäº†Marchenkoâ€“Pasturå®šç†ï¼Œæˆ‘ä»¬èƒ½åŒºåˆ†å™ªå£°å’Œä¿¡å·ï¼›ç°åœ¨æˆ‘ä»¬å¯ä»¥ç§°ç»è¿‡å™ªå£°è¿‡æ»¤çš„æ•°æ®ä¸º*å»å™ª*æ•°æ®ã€‚
- en: '![M_P](assets/mlfr_0503.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![M_P](assets/mlfr_0503.png)'
- en: Figure 5-3\. Fitting Marchenkoâ€“Pastur distribution
  id: totrans-190
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾5-3\. æ‹ŸåˆMarchenkoâ€“Pasturåˆ†å¸ƒ
- en: So far, we have discussed the main steps to take to denoising the covariance
    matrix so that we can plug it into the VaR model, which is called the *denoised
    VaR* estimation. Denoising the covariance matrix is nothing but taking unnecessary
    information (noise) out of the data. So we can then make use of the signal from
    the market, focusing our attention on the important events only.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºäº†å»å™ªåæ–¹å·®çŸ©é˜µçš„ä¸»è¦æ­¥éª¤ï¼Œä»¥ä¾¿å°†å…¶æ’å…¥VaRæ¨¡å‹ä¸­ï¼Œè¿™è¢«ç§°ä¸º*å»å™ªVaR*ä¼°è®¡ã€‚å»å™ªåæ–¹å·®çŸ©é˜µçš„æ„ä¹‰åœ¨äºä»æ•°æ®ä¸­å‰”é™¤ä¸å¿…è¦çš„ä¿¡æ¯ï¼ˆå™ªéŸ³ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åªåˆ©ç”¨å¸‚åœºçš„ä¿¡å·ï¼Œå°†æ³¨æ„åŠ›é›†ä¸­åœ¨é‡è¦çš„äº‹ä»¶ä¸Šã€‚
- en: Denoising the covariance matrix includes the following stages:^([1](ch05.html#idm45737228731696))
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: å»å™ªåæ–¹å·®çŸ©é˜µåŒ…æ‹¬ä»¥ä¸‹é˜¶æ®µï¼š^([1](ch05.html#idm45737228731696))
- en: Calculate the eigenvalues and eigenvectors based on correlation matrix.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åŸºäºç›¸å…³çŸ©é˜µè®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ã€‚
- en: Use kernel density estimation, find the eigenvector for a specific eigenvalue.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ ¸å¯†åº¦ä¼°è®¡ï¼Œæ‰¾åˆ°ç‰¹å®šç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡ã€‚
- en: Fit the Marchenkoâ€“Pastur distribution to the kernel density estimation.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†Marchenkoâ€“Pasturåˆ†å¸ƒæ‹Ÿåˆåˆ°æ ¸å¯†åº¦ä¼°è®¡ä¸­ã€‚
- en: Find the maximum theoretical eigenvalue using the Marchenkoâ€“Pastur distribution.
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨Marchenkoâ€“Pasturåˆ†å¸ƒæ‰¾åˆ°æœ€å¤§ç†è®ºç‰¹å¾å€¼ã€‚
- en: Calculate the average of eigenvalues greater than the theoretical value.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®¡ç®—å¤§äºç†è®ºå€¼çš„ç‰¹å¾å€¼çš„å¹³å‡å€¼ã€‚
- en: Use these new eigenvalues and eigenvectors to calculate the denoised correlation
    matrix.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™äº›æ–°çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡æ¥è®¡ç®—å»å™ªç›¸å…³çŸ©é˜µã€‚
- en: Calculate the denoised covariance matrix by the new correlation matrix.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€šè¿‡æ–°çš„ç›¸å…³çŸ©é˜µè®¡ç®—å»å™ªåæ–¹å·®çŸ©é˜µã€‚
- en: 'Letâ€™s take a look at how easy it is to apply finding the denoised covariance
    matrix with a few lines of code using the `portfoliolab` library in Python:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨Pythonä¸­çš„`portfoliolab`åº“å‡ è¡Œä»£ç å°±å¯ä»¥åº”ç”¨æ‰¾åˆ°å»å™ªåæ–¹å·®çŸ©é˜µï¼š
- en: '[PRE7]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO7-1)'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO7-1)'
- en: Relating the number of observations `T` to the number of variables `N`
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è§‚æµ‹æ•°`T`ä¸å˜é‡æ•°`N`ç›¸å…³è”
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO7-2)'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO7-2)'
- en: Identifying the bandwidth for kernel density estimation
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®šæ ¸å¯†åº¦ä¼°è®¡çš„å¸¦å®½
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO7-3)'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO7-3)'
- en: Generating the denoised covariance matrix
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆå»å™ªåæ–¹å·®çŸ©é˜µ
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO7-4)'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO7-4)'
- en: Incorporating the denoised covariance matrix into the VaR formula
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: å°†å»å™ªåæ–¹å·®çŸ©é˜µæ•´åˆåˆ°VaRå…¬å¼ä¸­
- en: The difference between the traditionally applied VaR and the denoised VaR is
    even more pronounced in a crisis period. During a crisis period, correlation among
    assets becomes higher, which is sometimes referred to as *correlation breakdown*.
    We will evaluate the effect of a crisis to check this phenomenon, and to do that,
    we will use the 2017â€“2018 crisis. However, the exact beginning and ending date
    of the crisis is necessary to run this analysis; weâ€™ll get this information from
    the National Bureau of Economic Research (NBER), which announces business cycles.^([2](ch05.html#idm45737230084272))
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼ ç»Ÿåº”ç”¨çš„VaRä¸å»å™ªVaRä¹‹é—´çš„å·®å¼‚åœ¨å±æœºæœŸé—´æ›´åŠ æ˜¾è‘—ã€‚åœ¨å±æœºæœŸé—´ï¼Œèµ„äº§ä¹‹é—´çš„ç›¸å…³æ€§å¢åŠ ï¼Œæœ‰æ—¶è¢«ç§°ä¸º*ç›¸å…³æ€§å´©æºƒ*ã€‚æˆ‘ä»¬å°†è¯„ä¼°å±æœºçš„å½±å“ä»¥éªŒè¯è¿™ä¸€ç°è±¡ï¼Œå¹¶ä¸ºæ­¤ä½¿ç”¨2017å¹´è‡³2018å¹´çš„å±æœºã€‚ç„¶è€Œï¼Œè¿è¡Œæ­¤åˆ†æéœ€è¦å±æœºçš„ç¡®åˆ‡å¼€å§‹å’Œç»“æŸæ—¥æœŸï¼›æˆ‘ä»¬å°†ä»å›½å®¶ç»æµç ”ç©¶å±€ï¼ˆNBERï¼‰è·å–æ­¤ä¿¡æ¯ï¼Œè¯¥æœºæ„å®£å¸ƒå•†ä¸šå‘¨æœŸã€‚
- en: The result confirms that the correlation, and thereby VaRs, become higher during
    crisis periods.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœè¡¨æ˜ï¼Œåœ¨å±æœºæœŸé—´ï¼Œç›¸å…³æ€§å’Œå› æ­¤VaRå€¼å˜å¾—æ›´é«˜ã€‚
- en: Now, we managed to obtain a ML-based VaR using a denoised covariance matrix
    in lieu of an empirical matrix that we calculate directly from the data. Despite
    its appeal and ease of use, VaR is not a coherent risk measure, which requires
    satisfying certain conditions or axioms. You can think of these axioms as technical
    requirements for a risk measure.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬æˆåŠŸåœ°ä½¿ç”¨äº†ç»è¿‡å»å™ªçš„åæ–¹å·®çŸ©é˜µæ¥è·å¾—åŸºäºæœºå™¨å­¦ä¹ çš„é£é™©ä»·å€¼ï¼ˆVaRï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥ä»æ•°æ®è®¡ç®—å¾—åˆ°çš„ç»éªŒçŸ©é˜µã€‚å°½ç®¡VaRå…·æœ‰å¸å¼•åŠ›å¹¶ä¸”æ˜“äºä½¿ç”¨ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªä¸€è‡´çš„é£é™©åº¦é‡ï¼Œè¿™éœ€è¦æ»¡è¶³æŸäº›æ¡ä»¶æˆ–å…¬ç†ã€‚ä½ å¯ä»¥æŠŠè¿™äº›å…¬ç†çœ‹ä½œæ˜¯é£é™©åº¦é‡çš„æŠ€æœ¯è¦æ±‚ã€‚
- en: Let <math alttext="alpha element-of left-parenthesis 0 comma 1 right-parenthesis"><mrow><mi>Î±</mi>
    <mo>âˆˆ</mo> <mo>(</mo> <mn>0</mn> <mo>,</mo> <mn>1</mn> <mo>)</mo></mrow></math>
    be a fixed confidence level and ( <math alttext="omega"><mi>Ï‰</mi></math> , <math
    alttext="script upper F"><mi>â„±</mi></math> , <math alttext="sans-serif upper P"><mi>ğ–¯</mi></math>
    ) be a probability space in which <math alttext="omega"><mi>Ï‰</mi></math> represents
    a sample space, <math alttext="script upper F"><mi>â„±</mi></math> denotes a subset
    of sample space, and <math alttext="sans-serif upper P"><mi>ğ–¯</mi></math> is probability
    measure.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: è®©<math alttext="alpha element-of left-parenthesis 0 comma 1 right-parenthesis"><mrow><mi>Î±</mi>
    <mo>âˆˆ</mo> <mo>(</mo> <mn>0</mn> <mo>,</mo> <mn>1</mn> <mo>)</mo></mrow></math>æˆä¸ºä¸€ä¸ªå›ºå®šçš„ç½®ä¿¡æ°´å¹³ï¼Œè€Œï¼ˆ<math
    alttext="omega"><mi>Ï‰</mi></math>ï¼Œ<math alttext="script upper F"><mi>â„±</mi></math>ï¼Œ<math
    alttext="sans-serif upper P"><mi>ğ–¯</mi></math>ï¼‰åˆ™æ˜¯ä¸€ä¸ªæ¦‚ç‡ç©ºé—´ï¼Œå…¶ä¸­<math alttext="omega"><mi>Ï‰</mi></math>ä»£è¡¨æ ·æœ¬ç©ºé—´ï¼Œ<math
    alttext="script upper F"><mi>â„±</mi></math>è¡¨ç¤ºæ ·æœ¬ç©ºé—´çš„å­é›†ï¼Œè€Œ<math alttext="sans-serif
    upper P"><mi>ğ–¯</mi></math>åˆ™æ˜¯æ¦‚ç‡åº¦é‡ã€‚
- en: Note
  id: totrans-214
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: To illustrate, say <math alttext="omega"><mi>Ï‰</mi></math> is the set of all
    possible outcomes in the event of tossing a coin, <math alttext="omega"><mi>Ï‰</mi></math>
    = {H, T}. <math alttext="script upper F"><mi>â„±</mi></math> can be treated as tossing
    a coin twice, <math alttext="script upper F equals 2 Superscript omega"><mrow><mi>â„±</mi>
    <mo>=</mo> <msup><mn>2</mn> <mi>Ï‰</mi></msup></mrow></math> = <math alttext="2
    squared"><msup><mn>2</mn> <mn>2</mn></msup></math> . Finally, probability measure,
    <math alttext="sans-serif upper P"><mi>ğ–¯</mi></math> , is the odds of getting
    tails (0.5).
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è¯´æ˜ï¼Œå‡è®¾<math alttext="omega"><mi>Ï‰</mi></math>æ˜¯æŠ•æ·ç¡¬å¸äº‹ä»¶ä¸­æ‰€æœ‰å¯èƒ½ç»“æœçš„é›†åˆï¼Œ<math alttext="omega"><mi>Ï‰</mi></math>
    = {H, T}ã€‚ <math alttext="script upper F"><mi>â„±</mi></math> å¯ä»¥çœ‹ä½œæ˜¯è¿ç»­ä¸¤æ¬¡æŠ•æ·ç¡¬å¸ï¼Œ<math
    alttext="script upper F equals 2 Superscript omega"><mrow><mi>â„±</mi> <mo>=</mo>
    <msup><mn>2</mn> <mi>Ï‰</mi></msup></mrow></math> = <math alttext="2 squared"><msup><mn>2</mn>
    <mn>2</mn></msup></math>ã€‚æœ€åï¼Œæ¦‚ç‡åº¦é‡ï¼Œ<math alttext="sans-serif upper P"><mi>ğ–¯</mi></math>ï¼Œæ˜¯å¾—åˆ°å°¾å·´ï¼ˆ0.5ï¼‰çš„å‡ ç‡ã€‚
- en: 'Here are the four axioms of a coherent risk measure:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€è‡´é£é™©åº¦é‡çš„å››ä¸ªå…¬ç†ï¼š
- en: Translation invariance
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: å¹³ç§»ä¸å˜æ€§
- en: For all outcomes *Y* and a constant <math alttext="a element-of double-struck
    upper R"><mrow><mi>a</mi> <mo>âˆˆ</mo> <mi>â„</mi></mrow></math> , we have
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰ç»“æœ*Y*å’Œå¸¸æ•°<math alttext="a element-of double-struck upper R"><mrow><mi>a</mi>
    <mo>âˆˆ</mo> <mi>â„</mi></mrow></math>ï¼Œæˆ‘ä»¬æœ‰
- en: <math alttext="dollar-sign upper V a upper R left-parenthesis upper Y plus a
    right-parenthesis equals upper V a upper R left-parenthesis upper Y right-parenthesis
    plus a dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <mi>R</mi> <mo>(</mo> <mi>Y</mi>
    <mo>+</mo> <mi>a</mi> <mo>)</mo> <mo>=</mo> <mi>V</mi> <mi>a</mi> <mi>R</mi> <mo>(</mo>
    <mi>Y</mi> <mo>)</mo> <mo>+</mo> <mi>a</mi></mrow></math>
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper V a upper R left-parenthesis upper Y plus a
    right-parenthesis equals upper V a upper R left-parenthesis upper Y right-parenthesis
    plus a dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <mi>R</mi> <mo>(</mo> <mi>Y</mi>
    <mo>+</mo> <mi>a</mi> <mo>)</mo> <mo>=</mo> <mi>V</mi> <mi>a</mi> <mi>R</mi> <mo>(</mo>
    <mi>Y</mi> <mo>)</mo> <mo>+</mo> <mi>a</mi></mrow></math>
- en: which means that if a riskless amount *a* is added to the portfolio, it results
    in lowering VaR by *a*.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€å¦‚æœå°†æ— é£é™©é‡‘é¢*a*æ·»åŠ åˆ°æŠ•èµ„ç»„åˆä¸­ï¼Œåˆ™ä¼šé™ä½*a*çš„VaRã€‚
- en: Subadditivity
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: å­å¯åŠ æ€§
- en: For all <math alttext="upper Y 1"><msub><mi>Y</mi> <mn>1</mn></msub></math>
    and <math alttext="upper Y 2"><msub><mi>Y</mi> <mn>2</mn></msub></math> , we have
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰<math alttext="upper Y 1"><msub><mi>Y</mi> <mn>1</mn></msub></math>å’Œ<math
    alttext="upper Y 2"><msub><mi>Y</mi> <mn>2</mn></msub></math>ï¼Œæˆ‘ä»¬æœ‰
- en: <math alttext="dollar-sign upper V a upper R left-parenthesis upper Y 1 plus
    upper Y 2 right-parenthesis less-than-or-equal-to upper V a upper R left-parenthesis
    upper Y 1 right-parenthesis plus upper V a upper R left-parenthesis upper Y 2
    right-parenthesis dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <mi>R</mi> <mrow><mo>(</mo>
    <msub><mi>Y</mi> <mn>1</mn></msub> <mo>+</mo> <msub><mi>Y</mi> <mn>2</mn></msub>
    <mo>)</mo></mrow> <mo>â‰¤</mo> <mi>V</mi> <mi>a</mi> <mi>R</mi> <mrow><mo>(</mo>
    <msub><mi>Y</mi> <mn>1</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>V</mi> <mi>a</mi>
    <mi>R</mi> <mrow><mo>(</mo> <msub><mi>Y</mi> <mn>2</mn></msub> <mo>)</mo></mrow></mrow></math>
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper V a upper R left-parenthesis upper Y 1 plus
    upper Y 2 right-parenthesis less-than-or-equal-to upper V a upper R left-parenthesis
    upper Y 1 right-parenthesis plus upper V a upper R left-parenthesis upper Y 2
    right-parenthesis dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <mi>R</mi> <mrow><mo>(</mo>
    <msub><mi>Y</mi> <mn>1</mn></msub> <mo>+</mo> <msub><mi>Y</mi> <mn>2</mn></msub>
    <mo>)</mo></mrow> <mo>â‰¤</mo> <mi>V</mi> <mi>a</mi> <mi>R</mi> <mrow><mo>(</mo>
    <msub><mi>Y</mi> <mn>1</mn></msub> <mo>)</mo></mrow> <mo>+</mo> <mi>V</mi> <mi>a</mi>
    <mi>R</mi> <mrow><mo>(</mo> <msub><mi>Y</mi> <mn>2</mn></msub> <mo>)</mo></mrow></mrow></math>
- en: 'This axiom stresses the importance of diversification in risk management. Take
    <math alttext="upper Y 1"><msub><mi>Y</mi> <mn>1</mn></msub></math> and <math
    alttext="upper Y 2"><msub><mi>Y</mi> <mn>2</mn></msub></math> as two assets: if
    they are both included in the portfolio, then that results in lower VaR than having
    them separately. Letâ€™s check whether VaR satisfies the subadditivity assumption:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å…¬ç†å¼ºè°ƒäº†åœ¨é£é™©ç®¡ç†ä¸­åˆ†æ•£åŒ–çš„é‡è¦æ€§ã€‚å‡è®¾<math alttext="upper Y 1"><msub><mi>Y</mi> <mn>1</mn></msub></math>å’Œ<math
    alttext="upper Y 2"><msub><mi>Y</mi> <mn>2</mn></msub></math>ä½œä¸ºä¸¤ä¸ªèµ„äº§ï¼šå¦‚æœå®ƒä»¬éƒ½åŒ…å«åœ¨æŠ•èµ„ç»„åˆä¸­ï¼Œåˆ™ç»“æœçš„VaRæ¯”åˆ†å¼€æŒæœ‰å®ƒä»¬ä½ã€‚è®©æˆ‘ä»¬æ£€æŸ¥VaRæ˜¯å¦æ»¡è¶³å­å¯åŠ æ€§å‡è®¾ï¼š
- en: '[PRE8]'
  id: totrans-225
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO8-1)'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO8-1)'
- en: Asset return for the first asset
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªèµ„äº§çš„èµ„äº§å›æŠ¥ç‡
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO8-2)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO8-2)'
- en: Asset return for the second asset
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒèµ„äº§çš„èµ„äº§å›æŠ¥ç‡
- en: It turns out that portfolio VaR is less that the sum of the individual VaRs,
    which makes no sense due to the risk mitigation through diversification. More
    elaborately, portfolio VaR should be lower than the sum of individual VaRs via
    diversification, as diversification mitigates risk, which in turn reduces the
    portfolio VaR.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœè¡¨æ˜ï¼ŒæŠ•èµ„ç»„åˆçš„VaRæ¯”å„ä¸ªå•ç‹¬çš„VaRä¹‹å’Œè¦ä½ï¼Œè¿™æ˜¯ç”±äºåˆ†æ•£åŒ–é€šè¿‡é™ä½é£é™©æ¥å‡å°‘æŠ•èµ„ç»„åˆçš„VaRã€‚
- en: Positive homogeneity
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£é½æ¬¡æ€§
- en: For all outcomes *Y* and *a* > 0, we have
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰ç»“æœ *Y* å’Œ *a* > 0ï¼Œæˆ‘ä»¬æœ‰
- en: <math alttext="dollar-sign upper V a upper R left-parenthesis a upper Y right-parenthesis
    equals a upper V a upper R left-parenthesis upper Y right-parenthesis dollar-sign"><mrow><mi>V</mi>
    <mi>a</mi> <mi>R</mi> <mo>(</mo> <mi>a</mi> <mi>Y</mi> <mo>)</mo> <mo>=</mo> <mi>a</mi>
    <mi>V</mi> <mi>a</mi> <mi>R</mi> <mo>(</mo> <mi>Y</mi> <mo>)</mo></mrow></math>
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper V a upper R left-parenthesis a upper Y right-parenthesis
    equals a upper V a upper R left-parenthesis upper Y right-parenthesis dollar-sign"><mrow><mi>V</mi>
    <mi>a</mi> <mi>R</mi> <mo>(</mo> <mi>a</mi> <mi>Y</mi> <mo>)</mo> <mo>=</mo> <mi>a</mi>
    <mi>V</mi> <mi>a</mi> <mi>R</mi> <mo>(</mo> <mi>Y</mi> <mo>)</mo></mrow></math>
- en: which implies that the risk and value of the portfolio go in tandemâ€”that is,
    if the value of a portfolio increases by an amount *a*, the risk goes up by *a*.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€æŠ•èµ„ç»„åˆçš„é£é™©å’Œä»·å€¼æ˜¯åŒæ­¥å˜åŒ–çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŠ•èµ„ç»„åˆçš„ä»·å€¼å¢åŠ äº† *a*ï¼Œé£é™©ä¹Ÿä¼šå¢åŠ  *a*ã€‚
- en: Monotonicity
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: å•è°ƒæ€§
- en: 'For any two outcomes, <math alttext="upper Y 1"><msub><mi>Y</mi> <mn>1</mn></msub></math>
    and <math alttext="upper Y 2"><msub><mi>Y</mi> <mn>2</mn></msub></math> , if <math
    alttext="upper Y 1 less-than-or-equal-to upper Y 2"><mrow><msub><mi>Y</mi> <mn>1</mn></msub>
    <mo>â‰¤</mo> <msub><mi>Y</mi> <mn>2</mn></msub></mrow></math> , then:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä»»æ„ä¸¤ä¸ªç»“æœ <math alttext="upper Y 1"><msub><mi>Y</mi> <mn>1</mn></msub></math>
    å’Œ <math alttext="upper Y 2"><msub><mi>Y</mi> <mn>2</mn></msub></math> ï¼Œå¦‚æœ <math
    alttext="upper Y 1 less-than-or-equal-to upper Y 2"><mrow><msub><mi>Y</mi> <mn>1</mn></msub>
    <mo>â‰¤</mo> <msub><mi>Y</mi> <mn>2</mn></msub></mrow></math> ï¼Œé‚£ä¹ˆï¼š
- en: <math alttext="dollar-sign upper V a upper R left-parenthesis upper Y 2 right-parenthesis
    less-than-or-equal-to upper V a upper R left-parenthesis upper Y 1 right-parenthesis
    dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <mi>R</mi> <mrow><mo>(</mo> <msub><mi>Y</mi>
    <mn>2</mn></msub> <mo>)</mo></mrow> <mo>â‰¤</mo> <mi>V</mi> <mi>a</mi> <mi>R</mi>
    <mrow><mo>(</mo> <msub><mi>Y</mi> <mn>1</mn></msub> <mo>)</mo></mrow></mrow></math>
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper V a upper R left-parenthesis upper Y 2 right-parenthesis
    less-than-or-equal-to upper V a upper R left-parenthesis upper Y 1 right-parenthesis
    dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <mi>R</mi> <mrow><mo>(</mo> <msub><mi>Y</mi>
    <mn>2</mn></msub> <mo>)</mo></mrow> <mo>â‰¤</mo> <mi>V</mi> <mi>a</mi> <mi>R</mi>
    <mrow><mo>(</mo> <msub><mi>Y</mi> <mn>1</mn></msub> <mo>)</mo></mrow></mrow></math>
- en: At first, this may seem puzzling, but it is intuitive in the sense that monotonicity
    implies a lower VaR in the case of higher asset returns.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: èµ·åˆï¼Œè¿™å¯èƒ½çœ‹èµ·æ¥ä»¤äººå›°æƒ‘ï¼Œä½†ä»å•è°ƒæ€§æ¥çœ‹ï¼Œè¿™åœ¨æ›´é«˜èµ„äº§å›æŠ¥æƒ…å†µä¸‹æš—ç¤ºç€æ›´ä½çš„VaRã€‚
- en: We now know that VaR is not a coherent risk measure. However, VaR is not the
    only tool by which we estimate market risk. Expected shortfall is another, and
    coherent, market risk measure.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬çŸ¥é“VaRä¸æ˜¯ä¸€ä¸ªä¸€è‡´çš„é£é™©åº¦é‡ã€‚ç„¶è€Œï¼ŒVaRå¹¶ä¸æ˜¯æˆ‘ä»¬ä¼°ç®—å¸‚åœºé£é™©çš„å”¯ä¸€å·¥å…·ã€‚é¢„æœŸç¼ºå¤±æ˜¯å¦ä¸€ç§ä¸€è‡´çš„å¸‚åœºé£é™©åº¦é‡ã€‚
- en: Expected Shortfall
  id: totrans-240
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é¢„æœŸç¼ºå¤±
- en: Unlike VaR, ES focuses on the tail of the distribution. More specifically, ES
    enables us to take into account unexpected risks in the market. However, this
    doesnâ€™t mean that ES and VaR are two entirely different concepts. Rather, they
    are relatedâ€”that is, it is possible to express ES *using* VaR.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸VaRä¸åŒï¼ŒESå…³æ³¨çš„æ˜¯åˆ†å¸ƒçš„å°¾éƒ¨ã€‚æ›´å…·ä½“åœ°è¯´ï¼ŒESä½¿æˆ‘ä»¬èƒ½å¤Ÿè€ƒè™‘å¸‚åœºä¸Šçš„æ„å¤–é£é™©ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ç€ESå’ŒVaRæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æ¦‚å¿µã€‚ç›¸åï¼Œå®ƒä»¬æ˜¯ç›¸å…³çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ç”¨VaRæ¥è¡¨è¾¾ESã€‚
- en: 'Letâ€™s assume that loss distribution is continuous; then ES can be mathematically
    defined as:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å‡è®¾æŸå¤±åˆ†å¸ƒæ˜¯è¿ç»­çš„ï¼›ç„¶åESå¯ä»¥æ•°å­¦ä¸Šå®šä¹‰ä¸ºï¼š
- en: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals StartFraction
    1 Over 1 minus alpha EndFraction integral Subscript alpha Superscript 1 Baseline
    q Subscript u Baseline d u dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi> <mi>Î±</mi></msub>
    <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ«</mo> <mi>Î±</mi> <mn>1</mn></msubsup> <msub><mi>q</mi> <mi>u</mi></msub>
    <mi>d</mi> <mi>u</mi></mrow></math>
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals StartFraction
    1 Over 1 minus alpha EndFraction integral Subscript alpha Superscript 1 Baseline
    q Subscript u Baseline d u dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi> <mi>Î±</mi></msub>
    <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ«</mo> <mi>Î±</mi> <mn>1</mn></msubsup> <msub><mi>q</mi> <mi>u</mi></msub>
    <mi>d</mi> <mi>u</mi></mrow></math>
- en: where *q* denotes the quantile of the loss distribution. The ES formula suggests
    that it is nothing but a probability weighted average of <math alttext="left-parenthesis
    1 minus alpha right-parenthesis percent-sign"><mrow><mo>(</mo> <mn>1</mn> <mo>-</mo>
    <mi>Î±</mi> <mo>)</mo> <mo>%</mo></mrow></math> of losses.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ *q* è¡¨ç¤ºæŸå¤±åˆ†å¸ƒçš„åˆ†ä½æ•°ã€‚ESå…¬å¼è¡¨æ˜ï¼Œå®ƒä¸è¿‡æ˜¯æŸå¤±çš„åŠ æƒå¹³å‡å€¼ï¼Œ<math alttext="left-parenthesis 1 minus
    alpha right-parenthesis percent-sign"><mrow><mo>(</mo> <mn>1</mn> <mo>-</mo> <mi>Î±</mi>
    <mo>)</mo> <mo>%</mo></mrow></math>ã€‚
- en: 'Letâ€™s substitute <math alttext="q Subscript u"><msub><mi>q</mi> <mi>u</mi></msub></math>
    and VaR, which gives us the following equation:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç”¨ <math alttext="q Subscript u"><msub><mi>q</mi> <mi>u</mi></msub></math>
    å’Œ VaR è¿›è¡Œæ›¿ä»£ï¼Œå¾—åˆ°ä»¥ä¸‹æ–¹ç¨‹ï¼š
- en: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals StartFraction
    1 Over 1 minus alpha EndFraction integral Subscript alpha Superscript 1 Baseline
    upper V a upper R Subscript u Baseline d u dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi>
    <mi>Î±</mi></msub> <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ«</mo> <mi>Î±</mi> <mn>1</mn></msubsup> <mi>V</mi> <mi>a</mi> <msub><mi>R</mi>
    <mi>u</mi></msub> <mi>d</mi> <mi>u</mi></mrow></math>
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals StartFraction
    1 Over 1 minus alpha EndFraction integral Subscript alpha Superscript 1 Baseline
    upper V a upper R Subscript u Baseline d u dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi>
    <mi>Î±</mi></msub> <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ«</mo> <mi>Î±</mi> <mn>1</mn></msubsup> <mi>V</mi> <mi>a</mi> <msub><mi>R</mi>
    <mi>u</mi></msub> <mi>d</mi> <mi>u</mi></mrow></math>
- en: 'Alternatively, it is the mean of losses exceeding VaR:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œå®ƒæ˜¯è¶…è¿‡VaRçš„æŸå¤±çš„å‡å€¼ï¼š
- en: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals sans-serif
    upper E left-parenthesis upper L vertical-bar upper L greater-than upper V a upper
    R Subscript alpha Baseline right-parenthesis dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi>
    <mi>Î±</mi></msub> <mo>=</mo> <mi>ğ–¤</mi> <mrow><mo>(</mo> <mi>L</mi> <mo>|</mo>
    <mi>L</mi> <mo>></mo> <mi>V</mi> <mi>a</mi> <msub><mi>R</mi> <mi>Î±</mi></msub>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals sans-serif
    upper E left-parenthesis upper L vertical-bar upper L greater-than upper V a upper
    R Subscript alpha Baseline right-parenthesis dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi>
    <mi>Î±</mi></msub> <mo>=</mo> <mi>ğ–¤</mi> <mrow><mo>(</mo> <mi>L</mi> <mo>|</mo>
    <mi>L</mi> <mo>></mo> <mi>V</mi> <mi>a</mi> <msub><mi>R</mi> <mi>Î±</mi></msub>
    <mo>)</mo></mrow></mrow></math>
- en: Loss distribution can be continuous or discrete and, as you can imagine, if
    it takes the discrete form, the ES is different such that
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: æŸå¤±åˆ†å¸ƒå¯ä»¥æ˜¯è¿ç»­çš„æˆ–ç¦»æ•£çš„ï¼Œä½ å¯ä»¥æƒ³è±¡ï¼Œå¦‚æœæ˜¯ç¦»æ•£å½¢å¼ï¼ŒESä¼šä¸åŒï¼Œæ¯”å¦‚
- en: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals StartFraction
    1 Over 1 minus alpha EndFraction sigma-summation Underscript n equals 0 Overscript
    1 Endscripts max left-parenthesis upper L Subscript n Baseline right-parenthesis
    probability left-parenthesis upper L Subscript n Baseline right-parenthesis dollar-sign"><mrow><mi>E</mi>
    <msub><mi>S</mi> <mi>Î±</mi></msub> <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ‘</mo> <mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow> <mn>1</mn></msubsup>
    <mtext>max</mtext> <mrow><mo>(</mo> <msub><mi>L</mi> <mi>n</mi></msub> <mo>)</mo></mrow>
    <mo form="prefix">Pr</mo> <mrow><mo>(</mo> <msub><mi>L</mi> <mi>n</mi></msub>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper E upper S Subscript alpha Baseline equals StartFraction
    1 Over 1 minus alpha EndFraction sigma-summation Underscript n equals 0 Overscript
    1 Endscripts max left-parenthesis upper L Subscript n Baseline right-parenthesis
    probability left-parenthesis upper L Subscript n Baseline right-parenthesis dollar-sign"><mrow><mi>E</mi>
    <msub><mi>S</mi> <mi>Î±</mi></msub> <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ‘</mo> <mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow> <mn>1</mn></msubsup>
    <mtext>max</mtext> <mrow><mo>(</mo> <msub><mi>L</mi> <mi>n</mi></msub> <mo>)</mo></mrow>
    <mo form="prefix">Pr</mo> <mrow><mo>(</mo> <msub><mi>L</mi> <mi>n</mi></msub>
    <mo>)</mo></mrow></mrow></math>
- en: 'where <math alttext="m a x left-parenthesis upper L Subscript n Baseline right-parenthesis"><mrow><mi>m</mi>
    <mi>a</mi> <mi>x</mi> <mo>(</mo> <msub><mi>L</mi> <mi>n</mi></msub> <mo>)</mo></mrow></math>
    shows the highest <math alttext="n Superscript t h"><msup><mi>n</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>
    loss, and <math alttext="probability left-parenthesis upper L Subscript n Baseline
    right-parenthesis"><mrow><mo form="prefix">Pr</mo> <mo>(</mo> <msub><mi>L</mi>
    <mi>n</mi></msub> <mo>)</mo></mrow></math> indicates probability of <math alttext="n
    Superscript t h"><msup><mi>n</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>
    highest loss. In code, we can formulate this as:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="m a x left-parenthesis upper L Subscript n Baseline right-parenthesis"><mrow><mi>m</mi>
    <mi>a</mi> <mi>x</mi> <mo>(</mo> <msub><mi>L</mi> <mi>n</mi></msub> <mo>)</mo></mrow></math>
    è¡¨ç¤ºæœ€å¤§çš„ç¬¬ <math alttext="n Superscript t h"><msup><mi>n</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math>
    æŸå¤±ï¼Œè€Œ <math alttext="probability left-parenthesis upper L Subscript n Baseline
    right-parenthesis"><mrow><mo form="prefix">Pr</mo> <mo>(</mo> <msub><mi>L</mi>
    <mi>n</mi></msub> <mo>)</mo></mrow></math> è¡¨ç¤ºç¬¬ <math alttext="n Superscript t
    h"><msup><mi>n</mi> <mrow><mi>t</mi><mi>h</mi></mrow></msup></math> æœ€é«˜æŸå¤±çš„æ¦‚ç‡ã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å…¬å¼åŒ–ä¸ºï¼š
- en: '[PRE9]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO9-1)'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO9-1)'
- en: Estimating the variance-covariance VaR
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼°ç®—æ–¹å·®-åæ–¹å·®VaR
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO9-2)'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO9-2)'
- en: Given the confidence interval, estimating the ES based on VaR
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®šç½®ä¿¡åŒºé—´ï¼ŒåŸºäºVaRä¼°ç®—ES
- en: ES can also be computed based on the historical observations. Like the historical
    simulation VaR method, parametric assumption can be relaxed. To do that, the first
    return (or loss) corresponding to the 95% is found, and then the mean of the observations
    greater than the 95% gives us the result.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: ESä¹Ÿå¯ä»¥åŸºäºå†å²è§‚å¯Ÿå€¼è®¡ç®—ã€‚ä¸å†å²æ¨¡æ‹ŸVaRæ–¹æ³•ç±»ä¼¼ï¼Œå¯ä»¥æ”¾å®½å‚æ•°å‡è®¾ã€‚ä¸ºæ­¤ï¼Œé¦–å…ˆæ‰¾åˆ°å¯¹åº”äº95%çš„ç¬¬ä¸€ä¸ªæ”¶ç›Šï¼ˆæˆ–æŸå¤±ï¼‰ï¼Œç„¶åå¤§äº95%çš„è§‚å¯Ÿå€¼çš„å‡å€¼ç»™å‡ºæˆ‘ä»¬çš„ç»“æœã€‚
- en: 'Here is what we do in code:'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨ä»£ç ä¸­æ‰€åšçš„äº‹æƒ…ï¼š
- en: '[PRE10]'
  id: totrans-259
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO10-1)'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO10-1)'
- en: Calculating the 95% of the returns
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æ”¶ç›Šçš„95%
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO10-2)'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO10-2)'
- en: Estimating the ES based on the historical observations
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºå†å²è§‚å¯Ÿå€¼ä¼°ç®—ES
- en: Thus far, we have seen how to model the expected shortfall in a traditional
    way. Now, it is time to introduce an ML-based approach to further enhance the
    estimation performance and reliability of the ES model.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å¦‚ä½•ä»¥ä¼ ç»Ÿæ–¹å¼å»ºæ¨¡é¢„æœŸç¼ºå¤±ã€‚ç°åœ¨ï¼Œæ˜¯æ—¶å€™å¼•å…¥åŸºäºæœºå™¨å­¦ä¹ çš„æ–¹æ³•ï¼Œè¿›ä¸€æ­¥æå‡ESæ¨¡å‹çš„ä¼°ç®—æ€§èƒ½å’Œå¯é æ€§äº†ã€‚
- en: Liquidity-Augmented Expected Shortfall
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æµåŠ¨æ€§å¢å¼ºçš„é¢„æœŸç¼ºå¤±
- en: As discussed, ES provides us with a coherent risk measure to gauge market risk.
    However, though we differentiate financial risks as market, credit, liquidity,
    and operational risks, that does not necessarily mean that these risks are entirely
    unrelated to one another. Rather, they are, to some extent, correlated. That is,
    once a financial crisis hit the market, market risk surges along with the drawdown
    on lines of credit, which in turn increases liquidity risk.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚è®¨è®ºçš„é‚£æ ·ï¼ŒESä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¿è´¯çš„é£é™©åº¦é‡æ¥è¡¡é‡å¸‚åœºé£é™©ã€‚ç„¶è€Œï¼Œå°½ç®¡æˆ‘ä»¬å°†é‡‘èé£é™©åŒºåˆ†ä¸ºå¸‚åœºã€ä¿¡ç”¨ã€æµåŠ¨æ€§å’Œæ“ä½œé£é™©ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€è¿™äº›é£é™©å®Œå…¨æ— å…³ã€‚ç›¸åï¼Œå®ƒä»¬åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯ç›¸å…³çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦é‡‘èå±æœºå†²å‡»å¸‚åœºï¼Œå¸‚åœºé£é™©éšç€ä¿¡è´·é¢åº¦çš„ä¸‹é™è€Œä¸Šå‡ï¼Œè¿›è€Œå¢åŠ æµåŠ¨æ€§é£é™©ã€‚
- en: 'This fact is supported by Antoniades (2014, p. 6) stating that:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: å®‰ä¸œå°¼äºšå¾·æ–¯ï¼ˆ2014å¹´ï¼Œç¬¬6é¡µï¼‰æ”¯æŒè¿™ä¸€è§‚ç‚¹ï¼š
- en: Common pool of liquid assets is the resource constraint through which liquidity
    risk can affect the supply of mortgage credit.
  id: totrans-268
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å…¬å…±æµåŠ¨æ€§èµ„äº§æ± æ˜¯æµåŠ¨æ€§é£é™©å¯èƒ½å½±å“æŠµæŠ¼ä¿¡è´·ä¾›ç»™çš„èµ„æºçº¦æŸã€‚
- en: ''
  id: totrans-269
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: During the financial crisis of 2007â€“2008 the primary source of stresses to bank
    funding conditions arose from the funding illiquidity experienced in the markets
    for wholesale funding.
  id: totrans-270
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åœ¨2007å¹´è‡³2008å¹´çš„é‡‘èå±æœºæœŸé—´ï¼Œé“¶è¡Œèèµ„æ¡ä»¶å—åˆ°å‹åŠ›çš„ä¸»è¦æ¥æºæ¥è‡ªæ‰¹å‘èèµ„å¸‚åœºä¸­ç»å†çš„èµ„é‡‘æµåŠ¨æ€§ä¸è¶³ã€‚
- en: Ignoring the liqudity dimension of risk may result in underestimating the market
    risk. Therefore, augmenting ES with liquidity risk may make a more accurate and
    reliable estimation. Well, it sounds appealing, but how can we find a proxy for
    liquidity?
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: å¿½è§†é£é™©çš„æµåŠ¨æ€§ç»´åº¦å¯èƒ½å¯¼è‡´ä½ä¼°å¸‚åœºé£é™©ã€‚å› æ­¤ï¼Œå°†ESä¸æµåŠ¨æ€§é£é™©ç»“åˆèµ·æ¥å¯èƒ½ä¼šæ›´å‡†ç¡®å’Œå¯é åœ°ä¼°ç®—ã€‚å¬èµ·æ¥å¾ˆå¸å¼•äººï¼Œä½†æˆ‘ä»¬å¦‚ä½•æ‰¾åˆ°æµåŠ¨æ€§çš„ä»£ç†å‘¢ï¼Ÿ
- en: In the literature, bid-ask spread measures are commonly used for modeling liquidity.
    Shortly, *bid-ask spread* is the difference between the highest available price
    (bid price) that a buyer is willing to pay and the lowest price (ask price) that
    a seller is willing to get. So bid-ask spread gives a tool to measure the transaction
    cost.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: æ–‡çŒ®ä¸­ï¼ŒæŠ¥ä»·ä»·å·®æ˜¯å¸¸ç”¨äºæµåŠ¨æ€§å»ºæ¨¡çš„è¡¡é‡æ ‡å‡†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œ*æŠ¥ä»·ä»·å·®* æ˜¯ä¹°æ–¹æ„¿æ„æ”¯ä»˜çš„æœ€é«˜å¯ç”¨ä»·æ ¼ï¼ˆä¹°ä»·ï¼‰ä¸å–æ–¹æ„¿æ„æ¥å—çš„æœ€ä½ä»·æ ¼ï¼ˆå–ä»·ï¼‰ä¹‹é—´çš„å·®å¼‚ã€‚å› æ­¤ï¼ŒæŠ¥ä»·ä»·å·®æä¾›äº†è¡¡é‡äº¤æ˜“æˆæœ¬çš„å·¥å…·ã€‚
- en: Note
  id: totrans-273
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: '*Liquidity* can be defined as the ease of making a transaction in which assets
    are sold in a very short time period without a significant impact on market price.
    There are two main measures of liquidity:'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '*æµåŠ¨æ€§* å¯ä»¥å®šä¹‰ä¸ºåœ¨æçŸ­çš„æ—¶é—´å†…è¿›è¡Œäº¤æ˜“å¹¶ä¸”ä¸å¯¹å¸‚åœºä»·æ ¼äº§ç”Ÿæ˜¾è‘—å½±å“çš„ä¾¿åˆ©æ€§ã€‚ä¸»è¦æœ‰ä¸¤ç§æµåŠ¨æ€§çš„ä¸»è¦åº¦é‡ï¼š'
- en: Market liquidity
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: å¸‚åœºæµåŠ¨æ€§
- en: The ease with which an asset is traded.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: èµ„äº§äº¤æ˜“çš„ä¾¿åˆ©ç¨‹åº¦ã€‚
- en: Funding liquidity
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: èµ„é‡‘æµåŠ¨æ€§
- en: The ease with which an investor can obtain funding.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: æŠ•èµ„è€…å¯ä»¥è·å–èµ„é‡‘çš„ä¾¿åˆ©ç¨‹åº¦ã€‚
- en: Liquidity and the risk arising from it will be discussed in greater detail in
    [ChapterÂ 7](ch07.html#chapter_7).
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: æµåŠ¨æ€§åŠå…¶æ‰€å¸¦æ¥çš„é£é™©å°†åœ¨[ç¬¬7ç« ](ch07.html#chapter_7)ä¸­è¯¦ç»†è®¨è®ºã€‚
- en: 'To the extent that bid-ask spread is a good indicator of transaction cost,
    it is also a good proxy of liquidity in the sense that transaction cost is one
    of the components of liquidity. Spreads can be defined various ways depending
    on their focus. Here are the bid-ask spreads that we will use to incorporate liquidity
    risk into the ES model:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æŸç§ç¨‹åº¦ä¸Šï¼ŒæŠ¥ä»·ä»·å·®æ˜¯äº¤æ˜“æˆæœ¬çš„è‰¯å¥½æŒ‡æ ‡ï¼Œä¹Ÿæ˜¯æµåŠ¨æ€§çš„è‰¯å¥½ä»£ç†ï¼Œå› ä¸ºäº¤æ˜“æˆæœ¬æ˜¯æµåŠ¨æ€§çš„ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ã€‚æ ¹æ®å…¶å…³æ³¨ç‚¹çš„ä¸åŒï¼Œå¯ä»¥ä»¥å¤šç§æ–¹å¼å®šä¹‰ä»·å·®ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬å°†ç”¨æ¥å°†æµåŠ¨æ€§é£é™©çº³å…¥ESæ¨¡å‹çš„æŠ¥ä»·ä»·å·®ï¼š
- en: Effective spread
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ•ˆå·®ä»·
- en: <math alttext="dollar-sign Effective spread equals 2 StartAbsoluteValue left-parenthesis
    upper P Subscript t Baseline minus upper P Subscript m i d Baseline right-parenthesis
    EndAbsoluteValue dollar-sign"><mrow><mtext>Effective</mtext> <mtext>spread</mtext>
    <mo>=</mo> <mn>2</mn> <mo>|</mo> <mo>(</mo> <msub><mi>P</mi> <mi>t</mi></msub>
    <mo>-</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mo>)</mo> <mo>|</mo></mrow></math>
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Effective spread equals 2 StartAbsoluteValue left-parenthesis
    upper P Subscript t Baseline minus upper P Subscript m i d Baseline right-parenthesis
    EndAbsoluteValue dollar-sign"><mrow><mtext>Effective</mtext> <mtext>spread</mtext>
    <mo>=</mo> <mn>2</mn> <mo>|</mo> <mo>(</mo> <msub><mi>P</mi> <mi>t</mi></msub>
    <mo>-</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mo>)</mo> <mo>|</mo></mrow></math>
- en: where <math alttext="upper P Subscript t"><msub><mi>P</mi> <mi>t</mi></msub></math>
    is the price of trade at time *t* and <math alttext="upper P Subscript m i d"><msub><mi>P</mi>
    <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></math> is the midpoint of the
    bid-ask offer ( <math alttext="left-parenthesis upper P Subscript a s k Baseline
    minus upper P Subscript b i d Baseline right-parenthesis slash 2"><mrow><mo>(</mo>
    <msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub> <mo>-</mo>
    <msub><mi>P</mi> <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub> <mo>)</mo>
    <mo>/</mo> <mn>2</mn></mrow></math> ) prevailing at the time of the <math alttext="t"><mi>t</mi></math>
    .
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="upper P Subscript t"><msub><mi>P</mi> <mi>t</mi></msub></math>
    æ˜¯æ—¶é—´ *t* æ—¶çš„äº¤æ˜“ä»·æ ¼ï¼Œ<math alttext="upper P Subscript m i d"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></math>
    æ˜¯æŠ¥ä»·ä¸­ç‚¹ï¼ˆ <math alttext="left-parenthesis upper P Subscript a s k Baseline minus
    upper P Subscript b i d Baseline right-parenthesis slash 2"><mrow><mo>(</mo> <msub><mi>P</mi>
    <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub> <mo>-</mo> <msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub> <mo>)</mo> <mo>/</mo> <mn>2</mn></mrow></math>
    )ã€‚
- en: Proportional quoted spread
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”ä¾‹æŠ¥ä»·å·®ä»·
- en: <math alttext="dollar-sign Proportional quoted spread equals left-parenthesis
    upper P Subscript a s k Baseline minus upper P Subscript b i d Baseline right-parenthesis
    slash upper P Subscript m i d Baseline dollar-sign"><mrow><mtext>Proportional</mtext>
    <mtext>quoted</mtext> <mtext>spread</mtext> <mo>=</mo> <mrow><mo>(</mo> <msub><mi>P</mi>
    <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub> <mo>-</mo> <msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub> <mo>)</mo></mrow> <mo>/</mo>
    <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow></math>
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Proportional quoted spread equals left-parenthesis
    upper P Subscript a s k Baseline minus upper P Subscript b i d Baseline right-parenthesis
    slash upper P Subscript m i d Baseline dollar-sign"><mrow><mtext>Proportional</mtext>
    <mtext>quoted</mtext> <mtext>spread</mtext> <mo>=</mo> <mrow><mo>(</mo> <msub><mi>P</mi>
    <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub> <mo>-</mo> <msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub> <mo>)</mo></mrow> <mo>/</mo>
    <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow></math>
- en: where <math alttext="upper P Subscript a s k"><msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub></math>
    is the ask price and <math alttext="upper P Subscript b i d"><msub><mi>P</mi>
    <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></math> and <math alttext="upper
    P Subscript m i d"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></math>
    are bid price and mid price, respectively.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="upper P Subscript a s k"><msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub></math>
    æ˜¯å–å‡ºä»·æ ¼ï¼Œ<math alttext="upper P Subscript b i d"><msub><mi>P</mi> <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></math>
    å’Œ <math alttext="upper P Subscript m i d"><msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></math>
    åˆ†åˆ«æ˜¯ä¹°å…¥ä»·æ ¼å’Œä¸­é—´ä»·æ ¼ã€‚
- en: Quoted spread
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: æŠ¥ä»·å·®ä»·
- en: <math alttext="dollar-sign Quoted spread equals upper P Subscript a s k Baseline
    minus upper P Subscript b i d Baseline dollar-sign"><mrow><mtext>Quoted</mtext>
    <mtext>spread</mtext> <mo>=</mo> <msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub>
    <mo>-</mo> <msub><mi>P</mi> <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow></math>
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Quoted spread equals upper P Subscript a s k Baseline
    minus upper P Subscript b i d Baseline dollar-sign"><mrow><mtext>Quoted</mtext>
    <mtext>spread</mtext> <mo>=</mo> <msub><mi>P</mi> <mrow><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msub>
    <mo>-</mo> <msub><mi>P</mi> <mrow><mi>b</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow></math>
- en: Proportional effective spread
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”ä¾‹æœ‰æ•ˆä¼ æ’­
- en: <math alttext="dollar-sign Proportional effective spread equals 2 left-parenthesis
    StartAbsoluteValue upper P Subscript t Baseline minus upper P Subscript m i d
    Baseline EndAbsoluteValue right-parenthesis slash upper P Subscript m i d Baseline
    dollar-sign"><mrow><mtext>Proportional</mtext> <mtext>effective</mtext> <mtext>spread</mtext>
    <mo>=</mo> <mrow><mn>2</mn> <mo>(</mo> <mo>|</mo></mrow> <msub><mi>P</mi> <mi>t</mi></msub>
    <mo>-</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mrow><mo>|</mo> <mo>)</mo></mrow> <mo>/</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow></math>
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign Proportional effective spread equals 2 left-parenthesis
    StartAbsoluteValue upper P Subscript t Baseline minus upper P Subscript m i d
    Baseline EndAbsoluteValue right-parenthesis slash upper P Subscript m i d Baseline
    dollar-sign"><mrow><mtext>Proportional</mtext> <mtext>effective</mtext> <mtext>spread</mtext>
    <mo>=</mo> <mrow><mn>2</mn> <mo>(</mo> <mo>|</mo></mrow> <msub><mi>P</mi> <mi>t</mi></msub>
    <mo>-</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mrow><mo>|</mo> <mo>)</mo></mrow> <mo>/</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub></mrow></math>
- en: Effective Cost
  id: totrans-291
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æœ‰æ•ˆæˆæœ¬
- en: 'A buyer-initiated trade occurs when a trade is executed at a price above the
    quoted mid price. Similarly, a seller-initiated trade occurs when a trade is executed
    at a price below the quoted mid price. We can then describe the *effective cost*
    as follows:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: å½“äº¤æ˜“ä»¥é«˜äºæŠ¥ä»·ä¸­ç‚¹çš„ä»·æ ¼æ‰§è¡Œæ—¶ï¼Œä¹°æ–¹å‘èµ·çš„äº¤æ˜“å‘ç”Ÿã€‚åŒæ ·ï¼Œå½“äº¤æ˜“ä»¥ä½äºæŠ¥ä»·ä¸­ç‚¹çš„ä»·æ ¼æ‰§è¡Œæ—¶ï¼Œå–æ–¹å‘èµ·çš„äº¤æ˜“å‘ç”Ÿã€‚ç„¶åæˆ‘ä»¬å¯ä»¥æè¿°*æœ‰æ•ˆæˆæœ¬*å¦‚ä¸‹ï¼š
- en: <math mode="display"><mrow><mtext>Effective</mtext> <mtext>cost</mtext> <mo>=</mo>
    <mfenced close="" open="{" separators=""><mtable><mtr><mtd columnalign="left"><mrow><mrow><mo>(</mo>
    <msub><mi>P</mi> <mi>t</mi></msub> <mo>-</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mo>)</mo></mrow> <mo>/</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mtext>for</mtext> <mtext>buyer-initiated</mtext></mrow></mtd></mtr> <mtr><mtd
    columnalign="left"><mrow><mrow><mo>(</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mo>/</mo> <msub><mi>P</mi> <mi>t</mi></msub> <mo>)</mo></mrow> <mo>/</mo> <msub><mi>P</mi>
    <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub> <mtext>for</mtext> <mtext>seller-initiated</mtext></mrow></mtd></mtr></mtable></mfenced></mrow></math>
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: <math mode="display"><mrow><mtext>Effective</mtext> <mtext>cost</mtext> <mo>=</mo>
    <mfenced close="" open="{" separators=""><mtable><mtr><mtd columnalign="left"><mrow><mrow><mo>(</mo>
    <msub><mi>P</mi> <mi>t</mi></msub> <mo>-</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mo>)</mo></mrow> <mo>/</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mtext>for</mtext> <mtext>buyer-initiated</mtext></mrow></mtd></mtr> <mtr><mtd
    columnalign="left"><mrow><mrow><mo>(</mo> <msub><mi>P</mi> <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub>
    <mo>/</mo> <msub><mi>P</mi> <mi>t</mi></msub> <mo>)</mo></mrow> <mo>/</mo> <msub><mi>P</mi>
    <mrow><mi>m</mi><mi>i</mi><mi>d</mi></mrow></msub> <mtext>for</mtext> <mtext>seller-initiated</mtext></mrow></mtd></mtr></mtable></mfenced></mrow></math>
- en: Now we need to find a way to incorporate these bid-ask spreads into the ES model
    so that we are able to account for the liquidity risk as well as market risk.
    We will employ two different methods to accomplish this task. The first method
    weâ€™ll use is to take the cross-sectional mean of the bid-ask spread, as suggested
    by Chordia et al., (2000) and PÃ¡stor and Stambaugh (2003). The second method is
    to apply principal component analysis (PCA) as proposed by Mancini et al. (2013).
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ç§æ–¹æ³•å°†è¿™äº›ä¹°å–å·®ä»·çº³å…¥ESæ¨¡å‹ä¸­ï¼Œä»¥ä¾¿èƒ½å¤Ÿè€ƒè™‘æµåŠ¨æ€§é£é™©å’Œå¸‚åœºé£é™©ã€‚æˆ‘ä»¬å°†é‡‡ç”¨ä¸¤ç§ä¸åŒçš„æ–¹æ³•æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚ç¬¬ä¸€ç§æ–¹æ³•æ˜¯é‡‡ç”¨ä¹°å–å·®ä»·çš„æ¨ªæˆªé¢å‡å€¼ï¼Œå¦‚Chordiaç­‰äººæ‰€å»ºè®®çš„ï¼ˆ2000å¹´ï¼‰å’ŒPÃ¡storå’ŒStambaughï¼ˆ2003å¹´ï¼‰ã€‚ç¬¬äºŒç§æ–¹æ³•æ˜¯åº”ç”¨ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ï¼Œå¦‚Manciniç­‰äººï¼ˆ2013å¹´ï¼‰æ‰€æå‡ºçš„ã€‚
- en: 'The cross-sectional mean is nothing but a row-wise averaging of the bid-ask
    spread. Using this method, we are able to generate a measure for market-wide liquidity.
    The averaging formula is as follows:'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨ªæˆªé¢å‡å€¼åªæ˜¯ä¹°å–å·®ä»·çš„é€è¡Œå¹³å‡ã€‚ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç”Ÿæˆå¸‚åœºèŒƒå›´å†…çš„æµåŠ¨æ€§åº¦é‡ã€‚å¹³å‡å…¬å¼å¦‚ä¸‹ï¼š
- en: <math alttext="dollar-sign upper L Subscript upper M comma t Baseline equals
    StartFraction 1 Over upper N EndFraction sigma-summation Underscript i Overscript
    upper N Endscripts upper L Subscript i comma t dollar-sign"><mrow><msub><mi>L</mi>
    <mrow><mi>M</mi><mo>,</mo><mi>t</mi></mrow></msub> <mo>=</mo> <mfrac><mn>1</mn>
    <mi>N</mi></mfrac> <msubsup><mo>âˆ‘</mo> <mi>i</mi> <mi>N</mi></msubsup> <msub><mi>L</mi>
    <mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub></mrow></math>
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper L Subscript upper M comma t Baseline equals
    StartFraction 1 Over upper N EndFraction sigma-summation Underscript i Overscript
    upper N Endscripts upper L Subscript i comma t dollar-sign"><mrow><msub><mi>L</mi>
    <mrow><mi>M</mi><mo>,</mo><mi>t</mi></mrow></msub> <mo>=</mo> <mfrac><mn>1</mn>
    <mi>N</mi></mfrac> <msubsup><mo>âˆ‘</mo> <mi>i</mi> <mi>N</mi></msubsup> <msub><mi>L</mi>
    <mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub></mrow></math>
- en: where <math alttext="upper L Subscript upper M comma t"><msub><mi>L</mi> <mrow><mi>M</mi><mo>,</mo><mi>t</mi></mrow></msub></math>
    is the market liquidity and <math alttext="upper L Subscript i comma t"><msub><mi>L</mi>
    <mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub></math> is the individual liquidity
    measure, namely bid-ask spread in our case. Then we can calculate
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ <math alttext="upper L Subscript upper M comma t"><msub><mi>L</mi> <mrow><mi>M</mi><mo>,</mo><mi>t</mi></mrow></msub></math>
    æ˜¯å¸‚åœºæµåŠ¨æ€§ï¼Œ<math alttext="upper L Subscript i comma t"><msub><mi>L</mi> <mrow><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub></math>
    æ˜¯ä¸ªä½“æµåŠ¨æ€§åº¦é‡ï¼Œå³æˆ‘ä»¬çš„ä¹°å–å·®ä»·ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥è®¡ç®—
- en: <math alttext="dollar-sign upper E upper S Subscript upper L Baseline equals
    upper E upper S plus Liquidity cost dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi>
    <mi>L</mi></msub> <mo>=</mo> <mi>E</mi> <mi>S</mi> <mo>+</mo> <mtext>Liquidity</mtext>
    <mtext>cost</mtext></mrow></math><math alttext="dollar-sign upper E upper S Subscript
    upper L Baseline equals StartFraction 1 Over 1 minus alpha EndFraction integral
    Subscript alpha Superscript 1 Baseline upper V a upper R Subscript u Baseline
    d u plus one-half upper P Subscript l a s t Baseline left-parenthesis mu plus
    k sigma right-parenthesis dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi> <mi>L</mi></msub>
    <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ«</mo> <mi>Î±</mi> <mn>1</mn></msubsup> <mi>V</mi> <mi>a</mi> <msub><mi>R</mi>
    <mi>u</mi></msub> <mi>d</mi> <mi>u</mi> <mo>+</mo> <mfrac><mn>1</mn> <mn>2</mn></mfrac>
    <msub><mi>P</mi> <mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub>
    <mrow><mo>(</mo> <mi>Î¼</mi> <mo>+</mo> <mi>k</mi> <mi>Ïƒ</mi> <mo>)</mo></mrow></mrow></math>
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper E upper S Subscript upper L Baseline equals
    upper E upper S plus Liquidity cost dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi>
    <mi>L</mi></msub> <mo>=</mo> <mi>E</mi> <mi>S</mi> <mo>+</mo> <mtext>Liquidity</mtext>
    <mtext>cost</mtext></mrow></math><math alttext="dollar-sign upper E upper S Subscript
    upper L Baseline equals StartFraction 1 Over 1 minus alpha EndFraction integral
    Subscript alpha Superscript 1 Baseline upper V a upper R Subscript u Baseline
    d u plus one-half upper P Subscript l a s t Baseline left-parenthesis mu plus
    k sigma right-parenthesis dollar-sign"><mrow><mi>E</mi> <msub><mi>S</mi> <mi>L</mi></msub>
    <mo>=</mo> <mfrac><mn>1</mn> <mrow><mn>1</mn><mo>-</mo><mi>Î±</mi></mrow></mfrac>
    <msubsup><mo>âˆ«</mo> <mi>Î±</mi> <mn>1</mn></msubsup> <mi>V</mi> <mi>a</mi> <msub><mi>R</mi>
    <mi>u</mi></msub> <mi>d</mi> <mi>u</mi> <mo>+</mo> <mfrac><mn>1</mn> <mn>2</mn></mfrac>
    <msub><mi>P</mi> <mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub>
    <mrow><mo>(</mo> <mi>Î¼</mi> <mo>+</mo> <mi>k</mi> <mi>Ïƒ</mi> <mo>)</mo></mrow></mrow></math>
- en: where
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: where
- en: <math alttext="upper P Subscript l a s t"><msub><mi>P</mi> <mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub></math>
    is the closing stock price
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="upper P Subscript l a s t"><msub><mi>P</mi> <mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub></math>
    æ˜¯æ”¶ç›˜è‚¡ä»·
- en: <math alttext="mu"><mi>Î¼</mi></math> is the mean of spread
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="mu"><mi>Î¼</mi></math> æ˜¯ä¼ æ’­çš„å¹³å‡å€¼
- en: '*k* is the scaling factor to accommodate fat tail'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*k* æ˜¯ç”¨äºå®¹çº³å°¾éƒ¨åšå°¾çš„ç¼©æ”¾å› å­'
- en: <math alttext="sigma"><mi>Ïƒ</mi></math> is the standard deviation of the spread
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="sigma"><mi>Ïƒ</mi></math> æ˜¯ä¼ æ’­çš„æ ‡å‡†å·®
- en: 'To convert these methods to code, weâ€™ll do the following:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: è¦å°†è¿™äº›æ–¹æ³•è½¬æ¢ä¸ºä»£ç ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
- en: '[PRE11]'
  id: totrans-305
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO11-1)'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO11-1)'
- en: Importing the `bid_ask` data
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¼å…¥ `bid_ask` æ•°æ®
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO11-2)'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO11-2)'
- en: Calculating the mid price
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ä¸­é—´ä»·æ ¼
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO11-3)'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO11-3)'
- en: Defining conditions for buyer- and seller-initiated trade
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰ä¹°æ–¹å’Œå–æ–¹å‘èµ·äº¤æ˜“çš„æ¡ä»¶
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO11-4)'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO11-4)'
- en: If the above-given condition holds, it returns 1, and it is appended into the
    `buyer_seller_initiated` list
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œåˆ™è¿”å› 1ï¼Œå¹¶å°†å…¶é™„åŠ åˆ° `buyer_seller_initiated` åˆ—è¡¨ä¸­
- en: '[![5](assets/5.png)](#co_modeling_market_risk_CO11-5)'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_modeling_market_risk_CO11-5)'
- en: If the above-given condition does not hold, it returns 0, and it is appended
    into the `buyer_seller_initiated` list
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œåˆ™è¿”å› 0ï¼Œå¹¶å°†å…¶é™„åŠ åˆ° `buyer_seller_initiated` åˆ—è¡¨ä¸­
- en: '[![6](assets/6.png)](#co_modeling_market_risk_CO11-6)'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_modeling_market_risk_CO11-6)'
- en: If the `buyer_seller_initiated` variable takes a value of 1, the corresponding
    effective cost formula is run
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ `buyer_seller_initiated` å˜é‡å–å€¼ä¸º 1ï¼Œåˆ™è¿è¡Œç›¸åº”çš„æœ‰æ•ˆæˆæœ¬å…¬å¼
- en: '[![7](assets/7.png)](#co_modeling_market_risk_CO11-7)'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_modeling_market_risk_CO11-7)'
- en: If the `buyer_seller_initiated` variable takes a value of 0, the corresponding
    effective cost formula is run
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ `buyer_seller_initiated` å˜é‡å–å€¼ä¸º 0ï¼Œåˆ™è¿è¡Œç›¸åº”çš„æœ‰æ•ˆæˆæœ¬å…¬å¼
- en: '[![8](assets/8.png)](#co_modeling_market_risk_CO11-8)'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](assets/8.png)](#co_modeling_market_risk_CO11-8)'
- en: Calculating the quoted, proportional quoted, effective, and proportional effective
    spreads
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æŠ¥ä»·ã€æ¯”ä¾‹æŠ¥ä»·ã€æœ‰æ•ˆå’Œæ¯”ä¾‹æœ‰æ•ˆä¼ æ’­
- en: '[![9](assets/9.png)](#co_modeling_market_risk_CO11-12)'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '[![9](assets/9.png)](#co_modeling_market_risk_CO11-12)'
- en: Obtaining the correlation matrices and listing them column-wise
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: è·å¾—ç›¸å…³çŸ©é˜µå¹¶æŒ‰åˆ—åˆ—å‡ºå®ƒä»¬
- en: '[![10](assets/10.png)](#co_modeling_market_risk_CO11-13)'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: '[![10](assets/10.png)](#co_modeling_market_risk_CO11-13)'
- en: Sorting out the correlation greater than 80%
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹ç›¸å…³æ€§å¤§äº 80% çš„æ’åº
- en: '[![11](assets/11.png)](#co_modeling_market_risk_CO11-14)'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '[![11](assets/11.png)](#co_modeling_market_risk_CO11-14)'
- en: Calculating the cross-sectional mean of spread measures
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ä¼ æ’­æµ‹é‡çš„æ¨ªæˆªé¢å‡å€¼
- en: '[![12](assets/12.png)](#co_modeling_market_risk_CO11-15)'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '[![12](assets/12.png)](#co_modeling_market_risk_CO11-15)'
- en: Obtaining the standard deviation of spreads
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: è·å–ä»·å·®çš„æ ‡å‡†åå·®
- en: '[![13](assets/13.png)](#co_modeling_market_risk_CO11-16)'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '[![13](assets/13.png)](#co_modeling_market_risk_CO11-16)'
- en: Filtering the last observed stock prices from the `stocks` data
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: ä»`stocks`æ•°æ®ä¸­è¿‡æ»¤æœ€åè§‚å¯Ÿåˆ°çš„è‚¡ç¥¨ä»·æ ¼
- en: '[![14](assets/14.png)](#co_modeling_market_risk_CO11-17)'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '[![14](assets/14.png)](#co_modeling_market_risk_CO11-17)'
- en: Estimating the liquidity-adjusted ES
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼°ç®—è°ƒæ•´åçš„ESï¼ˆé¢„æœŸæŸå¤±ï¼‰
- en: The PCA is a method used to reduce dimensionality. It is used to extract as
    much information as possible using as few components as possible. If we were to
    take [FigureÂ 5-4](#scree_plot) as an example, out of five features, we might pick
    two components. So we reduce dimensionality at the expense of losing information
    because, depending on our chosen cut-off point, we pick the number of components
    and lose as much information as how many components we left off.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: PCAæ˜¯ç”¨äºå‡å°‘ç»´åº¦çš„æ–¹æ³•ã€‚å®ƒç”¨å°½å¯èƒ½å°‘çš„ç»„ä»¶æå–å°½å¯èƒ½å¤šçš„ä¿¡æ¯ã€‚å¦‚æœæˆ‘ä»¬ä»¥[å›¾5-4](#scree_plot)ä¸ºä¾‹ï¼Œä»äº”ä¸ªç‰¹å¾ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½é€‰æ‹©ä¸¤ä¸ªç»„ä»¶ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡é€‰æ‹©ç»„ä»¶æ•°æ¥å‡å°‘ç»´åº¦ï¼Œç‰ºç‰²äº†ä¿¡æ¯ï¼Œå› ä¸ºå–å†³äºæˆ‘ä»¬é€‰æ‹©çš„æˆªæ­¢ç‚¹ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ç»„ä»¶æ•°é‡ï¼Œä¸¢æ‰äº†å¤šå°‘ç»„ä»¶å°±ä¸¢æ‰äº†å¤šå°‘ä¿¡æ¯ã€‚
- en: 'To be more specific, the point at which [FigureÂ 5-4](#scree_plot) gets flatter
    implies that we retain less information and this is the cut-off point for the
    PCA. However, it is not an easy call in that there is a trade-off between the
    cutoff point and information retained. On the one hand, the higher the cut-off
    point (the higher number of components we have), the more information we retain
    (the less dimensionality we reduce). On the other hand, the lower the cut-off
    point (the fewer number of components we have), the less information we retain
    (the higher dimensionality we reduce). Getting a flatter scree plot is not the
    only criteria for selecting a suitable number of components, so what would be
    the possible criteria for picking the proper number of components? Here are the
    possible cut-off criteria for PCA:'
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´å…·ä½“åœ°è¯´ï¼Œå½“[å›¾5-4](#scree_plot)å˜å¾—å¹³å¦æ—¶ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¿ç•™çš„ä¿¡æ¯è¾ƒå°‘ï¼Œè¿™æ˜¯PCAçš„æˆªæ­¢ç‚¹ã€‚ä½†æ˜¯ï¼Œé€‰æ‹©åˆé€‚çš„ç»„ä»¶æ•°é‡å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºåœ¨æˆªæ­¢ç‚¹å’Œä¿ç•™ä¿¡æ¯ä¹‹é—´å­˜åœ¨æƒè¡¡ã€‚ä¸€æ–¹é¢ï¼Œæˆªæ­¢ç‚¹è¶Šé«˜ï¼ˆæˆ‘ä»¬æœ‰æ›´å¤šçš„ç»„ä»¶ï¼‰ï¼Œæˆ‘ä»¬ä¿ç•™çš„ä¿¡æ¯å°±è¶Šå¤šï¼ˆæˆ‘ä»¬å‡å°‘çš„ç»´åº¦å°±è¶Šå°‘ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆªæ­¢ç‚¹è¶Šä½ï¼ˆæˆ‘ä»¬æœ‰æ›´å°‘çš„ç»„ä»¶ï¼‰ï¼Œæˆ‘ä»¬ä¿ç•™çš„ä¿¡æ¯å°±è¶Šå°‘ï¼ˆæˆ‘ä»¬å‡å°‘çš„ç»´åº¦å°±è¶Šé«˜ï¼‰ã€‚å¾—åˆ°å¹³å¦çš„å±å¹•å›¾å¹¶ä¸æ˜¯é€‰æ‹©åˆé€‚ç»„ä»¶æ•°é‡çš„å”¯ä¸€æ ‡å‡†ï¼Œé‚£ä¹ˆé€‰æ‹©é€‚å½“çš„ç»„ä»¶æ•°é‡çš„å¯èƒ½æ ‡å‡†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»¥ä¸‹æ˜¯PCAé€‰æ‹©åˆé€‚ç»„ä»¶æ•°é‡çš„å¯èƒ½æ ‡å‡†ï¼š
- en: Greater than 80% explained variance
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è§£é‡Šæ–¹å·®å¤§äº80%
- en: More than one eigenvalue
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¤šä¸ªç‰¹å¾å€¼
- en: The point at which the scree plot gets flatter
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“å±å¹•å›¾å˜å¾—å¹³å¦æ—¶
- en: Note
  id: totrans-339
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: æ³¨æ„
- en: Please note that liquidity adjustment can be applied to VaR, too. The same procedure
    applies to VaR. Mathematically,
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼ŒæµåŠ¨æ€§è°ƒæ•´ä¹Ÿå¯ä»¥åº”ç”¨äºVaRã€‚ VaRçš„ç›¸åŒè¿‡ç¨‹ä¹Ÿé€‚ç”¨ã€‚ä»æ•°å­¦ä¸Šè®²ï¼Œ
- en: <math alttext="dollar-sign upper V a upper R Subscript upper L Baseline equals
    sigma Subscript p Baseline StartRoot t EndRoot upper Z Subscript alpha Baseline
    plus one-half upper P Subscript l a s t Baseline left-parenthesis mu plus k sigma
    right-parenthesis dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <msub><mi>R</mi> <mi>L</mi></msub>
    <mo>=</mo> <msub><mi>Ïƒ</mi> <mi>p</mi></msub> <msqrt><mi>t</mi></msqrt> <msub><mi>Z</mi>
    <mi>Î±</mi></msub> <mo>+</mo> <mfrac><mn>1</mn> <mn>2</mn></mfrac> <msub><mi>P</mi>
    <mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub> <mrow><mo>(</mo>
    <mi>Î¼</mi> <mo>+</mo> <mi>k</mi> <mi>Ïƒ</mi> <mo>)</mo></mrow></mrow></math>
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="dollar-sign upper V a upper R Subscript upper L Baseline equals
    sigma Subscript p Baseline StartRoot t EndRoot upper Z Subscript alpha Baseline
    plus one-half upper P Subscript l a s t Baseline left-parenthesis mu plus k sigma
    right-parenthesis dollar-sign"><mrow><mi>V</mi> <mi>a</mi> <msub><mi>R</mi> <mi>L</mi></msub>
    <mo>=</mo> <msub><mi>Ïƒ</mi> <mi>p</mi></msub> <msqrt><mi>t</mi></msqrt> <msub><mi>Z</mi>
    <mi>Î±</mi></msub> <mo>+</mo> <mfrac><mn>1</mn> <mn>2</mn></mfrac> <msub><mi>P</mi>
    <mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub> <mrow><mo>(</mo>
    <mi>Î¼</mi> <mo>+</mo> <mi>k</mi> <mi>Ïƒ</mi> <mo>)</mo></mrow></mrow></math>
- en: This application is left to the reader.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤åº”ç”¨ç•™ç»™è¯»è€…ã€‚
- en: 'However, dimensionality reduction is not the only thing that we can take advantage
    of. In this example, we apply PCA for the benefit of getting the peculiar features
    of liquidity, because PCA filters the most important information from the data
    for us:'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œå‡å°‘ç»´åº¦å¹¶ä¸æ˜¯æˆ‘ä»¬å”¯ä¸€å¯ä»¥åˆ©ç”¨çš„ä¸œè¥¿ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åº”ç”¨PCAæ˜¯ä¸ºäº†è·å¾—æµåŠ¨æ€§çš„ç‹¬ç‰¹ç‰¹å¾ï¼Œå› ä¸ºPCAä¸ºæˆ‘ä»¬ä»æ•°æ®ä¸­è¿‡æ»¤å‡ºæœ€é‡è¦çš„ä¿¡æ¯ï¼š
- en: '[PRE12]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO12-1)'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO12-1)'
- en: Standardizing the spread measures
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡å‡†åŒ–ä»·å·®æµ‹é‡å€¼
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO12-2)'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO12-2)'
- en: Identifying the number of principal components as 5
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ä¸»æˆåˆ†æ•°ç¡®å®šä¸º5
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO12-3)'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO12-3)'
- en: Applying the principal component to the *spread_measures_scaled*
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ä¸»æˆåˆ†åº”ç”¨äº*spread_measures_scaled*
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO12-4)'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO12-4)'
- en: Observing the explained variance of the five principal components
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: è§‚å¯Ÿäº”ä¸ªä¸»æˆåˆ†çš„è§£é‡Šæ–¹å·®
- en: '[![5](assets/5.png)](#co_modeling_market_risk_CO12-5)'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '[![5](assets/5.png)](#co_modeling_market_risk_CO12-5)'
- en: Observing the cumulative explained variance of the five principal components
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: è§‚å¯Ÿäº”ä¸ªä¸»æˆåˆ†çš„ç´¯ç§¯è§£é‡Šæ–¹å·®
- en: '[![6](assets/6.png)](#co_modeling_market_risk_CO12-6)'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: '[![6](assets/6.png)](#co_modeling_market_risk_CO12-6)'
- en: Drawing the *scree plot* ([FigureÂ 5-4](#scree_plot))
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: ç»˜åˆ¶*å±å¹•å›¾*ï¼ˆ[å›¾5-4](#scree_plot)ï¼‰
- en: '[![7](assets/7.png)](#co_modeling_market_risk_CO12-7)'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '[![7](assets/7.png)](#co_modeling_market_risk_CO12-7)'
- en: Based on scree plot, determining two to be the number of components to be used
    in our PCA analysis
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®å±å¹•å›¾ï¼Œç¡®å®šä½¿ç”¨ä¸¤ä¸ªç»„ä»¶è¿›è¡ŒPCAåˆ†æ
- en: '[![8](assets/8.png)](#co_modeling_market_risk_CO12-8)'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: '[![8](assets/8.png)](#co_modeling_market_risk_CO12-8)'
- en: Drawing the *biplot* ([FigureÂ 5-5](#bi_plot)) to observe the relationship between
    components and features
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: ç»˜åˆ¶*åŒæ ‡å›¾*ï¼ˆ[å›¾5-5](#bi_plot)ï¼‰ä»¥è§‚å¯Ÿç»„ä»¶å’Œç‰¹å¾ä¹‹é—´çš„å…³ç³»
- en: '![mlfr 0504](assets/mlfr_0504.png)'
  id: totrans-361
  prefs: []
  type: TYPE_IMG
  zh: '![mlfr 0504](assets/mlfr_0504.png)'
- en: Figure 5-4\. PCA scree plot
  id: totrans-362
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾5-4\. PCAå±å¹•å›¾
- en: '![mlfr 0505](assets/mlfr_0505.png)'
  id: totrans-363
  prefs: []
  type: TYPE_IMG
  zh: '![mlfr 0505](assets/mlfr_0505.png)'
- en: Figure 5-5\. PCA biplot
  id: totrans-364
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: å›¾5-5\. PCAåŒæ ‡å›¾
- en: 'We now have all the necessary information, and by incorporating this information,
    we are able to calculate the liquidity-adjusted ES. Unsurprisingly, the following
    code reveals that the liquidity-adjusted ES provides larger values compared to
    the standard ES application. This implies that including a liquidity dimension
    in our ES estimation results in higher risk:'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬æ‹¥æœ‰æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œå¹¶é€šè¿‡æ•´åˆè¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®¡ç®—æµåŠ¨æ€§è°ƒæ•´çš„ESã€‚æ¯«ä¸å¥‡æ€ªï¼Œä¸‹é¢çš„ä»£ç æ˜¾ç¤ºï¼Œä¸æ ‡å‡†ESåº”ç”¨ç›¸æ¯”ï¼ŒæµåŠ¨æ€§è°ƒæ•´çš„ESæä¾›äº†æ›´å¤§çš„å€¼ã€‚è¿™æ„å‘³ç€åœ¨æˆ‘ä»¬çš„ESä¼°è®¡ä¸­åŒ…å«äº†æµåŠ¨æ€§ç»´åº¦ï¼Œå¯¼è‡´äº†æ›´é«˜çš„é£é™©ï¼š
- en: '[PRE13]'
  id: totrans-366
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '[![1](assets/1.png)](#co_modeling_market_risk_CO13-1)'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '[![1](assets/1.png)](#co_modeling_market_risk_CO13-1)'
- en: Calculating the liquidity part of the liquidity-adjusted ES formula for the
    first principal component
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æµåŠ¨æ€§è°ƒæ•´ESå…¬å¼çš„æµåŠ¨æ€§éƒ¨åˆ†ï¼Œç”¨äºç¬¬ä¸€ä¸»æˆåˆ†
- en: '[![2](assets/2.png)](#co_modeling_market_risk_CO13-2)'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: '[![2](assets/2.png)](#co_modeling_market_risk_CO13-2)'
- en: Calculating the liquidity part of the liquidity-adjusted ES formula for the
    second principal component
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æµåŠ¨æ€§è°ƒæ•´ESå…¬å¼çš„æµåŠ¨æ€§éƒ¨åˆ†ï¼Œç”¨äºç¬¬äºŒä¸»æˆåˆ†
- en: '[![3](assets/3.png)](#co_modeling_market_risk_CO13-3)'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: '[![3](assets/3.png)](#co_modeling_market_risk_CO13-3)'
- en: Calculating cross-sectional mean of the two principal components
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—ä¸¤ä¸ªä¸»æˆåˆ†çš„æ¨ªæˆªé¢å‡å€¼
- en: '[![4](assets/4.png)](#co_modeling_market_risk_CO13-4)'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: '[![4](assets/4.png)](#co_modeling_market_risk_CO13-4)'
- en: Estimating the liquidity-adjusted ES
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼°ç®—æµåŠ¨æ€§è°ƒæ•´çš„ES
- en: Conclusion
  id: totrans-375
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Market risk has been always under scrutiny as it gives us the extent to which
    a company is vulnerable to risk emanating from market events. In a financial risk
    management textbook, it is customary to find a VaR and an ES model, which are
    two prominent and commonly applied models in theory and practice. In this chapter,
    after providing an introduction to these models, models were introduced to revisit
    and improve model estimation. To this end, we first tried to differentiate information
    flows in the form of noise and signal, which is called denoising. Then, we employed
    a denoised covariance matrix to improve the VaR estimation.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: å¸‚åœºé£é™©ä¸€ç›´å—åˆ°å…³æ³¨ï¼Œå› ä¸ºå®ƒæ˜¾ç¤ºäº†å…¬å¸åœ¨å¸‚åœºäº‹ä»¶å¸¦æ¥çš„é£é™©æ–¹é¢çš„è„†å¼±ç¨‹åº¦ã€‚åœ¨é‡‘èé£é™©ç®¡ç†æ•™æä¸­ï¼Œå¾€å¾€ä¼šæ‰¾åˆ°VaRå’ŒESæ¨¡å‹ï¼Œè¿™ä¸¤ä¸ªæ¨¡å‹åœ¨ç†è®ºå’Œå®è·µä¸­éƒ½æ˜¯çªå‡ºå’Œå¸¸ç”¨çš„æ¨¡å‹ã€‚åœ¨æœ¬ç« ä¸­ï¼Œåœ¨ä»‹ç»è¿™äº›æ¨¡å‹ä¹‹åï¼Œä»‹ç»äº†é‡æ–°å®¡è§†å’Œæ”¹è¿›æ¨¡å‹ä¼°è®¡çš„æ¨¡å‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå°è¯•åŒºåˆ†å™ªå£°å’Œä¿¡å·çš„ä¿¡æ¯æµï¼Œè¿™è¢«ç§°ä¸ºå»å™ªã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨å»å™ªçš„åæ–¹å·®çŸ©é˜µæ¥æ”¹è¿›VaRä¼°è®¡ã€‚
- en: Next, we discussed an ES model as a coherent risk measure. The method that we
    applied to improve this model was a liquidity-based approach, by which we revisited
    the ES model and augmented it using a liquidity component so that it was possible
    to consider liquidity risk in estimating ES.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¨è®ºäº†ESæ¨¡å‹ä½œä¸ºä¸€ä¸ªè¿è´¯çš„é£é™©åº¦é‡ã€‚æˆ‘ä»¬ç”¨æ¥æ”¹è¿›è¿™ä¸ªæ¨¡å‹çš„æ–¹æ³•æ˜¯åŸºäºæµåŠ¨æ€§çš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬é‡æ–°å®¡è§†äº†ESæ¨¡å‹ï¼Œå¹¶ä½¿ç”¨æµåŠ¨æ€§ç»„ä»¶å¢å¼ºäº†å®ƒï¼Œä»¥ä¾¿èƒ½å¤Ÿè€ƒè™‘æµåŠ¨æ€§é£é™©æ¥ä¼°è®¡ESã€‚
- en: Further improvements in market risk estimation are possible, but our aim here
    is to give a general idea and the requisite tooling to provide a decent foundation
    for ML-based market risk approaches. However, you can go further and apply different
    tools. In the next chapter, we will discuss credit risk modeling as suggested
    by regulatory bodies like the Basel Committee on Banking Supervision (BCBS) and
    then enrich this model using an ML-based approach.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: å¸‚åœºé£é™©ä¼°è®¡çš„è¿›ä¸€æ­¥æ”¹è¿›æ˜¯å¯èƒ½çš„ï¼Œä½†æˆ‘ä»¬åœ¨è¿™é‡Œçš„ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªä¸€èˆ¬çš„æ¦‚å¿µå’Œå¿…è¦çš„å·¥å…·ï¼Œä»¥ä¸ºåŸºäºMLçš„å¸‚åœºé£é™©æ–¹æ³•æä¾›ä¸€ä¸ªä½“é¢çš„åŸºç¡€ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥è¿›ä¸€æ­¥åº”ç”¨ä¸åŒçš„å·¥å…·ã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºåƒå·´å¡å°”é“¶è¡Œç›‘ç£å§”å‘˜ä¼šï¼ˆBCBSï¼‰ç­‰ç›‘ç®¡æœºæ„å»ºè®®çš„ä¿¡è´·é£é™©å»ºæ¨¡ï¼Œç„¶åä½¿ç”¨åŸºäºMLçš„æ–¹æ³•ä¸°å¯Œè¿™ä¸ªæ¨¡å‹ã€‚
- en: References
  id: totrans-379
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒèµ„æ–™
- en: 'Articles cited in this chapter:'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« å¼•ç”¨çš„æ–‡ç« ï¼š
- en: 'Antoniades, Adonis. 2016\. â€œLiquidity Risk and the Credit Crunch of 2007-2008:
    Evidence from Micro-Level Data on Mortgage Loan Applications.â€ *Journal of Financial
    and Quantitative Analysis* 51 (6): 1795-1822.'
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Antoniades, Adonis. 2016\. â€œæµåŠ¨æ€§é£é™©ä¸2007-2008å¹´ä¿¡è´·ç´§ç¼©: åŸºäºæŠµæŠ¼è´·æ¬¾ç”³è¯·çš„å¾®è§‚æ•°æ®çš„è¯æ®ã€‚â€ *é‡‘èä¸æ•°é‡åˆ†ææ‚å¿—*
    51 (6): 1795-1822ã€‚'
- en: 'Bzdok, D., N. Altman, and M. Krzywinski. 2018\. â€œPoints of Significance: Statistics
    Versus Machine Learning.â€ *Nature Methods* 15 (4): 233-234.'
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Bzdok, D., N. Altman, and M. Krzywinski. 2018\. â€œè¦ç‚¹: ç»Ÿè®¡å­¦ä¸æœºå™¨å­¦ä¹ ã€‚â€ *è‡ªç„¶æ–¹æ³•* 15 (4):
    233-234.'
- en: BIS, Calculation of RWA for Market Risk, 2020.
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BISï¼Œå¸‚åœºé£é™©RWAçš„è®¡ç®—ï¼Œ2020å¹´ã€‚
- en: 'Chordia, Tarun, Richard Roll, and Avanidhar Subrahmanyam. 2000\. â€œCommonality
    in Liquidity.â€ Journal of Financial Economics 56 (1): 3-28.'
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Chordia, Tarun, Richard Roll, å’Œ Avanidhar Subrahmanyam. 2000\. â€œæµåŠ¨æ€§çš„å…±æ€§ã€‚â€ é‡‘èç»æµå­¦æ‚å¿—
    56 (1): 3-28ã€‚'
- en: 'Mancini, Loriano, Angelo Ranaldo, and Jan Wrampelmeyer. 2013\. â€œLiquidity in
    the Foreign Exchange Market: Measurement, Commonality, and Risk Premiums.â€ *The
    Journal of Finance* 68 (5): 1805-1841.'
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Mancini, Loriano, Angelo Ranaldo, å’Œ Jan Wrampelmeyer. 2013\. â€œå¤–æ±‡å¸‚åœºæµåŠ¨æ€§ï¼šæµ‹é‡ã€å…±æ€§å’Œé£é™©æº¢ä»·ã€‚â€
    *é‡‘èå­¦æ‚å¿—* 68 (5): 1805-1841ã€‚'
- en: 'PÃ¡stor, Ä½uboÅ¡, and Robert F. Stambaugh. 2003\. â€œLiquidity Risk and Expected
    Stock Returns.â€ *Journal of Political Economy* 111 (3): 642-685.'
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'PÃ¡stor, Ä½uboÅ¡, å’Œ Robert F. Stambaugh. 2003\. â€œæµåŠ¨æ€§é£é™©ä¸é¢„æœŸè‚¡ç¥¨å›æŠ¥ã€‚â€ *æ”¿æ²»ç»æµå­¦æ‚å¿—* 111
    (3): 642-685ã€‚'
- en: 'Books cited in this chapter:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬ç« å¼•ç”¨çš„ä¹¦ç±æœ‰ï¼š
- en: 'Dowd, Kevin. 2003\. *An Introduction to Market Risk Measurement*. Hoboken,
    NJ: John Wiley and Sons.'
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Dowd, Kevin. 2003\. *å¸‚åœºé£é™©æµ‹é‡å¯¼è®º*. Hoboken, NJ: John Wiley and Sons.'
- en: 'Glasserman, Paul. *Monte Carlo Methods in Financial Engineering*. 2013\. Stochastic
    Modelling and Applied Probability Series, Volume 53\. New York: Springer Science
    & Business Media.'
  id: totrans-389
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Glasserman, Paul. *é‡‘èå·¥ç¨‹ä¸­çš„è’™ç‰¹å¡ç½—æ–¹æ³•*. 2013\. éšæœºå»ºæ¨¡ä¸åº”ç”¨æ¦‚ç‡ç³»åˆ—ï¼Œç¬¬53å·ã€‚çº½çº¦ï¼šSpringer Science
    & Business Mediaã€‚
- en: 'M. LÃ³pez De Prado. 2020\. *Machine Learning for Asset Managers*. Cambridge:
    Cambridge University Press.'
  id: totrans-390
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: M. LÃ³pez De Prado. 2020\. *èµ„äº§ç®¡ç†çš„æœºå™¨å­¦ä¹ *. å‰‘æ¡¥ï¼šå‰‘æ¡¥å¤§å­¦å‡ºç‰ˆç¤¾ã€‚
- en: ^([1](ch05.html#idm45737228731696-marker)) The details of the procedure can
    be found at [Hudson and Thames](https://oreil.ly/gkQjX).
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch05.html#idm45737228731696-marker)) æ­¤è¿‡ç¨‹çš„è¯¦ç»†ä¿¡æ¯å¯åœ¨[Hudson and Thames](https://oreil.ly/gkQjX)æ‰¾åˆ°ã€‚
- en: ^([2](ch05.html#idm45737230084272-marker)) See [NBERâ€™s website](https://oreil.ly/07s71)
    for further information.
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](ch05.html#idm45737230084272-marker)) æ›´å¤šä¿¡æ¯è¯·å‚é˜…[NBERçš„ç½‘ç«™](https://oreil.ly/07s71)ã€‚
