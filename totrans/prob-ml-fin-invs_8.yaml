- en: Chapter 8\. Making Probabilistic Decisions with Generative Ensembles
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章 利用生成式集成进行概率决策
- en: But I realized that the odds as the game progressed actually depended on which
    cards were still left in the deck and that the edge would shift as play continued,
    sometimes favoring the casino and sometimes the player.
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 但我意识到，随着游戏的进行，胜率实际上取决于剩余牌堆中还有哪些牌，并且随着游戏的进行，这一优势会发生变化，有时候更有利于赌场，有时候则更有利于玩家。
- en: ''
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: —Dr. Edward O. Thorp, the greatest quantitative gambler and trader of all time
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ——Edward O. Thorp 博士，有史以来最伟大的量化赌徒和交易员
- en: In the previous chapter, we designed, developed, trained, and tested a generative
    ensemble of linear regression lines. Probabilistic linear regression is fundamentally
    different from frequentist or conventional linear regression, introduced in [Chapter 4](ch04.html#the_dangers_of_conventional_statistical).
    For starters, frequentist linear regression produces a single regression line
    with parameters optimized to fit a noisy financial dataset generated by a stochastic
    process that is neither stationary nor ergodic. Probabilistic linear regression
    generates many regression lines, each corresponding to different combinations
    of possible parameters, which can fit the observed data distribution with various
    plausibilities while remaining consistent with prior knowledge and model assumptions.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在前一章中，我们设计、开发、训练和测试了一个生成式线性回归线集合。概率线性回归与频率主义或传统线性回归有根本区别，如[第4章](ch04.html#the_dangers_of_conventional_statistical)所介绍的。首先，频率主义线性回归生成单一回归线，其参数经过优化以适应由既非平稳又非遍历的随机过程生成的嘈杂金融数据集。而概率线性回归生成多条回归线，每条对应不同的参数组合，能够以不同的可能性拟合观察到的数据分布，同时与先验知识和模型假设保持一致。
- en: Generative ensembles have the desirable characteristics of being capable of
    continually learning and revising model parameters from data and explicitly stated
    past knowledge. What truly distinguishes generative ensembles from their conventional
    counterparts are their capabilities of seamlessly simulating new data and counterfactual
    knowledge conditioned on the observed data and model assumptions on which they
    were trained and tested regardless of the size of the dataset or the ordering
    of the data.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 生成式集成具有不断学习和修订模型参数的良好特性，同时明确陈述从数据和显式陈述的过去知识中得出的模型参数。真正区分生成式集成与传统对手的是，它们能够无缝地模拟新数据和以观察数据和模型假设为条件的反事实知识，而不管数据集的大小或数据的顺序如何。
- en: Generative ensembles do all these activities consistently with their transparent
    model assumptions and the rigors of probability calculus, while appropriately
    scaling the aleatory and epistemic uncertainties inherent in such predictions
    and counterfactual knowledge. Probabilistic models know their limitations and
    honestly express their ignorance by widening their highest-density intervals in
    their extrapolations.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 生成式集成在透明的模型假设和概率计算的严谨性下进行所有这些活动，同时适当地缩放此类预测和反事实知识中固有的偶然性和认知不确定性。概率模型了解其局限性，并通过在其外推中扩展其最高密度区间来诚实地表达其无知。
- en: In the previous three chapters, we were primarily focused on inferring the distributions
    of our ensemble’s parameters. In this chapter, we focus our attention on using
    the simulated outputs of our trained and tested generative ensembles for making
    financial and investment decisions in the face of three-dimensional uncertainty
    and incomplete information. In other words, our focus will be on the data-generating
    posterior predictive distribution of our model instead of the posterior distribution
    of its parameters. Generally speaking, the ensemble’s outputs are what decision
    makers understand and need for making their decisions. For instance, the distribution
    of stock price returns is more meaningful to senior management and clients than
    the distribution of the alpha and beta parameters of the model used to generate
    them.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在前三章中，我们主要专注于推断我们集成参数的分布。在本章中，我们将注意力集中在使用我们训练和测试的生成式集成的模拟输出来在面对三维不确定性和不完整信息时做出财务和投资决策上。换句话说，我们的重点将放在我们模型的数据生成后验预测分布上，而不是其参数的后验分布。总体而言，集成的输出对于决策者来说更为重要和必需，例如，股价回报的分布对高级管理人员和客户比使用模型生成它们的α和β参数的分布更有意义。
- en: After reviewing the probabilistic inference and prediction framework used in
    this book, we systematize our approach to decision making by using objective functions.
    In the first example of probabilistic decision making, we explore how you can
    use the framework to integrate subjective human behavior with the objectivity
    of data and rigors of probability calculus. Finance and investing involves people,
    not particles or pendulums, and a decision-making framework that cannot integrate
    the intrinsic subjectivity of humanity is utterly useless. This also emphasizes
    the fact that decision making is both an art and a science in which human common
    sense and judgment are of paramount importance.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在回顾本书中使用的概率推断和预测框架后，我们通过使用客观函数系统化我们的决策方法。在概率决策制定的第一个示例中，我们探讨了如何使用框架将主观人类行为与数据客观性和概率计算的严谨性结合起来。金融与投资涉及人而不是粒子或摆锤，一个不能整合人类内在主观性的决策框架是毫无用处的。这也强调了决策制定既是一门艺术又是一门科学，其中人类的常识和判断至关重要。
- en: Two loss functions that are commonly used by risk managers and corporate treasurers
    are value at risk (VaR) and expected shortfall (ES). I introduce a new method
    of computing these risk measures as an integral part of generative ensembles.
    To use ensemble averages and its simulated data appropriately, we explore the
    statistical concept of ergodicity to understand why expected value or ensemble
    average has severe limitations and doesn’t work as conventional economic theory
    will have us believe.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 风险管理和企业财务主管常用的两个损失函数是风险价值（VaR）和预期缺口（ES）。我介绍了计算这些风险度量的新方法，作为生成集成的一个组成部分。为了正确使用集成平均数及其模拟数据，我们探讨了遍历性的统计概念，以理解为什么预期值或集成平均数存在严重局限，不像传统经济理论所说的那样有效。
- en: Finally, we explore the complex problem of allocating our hard-earned capital
    to favorable investment opportunities without the risk of financial ruin at any
    time. We examine the differences between gambling and investing, making decisions
    regarding one-off investments and a sequence of investments. The two most important
    capital allocation algorithms, Markowitz’s mean variance and Kelly’s capital growth
    investment criterion, are applied and their strengths and weaknesses are examined.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们探讨了如何在不会有任何财务破产风险的情况下，将我们辛苦赚来的资本分配到有利的投资机会上的复杂问题。我们研究了赌博和投资之间的区别，做出关于一次性投资和一系列投资的决策。我们应用了马尔科维茨的均值方差和凯利的资本增长投资标准这两个最重要的资本分配算法，并分析了它们的优势和劣势。
- en: Probabilistic Inference and Prediction Framework
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率推断与预测框架
- en: 'Let’s review and summarize the framework we have used in the second half of
    the book to make inferences about model parameters, retrodictions about in-sample
    training data distributions, and predictions about out-of-sample test data distributions.
    We will illustrate this framework by using the debt default example from [Chapter 5](ch05.html#the_probabilistic_machine_learning_fram)—when
    you were working as an analyst at the hedge fund that invested in high-yielding
    debt or “junk” bonds:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾并总结本书下半部分使用的框架，以推断模型参数、逆推样本训练数据分布以及预测样本外测试数据分布。我们将通过使用来自[第五章](ch05.html#the_probabilistic_machine_learning_fram)的债务违约示例来说明这一框架——在您作为投资高收益债务或“垃圾”债券的对冲基金分析师时：
- en: 'Specify all the possible scenarios or event outcomes that can occur in the
    sample space. The scenarios S[1] and S[2] are the model parameters that we want
    to estimate:'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定在样本空间中可能发生的所有场景或事件结果。场景 S[1] 和 S[2] 是我们想要估计的模型参数：
- en: S[1] is the scenario in which XYZ portfolio company defaults on its debt obligations.
    S[2] is the scenario in which it doesn’t.
  id: totrans-14
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: S[1] 是 XYZ 投资组合公司违约其债务义务的场景。S[2] 是它不违约的场景。
- en: Scenarios S[1] and S[2] are mutually exclusive and collectively exhaustive,
    which implies P(default) + P(no default) = 1.
  id: totrans-15
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 场景 S[1] 和 S[2] 是互斥且完全穷尽的，这意味着 P(违约) + P(不违约) = 1。
- en: Research and use any and all personal, institutional, scientific, and common
    knowledge about the problem domain that might help you to design your model and
    assign prior probabilities to the various parameters in the sample space before
    observing any new data. This is the prior probability distribution of the model.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 研究并利用与问题领域相关的任何个人、机构、科学和常识，这些可能有助于您设计模型并在观察任何新数据之前为样本空间中的各种参数分配先验概率。这是模型的先验概率分布。
- en: 'Your hedge fund management team used its experience, expertise, and institutional
    knowledge to estimate the following prior probabilities for the parameters S[1]
    and S[2]:'
  id: totrans-17
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您的对冲基金管理团队利用其经验、专业知识和机构知识来估计参数 S[1] 和 S[2] 的以下先验概率：
- en: P(default) = 0.10 and P(No default) = 0.90
  id: totrans-18
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(default) = 0.10 和 P(No default) = 0.90
- en: Apply similar prior knowledge and domain expertise to specify likelihood functions
    for each model parameter. Understand what kind of data might be generated from
    your parametric model.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用类似的先验知识和领域专业知识来为每个模型参数指定似然函数。了解从您的参数模型可能生成哪些数据。
- en: You used your fund’s proprietary ML classification system that leveraged the
    features of a valuable database about debt defaulters and nondefaulters. In particular,
    your fund’s analysts have found that companies that eventually default on their
    debt accumulate 70% negative ratings. However, the companies that do not eventually
    default only accumulate 40% negative ratings.
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您使用了基金专有的 ML 分类系统，利用了有关债务违约者和非违约者的宝贵数据库的特征。特别是，您基金的分析师发现最终违约的公司会积累 70% 的负面评价。然而，最终未违约的公司只会积累
    40% 的负面评价。
- en: 'The likelihood functions of the model are: P(negative | default) = 0.70 and
    P(negative | no default) = 0.40'
  id: totrans-21
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模型的似然函数为：P(negative | default) = 0.70 和 P(negative | no default) = 0.40
- en: Generate data D′ using the model’s prior predictive distribution. The model
    generates yet-to-be-seen data by averaging the likelihood function over the prior
    probability distribution of its parameters. The prior predictive distribution
    serves as an initial model check by simulating data we might have observed in
    the past based on our current model. The prior predictive distribution is a retrodiction
    of past data. In general, we can compare the data distribution to our prior knowledge.
    In particular, we can compare its simulated data to the training data.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用模型的先验预测分布生成数据 D′。该模型通过在其参数的先验概率分布上平均似然函数来生成尚未见过的数据。先验预测分布作为一个初始模型检查，通过模拟我们可能过去观察到的数据来进行。先验预测分布是对过去数据的逆向预测。通常，我们可以将数据分布与我们的先验知识进行比较。特别是，我们可以将其模拟数据与训练数据进行比较。
- en: 'Based on all your model’s assumptions encoded in your prior probability distribution
    and the likelihood function, you can expect XYZ portfolio company to generate
    negative and positive ratings with the following probabilities:'
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于您模型的所有假设编码在您的先验概率分布和似然函数中，您可以期望 XYZ 投资组合公司以以下概率生成负面和正面评级：
- en: P(negative) = P(negative | default) P(default) + P(negative | no default) P(
    no default) = (0.70 × 0.10) + (0.40 × 0.90) = 0.43
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(negative) = P(negative | default) P(default) + P(negative | no default) P(
    no default) = (0.70 × 0.10) + (0.40 × 0.90) = 0.43
- en: P(positive) = P(positive | default) P(default) + P(positive | no default) P(
    no default) = (0.30 × 0.10) + (0.60 × 0.90) = 0.57
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(positive) = P(positive | default) P(default) + P(positive | no default) P(
    no default) = (0.30 × 0.10) + (0.60 × 0.90) = 0.57
- en: Conduct a prior predictive check by observing in-sample data D and comparing
    it to the simulated data generated in the previous step.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过观察样本内数据 D 进行先验预测检查，并将其与上一步生成的模拟数据进行比较。
- en: If the retrodiction of the data meets your requirements, the model is ready
    to be trained and you should go to the next step.
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果数据的逆向预测符合您的要求，则模型已准备好进行训练，您应该进入下一步。
- en: Otherwise, review the parameters and the functional forms of prior probability
    distribution and the likelihood function.
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否则，请审查参数以及先验概率分布和似然函数的函数形式。
- en: Repeat steps 2–4 until the model passes your prior predictive check and is ready
    for training.
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 重复步骤 2–4，直到模型通过您的先验预测检查并准备好进行训练。
- en: Apply the inverse probability rule to update the distributions of model parameters.
    Our model’s posterior probability distribution updates our prior parameter estimates,
    given the actual training data.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将逆概率规则应用于更新模型参数的分布。我们模型的后验概率分布根据实际训练数据更新我们的先验参数估计。
- en: 'You observed a negative rating and updated the posterior probability of default
    of XYZ company as follows:'
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您观察到一个负面评级，并将 XYZ 公司的违约后验概率更新如下：
- en: P(default | negative) = P(negative | default) P(default) / P(negative) = (0.70
    × 0.10)/0.43 = 0.16
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(default | negative) = P(negative | default) P(default) / P(negative) = (0.70
    × 0.10)/0.43 = 0.16
- en: Generate data D″ using the model’s posterior predictive distribution. The trained
    model simulates yet-to-be-seen data by averaging the likelihood function over
    the posterior probability distribution of the updated parameters. The posterior
    predictive distribution serves as a second model check by retrodicting the in-sample
    data it was trained on and predicting the out-of-sample or test data distribution
    we might observe later in testing.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用模型的后验预测分布生成数据D″。训练模型通过在更新参数的后验概率分布上对似然函数进行平均，模拟尚未见到的数据。后验预测分布充当第二个模型检查，通过回推训练过的样本数据并预测我们可能在后续测试中观察到的样本外或测试数据分布。
- en: 'Based on all your model’s assumptions encoded in your prior probability distribution,
    the likelihood function, and the newly observed negative rating, you can expect
    that XYZ portfolio company will generate new ratings, negative″ and positive″,
    with the following updated probabilities:'
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于模型先验概率分布中编码的所有模型假设、似然函数和新观察到的负面评级，您可以预期XYZ投资组合公司将以以下更新的概率生成新的正面评级“positive″和负面评级“negative″：
- en: P(negative″ | negative) = P(negative″ | default) P(default | negative) + P(negative″
    | no default) P( no default | negative) = (0.70 × 0.16) + (0.40 × 0.84) = 0.35
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(negative″ | negative) = P(negative″ | default) P(default | negative) + P(negative″
    | no default) P( no default | negative) = (0.70 × 0.16) + (0.40 × 0.84) = 0.35
- en: P(positive″) = 1 − P(negative″) = 0.65
  id: totrans-36
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(positive″) = 1 − P(negative″) = 0.65
- en: 'We are now faced with one of the most important decisions regarding the outputs
    of our inferences: how are we going to apply its results to make decisions given
    incomplete information and three-dimensional uncertainty, so that we increase
    the odds of achieving our objectives?'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们面临着关于我们推断结果的输出中最重要的决策之一：我们将如何应用其结果来做出决策，以便在不完全信息和三维不确定性面前增加实现我们目标的几率？
- en: Probabilistic Decision-Making Framework
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率决策框架
- en: To make systematic decisions in the face of incomplete information and uncertainty,
    we need to specify an objective function. A loss function is a specific type of
    objective function where the objective is to minimize the expected value or weighted
    average loss of our decisions.^([1](ch08.html#ch08fn1)) Simply put, a loss function
    quantifies our losses for every decision we take based on inferences and predictions
    we make.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在面对不完全信息和不确定性时做出系统化决策，我们需要指定一个客观函数。损失函数是一种特定类型的客观函数，其目标是最小化我们根据推理和预测所做每个决策的预期值或加权平均损失^([1](ch08.html#ch08fn1))。简单来说，损失函数量化我们基于我们所做推断和预测的每个决策的损失。
- en: Let’s continue working through our debt default example to understand what a
    loss function does and how to apply it to outcomes that are simulated by our generative
    ensembles. We will then generalize it so that we can apply it to any decision-making
    activity that we might face using any type of objective function.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续通过我们的债务违约示例来理解损失函数的作用以及如何将其应用于由我们的生成集成模拟的结果。然后我们将其推广，以便我们可以应用于任何使用任何类型的客观函数进行的决策活动。
- en: Integrating Subjectivity
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 集成主观性
- en: The most difficult decisions are the ones that involve a complex interplay between
    the objective logic of the situation and the equally rational subjective self-interests
    of various people involved. Of course, the numbers we assign to any loss function
    for different decisions can be subjective. In such situations, the absolute numbers
    of the losses are not important. What is important is that we calibrate the losses
    consistently to reflect the magnitude of the consequences that would result logically
    from the various decisions that we make.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 最困难的决策是涉及情况的客观逻辑和涉及的各种人的同样理性的主观自我利益之间复杂相互作用的决策。当然，我们为不同决策分配的损失数值可以是主观的。在这种情况下，损失的绝对数值并不重要。重要的是我们一致地校准损失，以反映从我们所做各种决策中逻辑上产生的后果的重要性。
- en: 'Assume that you are working as an analyst at the aforementioned hedge fund.
    Basically, your job is to excel at data analysis and follow your portfolio manager’s
    directions, especially regarding her risk limits for any portfolio company’s bonds.
    The biggest risk you face at your job is getting fired and losing your main source
    of income. Here is a scenario you might face in your nascent career in investment
    management:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您正在上述对冲基金中担任分析师。基本上，您的工作是在数据分析方面表现出色，并遵循您的投资组合经理的指示，特别是关于任何投资组合公司债券的风险限制。在您的工作中面临的最大风险是被解雇并失去主要收入来源。以下是您在投资管理初期职业生涯中可能面临的情景：
- en: Because of two negative ratings in a row, the probability of default for XYZ
    company bonds is now 25%.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于连续两次负面评级，XYZ 公司债券的违约概率现在为 25%。
- en: Your portfolio manager has directed you to call a risk management meeting when
    the probability of default of XYZ portfolio company exceeds 30%, her risk limit,
    which she swears by based on her experiences and expertise.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的投资组合经理已指示你在 XYZ 投资组合公司的违约概率超过 30% 时召开风险管理会议，这是她根据自己的经验和专业知识立下的风险限制。
- en: You aspire to be a portfolio manager in the near future and need to demonstrate
    judgment and the ability to bear risk to your manager and colleagues.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你渴望在不久的将来成为一名投资组合经理，并向你的经理和同事展示判断力和承担风险的能力。
- en: The next rating that your ML system assigns XYZ bonds will almost surely not
    seal the fate of XYZ bonds’ default status. But as you see it, the next rating
    will have dramatic consequences to your life that could rival any Shakespearean
    tragedy. The outcomes could range from your getting fired to your getting promoted
    as a portfolio manager. To call a meeting or not to call a meeting with your portfolio
    manager before the next rating—that is the question. To help you with your dilemma,
    we need to specify the probability distribution for the next rating, XYZ’s probability
    of default breaching the risk limit, and the loss you might experience based on
    your decision to call or not to call the meeting with your portfolio manager before
    observing the rating.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 你的机器学习系统为 XYZ 债券分配的下一个评级几乎肯定不会决定 XYZ 债券违约的命运。但在你看来，下一个评级将对你的生活产生巨大影响，可能媲美任何一部莎士比亚悲剧。结果可能会从你被解雇到你被提升为投资组合经理。在下一个评级之前是否与你的投资组合经理开会，这是一个问题。为了帮助你解决困境，我们需要指定下一个评级的概率分布、XYZ
    的违约概率突破风险限制以及你在观察评级前召开或不召开与投资组合经理的会议可能遭受的损失。
- en: 'Let’s calculate the probability of default for XYZ company if the next rating
    you observe is a negative one (which would make it three negative ratings in a
    row):'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们计算一下，如果你观察到的下一个评级是负面的（这将使连续三次负面评级），XYZ 公司债券的违约概率是多少：
- en: P(3 negatives | default) = 0.70 × 0.70 × 0.70 = 0.343
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(3 negatives | 默认) = 0.70 × 0.70 × 0.70 = 0.343
- en: P(3 negatives | no default) = 0.40 × 0.40 × 0.40 = 0.064
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(3 negatives | 无默认) = 0.40 × 0.40 × 0.40 = 0.064
- en: P(3 negatives) = P(3 negatives | default) P(default) + P(3 negatives | no default)
    P( no default) = 0.343 × 0.10 + 0.064 × 0.90 = 0.0343 + 0.0576 = 0.0919
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(3 negatives) = P(3 negatives | 默认) P(默认) + P(3 negatives | 无默认) P(无默认) = 0.343
    × 0.10 + 0.064 × 0.90 = 0.0343 + 0.0576 = 0.0919
- en: P(default | 3 negatives) = P(3 negatives | default) P(default) / P(3 negatives)
    = 0.0343/0.0919 = 0.37
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(默认 | 3 negatives) = P(3 negatives | 默认) P(默认) / P(3 negatives) = 0.0343/0.0919
    = 0.37
- en: 'So if the next rating is a negative one, your estimate of the probability of
    default of XYZ company would be around 37% and would blow past your portfolio
    manager’s risk limit of 30%. But what is the probability that the next rating
    for XYZ company is a negative one give that we have already observed 2 negative
    ratings? We have already computed the posterior predictive distribution for the
    next rating given two consecutive negative ratings for XYZ company:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果下一个评级是负面的，你对 XYZ 公司违约概率的估计将约为 37%，并且将超过你的投资组合经理设定的 30% 的风险限制。但是，如果我们已经观察到了
    2 个负面评级，那么 XYZ 公司下一个评级是负面评级的概率是多少？我们已经计算了给定 XYZ 公司连续两次负面评级的后验预测分布：
- en: P(negative′ | 2 negatives) = P(negative′ | default) P(default | 2 negatives)
    + P(negative′ | no default) P(no default | 2 negatives) = (0.7 × 0.25) + (0.4
    × 0.75) = 0.475
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(negative′ | 2 negatives) = P(negative′ | 默认) P(默认 | 2 negatives) + P(negative′
    | 无默认) P(无默认 | 2 negatives) = (0.7 × 0.25) + (0.4 × 0.75) = 0.475
- en: P(positive′ | 2 negatives) = 1 – P(negative′ | 2 negatives) = 0.525
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(positive′ | 2 negatives) = 1 – P(negative′ | 2 negatives) = 0.525
- en: It seems that the odds don’t favor calling a meeting with your portfolio manager
    since there is only a 47.5% probability that the next rating for XYZ company is
    going to be negative. However, these odds don’t consider the consequences of your
    decisions on your career and your colleagues. More specifically, we need to figure
    out the losses you and your portfolio manager might face based on your decision
    to call or not to call the risk management meeting with her preemptively.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 看来情况不利于与你的投资组合经理开会，因为 XYZ 公司的下一个评级只有 47.5% 的可能性是负面的。然而，这些可能性并未考虑到你的决定对你的职业生涯和同事的影响。更具体地说，我们需要弄清楚你和你的投资组合经理根据你召开或不召开与她预先的风险管理会议可能面临的损失。
- en: Estimating Losses
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 估算损失
- en: Let’s define a loss function, L(R, D″), that quantifies the losses you might
    experience as a consequence of a decision, R, that you make based on an out-of-sample
    data prediction, D″.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们定义一个损失函数，L(R, D″)，来量化你可能因为基于样本外数据预测D″而做出的决策R而经历的损失。
- en: We now enumerate our outcome data and decision spaces.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们列举我们的结果数据和决策空间。
- en: The possible ratings of XYZ bonds are D[1]″ = negative″ and D[2]″ = positive″.
    Note that these data predictions are mutually exclusive and collectively exhaustive.
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: XYZ债券的可能评级为D[1]″ = 负″和D[2]″ = 正″。请注意，这些数据预测是相互排斥且互相穷尽的。
- en: 'Based on the predictions of this future, out-of-sample data, D″ given observed
    data D, your possible decisions, (R,D″), are enumerated here:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 基于这个未来的预测，即样本外数据，给定观察到的数据D，你可能的决策（R,D″），在此列举如下：
- en: (R[1],D[1]″)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: （R[1],D[1]″）
- en: Call a meeting with your portfolio manager based on your prediction that the
    next rating for XYZ bonds is going to be negative and the company’s probability
    of default will breach her risk limit of 30%.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你对XYZ债券下一次评级将为负且公司违约概率将突破她的风险限制30%的预测与你的投资组合经理开会。
- en: (R[2],D[2]″)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: （R[2],D[2]″）
- en: Don’t call a meeting with your portfolio manager based on your prediction that
    the next rating for XYZ bonds will be positive and the company’s probability of
    default would be well below her risk limit.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 不要根据你对XYZ债券下一次评级将为正且公司的违约概率将远低于她的风险限制的预测与你的投资组合经理开会。
- en: (R[3],D[2]″)
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: （R[3],D[2]″）
- en: Call a meeting with your portfolio manager based on your prediction that the
    next rating of XYZ company will be positive. Persuade your manager to take advantage
    of current discounted market prices of XYZ bonds to increase her position size.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你对XYZ公司下一次评级将为正的预测，与你的投资组合经理开会。说服你的经理利用当前折价的市场价格购买XYZ债券，以增加她的头寸规模。
- en: (R[4],D[1]″)
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: （R[4],D[1]″）
- en: Don’t call a meeting with your portfolio manager based on your prediction that
    the next rating of XYZ bonds will be negative. Clearly, that would be foolish
    and not an option you would ever consider. We have merely listed it here for completeness.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 不要根据你对XYZ债券下一次评级将为负的预测与你的投资组合经理开会。显然，这将是愚蠢的，也不是你曾经考虑过的选项。我们仅仅是为了完整性而列出它。
- en: Decisions (R[1],D[1]″), (R[2], D[2]″), and (R[3], D[2]″) are the only viable
    decisions that you can make, and they are mutually exclusive and collectively
    exhaustive. We need to assign losses to each of these decisions to reflect their
    consequences to your life.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 决策（R[1],D[1]″）、（R[2],D[2]″）和（R[3],D[2]″）是你唯一能做出的可行决策，它们是相互排斥且互相穷尽的。我们需要给这些决策分配损失，以反映它们对你生活的影响。
- en: 'The possible losses for decision (R[1], D[1]″)—in which you call a meeting
    with your portfolio manager to apprise her of the impending breach of her risk
    limit by XYZ bonds based on your prediction that the next rating will be negative—are
    as follows:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 决策（R[1], D[1]″）的可能损失——你与你的投资组合经理开会告知她基于你的预测下一次评级将为负的XYZ债券即将违约她的风险限制——如下：
- en: One possible outcome is that the next rating of XYZ company turns out to be
    negative″. This is a great outcome for you and your portfolio manager. You would
    have shown sound judgment, anticipation, and risk management—some of the most
    important qualities of an investment manager. Your portfolio manager would have
    proactively managed her position risk thanks to your brilliant actions. Consequently,
    you would make significant progress toward your career goals of becoming a portfolio
    manager.
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个可能的结果是XYZ公司的下一次评级为负。这对你和你的投资组合经理来说是一个很好的结果。你将展现出明智的判断、预见力和风险管理——这是投资经理最重要的品质之一。你的投资组合经理将会由于你的出色表现而积极地管理她的头寸风险。因此，你将朝着成为投资组合经理的职业目标取得重大进展。
- en: 'Your loss function reflects this favorable outcome by giving you a reward or
    a negative loss. Let’s assign it a value of +100 points: L(R[1],D[1]″ | negative″)
    = +100'
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的损失函数通过给你奖励或负损失来反映这个有利的结果。让我们将其赋予一个值+100点：L(R[1],D[1]″ | 负″) = +100
- en: 'The only other possible outcome is that the next rating of XYZ company turns
    out to be positive″. This is not a good outcome for you. Your portfolio manager
    would take some losses on her hedges that she put on to protect her XYZ bonds
    based on your previous prediction. She might suspect that you panicked since the
    probability of a negative rating was 47.5%, less than a coin toss. She could conclude
    that you might not have the grit and gumption it takes to be a portfolio manager.
    Your dream of becoming a portfolio manager in the near future would gradually
    fade away. But let’s look at the bright side of such a possible scenario: you
    would still have your job, and this could turn out to be a good learning experience
    for you.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 另一种可能的结果是，XYZ公司的下一个评级结果为正面。这对你来说不是一个好结果。你的投资组合经理将对她为保护她的XYZ债券而进行的对冲产生一些损失，这些对冲是基于你之前的预测。她可能会怀疑你惊慌失措，因为负面评级的概率为47.5%，低于抛硬币的概率。她可能会得出结论，你可能没有成为投资组合经理所需的魄力和果断。你近期成为投资组合经理的梦想将逐渐消失。但让我们看看这种可能情景的好的一面：你仍然有工作，这可能会成为你的一个很好的学习经验。
- en: 'Your loss function would reflect this by giving you a small loss of say –100
    points: L(R[1],D[1]″ | positive″) = −100'
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的损失函数将通过给你一个小的损失，比如-100点，来反映这一点：L(R[1],D[1]″ | positive″) = −100
- en: 'For the decision (R[2], D[2]″), where you don’t call a meeting based on your
    prediction of a positive rating for XYZ bonds, your possible losses are as follows:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 对于决策(R[2], D[2]″)，你不会根据对XYZ债券的评级为正的预测而召开会议，你可能会有以下损失：
- en: One possible outcome is that the next rating of XYZ company turns out to be
    negative. This is your nightmare scenario. Now the probability that XYZ company
    is going to default will have blown past your portfolio manager’s risk limit.
    Market prices of bonds of XYZ company would take a hit. Your manager’s portfolio
    would start underperforming her peers and her annual bonus would be in jeopardy.
    Quite possibly, she would be the one to call a meeting with you. You would be
    wished the very best in the future and politely escorted out of the door by security
    personnel.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个可能的结果是，XYZ公司的下一个评级结果为负。这是你的噩梦情景。现在，XYZ公司违约的概率将超过你的投资组合经理的风险限制。XYZ公司债券的市场价格将受到打击。你的经理的投资组合将开始表现不佳，她的年终奖金将受到威胁。很可能，她会和你召开一次会议。你将被祝愿未来一切顺利，并受到安保人员的礼貌护送离开。
- en: 'This awful outcome is encoded in your loss function by assigning a large loss
    to it, say −1000 points: L(R[2], D[2]″ |negative″) = −1000'
  id: totrans-78
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这种糟糕的结果通过在损失函数中分配一个大的损失来进行编码，比如给它分配`-1000 points`的损失：L(R[2], D[2]″ |negative″)
    = −1000
- en: The only other outcome is that the next rating of XYZ company may turn out to
    be positive″. This would be a good outcome for you. However, it would not be clear
    to your manager whether it was good judgment or luck that played a role in your
    decisions and prediction. After all, the probability that the next rating would
    be a positive one was just 52.5%, a little better than a coin toss. She might
    conclude that you were cutting it a bit too close for comfort. Contrast this with
    her reaction to (R[1], D[1]″|positive″). Both are inconsistent but rational viewpoints
    based on subjective attitudes toward risk that change at any given time for whatever
    reason. But that’s exactly how people and markets can and do behave. We just have
    to deal with it in the best way we can.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 另一种可能的结果是XYZ公司的下一个评级可能是正面的。这对你来说是一个好结果。然而，对于你的经理来说，不清楚是好判断还是运气在你的决策和预测中发挥了作用。毕竟，下一个评级为正面的概率只有52.5%，略高于抛硬币。她可能会得出结论，你做得太危险了。与她对(R[1],
    D[1]″|positive″)的反应形成鲜明对比。两者都是不一致但基于随时会因任何原因而改变的主观风险态度的理性观点。但这正是人们和市场可以并且确实会表现出的方式。我们只能尽力应对。
- en: 'Your loss function would reflect this neutral outcome with no loss or 0 points:
    L(R[2], D[2]″ | positive″) = 0'
  id: totrans-80
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你的损失函数将反映这种中性结果，没有损失或0分：L(R[2], D[2]″ | positive″) = 0
- en: 'Finally, the possible losses for the decision (R[1], D[2]″)—where you call
    a meeting based on your prediction of a positive rating for XYZ bonds and convince
    your portfolio manager to increase her position size—are as follows:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，决策(R[1], D[2]″)的可能损失情况是：你根据对XYZ债券评级为正的预测召开会议，并说服你的投资组合经理增加她的头寸：
- en: One possible outcome after the meeting with your portfolio manager is that the
    next rating of XYZ bonds turns out to be positive″ as predicted. This is the best
    outcome for you. Based on your recommendation, your portfolio manager would have
    already bought more XYZ bonds at discounted market prices. She would most likely
    have taken the opportunity to make a quick profit as XYZ bond prices rally on
    the new positive information. You would have demonstrated predictive capabilities
    and the smarts to monetize it. This would impress everyone at the fund, especially
    your fund manager, whose bonus check would surely increase. Now it would seem
    to only be a matter of time until you would be managing a multimillion-dollar
    portfolio yourself.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与您的投资组合经理会议后的一个可能结果是 XYZ 债券的下一个评级正如预期的那样为 positive″。这对您来说是最好的结果。基于您的建议，您的投资组合经理可能已经以折价的市场价格购买了更多
    XYZ 债券。她很可能已经抓住机会利用 XYZ 债券价格在新的积极信息上涨时获得快速利润。您已经展示了预测能力和赚钱的智慧。这将令基金的所有人印象深刻，尤其是您的基金经理，她的奖金支票肯定会增加。现在似乎只是时间问题，您将管理一个数百万美元的投资组合。
- en: 'The loss function would calibrate this positive reward by giving you a larger
    reward or negative loss. Let’s assign it a value of +500 points: L(R[1],D[2]″
    | positive″) = +500'
  id: totrans-83
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 损失函数将通过给予您更大的奖励或负损失来校准这个积极的奖励。让我们将其赋予 +500 分的值：L(R[1],D[2]″ | positive″) = +500
- en: The other outcome after the meeting with your portfolio manager is that the
    next rating of XYZ company turns out to be negative. This would be the worst outcome
    for you. Now the probability that XYZ company is going to default has blown past
    your portfolio manager’s risk limit. Market prices of bonds of XYZ company would
    have taken a big hit while her position size had grown bigger. Your manager’s
    portfolio performance would be bringing up the rear at the fund, and her job would
    be at risk. There would be nothing to discuss, and you would be escorted out of
    the door by security personnel.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与您的投资组合经理会议后的另一种结果是 XYZ 公司的下一个评级结果为负面。这对您来说将是最糟糕的结果。现在 XYZ 公司违约的概率已经超过了您的投资组合经理的风险限制。XYZ
    公司债券的市场价格将大幅下跌，而她的头寸规模却增大了。您经理的投资组合表现将在基金中排名垫底，她的工作将受到威胁。将没有什么可以讨论的，您将被保安人员护送出门。
- en: 'The loss function calibrates this disastrous outcome by assigning a huge loss
    of –2000 points: L(R[2], D[2]″ |negative″) = −2000'
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 损失函数通过指定一个巨大的损失值 –2000 分来校准这种灾难性的结果：L(R[2], D[2]″ |negative″) = −2000
- en: Minimizing Losses
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 最小化损失
- en: 'We can now calculate the expected losses for each of the three decisions (R[1],
    D[1]″), (R[2], D[2]″), (R[3], D[2]″) by averaging over the posterior predictive
    probability distribution, P(D″ | D), for the next rating of XYZ bonds, given that
    we have already observed 2 negative ratings:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以计算每个决策（R[1], D[1]″）、（R[2], D[2]″）、（R[3], D[2]″）的预期损失，通过对后验预测概率分布 P(D″
    | D) 进行平均，对于 XYZ 债券的下一个评级，假设我们已经观察到了 2 个负面评级：
- en: E[L(R[1], D[1]″)] = P(negative″ | 2 negatives) L(R[1], D[1]″ | negative″) +
    P(positive″ | 2 negatives) L( R[1],D[1]″ | negative″) = 0.475 × +100 + 0.525 ×
    –100 = –5 points
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E[L(R[1], D[1]″)] = P(negative″ | 2 negatives) L(R[1], D[1]″ | negative″) +
    P(positive″ | 2 negatives) L( R[1],D[1]″ | negative″) = 0.475 × +100 + 0.525 ×
    –100 = –5 分
- en: E[L(R[2], D[2]″)] = P(negative″ | 2 negatives) L(R[2], D[2]″ | negative″) +
    P(positive″ | 2 negatives) L( R[2], D[2]″ | positive″) = 0.475 × –1000 + 0.525
    × 0 = –475 points
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E[L(R[2], D[2]″)] = P(negative″ | 2 negatives) L(R[2], D[2]″ | negative″) +
    P(positive″ | 2 negatives) L( R[2], D[2]″ | positive″) = 0.475 × –1000 + 0.525
    × 0 = –475 分
- en: E[L(R[3], D[2]″)] = P(negative″ | 2 negatives) L(R[3], D[2]″ | negative″) +
    P(positive″ | 2 negatives) L( R[3], D[2]″ | positive″) = 0.475 × –2000 + 0.525
    × +500 = –687.5 points
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E[L(R[3], D[2]″)] = P(negative″ | 2 negatives) L(R[3], D[2]″ | negative″) +
    P(positive″ | 2 negatives) L( R[3], D[2]″ | positive″) = 0.475 × –2000 + 0.525
    × +500 = –687.5 分
- en: In probabilistic decision making, the best decision you can make is the one
    that minimizes the expected value of your losses averaged over the consequences
    of your specific decisions. In the formula for minimizing losses, we have averaged
    the loss function over the posterior predictive distribution of simulated data.
    Since E[L(R[1], D[1]″)] > E[L(R[2], D[2]″)] > E[L(R[3], D[2]″)], you should decide
    on (R[1], D[1]″). Your best option is to call for a meeting with our portfolio
    manager as soon as possible and apprise her that XYZ bonds are probably going
    to blow past her risk limit and that she needs to manage her position appropriately.
    This choice minimizes your career risks.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在概率决策中，你能做出的最佳决策是使得你特定决策后的预期损失的平均值最小化。在最小化损失的公式中，我们对模拟数据的后验预测分布进行了损失函数的平均。由于
    E[L(R[1], D[1]″)] > E[L(R[2], D[2]″)] > E[L(R[3], D[2]″)]，因此你应该决定选择 (R[1], D[1]″)。你最好的选择是尽快与我们的投资组合经理会面，并告知她
    XYZ 债券可能会超出她的风险限制，她需要适当管理她的头寸。这个选择最小化了你的职业风险。
- en: It is common knowledge that real-life decision making is an art and a science.
    Career risks, executive egos, conflicting self-interests, greed, and fear of people
    are some of the most powerful drivers of financial transactions everywhere in
    the world—from mundane daily trades to megamergers of the largest companies to
    the Federal Reserve raising interest rates. You ignore such subjective drivers
    of decision making at your peril and could miss out on profitable, if not life-changing,
    opportunities.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 众所周知，现实生活中的决策是一门艺术和一门科学。职业风险、高管自我、自相矛盾的利益、贪婪和对人们的恐惧是全世界金融交易最强大的驱动因素之一——从平凡的日常交易到最大公司的兼并重组，再到美联储加息。你若忽视这些主观决策驱动因素，可能会面临风险，并错失盈利，甚至是改变生活的机会。
- en: 'At any rate, based on our exercise of minimizing career risks, we can posit
    that, for discrete distributions, with a posterior predictive distribution P(D″|D)
    and a loss function L(R, D″), the best decision is the one that minimizes the
    expected loss, E[L(R)], of predicted outcomes over all possible actions R, as
    shown here:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，基于我们最小化职业风险的实践，我们可以假设，对于离散分布，通过后验预测分布 P(D″|D) 和损失函数 L(R, D″)，最佳决策是通过最小化所有可能行动
    R 的预期损失 E[L(R)]，如下所示：
- en: <math alttext="upper E left-bracket upper L left-parenthesis upper R right-parenthesis
    right-bracket equals arg min Underscript upper R Endscripts left-parenthesis sigma-summation
    Underscript i Endscripts upper L left-parenthesis upper R comma upper D Subscript
    i Superscript Super Superscript double-prime Superscript Baseline right-parenthesis
    times upper P left-parenthesis upper D Subscript i Superscript Super Superscript
    double-prime Superscript Baseline vertical-bar upper D right-parenthesis right-parenthesis"><mrow><mi>E</mi>
    <mrow><mo>[</mo> <mi>L</mi> <mrow><mo>(</mo> <mi>R</mi> <mo>)</mo></mrow> <mo>]</mo></mrow>
    <mo>=</mo> <mo form="prefix">arg</mo> <msub><mo form="prefix" movablelimits="true">min</mo>
    <mi>R</mi></msub> <mfenced close=")" open="(" separators=""><msub><mo>∑</mo> <mi>i</mi></msub>
    <mi>L</mi> <mrow><mo>(</mo> <mi>R</mi> <mo>,</mo> <msubsup><mi>D</mi> <mi>i</mi>
    <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msubsup> <mo>)</mo></mrow> <mo>×</mo>
    <mi>P</mi> <mrow><mo>(</mo> <msubsup><mi>D</mi> <mi>i</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msubsup>
    <mo>|</mo> <mi>D</mi> <mo>)</mo></mrow></mfenced></mrow></math>
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-bracket upper L left-parenthesis upper R right-parenthesis
    right-bracket equals arg min Underscript upper R Endscripts left-parenthesis sigma-summation
    Underscript i Endscripts upper L left-parenthesis upper R comma upper D Subscript
    i Superscript Super Superscript double-prime Superscript Baseline right-parenthesis
    times upper P left-parenthesis upper D Subscript i Superscript Super Superscript
    double-prime Superscript Baseline vertical-bar upper D right-parenthesis right-parenthesis"><mrow><mi>E</mi>
    <mrow><mo>[</mo> <mi>L</mi> <mrow><mo>(</mo> <mi>R</mi> <mo>)</mo></mrow> <mo>]</mo></mrow>
    <mo>=</mo> <mo form="prefix">arg</mo> <msub><mo form="prefix" movablelimits="true">min</mo>
    <mi>R</mi></msub> <mfenced close=")" open="(" separators=""><msub><mo>∑</mo> <mi>i</mi></msub>
    <mi>L</mi> <mrow><mo>(</mo> <mi>R</mi> <mo>,</mo> <msubsup><mi>D</mi> <mi>i</mi>
    <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msubsup> <mo>)</mo></mrow> <mo>×</mo>
    <mi>P</mi> <mrow><mo>(</mo> <msubsup><mi>D</mi> <mi>i</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msubsup>
    <mo>|</mo> <mi>D</mi> <mo>)</mo></mrow></mfenced></mrow></math>
- en: 'This expected loss formula for discrete functions can be extended to continuous
    functions by substituting summation with integration. We can now apply loss functions
    to continuous distributions that we encounter in our regression ensembles. As
    before, we minimize the expected loss over all possible actions R as shown here:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 对于连续函数，可以通过将求和替换为积分来扩展这个离散函数的预期损失公式。我们现在可以将损失函数应用于我们在回归集成中遇到的连续分布。与之前一样，我们通过最小化所有可能行动
    R 的预期损失来达到目的，如下所示：
- en: <math alttext="upper E left-bracket upper L left-parenthesis upper R right-parenthesis
    right-bracket equals arg min Underscript upper R Endscripts left-parenthesis integral
    upper L left-parenthesis upper R comma upper D Superscript Super Superscript double-prime
    Superscript Baseline right-parenthesis times upper P left-parenthesis upper D
    Superscript Super Superscript double-prime Superscript Baseline vertical-bar upper
    D right-parenthesis d upper D Superscript double-prime Baseline right-parenthesis"><mrow><mi>E</mi>
    <mrow><mo>[</mo> <mi>L</mi> <mrow><mo>(</mo> <mi>R</mi> <mo>)</mo></mrow> <mo>]</mo></mrow>
    <mo>=</mo> <mo form="prefix">arg</mo> <msub><mo form="prefix" movablelimits="true">min</mo>
    <mi>R</mi></msub> <mfenced close=")" open="(" separators=""><mo>∫</mo> <mi>L</mi>
    <mrow><mo>(</mo> <mi>R</mi> <mo>,</mo> <msup><mi>D</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msup>
    <mo>)</mo></mrow> <mo>×</mo> <mi>P</mi> <mrow><mo>(</mo> <msup><mi>D</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msup>
    <mo>|</mo> <mi>D</mi> <mo>)</mo></mrow> <mi>d</mi> <msup><mi>D</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msup></mfenced></mrow></math>
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="upper E left-bracket upper L left-parenthesis upper R right-parenthesis
    right-bracket equals arg min Underscript upper R Endscripts left-parenthesis integral
    upper L left-parenthesis upper R comma upper D Superscript Super Superscript double-prime
    Superscript Baseline right-parenthesis times upper P left-parenthesis upper D
    Superscript Super Superscript double-prime Superscript Baseline vertical-bar upper
    D right-parenthesis d upper D Superscript double-prime Baseline right-parenthesis"><mrow><mi>E</mi>
    <mrow><mo>[</mo> <mi>L</mi> <mrow><mo>(</mo> <mi>R</mi> <mo>)</mo></mrow> <mo>]</mo></mrow>
    <mo>=</mo> <mo form="prefix">arg</mo> <msub><mo form="prefix" movablelimits="true">min</mo>
    <mi>R</mi></msub> <mfenced close=")" open="(" separators=""><mo>∫</mo> <mi>L</mi>
    <mrow><mo>(</mo> <mi>R</mi> <mo>,</mo> <msup><mi>D</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msup>
    <mo>)</mo></mrow> <mo>×</mo> <mi>P</mi> <mrow><mo>(</mo> <msup><mi>D</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msup>
    <mo>|</mo> <mi>D</mi> <mo>)</mo></mrow> <mi>d</mi> <msup><mi>D</mi> <msup><mrow><mo>'</mo><mo>'</mo></mrow></msup></msup></mfenced></mrow></math>
- en: These formulas make it look more difficult than it really is in applying our
    decision framework. What is indeed difficult is understanding and applying the
    expected value of our ensemble, as we will discuss in the next section.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 这些公式使得我们的决策框架在应用时看起来比实际上更困难。真正困难的是理解和应用我们集成的预期值，正如我们将在下一节讨论的那样。
- en: Risk Management
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 风险管理
- en: Investors, traders, and corporate executives aim to profit from risky undertakings
    in which financial losses are not only expected but inevitable over the investment’s
    holding period. The key to success in these probabilistic endeavors is to proactively
    and systematically manage losses so that they do not overwhelm profits or impair
    the capital base in any finite time period. In [Chapter 3](ch03.html#quantifying_output_uncertainty_with_mon),
    we examined the inadequacies of volatility for risk management. Value at risk
    (VaR) and expected shortfall (ES) are two risk measures that are used extensively
    by almost all financial institutions, government regulators, and corporate treasurers
    of nonfinancial institutions.^([2](ch08.html#ch08fn2)) It is very important that
    practitioners have a strong understanding of the methods used to calculate these
    measures as they, too, have serious weaknesses that can lead to disastrous mispricing
    of financial risks. In this section we explore risk management in general and
    how to apply the aforementioned risk measures to generative ensembles in particular.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 投资者、交易员和企业高管的目标是从高风险的事业中获利，这些投资不仅预期会出现财务损失，而且在投资持有期内是不可避免的。在这些概率性事业中取得成功的关键是积极和系统地管理损失，以防它们在任何有限的时间段内超过利润或损害资本基础。在[第3章](ch03.html#quantifying_output_uncertainty_with_mon)中，我们探讨了用于风险管理的波动率的不足之处。价值-at-risk（VaR）和预期缺失（ES）是两种风险测量方法，几乎所有金融机构、政府监管机构和非金融机构的公司财务主管广泛使用。^([2](ch08.html#ch08fn2))
    实践者对计算这些测量方法使用的方法有深入的理解非常重要，因为它们也存在严重的缺陷，可能导致对金融风险的灾难性错误定价。在本节中，我们总结了风险管理的一般原则以及如何特别应用上述风险测量方法于生成性集合。
- en: Capital Preservation
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 资本保值
- en: 'Warren Buffett, the greatest discretionary equity investor of all time, has
    two well-known rules for making investments in risky assets like equities:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 沃伦·巴菲特，有史以来最伟大的自由股票投资者，对投资股票等高风险资产有两条着名的规则：
- en: 'Rule number one: Don’t lose money.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规则一：不要亏钱。
- en: 'Rule number two: Don’t forget rule number one.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规则二：不要忘记规则一。
- en: Buffett’s sage advice is that when making a risky investment, we must focus
    more on managing the ever-present risks affecting the investment than on its potential
    future returns. Most importantly, we must never lose sight that the primary objective
    in investing is the return *of* our capital; the return *on* our capital is a
    secondary objective. We shouldn’t go broke before we get our just deserts, should
    the investment opportunity actually turn out to be a profitable one in the future.
    Furthermore, even if the current investment doesn’t work out as expected, there
    will always be others in the future that we can participate in as long as we preserve
    our capital base. Underlying Buffet’s avuncular precept—borne out of decades of
    exemplary investing experiences—is the important statistical idea of ergodicity,
    which we explore next.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 巴菲特的智慧建议是，在进行高风险投资时，我们必须更加关注影响投资的常见风险的管理，而不是它未来潜在的回报。最重要的是，我们不能忘记，投资的主要目标是保证资本的回报；资本的回报只是次要目标。在投资的未来回报可能是有利可图的情况下，我们不应在投资机会变得有利之前就破产。此外，即使当前的投资不如预期那样成功，只要我们保持资本基础，总会有未来的其他投资机会。巴菲特所强调的主要原则背后—凭借几十年的卓越投资经验获得—是重要的统计学概念递进性，接下来我们将探讨这个概念。
- en: Ergodicity
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 递进性
- en: Let’s go back to the linear ensemble in the previous chapter and analyze the
    simulated 20,000 posterior predictive samples that our ensemble has generated
    using our model assumptions and the observed data. It is important to note that
    the posterior predictive distribution generates a range of possible future outcomes,
    each of which could have been generated by any combination of parameter values
    of our ensemble that is consistent with its model assumptions and the data used
    to train and test it.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回到上一章中的线性集合，并分析我们的模型假设和观察数据所生成的20,000个后验预测样本。重要的是要注意，后验预测分布生成了一系列可能的未来结果，每个结果都可能由我们的集合中任何与其模型假设和用于训练和测试的数据一致的参数值组合生成。
- en: 'While we can easily calculate descriptive statistics of the posterior predictive
    samples as we do later, we cannot directly associate any sample outcome with specific
    values of the model parameters. Of course, we can always infer the credible interval
    of each parameter that might have generated the samples from its marginal posterior
    distribution, as we did in the previous chapter. Let’s use the following Python
    code to summarize the predicted excess returns of a hypothetical position in Apple
    stock:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们可以像后来那样轻松计算后验预测样本的描述性统计，但我们不能直接将任何样本结果与模型参数的具体值关联起来。当然，我们始终可以推断每个参数的可信区间，这些参数可能是从其边际后验分布生成样本，就像我们在前一章中所做的那样。让我们使用以下Python代码总结苹果股票假设头寸的预测超额回报：
- en: '[PRE0]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![Image](assets/pmlf_08in01.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![Image](assets/pmlf_08in01.png)'
- en: It is more important to note that this posterior predictive distribution of
    daily excess returns does not predict the specific timing or duration of those
    returns, only the distribution of possible returns in the future based on our
    ensemble’s model assumptions and data observed during the training and testing
    periods. Our ensemble average is the expected value of our hypothetical investment
    in Apple stock. Let’s see if it can help us decide whether to hold, increase,
    or decrease our position size.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 更重要的是，这些后验预测分布中的每日超额回报并不预测这些回报的具体时间或持续时间，只是基于我们集成模型假设和训练及测试期间观察到的数据，预测未来可能回报的分布。我们的集成平均值是我们假设投资于苹果股票的预期价值。让我们看看它是否能帮助我们决定是否持有、增加或减少我们的头寸规模。
- en: 'A simple loss function, L(R, D″), is simply the market value of our position
    size multiplied by the daily excess returns of Apple for each simulated data point
    from the posterior predictive distribution of the ensemble:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 简单的损失函数，L(R, D″)，即我们头寸规模的市场价值乘以后验预测分布中每个模拟数据点的苹果公司的每日超额回报：
- en: L(R, D″) = R × D″
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: L(R, D″) = R × D″
- en: R is the market value of our investment in Apple stock.
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: R 是我们投资于苹果股票的市场价值。
- en: D″ is a simulated daily excess return generated by our linear ensemble.
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: D″ 是我们线性集成生成的模拟每日超额回报。
- en: 'In the following Python code, we assume that our hypothetical investment in
    Apple stock is valued at $100,000 and compute the ensemble average of all simulated
    excess returns:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的Python代码中，我们假设我们对苹果股票的假设投资价值为\$100,000，并计算所有模拟超额回报的集成平均值：
- en: '[PRE1]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The expected value of –$237 is almost a rounding error based on an investment
    of $100,000\. This suggests we can expect to experience little or no losses if
    we hold our position, assuming market conditions remain approximately the same
    as those encoded in our model and reflected in the observed data used to train
    and test it. Given the large range of possible daily losses and profits our position
    might incur over time, from –10.25% to +8.29%, isn’t the expected value of –0.24%
    misleading and risky? It seems that an ensemble average or expected value is a
    useless and dangerous statistic for risk management decisions. Let’s dig deeper
    into the statistical concept of expected value to understand why and how we can
    apply it appropriately.^([3](ch08.html#ch08fn3))
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: –\$237 的预期值几乎是基于\$100,000 投资的四舍五入误差。这表明，如果我们保持我们的头寸，假设市场条件保持与我们模型编码和观察到的数据大致相同，我们可以预期几乎没有损失或损失很小。考虑到我们的头寸可能随时间发生的广泛损失和利润的大范围，从–10.25%
    到+8.29%，–0.24% 的预期值是否具有误导性和风险性？看起来，集成平均值或预期值对风险管理决策是一个无用且危险的统计量。让我们深入了解预期值的统计概念，以理解为什么以及如何适当地应用它。^([3](ch08.html#ch08fn3))
- en: Recall that when we estimate the expected value of any variable, such as an
    investment, we compute a probability weighted average of all possible outcomes
    and their respective payoffs. We also assume that the outcomes are independent
    of one another and are identically distributed, i.e., they are drawn from the
    same stochastic process. In other words, the expected value of the investment
    is a probability-weighted arithmetic mean. What is noteworthy is that the expected
    value has no time dependency and is also referred to as the ensemble average of
    a stochastic process or system. If you have an ensemble of independent and identically
    distributed investments or trades you are going to make simultaneously, expected
    value is a useful tool for decision making. Or if you are running a casino business,
    you can calculate the expected value of your winnings across all gamblers at any
    given time.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 回想一下，当我们估计任何变量（如投资）的期望值时，我们计算所有可能结果及其相应回报的概率加权平均值。我们还假设这些结果彼此独立且同分布，即它们是从同一随机过程中抽取的。换句话说，投资的期望值是概率加权的算术平均值。值得注意的是，期望值不依赖于时间，并且也被称为随机过程或系统的集合平均值。如果您有一组独立同分布的投资或交易同时进行，期望值是决策的有用工具。或者，如果您经营赌场业务，您可以计算在任何给定时间所有赌徒的预期收益。
- en: However, as investors and traders, we only observe a specific path or trajectory
    that our investment takes over time. We measure the outcomes and payoffs of our
    investment sequentially as a time average over a finite period. In particular,
    we may only observe a subset of all the possible outcomes and their respective
    payoffs as they unfold over time. In the unlikely scenario that our investment’s
    trajectory realizes every possible predicted outcome and payoff over time, the
    time average of the trajectory will almost surely converge to the ensemble average.
    Such a stochastic process is called ergodic. We discussed this briefly in [Chapter 6](ch06.html#the_dangers_of_conventional_ai_systems)
    in the Markov chain section.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，作为投资者和交易者，我们只观察到我们的投资随时间变化的特定路径或轨迹。我们按时间顺序测量我们投资的结果和回报，作为有限时间内的时间平均值。特别地，随着时间的推移，我们可能只观察到所有可能结果及其相应回报的子集。在我们的投资轨迹在时间上实现每一个可能的预测结果和回报的不太可能的情况下，轨迹的时间平均值几乎肯定会收敛到集合平均值。这样的随机过程被称为遍历的。我们在[第6章](ch06.html#the_dangers_of_conventional_ai_systems)中简要讨论了这一点，在马尔可夫链部分。
- en: What is special about an ergodic investment process is that the expected value
    of the investment summarizes the return observed by any investor holding that
    investment over a sufficiently long period of time. Of course, as was mentioned
    in [Chapter 6](ch06.html#the_dangers_of_conventional_ai_systems), this assumes
    that there is no absorbing state in the Markov chain that truncates the investor’s
    wealth trajectory. As we will see in this section and the next, investment processes
    are non-ergodic, and relying on expected values for managing risks or returns
    can lead to large losses, if not financial ruin.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 一个遍历投资过程的特殊之处在于，投资的期望值总结了任何投资者在足够长的时间内持有该投资所观察到的回报。当然，正如在[第6章](ch06.html#the_dangers_of_conventional_ai_systems)中提到的，这假设在马尔可夫链中没有截断投资者财富轨迹的吸收状态。正如我们将在本节和下一节看到的，投资过程是非遍历的，依赖期望值来管理风险或回报可能导致巨大损失，甚至是财务破产。
- en: Even if a process is assumed to be ergodic, the time average of our investment
    does not take the actual ordering of the sequence of outcomes and payoffs into
    account. Why should it? After all, it’s just another arithmetic mean. What is
    noteworthy is that this, too, assumes that investors are passive, buy-and-hold
    investors. The specific sequence of returns that an investment follows in the
    market is crucial as it leads to different consequences and decisions for different
    types of investors. An example will help illustrate this point.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 即使假设一个过程是遍历的，我们的投资的时间平均值也不考虑结果和回报序列的实际顺序。为什么要考虑呢？毕竟，这只是另一个算术平均值。值得注意的是，这也假设投资者是被动的、买入并持有的投资者。投资在市场上遵循的回报具体顺序是至关重要的，因为这会导致不同类型投资者的不同后果和决策。一个例子将有助于阐明这一点。
- en: A stock trajectory that has a loss of –10.25% followed by a gain of +8.29% entails
    different decisions and consequences for an investor than a stock trajectory that
    has a gain of +8.29% followed by a loss of –10.25%. This is despite the fact that
    in both these two-step sequences the stock ends up down at –2.81% for a buy and
    hold investor. This up and down returns sequence is called volatility drag as
    it drags down the expected returns, an arithmetic mean, to the geometric mean,
    or compounded returns. If the volatility drag is constant, compounded returns
    = average return - 1/2 variance of returns. But the risks from the volatility
    drag for an investor could be very different depending on their investment strategy.
    Let’s see why.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 一个股票轨迹，先是亏损了–10.25%，然后是获利+8.29%，对于投资者来说与另一个轨迹（先是获利+8.29%，然后是亏损–10.25%）带来了不同的决策和后果。尽管在这两个两步序列中股票最终都以–2.81%的买入和持有投资者的方式结束。这种上涨和下跌的回报序列被称为波动性拖累，因为它将预期回报（算术平均值）拖至几何平均值或复合回报。如果波动性拖累是恒定的，复合回报
    = 平均回报 - 回报方差的1/2。但是对于投资者来说，波动性拖累的风险可能因其投资策略而大不相同。让我们看看为什么。
- en: Assume that for any stock position in their portfolio, an investor has a daily
    loss limit of –10% and a daily profit limit of +5%. The former stock sequence
    (–10.25%, +8.29%) will hit the investor’s stop-loss limit order at –10% and force
    them out of their position. To add insult to injury, the next day the stock comes
    roaring back +8.29%, while the investor is nursing a –10% *realized* loss on their
    investment. Now the investor would be down –7.19% compared to their peers who
    held onto their position or other investors who had a risk limit of –10.26% or
    lower. Talk about rubbing salt into our investor’s wounds! It would now be hard
    for the investor to decide to re-enter their position after such a bruising whiplash.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 假设对于投资组合中的任何股票头寸，投资者有每日亏损限制–10%和每日盈利限制+5%。前一股票序列（–10.25%，+8.29%）将会触及投资者的止损限价单，使其退出持仓。更加令人不快的是，第二天股票强劲反弹+8.29%，而投资者已经在他们的投资中遭受了–10%的*实现*损失。现在，与持有其头寸的同行或具有–10.26%或更低风险限制的其他投资者相比，投资者将下跌–7.19%。谈论在我们投资者的伤口上撒盐！现在，投资者很难决定在如此惨痛的猛烈抽打之后是否重新进入他们的持仓。
- en: Let’s now consider what happens if the stock follows the latter sequence (+8.29%,
    –10.25%). The investor would take a profit of +5% when the stock shoots up +8.29%.
    They would feel some regret about not selling out of their position at the recent
    high price. But no one ever times the market perfectly or can do it consistently.
    However, the next day the investor would feel extremely smart and pleased with
    themselves when the stock falls –10.25%. They would be outperforming their peers
    by +7.81% and can gloat about it if they so choose. It would now be quite easy
    for the investor to re-enter their position in the stock since their break-even
    price would have been lowered by +5%.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们考虑一下如果股票遵循后一种序列（+8.29%，–10.25%）会发生什么。当股票飙升+8.29%时，投资者将获利+5%。他们会对未在最近的高价位卖出自己的持仓感到一些遗憾。但没有人能够完美地时间市场或者能够持续做到。然而，第二天，当股票下跌–10.25%时，投资者会感到非常聪明和满意。他们将通过+7.81%超额表现而超过同行，如果愿意的话可以炫耀一番。现在投资者可以相当轻松地重新进入股票持仓，因为他们的平均成本已经降低了+5%。
- en: This example demonstrates another reason why volatility, or standard deviation
    of returns, is a nonsensical measure of risk, as was discussed in [Chapter 3](ch03.html#quantifying_output_uncertainty_with_mon).
    Volatility is just another ensemble average and is non-ergodic. In the first trajectory
    volatility hurts the investor’s returns, and in the second trajectory it helps
    them.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子展示了波动性（或回报标准偏差）作为风险度量的另一个无意义之处，正如[第3章](ch03.html#quantifying_output_uncertainty_with_mon)中所讨论的那样。波动性只是另一种集成平均值，并非遍历性。在第一个轨迹中，波动性损害了投资者的回报，在第二个轨迹中却帮助了他们。
- en: While the numbers are specific to our probabilistic ensemble, investment trajectories
    over any time period can be profoundly consequential to most active investors
    and traders in general. The specific ordering of return sequences impacts an investor’s
    decisions, experiences, and investment success. The concept of the “average investor”
    experiencing the expected value of returns on an investment is just another financial
    fairy tale.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这些数字是特定于我们的概率集合，但任何时间段内的投资轨迹对大多数积极的投资者和一般交易者来说都可能产生深远的影响。回报序列的特定排序影响了投资者的决策、经验和投资成功。关于“平均投资者”在投资上体验回报的概念只是另一个金融童话故事。
- en: Generative Value at Risk
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成价值风险
- en: Rather than relying on the ensemble average, a popular loss function called
    value at risk (VaR) can help us make better risk management decisions for any
    time period. VaR is a percentile measure of a return distribution, representing
    the value below which a given percentage of the returns (or losses) fall. In other
    words, VaR is the maximum loss that is expected to be incurred over a specified
    period of time with a given probability. See [Figure 8-1](#value_at_risk_left_parenthesisvarright),
    which shows VaR and conditional VaR (CVaR), which is explained in the next subsection.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 与依赖集成平均值不同，一种称为价值风险 (VaR) 的流行损失函数可以帮助我们在任何时间段做出更好的风险管理决策。VaR 是回报分布的百分位数度量，代表了某个百分比的回报
    (或损失) 位于其下方的值。换句话说，VaR 是在给定概率下在指定时间段内预期的最大损失。参见[图 8-1](#value_at_risk_left_parenthesisvarright)，显示了
    VaR 和条件 VaR (CVaR)，下一小节将对其进行解释。
- en: '![Value at risk (VaR) with alpha probability and conditional VaR (CVaR), also
    known as expected shortfall (ES), with 1-alpha probability is shown for a distribution
    of returns of a hypothetical investment.](assets/pmlf_0801.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![以 alpha 概率显示的价值风险 (VaR) 和条件 VaR (CVaR)，也称为预期损失 (ES)，用于假想投资回报分布。](assets/pmlf_0801.png)'
- en: Figure 8-1\. Value at risk (VaR) with alpha probability and conditional VaR
    (CVaR), also known as expected shortfall (ES), with 1-alpha probability shown
    for a distribution of returns of a hypothetical investment^([4](ch08.html#ch08fn4))
  id: totrans-130
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 8-1\. 价值风险 (VaR) 和条件 VaR (CVaR)，也称为预期损失 (ES)，以 alpha 概率显示的一个假想投资回报分布^([4](ch08.html#ch08fn4))
- en: 'Unlike volatility, this measure is based on a commonsensical understanding
    of risk. As an example, say the daily VaR for a portfolio is $100,000, with 99%
    probability. This means that we estimate that there is a:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 与波动性不同，这一指标基于对风险的常识性理解。例如，假设投资组合的每日 VaR 为 $100,000，概率为 99%。这意味着我们估计有：
- en: 99% probability that the daily loss of the portfolio will not exceed $100,000
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 99% 的概率，投资组合的每日损失不会超过 $100,000。
- en: 1% probability that the daily loss will exceed $100,000
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每日损失超过$100,000 的概率为1%。
- en: Generally speaking, the time horizon of VaR is often related to how long a decision
    maker thinks might be necessary to take an action, such as to liquidate a stock
    position. Longer time horizons generally produce larger VaR values because there
    is more uncertainty involved the further out you go into the future.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，VaR 的时间跨度通常与决策者认为需要采取行动的时间有关，例如清算股票头寸的时间。时间跨度越长，产生的 VaR 值通常越大，因为未来的不确定性越多。
- en: 'In [Chapter 3](ch03.html#quantifying_output_uncertainty_with_mon), we used
    Monte Carlo simulation to expose the deep flaws of using volatility as a measure
    of risk. It is common in the industry to use Monte Carlo simulations to estimate
    VaR for complex investments or portfolios using theoretical or empirical models.
    The risk estimate is called Monte Carlo VaR. In probabilistic machine learning,
    this simulation is done seamlessly and epistemologically consistently using the
    posterior predictive distribution. I use posterior predictive samples to estimate
    VaR, which I call Generative VaR or GVaR, as follows:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第三章](ch03.html#quantifying_output_uncertainty_with_mon)中，我们使用蒙特卡罗模拟揭示了将波动性作为风险度量的深刻缺陷。在行业中，通常使用蒙特卡罗模拟来使用理论或经验模型估算复杂投资或投资组合的
    VaR。风险估计称为蒙特卡罗 VaR。在概率机器学习中，使用后验预测分布无缝地进行此模拟，并在认识上保持一致。我使用后验预测样本来估算 VaR，我称之为生成
    VaR 或 GVaR，如下所示：
- en: Sort N simulated excess returns in descending order of losses.
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 N 个模拟过的超额收益按损失降序排列。
- en: Take the first M of those losses such that 1 − M/N is the required probability
    threshold.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 取这些损失中的前 M 个，使得 1 - M/N 是所需的概率阈值。
- en: The smallest loss in the subset of M losses is your GVaR.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: M 个损失子集中的最小损失是你的 GVaR。
- en: 'Now let’s use Python to compute the GVaR of our linear ensemble from the losses
    in the tail of its posterior predictive distribution:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们使用 Python 计算线性集成的 GVaR，其损失来自其后验预测分布的尾部：
- en: '[PRE2]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![Image](assets/pmlf_08in02.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/pmlf_08in02.png)'
- en: '[PRE3]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Generative Expected Shortfall
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成期望损失
- en: 'After the Great Financial Crisis, it became common knowledge that there is
    a deep flaw in the VaR measure that was used by financial institutions. It doesn’t
    estimate the heavy losses that can occur in the tail of the distribution beyond
    VaR’s cutoff point. Expected shortfall (ES), also known as conditional VaR, is
    a loss function that is commonly used to estimate the rare but extreme losses
    that might occur in the tail of the return distribution. Refer back to [Figure 8-1](#value_at_risk_left_parenthesisvarright)
    to see the relationship between VaR and ES. As the name implies, ES is an expected
    value and is estimated as a weighted average of all the losses after the VaR’s
    cutoff point. Let’s compute the generative ES of our linear ensemble and compare
    it to all the worst returns in the tail of the posterior predictive distribution:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在大规模金融危机之后，人们普遍认识到金融机构使用的VaR指标存在严重缺陷。它不能估计超出VaR截断点的尾部分布中可能发生的巨大损失。预期缺失（ES），也称为条件VaR，是一种常用的损失函数，用于估计可能发生在收益分布尾部的罕见但极端损失。请参考[图8-1](#value_at_risk_left_parenthesisvarright)来看看VaR和ES之间的关系。顾名思义，ES是一个期望值，并且被估计为VaR截断点后所有损失的加权平均值。让我们计算我们线性集成的生成ES，并将其与后验预测分布尾部的所有最差收益进行比较：
- en: '[PRE4]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![Image](assets/pmlf_08in03.png)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![Image](assets/pmlf_08in03.png)'
- en: From the loss functions of VaR and ES, we can see that there is a 99% probability
    that the daily losses on our hypothetical investment in Apple stock is not expected
    to be lower than –3.79%. Should the loss exceed that GVaR threshold, the GES or
    daily loss in 1% of the scenarios is not expected to be lower than –4.50%.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 从VaR和ES的损失函数中，我们可以看到我们在苹果股票的假设投资中的每日损失有99%的概率不会低于–3.79%。如果损失超过该GVaR阈值，则GES或在1%的情景中每日损失不会低于–4.50%。
- en: Generative Tail Risk
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 生成尾部风险
- en: The major flaw of ES is that it is yet another expected value or ensemble average
    that understates the risks due to extreme events. It’s an even more dangerous
    statistic as it is averaging over a subset of the worst losses of the returns
    of our regression ensemble in a region of the distribution that is even more non-ergodic
    and fat-tailed as shown in the previous graph of the simulated losses in the tail
    of the posterior predictive distribution. For our specific ensemble, the worst
    loss is over twice the GES. If an extreme loss impairs your capital base, you
    will not be around to observe the expected shortfall. As a volatility trader who
    is short volatility quite often, I use the worst loss generated by the posterior
    predictive distribution— –10.25% for our ensemble—as my shortfall and hedge my
    trades accordingly. I refer to it as the Generative tail risk (GTR) of the ensemble.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: ES的主要缺陷在于它是另一个期望值或集成平均值，低估了由极端事件引起的风险。它甚至更危险，因为它是在我们回归集成的最坏损失子集上进行平均，而这一区域的分布如前所示，在后验预测分布的尾部中更加非遍历和厚尾。对于我们特定的集成，最糟糕的损失是GES的两倍多。如果极端损失损害了你的资本基础，那么你将无法观察到预期缺失。作为一个经常做空波动率的波动性交易者，我使用后验预测分布生成的最坏损失—–10.25%作为我的缺失，并相应地对冲我的交易。我称之为集成的生成尾部风险（GTR）。
- en: If you own a stock, as most people do, you are in essence short volatility and
    are making a high-probability bet that the stock is not going to make unexpected
    moves in the future. Based on your risk preferences, position size, and confidence
    in your regression ensemble, you might choose a different percentile in the tail
    of the return distribution as a reference point to manage your tail risk. Consequently,
    you may decide to hold your stock position, reduce it, or hedge it with options
    or futures or both. Regardless, you should continue to monitor your investment
    and the overall market by continually updating your regression ensemble with more
    recent data as it becomes available. As we have discussed in the latter half of
    this book, continual probabilistic machine learning is the hallmark of generative
    ensembles.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你拥有股票，就像大多数人一样，本质上你是在做空波动率，并且正在进行一种高概率的赌注，即股票未来不会出现意外波动。根据你的风险偏好、头寸规模和对回归集成的信心，你可能会选择尾部收益分布中不同百分位作为参考点来管理尾部风险。因此，你可以决定持有你的股票头寸、减少头寸，或者用期权或期货或两者对冲。无论如何，你应该继续监控你的投资和整个市场，不断根据更近期的数据更新你的回归集成。正如我们在本书的后半部分讨论的那样，持续的概率机器学习是生成集成的标志。
- en: Capital Allocation
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 资本配置
- en: 'Capital preservation, or return of our capital, is our primary objective. In
    the previous section, we explored the tools we can use to manage our risky investments
    to achieve that objective. Now let’s focus our attention on the second objective:
    the return on our capital, or capital appreciation. As investors and traders,
    we have two related, fundamental decisions to make when faced with investing in
    risky assets in an environment of three-dimensional uncertainty and incomplete
    information:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 资本保值或资本的回报是我们的主要目标。在前一节中，我们探讨了可以用来管理我们的高风险投资以实现这一目标的工具。现在让我们将注意力集中在第二个目标上：资本增值。作为投资者和交易者，在面对在三维不确定性和信息不完全的环境中投资高风险资产时，我们有两个相关的基本决策：
- en: Evaluate and decide if the investment will appreciate in value over a reasonable
    time period.
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评估并决定投资是否会在合理的时间段内升值。
- en: Decide what fraction of our hard-earned capital to allocate to that opportunity.
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 决定将我们辛苦赚来的资本的哪一部分分配到这个机会上。
- en: Expected value is used extensively for evaluating the attractiveness of investment
    opportunities. It is applied in almost every situation in finance and investing,
    from estimating the free cash flows of a company’s capital project to valuing
    its debt and its outstanding equity. However, like all concepts and tools, expected
    value has its strengths, weaknesses, and limitations. As we have already discussed
    in the previous section, expected value as an ensemble average is a complex idea.
    In this section we continue to deepen our understanding of ensemble averages to
    see if and where they can be applied appropriately by an investor looking to allocate
    their capital to increase their wealth without risking financial ruin at any time.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 预期价值广泛用于评估投资机会的吸引力。它几乎在金融和投资的每个情况中都有应用，从估算公司资本项目的自由现金流到估值其债务和未偿债务股权。然而，像所有概念和工具一样，预期价值有其优势、劣势和局限性。正如我们在前一节中已经讨论过的那样，作为一个整体平均值，预期价值是一个复杂的概念。在本节中，我们继续深化我们对整体平均值的理解，以看看投资者在寻求分配他们的资本以增加财富的同时，在任何时候都不会冒着财务毁灭风险的地方，是否可以适当地应用。
- en: Gambler’s Ruin
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Gambler’s Ruin
- en: 'It was not until the 17th century that Blaise Pascal, an eminent mathematician
    and physicist, working with a French aristocrat to improve his gambling skills,
    proved mathematically what was known to be true for a few millennia: eventually
    all gamblers go broke. Gambles are useful probabilistic models and have played
    a pivotal role in the development of probability and decision theories.^([6](ch08.html#ch08fn6))
    The classic problem of gambler’s ruin is instructive for investors as it emphasizes
    that a positive expected value is a necessary condition for making investments.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 直到17世纪，著名数学家和物理学家布莱兹·帕斯卡与法国贵族合作，以提高其赌博技能，数学上证明了几千年来已知的一个真理：最终所有赌徒都会破产。赌博是有用的概率模型，在概率论和决策理论的发展中发挥了关键作用。^[6](ch08.html#ch08fn6)
    赌徒毁灭的经典问题对投资者具有教育意义，因为它强调了正期望值对于进行投资的必要条件。
- en: Suppose you decide to play the following coin-tossing game. You start with $M,
    and your opponent starts with $N. Each of you bets $1 on the toss of a coin, which
    turns up heads with probability p and tails with probability q = (1 – p). If it’s
    heads, you win $1 from your opponent; if it’s tails, you lose $1 to your opponent.
    The game ends when either player goes broke (i.e., ruined). This is no silly game.
    It’s a stochastic process called an arithmetic random walk and can be used to
    model stock prices and collisions of dust particles. It is also a Markov chain,
    since its future state only depends on its current state and not the path it took
    to get there.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您决定玩以下抛硬币游戏。您从$M开始，您的对手从$N开始。每个人在硬币抛掷上押注$1，硬币出现正面的概率为p，反面的概率为q = (1 - p)。如果是正面，您从对手那里赢得$1；如果是反面，您失去$1给对手。游戏结束时，其中一名玩家破产（即被Ruined）。这不是个儿戏。这是一个被称为算术随机漫步的随机过程，可用于模拟股票价格和尘埃颗粒的碰撞。它也是一个马尔可夫链，因为其未来状态仅依赖于当前状态，而不依赖于到达该状态的路径。
- en: 'The gambler’s ruin is a two-part problem in which a gambler makes a series
    of bets with negative or zero expected value. Using the arithmetic random walk
    model, it can be shown mathematically that any gambler will almost surely go broke
    in both of the following scenarios:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 赌徒的毁灭是一个两部分问题，其中赌徒进行一系列预期价值为负或零的赌注。使用算术随机漫步模型，可以数学上证明，在以下两种情况下，任何赌徒几乎肯定会破产：
- en: 'A gambler makes a series of bets, where the probability of success for each
    bet is less than 50% and payoff equals the amount staked. In such games the gambler
    will eventually go broke regardless of their betting strategy since their wager
    always has negative expectation. It doesn’t even matter how big the gambler’s
    bankroll is compared to their opponents. The gambler’s probability of ruin P(ruin)
    is:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个赌徒进行一系列赌注，每次成功的概率都低于50%，并且回报等于押注金额。在这样的游戏中，不论赌徒如何制定他们的投注策略，他们最终都会破产，因为他们的赌注始终具有负期望。甚至赌徒的资金规模与对手相比有多大都不重要。赌徒破产的概率
    P(ruin) 是：
- en: <math><mrow><mrow><mrow><mi>P</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mi>r</mi><mo>⁢</mo><mi>u</mi><mo>⁢</mo><mi>i</mi><mo>⁢</mo><mi>n</mi></mrow><mo>)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mrow><mo>[</mo><mrow><mn>1</mn><mo>−</mo><mrow><mrow><mo>(</mo><mrow><mfrac><mi>p</mi><mi>q</mi></mfrac></mrow><mo>)</mo></mrow><mo>⁢</mo><mi>^</mi><mo>⁢</mo><mi>N</mi></mrow></mrow><mo>]</mo></mrow><mo>/</mo><mrow><mo>[</mo><mrow><mn>1</mn><mo>−</mo><mrow><mrow><mo>(</mo><mrow><mfrac><mi>p</mi><mi>q</mi></mfrac></mrow><mo>)</mo></mrow><mo>⁢</mo><mi>^</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mi>N</mi><mo>+</mo><mi>M</mi></mrow><mo>)</mo></mrow></mrow></mrow><mo>]</mo></mrow></mrow><mo>⁢</mo><mi>i</mi><mo>⁢</mo><mi>f</mi><mo>⁢</mo><mi>p</mi></mrow></mrow><mo><</mo><mi>q</mi></mrow></math>
  id: totrans-161
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math><mrow><mrow><mrow><mi>P</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mi>r</mi><mo>⁢</mo><mi>u</mi><mo>⁢</mo><mi>i</mi><mo>⁢</mo><mi>n</mi></mrow><mo>)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mrow><mo>[</mo><mrow><mn>1</mn><mo>−</mo><mrow><mrow><mo>(</mo><mrow><mfrac><mi>p</mi><mi>q</mi></mfrac></mrow><mo>)</mo></mrow><mo>⁢</mo><mi>^</mi><mo>⁢</mo><mi>N</mi></mrow></mrow><mo>]</mo></mrow><mo>/</mo><mrow><mo>[</mo><mrow><mn>1</mn><mo>−</mo><mrow><mrow><mo>(</mo><mrow><mfrac><mi>p</mi><mi>q</mi></mfrac></mrow><mo>)</mo></mrow><mo>⁢</mo><mi>^</mi><mo>⁢</mo><mrow><mo>(</mo><mrow><mi>N</mi><mo>+</mo><mi>M</mi></mrow><mo>)</mo></mrow></mrow></mrow><mo>]</mo></mrow></mrow><mo>⁢</mo><mi>i</mi><mo>⁢</mo><mi>f</mi><mo>⁢</mo><mi>p</mi></mrow></mrow><mo><</mo><mi>q</mi></mrow></math>
- en: 'A gambler is given a series of bets where the probability of success of each
    bet is 50% and the payoff equals the amount staked. These are fair odds, but the
    gambler’s opponent has a bigger bankroll. Surprisingly, the gambler will eventually
    go broke even in this scenario, if their opponent has a marginally bigger bankroll.
    If their opponent has a much larger bankroll, such as a casino dealer, the bumpy
    road to ruin transforms into a highway with no speed limit. The probability of
    ruin P(ruin) is:'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个赌徒面临一系列赌注，每次成功的概率为50%，回报等于押注金额。这些是公平的赔率，但如果赌徒的对手拥有更大的资金规模，那么令人惊讶的是，即使在这种情况下，赌徒最终也会破产。如果他们的对手拥有更大的资金，例如赌场的经销商，那么通向破产的坎坷之路将变成一条没有限速的高速公路。破产的概率
    P(ruin) 是：
- en: <math><mrow><mrow><mrow><mi>P</mi><mo>(</mo><mi>r</mi><mi>u</mi><mi>i</mi><mi>n</mi><mo>)</mo><mo>=</mo><mfrac><mrow><mi>N</mi></mrow><mrow><mo>(</mo><mi>M</mi><mo>+</mo><mi>N</mi><mo>)</mo></mrow></mfrac></mrow><mo>⁢</mo><mi>i</mi><mi>f</mi><mo>⁢</mo><mi>P</mi><mo>⁢</mo><mo>=</mo><mi>q</mi><mo>⁢</mo><mn>a</mn><mn>n</mn><mn>d</mn><mo>⁢</mo><mn>M</mn><mo><</mo><mn>N</mn></mrow></mrow></math>
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math><mrow><mrow><mrow><mi>P</mi><mo>(</mo><mi>r</mi><mi>u</mi><mi>i</mi><mi>n</mi><mo>)</mo><mo>=</mo><mfrac><mrow><mi>N</mi></mrow><mrow><mo>(</mo><mi>M</mi><mo>+</mo><mi>N</mi><mo>)</mo></mrow></mfrac></mrow><mo>⁢</mo><mi>i</mi><mi>f</mi><mo>⁢</mo><mi>P</mi><mo>⁢</mo><mo>=</mo><mi>q</mi><mo>⁢</mo><mn>a</mn><mn>n</mn><mn>d</mn><mo>⁢</mo><mn>M</mn><mo><</mo><mn>N</mn></mrow></mrow></math>
- en: Note that in the first scenario, we are assuming that the gambler is not able
    or allowed to count cards or use the physics of the gambling machine, such as
    a roulette wheel, as the great Ed Thorp did to beat the dealers in Vegas in the
    1960s.^([7](ch08.html#ch08fn7))
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，在第一个场景中，我们假设赌徒不能或不允许计算卡片或利用赌博机的物理特性，例如1960年代伟大的埃德·索普在拉斯维加斯击败经销商所做的那样。^([7](ch08.html#ch08fn7))
- en: The math is brutally clear. No matter how hard you try or what betting system
    you invent, because of negative expectations of the bets, gambling is a fool’s
    errand for the ages. Gamblers will take all kinds of random walks that will zig
    and zag between gains and losses, but all roads will eventually lead to ruin.
    Games involving equal odds with equal bankrolls are implausible situations for
    almost all gamblers. So to avoid going broke, a gambler needs to make bets with
    positive expected values.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 数学非常清楚。无论你如何努力或发明什么样的投注系统，由于赌注的负期望，赌博对于所有赌徒来说都是一种愚蠢的事业。赌徒将采取各种随机行走，会在盈利和亏损之间曲折变化，但最终所有道路都将通向破产。涉及等概率和等资金规模的游戏对大多数赌徒来说是不现实的情况。因此，为了避免破产，赌徒需要进行具有正期望值的投注。
- en: But a gamble with positive expectation is commonly known as an investment. In
    mathematical models, the sign of the expected value of each bet is the main difference
    between a gamble and an investment, according to John Kelly, the inventor of the
    optimal capital growth algorithm.^([8](ch08.html#ch08fn8)) By engaging in positive
    expectation bets, a degenerate gambler morphs into a respectable investor who
    can now pursue a statistically feasible path of increasing their wealth while
    avoiding financial ruin. But what fraction of our capital do we allocate to investments
    with positive expectations? Does it make sense to go all in when we are offered
    really favorable odds?
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，一个具有正期望值的赌局通常被称为投资。根据约翰·凯利（John Kelly），最优资本增长算法的发明者，期望值的符号是每个赌注的预期值和投资之间的主要区别。通过进行具有正期望的赌注，一个堕落的赌徒变成了一个值得尊敬的投资者，现在可以追求一个在避免财务破产的同时增加财富的统计上可行的路径。但是，我们应该把多少资本分配给具有正期望的投资？当我们面临非常有利的赔率时，全力以赴是否有意义？
- en: Expected Valuer’s Ruin
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 期望值的破产者
- en: Say you are confronted by a wealthy and powerful adversary who owns a biased
    coin that has a 76% probability of showing heads. Assume that the probability
    of this biased coin is known precisely to all, but the physics of any coin toss
    is always unknown. Your adversary makes you a legally binding offer—an offer you
    *can* refuse.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你面对一个富有且强大的对手，他拥有一个有76%概率出现正面的有偏向性的硬币。假设所有人都准确地知道这个有偏向性硬币的概率，但是任何一次投硬币的物理学都是未知的。你的对手向你提出了一个具有法律约束力的提议——一个你*可以*拒绝的提议。
- en: 'If you stake your entire net worth on a single toss of his coin and it shows
    heads, he will pay you three times the value of your net worth. But if the coin
    shows tails, you lose your entire net worth except the clothes you are wearing—it’s
    not personal, it’s just business. This seems like the wager of a lifetime because
    it gives you the opportunity to increase your net worth twofold in a blink of
    an eye:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你把你的整个净资产押在一次投币上，如果硬币正面朝上，他会支付你三倍于你净资产价值的金额。但如果硬币反面朝上，你将失去你的全部净资产，除了你穿的衣服——这并不是私人问题，这只是商业行为。这看起来像一生中的赌注，因为它给了你一种机会，在眨眼之间将你的净资产增加一倍：
- en: Expected value of wager = (3 × net worth × 0.76) – (net worth × 0.24) = 2.04
    × net worth.
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投注的期望值 = （3 × 净资产值 × 0.76） - （净资产值 × 0.24）= 2.04 × 净资产值。
- en: Payoffs are in multiples of your net worth, which will get estimated in legal
    proceedings (or not), so bluffing your net worth won’t help.
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支付是按你的净资产的倍数计算的，这将在法律诉讼中（或者不会）被估算，所以虚报你的净资产是没有用的。
- en: Do you accept this offer, which clearly has a high expected value, with a 76%
    probability of success but with a nontrivial 24% probability of financial ruin?
    Tossing a coin once doesn’t really involve time, so can expected value as an ensemble
    average work here to help us evaluate this opportunity?
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 你会接受这个明显具有高期望值的提议吗？有76%的成功概率，但也有一个非常实质的24%的破产风险？扔一次硬币实际上并不涉及时间，所以期望值作为一个集合平均值能帮助我们评估这个机会吗？
- en: 'Our common sense instinctively raises red flags about relying on any financial
    rule of maximizing expected value for such high-stakes decision making. It’s as
    if we were the ones staring down the barrel of Detective “Dirty” Harry’s famous
    .44 magnum handgun, wondering whether there is a bullet left, and him warning
    us: “You’ve gotta ask yourself one question: ‘Do I feel lucky?’ Well, do ya, punk?”'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的常识本能地对于依赖任何最大化期望值的金融规则来进行如此高风险的决策有所警惕。就好像我们自己正面对着“脏”哈利警官著名的.44马格南手枪，想知道里面是否还有子弹，而他警告我们：“你得问问自己一个问题：‘我感觉幸运吗？’那么，混蛋，你感觉到了吗？”
- en: Any responsible person, experienced investor, trader, or corporate executive
    (all of whom, *generally speaking*, are not punks) would refuse this offer because
    any investment opportunity that even hints at the possibility of financial ruin
    is a deal-breaker. This is expressed succinctly in a market maxim that says, “There
    are old traders, there are bold traders, but there are no old, bold traders.”
    Or another one that says, “Bulls make money, bears make money, but pigs get slaughtered.”
    One essential statistical insight of these two aphorisms, built over centuries
    of collective observations and life experiences, is that maximizing the expected
    value of investments almost surely leads to heavy losses, if not financial ruin,
    even if the odds are in your favor.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 任何负责任的人、经验丰富的投资者、交易员或企业高管（总体上来说，他们都不是骗子）都会拒绝这个提议，因为任何甚至暗示可能导致财务破产的投资机会都是不可接受的。这在市场的一则至理名言中表达得很简洁：“有老交易员，有胆大的交易员，但没有又老又胆大的交易员。”或者另一句名言说，“牛市赚钱，熊市赚钱，但贪婪会导致屠杀。”这两个谚语的一个基本统计洞见，经过几个世纪的集体观察和生活经验，是：最大化投资的预期价值几乎肯定会导致巨大损失，甚至是财务破产，即使赔率对你有利。
- en: What about a series of favorable bets where you maximize the expected value
    of each bet by going all in? Even if your same adversary were to give you a series
    of independent and identically distributed (i.i.d.) positive expectation bets,
    it would be ruinous for you to bet everything you have on each successive bet.
    You don’t need mathematical proof to figure out that it only takes one losing
    bet to wipe out all the accumulated profits and the initial bankroll of any investor
    who is an expected value maximizer.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一系列有利的赌注，你如何通过在每一次押注中最大化预期价值来投入所有资本？即使你的对手给了你一系列独立同分布的正期望押注，每次连续押注都会对你造成毁灭性打击。你不需要数学证明来弄清楚，只需一次输掉的赌注就足以清空所有累积利润和任何一位预期价值最大化投资者的初始资本。
- en: So how should you make your decision in one-off binary opportunities with positive
    expectations that don’t involve betting your entire net worth? Let’s return to
    the situation we described in [Chapter 6](ch06.html#the_dangers_of_conventional_ai_systems)
    regarding ZYX technology company and its earnings expectations. Recall that after
    observing ZYX successfully beat its earnings expectations in the last three quarters,
    your model’s prediction was that there was a 76% probability that it would beat
    its earnings expectations in the next quarter. Assume that you continue to find
    the probabilistic model useful, and ZYX is going to announce its earnings after
    the close of trading today.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 那么在不涉及押注整个净资产的正期望二进制机会中，你应该如何做出决策？让我们回到我们在[第六章](ch06.html#the_dangers_of_conventional_ai_systems)中描述的情况，关于ZYX科技公司及其盈利预期。回想一下，在观察到ZYX在过去三个季度成功超过其盈利预期后，你的模型预测下个季度ZYX有76%的概率会超过其盈利预期。假设你继续认为概率模型有用，并且ZYX将在今天交易结束后宣布其收益。
- en: Based on prices of options traded on ZYX stock, it seems that the market is
    pricing a 5% move up in the stock price if ZYX beats its earnings expectations.
    However, the market is also pricing a 15% move down in ZYX stock price if it does
    not. For the sake of this discussion, assume that these are accurate forecasts
    of the move in the stock prices after the earnings event. How can you use this
    market information and your model’s prediction to allocate capital to ZYX stock
    before the earnings announcement today?
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 根据在 ZYX 股票期权价格，市场似乎在定价股票价格上涨 5% 如果 ZYX 超过其盈利预期。然而，如果不是这样，市场也在定价 ZYX 股票价格下跌 15%。就本次讨论而言，假设这些是在盈利事件后股票价格波动的准确预测。你如何利用这些市场信息和你模型的预测，在今天盈利公告前配置资金到
    ZYX 股票？
- en: 'Let’s create an objective function V(F, Y″) where F is the fraction of your
    total capital you want to invest in ZYX and Y″ is the predicted outcome of an
    earnings beat. Given your objectives of avoiding any possibility of penury, F
    must be in the interval [0, 1):'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个目标函数 V(F, Y″)，其中 F 是你想投资于 ZYX 的总资本的比例，Y″ 是盈利超预期的预测结果。考虑到你要避免破产的目标，F 必须在区间
    [0, 1) 内：
- en: Since F cannot equal 1 for any investment, we avoid the expected value maximizing
    strategy and the gambler’s ruin, as previously discussed.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于 F 不能等于 1，所以我们避免了预期价值最大化策略和前文讨论过的赌徒困境。
- en: Furthermore, leveraging your position is not allowed as F < 1\. This means you
    cannot borrow cash from your broker to invest more capital than the cash in your
    account. When you borrow money from your broker to invest in stocks, you can end
    up owing more than your initial capital outlay, which is worse than blowing up
    your account.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，由于 F < 1，不能使用杠杆，这意味着你不能向经纪人借钱投资超过账户中现金的资本。当你从经纪人那里借钱投资股票时，最终可能欠债超过你的初始资本支出，这比破产账户更糟糕。
- en: Since F cannot be negative, you cannot short stocks. Shorting a stock is an
    advanced trading technique in which you borrow the shares from your broker to
    sell the stock with the expectation of buying it at a lower price. It’s buying
    low and selling high but in reverse order. Note that stock prices have a floor
    at $0 because of the limited liability of corporate ownership. However, stocks
    do not have a theoretical upper limit, which many unfortunate investors have realized
    in bubbles and manias. This is why shorting stocks can be risky and requires expertise
    and disciplined risk management. Stocks can burst into powerful rallies, called
    short covering rallies, for the flimsiest of reasons. These rallies can be twice
    as powerful, since there are buy orders from buyers and buy orders from short
    sellers, who are rushing to cover their short positions by buying back the stocks
    they had previously sold short. I have been on the wrong side of such short covering
    rallies several times, and the phrase “face-ripping rallies” is a fitting description
    of these experiences.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由于 F 不能为负数，你不能做空股票。做空股票是一种高级的交易技术，你从经纪人那里借股票卖出，期望以更低的价格买回。这相当于反向的买低卖高。请注意，由于公司所有权的有限责任，股票价格的下限为
    0。然而，股票没有理论上限，这是许多不幸投资者在泡沫和狂热中意识到的。这就是为什么做空股票可能会很危险，需要专业技能和纪律的风险管理。股票可以因为最微弱的原因而爆发强劲的涨势，称为做空回补涨。这些涨势可能是两倍强劲，因为有来自买家的买单和来自做空者的买单，他们急于回补之前卖空的股票。我曾多次处于这种做空回补涨的错误一方，而“撕脸涨势”这个词组恰如其分地描述了这些经历。
- en: 'Recall that Y″ is our probabilistic model’s out-of-sample predictions of ZYX’s
    earnings announcements based on observed in-sample data D, with P(Y[1]″ = 1 |
    D) = 76% when ZYX beats earnings expectations and P(Y[0]″ = 0 | D) = 24% when
    it doesn’t. Therefore, the expected value of our objective function, E[V(F)],
    is the probability weighted average over a profit (W) outcome of 5% and a loss
    outcome (L) of –15%:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 回忆一下，Y″ 是我们的概率模型对 ZYX 公司的收益预测，基于观察到的样本数据 D，其中当 ZYX 超出盈利预期时，P(Y[1]″ = 1 | D)
    = 76%，当没有超出预期时，P(Y[0]″ = 0 | D) = 24%。因此，我们目标函数的期望值 E[V(F)] 是一个盈利（W）为 5% 和亏损（L）为
    -15% 的概率加权平均：
- en: E[V(F)] = W × F × P(Y[1]″ = 1 | D) + L × F × P(Y[0]″ = 0 | D)
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E[V(F)] = W × F × P(Y[1]″ = 1 | D) + L × F × P(Y[0]″ = 0 | D)
- en: E[V(F)] = 0.05 × F × 0.76 – 0.15 × F × 0.24 = 0.002 × F
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: E[V(F)] = 0.05 × F × 0.76 – 0.15 × F × 0.24 = 0.002 × F
- en: The trade has an edge or positive expectation of about 0.2%.
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这笔交易的优势或正期望约为 0.2%。
- en: It only takes common sense to see that no single investor will observe an increase
    of 0.2% in the stock value of ZYX, or any other expected value they might have
    estimated, after the earnings event. Depending on the actual earnings results
    of ZYX, each investor who is long on the stock will either incur a 5% gain or
    –15% loss, or vice versa if they are short on the stock. The expected value we
    have computed is an ensemble average of all the profits and losses of all ZYX
    stockholders. It is hard to estimate, and it may or may not be within a reasonable
    range of your estimate.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 用常识来看，可以看到没有任何单一投资者会在 ZYX 的股票价值增长 0.2% 或者他们可能估计的任何其他预期值之后观察到。根据 ZYX 的实际收益结果，每个持有该股票的投资者将会有一个
    5% 的盈利或者 -15% 的亏损，或者如果他们对该股票做空，情况会反过来。我们计算的期望值是所有 ZYX 股东所有盈利和亏损的集成平均值。这很难估计，并且可能不在你估计范围内是合理的。
- en: But why should we care about the ensemble average anyway in this situation?
    As you can see, it is a completely useless tool for decision making in such one-off
    binary events for a single investor. A positive expected value of ZYX’s earnings
    event sounds great until you get hit with a –15% loss in a high-frequency microsecond,
    much faster than your eye can even blink. Mike Tyson, a former heavyweight boxing
    champion, summarized such hopeful positive expectations eloquently when he said,
    “Everyone has a plan until they get punched in the mouth.”
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 但在这种情况下，我们为什么要关心集合平均值呢？正如您所看到的，对于单个投资者在这样的一次性二元事件中做决策，它是一个完全无用的工具。ZYX的盈利事件的正期望值听起来很棒，直到您在一个高频微秒内遭受到-15%的损失，比您的眨眼速度还快。前重量级拳击冠军迈克·泰森（Mike
    Tyson）在概括这种充满希望的正期望时说得非常出色：“每个人都有计划，直到他们被打在嘴巴上。”
- en: 'So what capital allocation algorithm can help you make decisions in one-off
    binary trades regardless of the amount of capital you are going to allocate to
    the bet? Unfortunately, there are none. Only your capacity to bear the worst *known*
    outcome of your decision, which is subjective by definition, can help you make
    such one-off binary decisions. We have already discussed how to integrate subjectivity
    into probabilistic decision making. Say you have a daily loss limit of –10% and
    daily profit limit of +5% for any position in your portfolio. This makes the decision
    systematic and much easier to make, especially for automated systems:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，无论您打算为赌注分配多少资本，什么资本分配算法可以帮助您在一次性二元交易中做出决策呢？不幸的是，没有。只有您能够承受您决策的最坏已知结果的能力，这在定义上是主观的，可以帮助您做出这样的一次性二元决策。我们已经讨论过如何将主观性整合到概率决策中去。假设您的每日亏损限制为-10%，每日利润限制为+5%，适用于您投资组合中的任何头寸。这使得决策系统化，尤其对于自动化系统而言更易实施：
- en: Don’t invest in ZYX before the earnings announcement, since the non-trivial
    probability of losing –10% in one day conflicts with the risk limits of your objective
    function.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在收益公告之前不要投资ZYX，因为有非常大的可能性在一天内损失-10%，这与您的目标函数的风险限制相冲突。
- en: Don’t short ZYX stock since that conflicts with your objective function.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要做空ZYX股票，因为这与您的目标函数相冲突。
- en: If you already have an investment in ZYX stock, you need to recalibrate your
    position size and hedge it with options or futures such that the daily loss doesn’t
    exceed –10%. Of course, hedging costs will lower the 5% expected gain, so you
    will have to recalculate the expected value to make sure it is still positive.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您已经投资于ZYX股票，则需要重新调整您的仓位大小，并用期权或期货进行对冲，以确保每日损失不超过-10%。当然，对冲成本会降低5%的预期收益，因此您需要重新计算预期值，以确保它仍然是正的。
- en: 'Searching for investment opportunities that have positive expected values over
    a reasonable time horizon is generally the difficult part of any investment strategy.
    But in this section, we have learned that making investments with positive expectation
    is a necessary but not a sufficient condition. Therefore, investors are faced
    with a dilemma:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 寻找在合理时间范围内具有正期望值的投资机会通常是任何投资策略的难点。但在本节中，我们已经了解到，做出具有正期望的投资是必要的，但不是充分条件。因此，投资者面临着一个困境：
- en: If they allocate too much capital to such a favorable opportunity, they risk
    bankruptcy or making devastating losses.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果他们将太多资本投入到这样一个有利机会中，他们会面临破产或造成毁灭性的损失的风险。
- en: If they allocate too little capital, they risk wasting a favorable opportunity.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果他们分配的资本太少，他们会冒着浪费有利机会的风险。
- en: 'This implies that investors need a capital allocation algorithm that computes
    a percentage of their total capital to a series of investment opportunities with
    positive expectation such that it balances two fundamental objectives:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着投资者需要一个资本分配算法，计算他们总资本的一部分投向一系列具有正期望的投资机会，以便平衡两个基本目标：
- en: Avoids financial ruin at all times
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 避免在任何时候陷入财务灾难。
- en: Increases their wealth in a finite time period
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在有限的时间内增加他们的财富。
- en: 'Some investors have additional objectives that are to be achieved on the capital
    they manage over a specific time period, generally one year:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 一些投资者有额外的目标，这些目标需要在特定时间段内管理的资本上实现，通常是一年：
- en: Percentage profits to exceed a defined threshold
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 百分比利润必须超过一个定义的阈值
- en: Percentage losses not to exceed a defined threshold
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 百分比损失不得超过一个定义的阈值
- en: These objectives can be encoded in an investor’s objective function that will
    condition and constrain their capital allocation algorithm. As we have already
    learned in this chapter so far, applying expected value in investing and finance
    is neither intuitive nor straightforward, as investment processes are non-ergodic.
    Let’s explore a capital allocation algorithm that is widely used in academia and
    in the industry.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这些目标可以编码在投资者的目标函数中，这将影响和限制他们的资本配置算法。正如我们在本章中到目前为止已经学到的，将期望值应用于投资和金融中既不直观也不简单，因为投资过程是非遍历的。让我们探讨一种在学术界和工业界广泛使用的资本配置算法。
- en: Modern Portfolio Theory
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 现代投资组合理论
- en: Modern portfolio theory (MPT), developed by Harry Markovitz in 1952, focuses
    on quantifying the benefits of diversification using correlations of returns of
    different assets in a portfolio. It maximizes the expected value of the returns
    of a portfolio of assets for a given level of variance over a single time period,
    so volatility (the square root of variance) is used as a constraint on the expected
    value optimization algorithm. MPT assumes that asset price returns are stationary
    ergodic and normally distributed.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 现代投资组合理论（MPT），由哈里·马科维茨在1952年开发，着重于通过投资组合中不同资产回报的相关性来量化分散化的益处。它在单个时间段内最大化资产组合的预期回报的同时，利用波动率（方差的平方根）作为预期值优化算法的约束条件。MPT假设资产价格回报是稳态遍历和正态分布的。
- en: 'As we have learned already, these are unrealistic and dangerous assumptions,
    due to the following factors:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们已经学到的那样，这些是不切实际和危险的假设，原因如下：
- en: They ignore skewness and kurtosis of asset price returns, which are known to
    be asymmetric and fat-tailed even by academics.
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它们忽视了资产价格回报的偏度和峰度，即使是学术界也知道它们是不对称的、厚尾的。
- en: Portfolio diversification is reduced or eliminated in periods of extreme market
    stress, as we saw recently in 2020 and previously in 2008.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在市场极端压力期间，如我们最近在2020年和之前在2008年所见到的那样，投资组合分散化会减少或消失。
- en: In normal periods, fat-tailed distributions can introduce large errors in correlations
    among securities in the portfolio.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在正常期间，厚尾分布可能会在投资组合中引入大的相关性误差。
- en: Portfolio weights can be extremely sensitive to estimates of returns, variances,
    and covariances. Small changes in return estimates can completely change the composition
    of the optimal portfolio.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投资组合权重对于回报、方差和协方差的估计非常敏感。对回报估计的微小变化可以完全改变最优投资组合的构成。
- en: MPT portfolios are much riskier than advertised and provide suboptimal returns—diversification
    leads to “diworsification.” Buffet has called MPT “a whole lot of nonsense” and
    has been laughing all the way to his mega bank ever since.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: MPT投资组合比宣传的要风险更大，并提供次优的回报——分散化导致“非优化”。巴菲特称MPT是“一大堆胡说八道”，自那时以来一直在他的巨额银行笑得开怀。
- en: In an interview, Markowitz admitted to not using his “Nobel prize–winning” mean-variance
    algorithm for his own retirement funds! If that is not an indictment of the mean-variance
    algorithm, I don’t know what else is.^([9](ch08.html#ch08fn9)) Instead Markowitz
    used 1/N heuristic or the naive diversification strategy. This is an investment
    strategy in which you allocate equal amounts of your capital to each of N investments.
    This naive diversification portfolio strategy has been shown to outperform mean
    variance and other complex portfolio strategies.^([10](ch08.html#ch08fn10))
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在一次采访中，马科维茨承认并未将他那个“诺贝尔奖获得的”均值-方差算法用于自己的退休基金！如果这不是对均值-方差算法的控诉，我不知道还有什么能够是。^([9](ch08.html#ch08fn9))
    相反，马科维茨采用了1/N启发式或者说天真的分散化策略。这是一种投资策略，你将资本均匀分配给N个投资项目。已经证明，这种天真的分散化投资组合策略表现优于均值方差和其他复杂的投资组合策略。^([10](ch08.html#ch08fn10))
- en: 'We focus our attention on another simpler but equally useless model of MPT
    to highlight the conceptual blunder of using volatility as a measure of total
    risk. The capital asset pricing model (CAPM) discussed in [Chapter 4](ch04.html#the_dangers_of_conventional_statistical)
    was derived from Markovitz’s portfolio theory by his student William Sharpe. It
    simplifies MPT in terms of thinking about expected return for any risky investment.
    According to the CAPM, an asset has two types of risks: unsystematic and systematic.
    Unsystematic risk is idiosyncratic to the asset concerned and is diversifiable.
    Systematic risk is market risk that affects all assets and is not diversifiable.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将注意力集中在另一种更简单但同样无用的MPT模型上，以突显将波动性用作总体风险度量的概念错误。由其学生威廉·夏普从马科维茨的投资组合理论推导出来的资本资产定价模型（CAPM），在[第4章](ch04.html#the_dangers_of_conventional_statistical)中讨论。它简化了MPT，用于思考任何风险投资的预期回报。根据CAPM，资产具有两种类型的风险：非系统性风险和系统性风险。非系统性风险是特定资产特有的特异风险，是可分散的。系统性风险是影响所有资产的市场风险，不可分散。
- en: The CAPM builds on the heroic assumptions of MPT that all investors are rational
    and risk-averse and have the same expectations at the same time given the same
    information, such that markets are always in equilibrium. Such financial fairy
    tales rival any you might see in Disney’s Magic Kingdom. At any rate, these Markovitz
    investors are supposed to create strongly efficient markets and only hold diversified
    portfolios that will reduce the correlation among assets and eliminate the idiosyncratic
    risk of any particular asset. Statistically, this implies that in a well-diversified
    portfolio, the idiosyncratic risk of any particular asset will be zero, as will
    the expected value of any error term in the regression line. Therefore, Markovitz
    investors will only pay a premium for systematic risk of an asset, as it cannot
    be diversified away.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: CAPM建立在MPT的英雄假设之上，即所有投资者都是理性且风险厌恶的，他们在同一时间给定相同信息时有相同的预期，从而市场总是处于均衡状态。这样的金融童话不亚于迪士尼乐园中的任何童话故事。无论如何，这些马科维茨投资者被认为会创造高度有效的市场，只持有能够减少资产相关性和消除任何特定资产特异风险的多样化投资组合。统计上来说，这意味着在一个充分多样化的投资组合中，任何特定资产的特异风险和回归线中的任何误差项的期望值都将为零。因此，马科维茨投资者只会为资产的系统风险支付溢价，因为这种风险无法通过分散化消除。
- en: In such strongly efficient markets, all fairly priced investments will plot
    on a regression line called the security market line with the intercept equal
    to the risk-free rate and the slope equal to beta, or systematic risk. An asset’s
    beta gives the magnitude and direction of the movement of the asset with respect
    to the market. See [Figure 8-2](#the_capm_claims_that_as_you_increase_th) (M is
    the market portfolio with beta = 1).
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在这样高效的市场中，所有定价合理的投资将在一个称为安全市场线的回归线上绘制，其截距等于无风险利率，斜率等于β或系统风险。资产的β确定了资产相对于市场运动的幅度和方向。参见[图8-2](#the_capm_claims_that_as_you_increase_th)（M是具有β
    = 1的市场组合）。
- en: 'The systematic risk term, beta, of the asset’s MM is the same as the one calculated
    using its CAPM. However, note that an asset’s market model (MM) is different from
    its CAPM in three important respects:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 资产的市场模型（MM）的系统风险项β与其CAPM计算的相同。但是请注意，资产的市场模型（MM）与其CAPM在三个重要方面有所不同：
- en: The CAPM formulates expected returns of an asset, while its MM formulates realized
    returns.
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CAPM制定了资产的预期回报，而其MM则制定了实现回报。
- en: The MM has both an idiosyncratic risk term (alpha) and an error term in its
    formulation.
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MM在其制定中既有特异风险项（α），也有误差项。
- en: Based on MPT, the expected value of alpha is zero since it has been diversified
    away by rational investors. That is the reason it does not appear in the CAPM.
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于MPT，α的期望值为零，因为它已经被理性投资者通过分散化抵消掉了。这就是它不出现在CAPM中的原因。
- en: '![The CAPM claims that as you increase the systematic risk of your investment,
    or beta, its expected return increases linearly. Beta is directly proportional
    to the volatility of returns of the investment.](assets/pmlf_0802.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![CAPM声称，随着您增加投资的系统风险（或β），其预期回报将线性增加。 Beta与投资回报的波动性成正比。](assets/pmlf_0802.png)'
- en: Figure 8-2\. The CAPM claims that as you increase the systematic risk of your
    investment, or beta, its expected return increases linearly. Beta is directly
    proportional to the volatility of returns of the investment^([11](ch08.html#ch08fn11))
  id: totrans-219
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图8-2\. CAPM声称，随着您增加投资的系统风险（或β），其预期回报将线性增加。 Beta与投资回报的波动性成正比^([11](ch08.html#ch08fn11))
- en: 'In simple linear regression, beta quantifies the average change in the target
    for a unit change in the associated feature. Based on the assumptions of simple
    linear regression, especially the one about constant variance of the residuals,
    beta has an analytical formula that is equal to:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 在简单线性回归中，beta量化了与关联特征的单位变化相关的目标的平均变化。根据简单线性回归的假设，特别是残差恒定方差的假设，beta有一个等于的解析公式：
- en: 'Beta = Rxy × Sy / Sx where:'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Beta = Rxy × Sy / Sx 其中：
- en: Sy = standard deviation of the target or investment
  id: totrans-222
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sy = 目标或投资的标准差
- en: Sx = standard deviation of the feature or market portfolio
  id: totrans-223
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sx = 特征或市场投资组合的标准差
- en: Rxy = coefficient of correlation between the feature and the target
  id: totrans-224
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rxy = 特征与目标之间的相关系数
- en: Beta can also be interpreted as the parameter that correlates the volatility
    of the risky investment with the volatility of the market.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: Beta也可以解释为将高风险投资的波动性与市场波动性相关联的参数。
- en: Markowitz Investor’s Ruin
  id: totrans-226
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 马科维茨投资者的破产
- en: As you can see from [Figure 8-2](#the_capm_claims_that_as_you_increase_th),
    the CAPM claims that you can increase the expected value of returns as much as
    you want, by selecting risky investments or using leverage or both, as long as
    you are willing to accept the attendant volatility of the asset’s price returns.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您可以从[图8-2](#the_capm_claims_that_as_you_increase_th)中看到的，CAPM声称，只要您愿意接受资产价格回报的伴随波动性，通过选择高风险投资或使用杠杆或两者兼而有之，您可以增加期望收益的价值。
- en: Let’s test these assumptions about the expected value of returns by generating
    a very large sample of hypothetical trades with the same probabilities, outcomes,
    and payoffs as ZYX’s earnings event. In the following Python code, we generate
    20,000 samples from our posterior predictive distribution. That should be sufficiently
    large for the law of large numbers (LLN) to kick in and enable the convergence
    of any asymptotic property of stochastic processes.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过生成一个与ZYX盈利事件具有相同概率、结果和回报的非常大的假设交易样本来测试关于收益期望的这些假设。在以下Python代码中，我们从后验预测分布生成了20,000个样本。这应该足够大，使大数定律（LLN）生效，并能使随机过程的任何渐近性质收敛。
- en: 'In particular, we will calculate our ensemble average by computing the posterior
    predictive mean across the 20,000 simulated samples. These samples simulate the
    two outcomes of ZYX’s earnings event. We then provide the same 20,000 outcomes
    sequentially as a time series to 100 simulated investors. Each simulated investor
    applies MPT/CAPM theory to their investing process. They allocate anywhere from
    1% to 100% of their initial capital of $100,000 to ZYX stock. The profit or loss
    resulting from each of the simulated outcomes for a specific investor/fraction
    of the total capital is computed. Our code keeps track of the terminal wealth
    for each specific fraction/investor iteratively. Finally, we plot the terminal
    wealth for each fraction/investor and check if the time average of the typical
    investor equals the ensemble average computed earlier:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 特别地，我们将通过计算20,000个模拟样本中的后验预测均值来计算我们的集合平均值。这些样本模拟了ZYX盈利事件的两个结果。然后，我们按时间序列将相同的20,000个结果顺序地提供给100名模拟投资者。每个模拟投资者在其投资过程中应用MPT/CAPM理论。他们将其初始资本100,000美元的1%到100%分配给ZYX股票。对于特定投资者/总资本的每个模拟结果产生的利润或损失进行计算。我们的代码迭代地跟踪每个特定部分/投资者的终端财富。最后，我们绘制每个部分/投资者的终端财富，并检查典型投资者的时间平均值是否等于前面计算的集合平均值：
- en: '[PRE5]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![Image](assets/pmlf_08in04.png)'
  id: totrans-231
  prefs: []
  type: TYPE_IMG
  zh: '![Image](assets/pmlf_08in04.png)'
- en: 'Notice that the probabilities of the outcome variables based on our posterior
    predictive distribution are almost equal to the theoretical probabilities for
    y = 0 and y = 1\. This validates our claim that the sample size is large enough
    for asymptotic convergence and the LLN is working as expected. Now we continue
    to calculate our profits and losses based on a sequence of 20,000 possible outcomes
    generated by our model to compute the terminal wealth of all investors:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，基于我们的后验预测分布的结果变量的概率几乎等于y = 0和y = 1的理论概率。这验证了我们的样本大小足够大，以实现渐近收敛，LLN按预期工作。现在我们继续根据我们模型生成的20,000个可能结果序列来计算我们的利润和损失，以计算所有投资者的终端财富：
- en: '[PRE6]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![Image](assets/pmlf_08in05.png)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![Image](assets/pmlf_08in05.png)'
- en: 'We can make a few obvious observations based on our simulation:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们的模拟，我们可以得出一些明显的观察：
- en: Investors experience different wealth trajectories based on the fraction of
    the initial capital they invested in this series of hypothetical positive expectation
    bets (total of 20,000 i.i.d. bets).
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 投资者根据在这一系列假设正期望赌注中投资的初始资本的比例经历不同的财富轨迹（总计20,000次独立同分布赌注）。
- en: Investors start losing money if they invested more than 26% of their capital.
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果投资者投资超过其资本的 26%，则会开始亏损。
- en: All investors who invested more than 40% of their capital are broke.
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有投资者中超过其资本的40%投资者都破产。
- en: All investors who invested between 1% to 26% of their capital increased their
    wealth.
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有投资者，投资其资本的 1% 到 26% 的人都增加了他们的财富。
- en: The investor who invested only 13% of their capital had the greatest amount
    of terminal wealth. In this investment scenario, 13% of total capital is the Kelly
    optimal position size for growing one’s wealth.
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只投资其资本的 13% 的投资者获得了最多的终端财富。在这种投资情境中，13% 的总资本是 Kelly 最优头寸大小，用于增长个人财富。
- en: It is important to note that an investor’s risk of ruin is closely related to
    the position size of their initial capital and not to the volatility of returns
    of the stochastic process, which is the same for every investor.
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要注意的是，投资者的破产风险与其初始资本的头寸大小密切相关，而不是随机过程回报的波动性，这对每位投资者都是相同的。
- en: Most importantly, even if you are willing to accept the related volatility of
    your investment, there is a limit to how much capital you should allocate to an
    investment. This is the fatal flaw of MPT/CAPM and reveals the foolishness of
    using volatility as a measure of risk.
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更重要的是，即使您愿意接受相关投资的波动性，也有一个限度，应该分配到一个投资中。这是 MPT/CAPM 的致命缺陷，并揭示了使用波动性作为风险度量的愚蠢。
- en: As shown in our simulation, assuming that investing is an ergodic process and
    optimizing expected value leads to financial ruin for the majority of the investors
    applying MPT/CAPM principles of using volatility as a proxy for risk and disregarding
    position size. This is how LTCM justified leveraging its positions arbitrarily
    highly and disregarding the possibility of financial ruin.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们的模拟所示，假设投资是一个遗传过程，并且优化预期价值会导致大多数应用 MPT/CAPM 原则的投资者陷入财务灾难，这些原则使用波动率作为风险的代理，并忽略头寸大小。这就是
    LTCM 为什么可以合理高杠杆化其头寸并忽略财务灾难可能性的理由。
- en: Kelly Criterion
  id: totrans-244
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 凯利准则
- en: In 1956, John Kelly, a physicist working at Bell Labs, came up with the groundbreaking
    solution to the vexing problem of how much is optimal to invest in positive expectation
    opportunities following a non-ergodic stochastic process. His solution, commonly
    referred to as the Kelly criterion, is to maximize the expected compound growth
    rate of capital, or the expected logarithm of wealth.^([12](ch08.html#ch08fn12))
    The Kelly position size is the optimal amount of capital allocated to a sequence
    of positive expectation bets or investments that results in the maximum terminal
    wealth in the shortest amount of time without risking financial ruin.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 1956年，贝尔实验室的物理学家约翰·凯利提出了解决如何在非遗传性随机过程中投资正期望机会的棘手问题的突破性解决方案。他的解决方案，通常称为凯利准则，是最大化资本预期复利增长率或财富对数预期值的方法。^([12](ch08.html#ch08fn12))
    凯利头寸大小是分配给一系列正期望赌注或投资的最优资本量，以在最短时间内获得最大的终端财富而不会冒财务灾难的风险。
- en: 'Say your wealthy adversary gives you another weighted coin that has a 55% probability
    of turning up heads. He offers you an infinite series of trades with even odds:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您富有的对手给了您另一个加权硬币，有55%的概率正面朝上。他向您提供了一系列赔率相等的无限交易：
- en: On heads, you get two times your stake. On tails, you lose your entire stake.
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正面时，您的投注金额翻倍。反面时，您失去整个投注金额。
- en: How much capital do you allocate to maximize your capital in the long term?
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了长期最大化您的资本，您应该分配多少资金？
- en: 'Let’s run a simulation in Python of a simple series of binary bets with fixed
    odds to illustrate the power of the Kelly criterion for maximizing your wealth:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们在 Python 中运行一个简单的二元赌注系列模拟，固定赔率，以说明 Kelly 准则在最大化财富方面的威力：
- en: '[PRE7]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![Image](assets/pmlf_08in06.png)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![图片](assets/pmlf_08in06.png)'
- en: 'For binary outcomes, an investor can compute the percentage of capital, F,
    to be allocated to an opportunity with positive expectation in the real world
    of non-ergodic investing processes. However, the popular literature on the Kelly
    criterion doesn’t provide the general Kelly position sizing formula that you can
    apply to investments or bets in which you lose a percentage of your stake and
    not your entire stake. The optimal fraction, F′, is:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 对于二元结果，投资者可以计算资本的百分比 F，以在非遍历投资过程的现实世界中将资金分配给正期望的机会。然而，关于凯利准则的流行文献并没有提供适用于你在其中失去赌注的一部分而不是你的整个赌注的一般凯利仓位大小公式。最优分数
    F′ 是：
- en: F′ = (W × p – L × q) / (W × L) where
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: F′ = (W × p – L × q) / (W × L) 其中
- en: p is the probability of gain and q = 1 – p is the probability of loss.
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: p 是获利的概率，q = 1 – p 是损失的概率。
- en: W is percentage gain and L is the percentage loss.
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: W 是百分比收益，L 是百分比损失。
- en: 'Note when L = 1, you lose your entire stake and you get the popular formula:'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当 L = 1 时，请注意，你将失去你的整个赌注，并且你会得到这个流行的公式：
- en: F′ = (W × p – q) / W, or as it is popularly known, edge over odds.
  id: totrans-257
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: F′ = (W × p – q) / W，或者众所周知的优势赔率。
- en: This formula is used in sports betting, where you can lose your entire stake.
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此公式用于体育博彩，您可以失去整个赌注。
- en: It is important to note that the Kelly formula relates the ensemble average
    to the time average of a single trajectory. The expected value, or edge, of the
    investment is in its numerator. But the denominator modifies the position size
    implied by the ensemble average by including the multiplicative losses and profits
    that will be incurred sequentially in the time average. This is the volatility
    drag we discussed in the ergodicity subsection earlier.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，凯利公式将整体平均值与单个轨迹的时间平均值联系起来。投资的预期值，或者优势，在其分子中。但分母通过包含在时间平均值中将依次产生的乘法损失和利润来修改由整体平均值暗示的头寸大小。这就是我们早期在遍历性子节中讨论过的波动性拖曳。
- en: The Kelly formula solves the gambler’s ruin problem for multiplicative dynamics
    quite elegantly. Recall that the gambler’s ruin problem involves a series of additive
    bets. In contrast, the Kelly criterion is used for a series of multiplicative
    bets. When the expected value or edge of an opportunity is zero, the Kelly formula
    gives it a zero position size. Furthermore, when the expectation is negative,
    the position size is also negative. This implies you should take the other side
    of the bet. In gambling, this would mean betting against gamblers and with the
    casino dealer. In markets, it means betting that markets will fall and taking
    a short position in an investment.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 凯利公式相当优雅地解决了多元动力学中的赌徒毁灭问题。回想一下，赌徒毁灭问题涉及一系列的加法赌注。相反，凯利准则用于一系列的乘法赌注。当机会的预期值或优势为零时，凯利公式给出了零头寸大小。此外，当预期为负时，头寸大小也为负。这意味着你应该押注另一边。在赌博中，这意味着反对赌徒，与赌场荷官一起下注。在市场上，这意味着押注市场将下跌，并在投资中建立空头头寸。
- en: The Kelly criterion has many desirable properties for investing in positive
    expectation investment opportunities:^([13](ch08.html#ch08fn13))
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 凯利准则对于投资于正期望投资机会有许多理想的特性：^([13](ch08.html#ch08fn13))
- en: It is mathematically indisputable that the Kelly position maximizes the terminal
    wealth in the shortest amount of time without the risk of going broke.
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数学上无可争议，凯利仓位最大化了在最短时间内的终端财富而没有破产的风险。
- en: It generates exponential growth since profits are reinvested.
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它产生指数增长，因为利润被再投资。
- en: It involves a multiperiod, myopic trading strategy where you can focus on the
    present opportunities without a need for a long-term plan.
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它涉及多期，近视交易策略，您可以专注于当前的机会，而无需长期计划。
- en: 'It has risk management built into the formula:'
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它在公式中内置了风险管理：
- en: Kelly position size is a fraction of your capital.
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 凯利仓位大小是你资本的一个分数。
- en: Position size becomes smaller as losses accumulate.
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当损失累积时，仓位大小变小。
- en: The Kelly criterion expressed mathematically that evaluating expected values
    of investment opportunities is necessary but not sufficient. Sizing our investment
    position to account for the non-ergodic process of investing is of paramount importance
    and the sufficient condition we need. Unfortunately, capital allocation in financial
    markets is not that simple, and applying the Kelly criterion is challenging because
    markets are not stationary.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 凯利准则在数学上表达为，评估投资机会的期望值是必要的但不够的。调整我们的投资仓位以考虑投资的非遗传过程是非常重要的，并且是我们需要的充分条件。不幸的是，在金融市场中进行资本配置并不那么简单，应用凯利准则是具有挑战性的，因为市场并不稳定。
- en: Kelly Investor’s Ruin
  id: totrans-269
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 凯利投资者的毁灭
- en: As we have mentioned in [Chapter 1](ch01.html#the_need_for_probabilistic_machine_lear),
    financial markets are not only non-ergodic, but they are also nonstationary. The
    underlying data-generating stochastic processes vary over time. This makes estimating
    the continually changing statistical properties of these processes hazardous,
    especially when the underlying structure of the market changes abruptly.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们在[第一章](ch01.html#the_need_for_probabilistic_machine_lear)中提到的，金融市场不仅不符合遗传性，而且还不是稳态的。潜在的数据生成随机过程随时间变化。这使得估计这些过程的不断变化的统计特性变得危险，特别是当市场的基本结构突然发生变化时。
- en: Note that the posterior predictive distribution of the outcome variable Y″,
    the event that ZYX will beat earnings expectations, has a probability distribution
    due to the uncertainty of its parameter and data sampling. The 76% probability
    is just the mean value of its posterior predictive distribution. The expected
    value of our objective function turns negative if our estimate is less than 75%.
    There is not much margin for error here, and that should raise red flags. Based
    on the analytical formula and theoretical probability of an earnings beat of 75%,
    the Kelly position size should be zero. However, we have overshot the Kelly position,
    and our capital growth is suboptimal but positive for this simulation. It is quite
    possible that for another simulation with more samples, the position size changes
    and the current position size of 13% would lead to ruin.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，由于其参数和数据抽样的不确定性，事件变量 Y″ 的后验预测分布具有概率分布。76%的概率只是其后验预测分布的均值。如果我们的估计值低于75%，我们的目标函数的期望值就会变负。这里没有太多的错误余地，这应该引起警觉。根据理论公式和超过75%的盈利概率，凯利仓位大小应为零。然而，我们已经超出了凯利仓位，我们的资本增长是次优但对于这个模拟是正的。很可能在另一个具有更多样本的模拟中，仓位大小会发生变化，当前仓位大小为13%可能会导致破产。
- en: The Kelly position sizing formula is very sensitive to estimates of both the
    expected value (the “edge”) and the probabilities of gains and losses (the “odds”).
    The cardinal sin in applying the Kelly formula is to overbet or to have a position
    size larger than the Kelly size. As an investor’s position size goes past the
    Kelly optimum, the growth rate of their wealth decreases and inexorably moves
    them toward financial ruin.^([14](ch08.html#ch08fn14))
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 凯利仓位大小公式对期望值（“边缘”）和盈亏概率（“赔率”）的估计非常敏感。在应用凯利公式时犯的致命错误是过度投注或仓位大小大于凯利大小。随着投资者的仓位大小超过凯利最优值，他们的财富增长率会降低，并不可避免地将他们推向财务破产。^([14](ch08.html#ch08fn14))
- en: 'Practitioners of the Kelly criterion use a fraction of the Kelly optimal size,
    such as half Kelly, to avoid overbetting, as it hedges against:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 凯利准则的实践者使用凯利最优大小的一部分，如半凯利，以避免过度投注，因为它对抗：
- en: Overestimating one’s edge
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高估自己的优势
- en: Misestimating event odds
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件概率的错误估计
- en: Changing edge and odds
  id: totrans-276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改变边缘和赔率
- en: Fractional Kelly allocation strategies also reduce the volatility of returns
    that can accompany full Kelly position sizes. The full application of the Kelly
    criterion to a portfolio of investments involves nonlinear programming and is
    beyond the scope of this primer.^([15](ch08.html#ch08fn15))
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 分数凯利分配策略还可以减少伴随全凯利仓位大小可能出现的回报波动性。将凯利标准完全应用于一系列投资涉及非线性规划，超出了本入门指南的范围。^([15](ch08.html#ch08fn15))
- en: Summary
  id: totrans-278
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: Complex decision making in the real world is an art and a science. Our probabilistic
    decision framework gives us the perspective and the tools to integrate our prior
    knowledge and subjective reasons with the objectivity of observed data and the
    unrelenting rigors of probability calculus. It enables us to make the best decisions
    that optimize our objectives in the face of uncertainty and incomplete information.
    To make such systematic decisions that we can entrust to machines, we need to
    specify an objective function and evaluate the function based on all possible
    outcomes generated from the posterior predictive distribution of our generative
    ensembles.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 现实世界中的复杂决策是一门艺术和科学。我们的概率决策框架为我们提供了将先验知识和主观原因与观察数据的客观性以及概率计算的严苛要求整合起来的视角和工具。它使我们能够在面对不确定性和不完整信息的情况下做出最佳决策，以优化我们的目标。为了做出可以信赖机器的系统决策，我们需要指定一个目标函数，并根据从生成集合的后验预测分布中产生的所有可能结果评估该函数。
- en: Expected value, also known as an ensemble average, needs to be applied with
    great caution because finance and investing processes are non-ergodic. Since each
    investor’s wealth trajectory is unique and different from the ensemble average
    computed across all possible trajectories of all market participants, their time
    average is not the same as the expected value of the ensemble. Also, different
    sequences of events lead to different decisions and outcomes even though the time
    average may be equivalent. In risk management, it is prudent to use value at risk
    instead of volatility, as VaR is estimated from the distribution of possible returns.
    Furthermore, it is better to use a tail-risk value instead of expected shortfall
    as that, too, is an ensemble average. My generative versions of these risk measures
    are produced seamlessly by probabilistic ensembles as I have demonstrated in this
    chapter.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 预期值，也被称为集合平均，需要谨慎应用，因为金融和投资过程是非遍历的。由于每位投资者的财富轨迹是独特的，不同于计算所有市场参与者所有可能轨迹的集合平均，他们的时间平均值与集合的预期值不同。此外，不同的事件序列导致不同的决策和结果，即使时间平均值可能是等效的。在风险管理中，使用风险值而不是波动性更为谨慎，因为风险值是从可能回报的分布中估计出来的。此外，最好使用尾部风险值而不是预期缺失，因为后者也是集合平均值。在本章中，我演示了这些风险度量的生成版本，这些版本无缝地由概率集合生成。
- en: The expected value of investments is a useful evaluation tool because it separates
    gambling from investing. However, while positive expectation is a necessary condition
    for investing, it is not a sufficient condition in a non-ergodic world. You need
    a capital allocation algorithm to appropriately size your investment so that you
    don’t go broke on any wealth trajectory your investment takes and you have a realistic
    chance of growing your wealth.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 投资的预期值是一种有用的评估工具，因为它将赌博与投资区分开来。然而，在非遍历的世界中，尽管正期望是投资的必要条件，但它并不足够。您需要一种资本配置算法，适当地调整您的投资规模，以便在您的投资财富轨迹上不破产，并且有实现财富增长的现实机会。
- en: If you are looking to maximize the growth of your capital, you might want to
    consider the Kelly investment strategy, which outperforms any other capital allocation
    strategy, especially the suboptimal Markowitz’s mean-variance investment strategy.
    The Kelly criterion investment strategy has been used by the most successful investors
    of all time, including Warren Buffet, Ed Thorp, and James Simons. It is a travesty
    that the Kelly criterion is not taught in academia or professional programs. However,
    the Kelly formula is not a silver bullet and is hard to implement in a nonstationary
    world. That’s why most practitioners like me use fractional Kelly trading strategies
    to avoid overbetting and the risk of ruin.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望最大化资本的增长，您可能希望考虑凯利投资策略，这种策略优于任何其他资本配置策略，尤其是次优的马尔科维茨均值-方差投资策略。凯利准则投资策略已被有史以来最成功的投资者使用，包括沃伦·巴菲特、埃德·索普和詹姆斯·西蒙斯。凯利准则不在学术界或专业课程中教授是一种悲剧。然而，凯利公式并非灵丹妙药，在非平稳世界中实施起来很困难。这就是为什么像我这样的大多数从业者使用分数凯利交易策略来避免过度投注和破产风险。
- en: Unfortunately, there are no easy formulas or algorithms for success in trading,
    investing, and finance that can be encoded in any AI system, because markets are
    not stationary ergodic. Symbolic AI and probabilistic machine learning systems
    require human common sense and expertise to separate correlation from causation
    to successfully navigate the aleatory, epistemic, and ontological uncertainties
    produced by creative, emotional, and free-willed market participants. Now that
    is a generative ensemble that can almost surely put the odds in your favor.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，对于在交易、投资和金融中获得成功而言，没有任何可以编码在任何AI系统中的简易公式或算法，因为市场不是静态的遗传群体。符号AI和概率机器学习系统需要人类的常识和专业知识，以区分相关性和因果关系，从而成功地应对由市场参与者的创造性、情感和自由意志产生的变量性、认知性和本体论性不确定性。现在这是一个几乎可以肯定地将几率放在你这边的生成整体。
- en: References
  id: totrans-284
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: 'Bhide, A. V. “Compulsive Gambling in Ancient Indian Texts.” *Indian Journal
    of Psychiatry* 49, no. 4 (2007): 294–95.'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 'Bhide, A. V. “Compulsive Gambling in Ancient Indian Texts.” *Indian Journal
    of Psychiatry* 49, no. 4 (2007): 294–95.'
- en: 'Bower, Bruce “Simple Heresy: Rules of Thumb Challenge Complex Financial Analyses.”
    *Science News* 179, no. 12 (2011): 26–29.'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 'Bower, Bruce “Simple Heresy: Rules of Thumb Challenge Complex Financial Analyses.”
    *Science News* 179, no. 12 (2011): 26–29.'
- en: 'DeMiguel, Victor, Lorenzo Garlappi, and Raman Uppal. “Optimal Versus Naïve
    Diversification: How Inefficient is the 1/N Portfolio Strategy?” *Review of Financial
    Studies* 22, no. 5 (2009): 1915–53.'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 'DeMiguel, Victor, Lorenzo Garlappi, and Raman Uppal. “Optimal Versus Naïve
    Diversification: How Inefficient is the 1/N Portfolio Strategy?” *Review of Financial
    Studies* 22, no. 5 (2009): 1915–53.'
- en: Karasan, Abdullah. *Machine Learning for Financial Risk Management with Python*.
    O’Reilly Media, 2021.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: Karasan, Abdullah. *Machine Learning for Financial Risk Management with Python*.
    O’Reilly Media, 2021.
- en: 'Kelly Jr., J. L. “A New Interpretation of Information Rate.” *The Bell System
    Technical Journal* 35, no. 4 (1956): 917–26.'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 'Kelly Jr., J. L. “A New Interpretation of Information Rate.” *The Bell System
    Technical Journal* 35, no. 4 (1956): 917–26.'
- en: 'MacLean, L. C., E. O. Thorp, and W. T. Ziemba. “Long-Term Capital Growth: Good
    and Bad Properties of the Kelly Criterion.” *Quantitative Finance* 10, no. 7 (2010):
    681–687.'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 'MacLean, L. C., E. O. Thorp, and W. T. Ziemba. “Long-Term Capital Growth: Good
    and Bad Properties of the Kelly Criterion.” *Quantitative Finance* 10, no. 7 (2010):
    681–687.'
- en: 'MacLean, L. C., E. O. Thorp, and W. T. Ziemba. “Medium Term Simulations of
    the Full Kelly and Fractional Kelly Investment Strategies.” In *The Kelly Capital
    Growth Investment Criterion: Theory and Practice*, edited by L. C. MacLean, E.
    O. Thorp, and W. T. Ziemba, 543–61 (Hackensack, NJ: World Scientific Publishing
    Company, 2011).'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 'MacLean, L. C., E. O. Thorp, and W. T. Ziemba. “Medium Term Simulations of
    the Full Kelly and Fractional Kelly Investment Strategies.” 在*The Kelly Capital
    Growth Investment Criterion: Theory and Practice*，由L. C. MacLean, E. O. Thorp,
    and W. T. Ziemba 编辑，543–61 (Hackensack, NJ: World Scientific Publishing Company,
    2011).'
- en: 'Peters, Ole. “The Ergodicity Problem in Economics.” *Nature Physics* 15 (2019):
    1216–21.'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 'Peters, Ole. “The Ergodicity Problem in Economics.” *Nature Physics* 15 (2019):
    1216–21.'
- en: Peters, Ole, and A. Adamou. “The Time Interpretation of Expected Utility Theory.”
    [arXiv.org](http://arXiv.org), February 28, 2021\. [*https://arxiv.org/abs/1801.03680*](https://arxiv.org/abs/1801.03680).
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: Peters, Ole, and A. Adamou. “The Time Interpretation of Expected Utility Theory.”
    [arXiv.org](http://arXiv.org), February 28, 2021\. [*https://arxiv.org/abs/1801.03680*](https://arxiv.org/abs/1801.03680).
- en: Peters, Ole, and Murray Gell-Mann. “Evaluating Gambles Using Dynamics,” [arXiv.org](http://arXiv.org),
    June 5, 2015\. [*https://arxiv.org/abs/1405.0585*](https://arxiv.org/abs/1405.0585).
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: Peters, Ole, and Murray Gell-Mann. “Evaluating Gambles Using Dynamics,” [arXiv.org](http://arXiv.org),
    June 5, 2015\. [*https://arxiv.org/abs/1405.0585*](https://arxiv.org/abs/1405.0585).
- en: 'Poundstone, William. *Fortune’s Formula: The Untold Story of the Scientific
    Betting System That Beat the Casinos and Wall Street*. New York: Hill and Wang,
    2006.'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 'Poundstone, William. *Fortune’s Formula: The Untold Story of the Scientific
    Betting System That Beat the Casinos and Wall Street*. New York: Hill and Wang,
    2006.'
- en: 'Robert, Christian P. *The Bayesian Choice: From Decision-Theoretic Foundations
    to Computational Implementation*. New York: Springer Science+Business Media, 2007.'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 'Robert, Christian P. *The Bayesian Choice: From Decision-Theoretic Foundations
    to Computational Implementation*. New York: Springer Science+Business Media, 2007.'
- en: 'Thorp, Edward O. *A Man for All Markets: From Las Vegas to Wall Street, How
    I Beat the Dealer and the Market*. New York: Random House, 2017.'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 'Thorp, Edward O. *A Man for All Markets: From Las Vegas to Wall Street, How
    I Beat the Dealer and the Market*. New York: Random House, 2017.'
- en: Further Reading
  id: totrans-298
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'MacLean, L.C., E. O. Thorp, and W. T. Ziemba (eds.). *The Kelly Capital Growth
    Investment Criterion: Theory and Practice*. World Scientific Publishing Company,
    2011.'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 'MacLean, L.C., E. O. Thorp, and W. T. Ziemba (eds.). *The Kelly Capital Growth
    Investment Criterion: Theory and Practice*. World Scientific Publishing Company,
    2011.'
- en: '^([1](ch08.html#ch08fn1-marker)) Christian P. Robert, *The Bayesian Choice:
    From Decision-Theoretic Foundations to Computational Implementation* (New York:
    Springer Science+Business Media, 2007).'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch08.html#ch08fn1-marker)) Christian P. Robert，《贝叶斯选择：从决策理论基础到计算实施》（纽约：斯普林格科学+商业媒体，2007）。
- en: ^([2](ch08.html#ch08fn2-marker)) Abdullah Karasan, *Machine Learning for Financial
    Risk Management with Python* (O’Reilly Media, 2021).
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](ch08.html#ch08fn2-marker)) Abdullah Karasan，《Python 金融风险管理中的机器学习》（O’Reilly
    Media, 2021）。
- en: '^([3](ch08.html#ch08fn3-marker)) Ole Peters, “The Ergodicity Problem in Economics,”
    *Nature Physics* 15 (2019): 1216–1221; Ole Peters and A. Adamou, “The Time Interpretation
    of Expected Utility Theory,” [arXiv.org](http://arXiv.org), February 28, 2021,
    [*https://arxiv.org/abs/1801.03680*](https://arxiv.org/abs/1801.03680).'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: ^([3](ch08.html#ch08fn3-marker)) Ole Peters，《经济学中的遍历性问题》，*自然物理学* 15（2019年）：1216–1221；Ole
    Peters 和 A. Adamou，《预期效用理论的时间解释》，[arXiv.org](http://arXiv.org)，2021年2月28日，[*https://arxiv.org/abs/1801.03680*](https://arxiv.org/abs/1801.03680)。
- en: ^([4](ch08.html#ch08fn4-marker)) Adapted from an image on Wikimedia Commons.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: ^([4](ch08.html#ch08fn4-marker)) 自Wikimedia Commons的一幅图像改编。
- en: '^([5](ch08.html#ch08fn5-marker)) A. V. Bhide, “Compulsive Gambling in Ancient
    Indian Texts,” *Indian Journal of Psychiatry* 49, no. 4 (2007): 294–95.'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: ^([5](ch08.html#ch08fn5-marker)) A.V. Bhide，《古代印度文本中的强迫赌博》，*印度精神病学杂志* 49, no.
    4（2007）：294–95。
- en: ^([6](ch08.html#ch08fn6-marker)) Ole Peters and Murray Gell-Mann, “Evaluating
    Gambles Using Dynamics,” [arXiv.org](http://arXiv.org), June 5, 2015, [*https://arxiv.org/abs/1405.0585*](https://arxiv.org/abs/1405.0585).
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: ^([6](ch08.html#ch08fn6-marker)) Ole Peters 和 Murray Gell-Mann，《使用动力学评估赌注》，[arXiv.org](http://arXiv.org)，2015年6月5日，[*https://arxiv.org/abs/1405.0585*](https://arxiv.org/abs/1405.0585)。
- en: '^([7](ch08.html#ch08fn7-marker)) Edward O. Thorp, *A Man for All Markets: From
    Las Vegas to Wall Street, How I Beat the Dealer and the Market* (New York: Random
    House, 2017).'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: ^([7](ch08.html#ch08fn7-marker)) Edward O. Thorp，《一个适合所有市场的人：从拉斯维加斯到华尔街，我如何击败庄家和市场》（纽约：随机之家，2017）。
- en: '^([8](ch08.html#ch08fn8-marker)) William Poundstone, *Fortune’s Formula: The
    Untold Story of the Scientific Betting System That Beat the Casinos and Wall Street*
    (New York: Hill and Wang, 2006).'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: ^([8](ch08.html#ch08fn8-marker)) William Poundstone，《财富的公式：科学赌博系统打败赌场和华尔街的未被讲述的故事》（纽约：希尔和旺，2006）。
- en: '^([9](ch08.html#ch08fn9-marker)) Bruce Bower, “Simple Heresy: Rules of Thumb
    Challenge Complex Financial Analyses,” *Science News* 179, no. 12 (2011): 26–29.'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: ^([9](ch08.html#ch08fn9-marker)) Bruce Bower，《简单的异端：经验法则挑战复杂的金融分析》，*科学新闻* 179,
    no. 12（2011）：26–29。
- en: '^([10](ch08.html#ch08fn10-marker)) Victor DeMiguel, Lorenzo Garlappi, and Raman
    Uppal, “Optimal Versus Naïve Diversification: How Inefficient is the 1/N Portfolio
    Strategy?” *Review of Financial Studies* 22, no. 5 (2009): 1915–53.'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: ^([10](ch08.html#ch08fn10-marker)) Victor DeMiguel, Lorenzo Garlappi, 和 Raman
    Uppal，《最优与天真的多样化：1/N 投资组合策略有多低效？》，*金融研究评论* 22, no. 5（2009）：1915–53。
- en: ^([11](ch08.html#ch08fn11-marker)) Adapted from an image on Wikimedia Commons.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: ^([11](ch08.html#ch08fn11-marker)) 自Wikimedia Commons的一幅图像改编。
- en: '^([12](ch08.html#ch08fn12-marker)) J. L. Kelly Jr., “A New Interpretation of
    Information Rate,” *The Bell System Technical Journal* 35, no. 4 (1956): 917–26.'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: ^([12](ch08.html#ch08fn12-marker)) J.L. Kelly Jr.，《信息速率的新解释》，*贝尔系统技术期刊* 35,
    no. 4（1956）：917–26。
- en: '^([13](ch08.html#ch08fn13-marker)) L. C. MacLean, E. O. Thorp, and W. T. Ziemba,
    “Long-Term Capital Growth: Good and Bad Properties of the Kelly Criterion,” *Quantitative
    Finance* 10, no. 7 (2010): 681–687.'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: ^([13](ch08.html#ch08fn13-marker)) L.C. MacLean, E.O. Thorp, 和 W.T. Ziemba，《凯利准则的长期资本增长：准则的优缺点》，*量化金融*
    10, no. 7（2010）：681–687。
- en: '^([14](ch08.html#ch08fn14-marker)) L. C. MacLean, E. O. Thorp, Yonggan Zhao,
    and W. T. Ziemba, “Medium Term Simulations of the Full Kelly and Fractional Kelly
    Investment Strategies,” in *The Kelly Capital Growth Investment Criterion: Theory
    and Practice*, eds. L. C. MacLean, E. O. Thorp, and W. T. Ziemba (Hackensack,
    NJ: World Scientific Publishing Company, 2011), 543–61.'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '^([14](ch08.html#ch08fn14-marker)) L.C. MacLean, E.O. Thorp, Yonggan Zhao,
    和 W.T. Ziemba，《完全凯利和分数凯利投资策略的中期模拟》，在*凯利资本增长投资准则：理论与实践*中，eds. L.C. MacLean, E.O.
    Thorp, 和 W.T. Ziemba（Hackensack, NJ: World Scientific Publishing Company, 2011），543–61。'
- en: '^([15](ch08.html#ch08fn15-marker)) *The Kelly Capital Growth Investment Criterion:
    Theory and Practice*, eds. L.C. MacLean, E.O. Thorp, and W.T. Ziemba (Hackensack,
    NJ: World Scientific Publishing Company, 2011).'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '^([15](ch08.html#ch08fn15-marker)) *凯利资本增长投资准则：理论与实践*，eds. L.C. MacLean, E.O.
    Thorp, 和 W.T. Ziemba（Hackensack, NJ: World Scientific Publishing Company, 2011）。'
