<html><head></head><body><section data-pdf-bookmark="Appendix A. Python, NumPy, matplotlib, pandas" data-type="appendix" epub:type="appendix"><div class="appendix" id="python_numpy_pandas">&#13;
<h1><span class="label">Appendix A. </span>Python, NumPy, matplotlib, pandas</h1>&#13;
&#13;
<blockquote>&#13;
<p class="align_me_right">Talk is cheap. Show me the code.</p>&#13;
<p data-type="attribution">Linus Torvalds</p>&#13;
</blockquote>&#13;
&#13;
<p>Python has become a powerful programming language and has developed a vast ecosystem of helpful packages over the last couple of years. This appendix provides a concise overview of Python and three of the major pillars of the so-called <a data-primary="data science stack" data-type="indexterm" id="idm45785335550408"/><a data-primary="scientific stack" data-type="indexterm" id="idm45785335549704"/><em>scientific or data science stack</em>:</p>&#13;
&#13;
<ul>&#13;
<li>&#13;
<p><code>NumPy</code> (see <a href="https://numpy.org"><em class="hyperlink">https://numpy.org</em></a>)</p>&#13;
</li>&#13;
<li>&#13;
<p><code>matplotlib</code> (see <a href="https://matplotlib.org"><em class="hyperlink">https://matplotlib.org</em></a>)</p>&#13;
</li>&#13;
<li>&#13;
<p><code>pandas</code> (see <a href="https://pandas.pydata.org"><em class="hyperlink">https://pandas.pydata.org</em></a>)</p>&#13;
</li>&#13;
</ul>&#13;
&#13;
<p><code>NumPy</code> provides performant array operations on large, homogeneous numerical data sets while <code>pandas</code> is primarily designed to handle tabular data, such as financial time series data, efficiently.</p>&#13;
&#13;
<p>Such an introductory appendix—only addressing selected topics relevant to the rest of the contents of this book—cannot, of course, replace a thorough introduction to Python and the packages covered. However, if you are rather new to Python or programming in general you might get a first overview and a feeling of what Python is all about. If you are already experienced in another language typically used in quantitative finance (such as Matlab, R, C++, or VBA), you see what typical data structures, programming paradigms, and idioms in Python look like.</p>&#13;
&#13;
<p>For a comprehensive overview of Python applied to finance see, Hilpisch (2018). Other, more general introductions to the language with a scientific and data analysis focus are VanderPlas (2017) and McKinney (2017).</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Python Basics" data-type="sect1"><div class="sect1" id="idm45785335538216">&#13;
<h1>Python Basics</h1>&#13;
&#13;
<p>This section introduces basic Python data types and structures, control structures, and some Python idioms.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Data Types" data-type="sect2"><div class="sect2" id="idm45785335536392">&#13;
<h2>Data Types</h2>&#13;
&#13;
<p><a data-primary="Python (generally)" data-secondary="data types" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc0"/>It is noteworthy that Python is generally a <em>dynamically typed system</em>, which means that types of objects are inferred from their contexts. <a data-primary="numbers, data typing of" data-type="indexterm" id="idm45785335532648"/>Let us start with numbers:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">=</code><code> </code><code class="mi">3</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO1-1" id="co_python__numpy__matplotlib__pandas_CO1-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO1-2" id="co_python__numpy__matplotlib__pandas_CO1-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">int</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code class="o">.</code><code class="n">bit_length</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO1-3" id="co_python__numpy__matplotlib__pandas_CO1-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">4</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code> </code><code class="o">=</code><code> </code><code class="mf">5.</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO1-4" id="co_python__numpy__matplotlib__pandas_CO1-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">5</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">b</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">5</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">float</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO1-1" id="callout_python__numpy__matplotlib__pandas_CO1-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Assigns the variable name <code>a</code> an integer value of 3.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO1-2" id="callout_python__numpy__matplotlib__pandas_CO1-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Looks up the type of <code>a</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO1-3" id="callout_python__numpy__matplotlib__pandas_CO1-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Looks up the number of bits used to store the integer value.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO1-4" id="callout_python__numpy__matplotlib__pandas_CO1-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Assigns the variable name <code>b</code> a floating point value of 5.0.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Python can handle arbitrarily large integers, which is quite beneficial for number theoretical applications, for instance:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">6</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">c</code><code> </code><code class="o">=</code><code> </code><code class="mi">10</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">100</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO2-1" id="co_python__numpy__matplotlib__pandas_CO2-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">c</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">7</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">100000000000000000000000000000000000000000000000000000000000000000000000</code><code>&#13;
</code><code>        </code><code class="mo">00000000000000000000000000000</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">c</code><code class="o">.</code><code class="n">bit_length</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO2-2" id="co_python__numpy__matplotlib__pandas_CO2-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">8</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">333</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO2-1" id="callout_python__numpy__matplotlib__pandas_CO2-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Assigns a “huge” integer value.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO2-2" id="callout_python__numpy__matplotlib__pandas_CO2-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Shows the number of bits used for the integer representation.</p></dd>&#13;
</dl>&#13;
&#13;
<p class="pagebreak-before"><a data-primary="arithmetic operations" data-type="indexterm" id="idm45785335311992"/>Arithmetic operations on these objects work as expected:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">9</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">3</code><code> </code><code class="o">/</code><code> </code><code class="mf">5.</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO3-1" id="co_python__numpy__matplotlib__pandas_CO3-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">9</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">0.6</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">*</code><code> </code><code class="n">b</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO3-2" id="co_python__numpy__matplotlib__pandas_CO3-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">10</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">15.0</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">-</code><code> </code><code class="n">b</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO3-3" id="co_python__numpy__matplotlib__pandas_CO3-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">11</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">-</code><code class="mf">2.0</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">12</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code> </code><code class="o">+</code><code> </code><code class="n">a</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO3-4" id="co_python__numpy__matplotlib__pandas_CO3-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">12</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">8.0</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">13</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="n">b</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO3-5" id="co_python__numpy__matplotlib__pandas_CO3-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">13</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">243.0</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO3-1" id="callout_python__numpy__matplotlib__pandas_CO3-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Division.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO3-2" id="callout_python__numpy__matplotlib__pandas_CO3-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Multiplication.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO3-3" id="callout_python__numpy__matplotlib__pandas_CO3-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Addition.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO3-4" id="callout_python__numpy__matplotlib__pandas_CO3-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Difference.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO3-5" id="callout_python__numpy__matplotlib__pandas_CO3-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Power.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="math module" data-type="indexterm" id="idm45785333548056"/><a data-primary="mathematical functions" data-type="indexterm" id="idm45785333509832"/>Many commonly used mathematical functions are found in the <code>math</code> module, which is part of Python’s standard library:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">14</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">math</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO4-1" id="co_python__numpy__matplotlib__pandas_CO4-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">log</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO4-2" id="co_python__numpy__matplotlib__pandas_CO4-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">15</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">1.0986122886681098</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">16</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">exp</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO4-3" id="co_python__numpy__matplotlib__pandas_CO4-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">16</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">20.085536923187668</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">17</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">sin</code><code class="p">(</code><code class="n">b</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO4-4" id="co_python__numpy__matplotlib__pandas_CO4-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">17</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">-</code><code class="mf">0.9589242746631385</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO4-1" id="callout_python__numpy__matplotlib__pandas_CO4-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Imports the <code>math</code> module from the standard library.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO4-2" id="callout_python__numpy__matplotlib__pandas_CO4-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Calculates the natural logarithm.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO4-3" id="callout_python__numpy__matplotlib__pandas_CO4-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Calculates the exponential value.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO4-4" id="callout_python__numpy__matplotlib__pandas_CO4-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Calculates the sine value.</p></dd>&#13;
</dl>&#13;
&#13;
<p class="pagebreak-before"><a data-primary="string objects (str)" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc1"/>Another important basic data type is the string object (<code>str</code>):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">18</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">s</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">Python for Algorithmic Trading.</code><code class="s1">'</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO5-1" id="co_python__numpy__matplotlib__pandas_CO5-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">19</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">s</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">19</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">str</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">20</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">s</code><code class="o">.</code><code class="n">lower</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO5-2" id="co_python__numpy__matplotlib__pandas_CO5-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">20</code><code class="p">]</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">python for algorithmic trading.</code><code class="s1">'</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">21</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">s</code><code class="o">.</code><code class="n">upper</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO5-3" id="co_python__numpy__matplotlib__pandas_CO5-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">21</code><code class="p">]</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">PYTHON FOR ALGORITHMIC TRADING.</code><code class="s1">'</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">22</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">s</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">6</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO5-4" id="co_python__numpy__matplotlib__pandas_CO5-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">22</code><code class="p">]</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Python</code><code class="s1">'</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO5-1" id="callout_python__numpy__matplotlib__pandas_CO5-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Assigns a <code>str</code> object to the variable name <code>s</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO5-2" id="callout_python__numpy__matplotlib__pandas_CO5-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Transforms all characters to lowercase.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO5-3" id="callout_python__numpy__matplotlib__pandas_CO5-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Transforms all characters to uppercase.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO5-4" id="callout_python__numpy__matplotlib__pandas_CO5-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Selects the first six characters.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="addition (+) operator" data-type="indexterm" id="idm45785333294920"/>Such objects can also be combined using the <code>+</code> operator. The index value –1 represents the last character of a string (or last element of a sequence in general):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">23</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">st</code><code> </code><code class="o">=</code><code> </code><code class="n">s</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">6</code><code class="p">]</code><code> </code><code class="o">+</code><code> </code><code class="n">s</code><code class="p">[</code><code class="o">-</code><code class="mi">9</code><code class="p">:</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO6-1" id="co_python__numpy__matplotlib__pandas_CO6-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">24</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">st</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO6-2" id="co_python__numpy__matplotlib__pandas_CO6-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>         </code><code class="n">Python</code><code> </code><code class="n">Trading</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO6-1" id="callout_python__numpy__matplotlib__pandas_CO6-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Combines sub-sets of the <code>str</code> object to a new one.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO6-2" id="callout_python__numpy__matplotlib__pandas_CO6-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Prints out the result.</p></dd>&#13;
</dl>&#13;
&#13;
<p>String replacements are often used to parametrize text output:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">25</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">repl</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">My name is </code><code class="si">%s</code><code class="s1">, I am </code><code class="si">%d</code><code class="s1"> years old and </code><code class="si">%4.2f</code><code class="s1"> m tall.</code><code class="s1">'</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO7-1" id="co_python__numpy__matplotlib__pandas_CO7-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">26</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">repl</code><code> </code><code class="o">%</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">Gordon Gekko</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">43</code><code class="p">,</code><code> </code><code class="mf">1.78</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO7-2" id="co_python__numpy__matplotlib__pandas_CO7-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>         </code><code class="n">My</code><code> </code><code class="n">name</code><code> </code><code class="ow">is</code><code> </code><code class="n">Gordon</code><code> </code><code class="n">Gekko</code><code class="p">,</code><code> </code><code class="n">I</code><code> </code><code class="n">am</code><code> </code><code class="mi">43</code><code> </code><code class="n">years</code><code> </code><code class="n">old</code><code> </code><code class="ow">and</code><code> </code><code class="mf">1.78</code><code> </code><code class="n">m</code><code> </code><code class="n">tall</code><code class="o">.</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">27</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">repl</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">My name is {:s}, I am {:d} years old and {:4.2f} m tall.</code><code class="s1">'</code><code> </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO7-3" id="co_python__numpy__matplotlib__pandas_CO7-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">28</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">repl</code><code class="o">.</code><code class="n">format</code><code class="p">(</code><code class="s1">'</code><code class="s1">Gordon Gekko</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">43</code><code class="p">,</code><code> </code><code class="mf">1.78</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO7-4" id="co_python__numpy__matplotlib__pandas_CO7-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>         </code><code class="n">My</code><code> </code><code class="n">name</code><code> </code><code class="ow">is</code><code> </code><code class="n">Gordon</code><code> </code><code class="n">Gekko</code><code class="p">,</code><code> </code><code class="n">I</code><code> </code><code class="n">am</code><code> </code><code class="mi">43</code><code> </code><code class="n">years</code><code> </code><code class="n">old</code><code> </code><code class="ow">and</code><code> </code><code class="mf">1.78</code><code> </code><code class="n">m</code><code> </code><code class="n">tall</code><code class="o">.</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">29</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">name</code><code class="p">,</code><code> </code><code class="n">age</code><code class="p">,</code><code> </code><code class="n">height</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">Gordon Gekko</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">43</code><code class="p">,</code><code> </code><code class="mf">1.78</code><code> </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO7-5" id="co_python__numpy__matplotlib__pandas_CO7-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">30</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">f</code><code class="s1">'</code><code class="s1">My name is {name:s}, I am {age:d} years old and </code><code class="se">\&#13;
</code><code class="s1">                {height:4.2f}m tall.</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO7-6" id="co_python__numpy__matplotlib__pandas_CO7-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>         </code><code class="n">My</code><code> </code><code class="n">name</code><code> </code><code class="ow">is</code><code> </code><code class="n">Gordon</code><code> </code><code class="n">Gekko</code><code class="p">,</code><code> </code><code class="n">I</code><code> </code><code class="n">am</code><code> </code><code class="mi">43</code><code> </code><code class="n">years</code><code> </code><code class="n">old</code><code> </code><code class="ow">and</code><code> </code><code class="mf">1.78</code><code class="n">m</code><code> </code><code class="n">tall</code><code class="o">.</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO7-1" id="callout_python__numpy__matplotlib__pandas_CO7-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Defines a string template the “old” way.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO7-2" id="callout_python__numpy__matplotlib__pandas_CO7-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Prints the template with the values replaced the “old” way.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO7-3" id="callout_python__numpy__matplotlib__pandas_CO7-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Defines a string template the “new” way.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO7-4" id="callout_python__numpy__matplotlib__pandas_CO7-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Prints the template with the values replaced the “new” way.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO7-5" id="callout_python__numpy__matplotlib__pandas_CO7-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Defines variables for later usage during replacement.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO7-6" id="callout_python__numpy__matplotlib__pandas_CO7-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Makes use of a so-called <em>f-string</em> for string replacement (introduced in Python 3.6)<a data-startref="ix_A_python_numpy_pandas_-asciidoc1" data-type="indexterm" id="idm45785332911624"/>.<a data-startref="ix_A_python_numpy_pandas_-asciidoc0" data-type="indexterm" id="idm45785332910888"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Data Structures" data-type="sect2"><div class="sect2" id="idm45785332967464">&#13;
<h2>Data Structures</h2>&#13;
&#13;
<p><a data-primary="data structures" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc2"/><a data-primary="Python (generally)" data-secondary="data structures" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc3"/><code>tuple</code> <a data-primary="tuple objects" data-type="indexterm" id="idm45785332907112"/>objects are light weight data structures. These are immutable collections of other objects and are constructed by objects separated by commas—with or without parentheses:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">31</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t1</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="n">a</code><code class="p">,</code><code> </code><code class="n">b</code><code class="p">,</code><code> </code><code class="n">st</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO8-1" id="co_python__numpy__matplotlib__pandas_CO8-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">32</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t1</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO8-2" id="co_python__numpy__matplotlib__pandas_CO8-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">32</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">(</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">33</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">t1</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">33</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">tuple</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">34</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t2</code><code> </code><code class="o">=</code><code> </code><code class="n">st</code><code class="p">,</code><code> </code><code class="n">b</code><code class="p">,</code><code> </code><code class="n">a</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO8-3" id="co_python__numpy__matplotlib__pandas_CO8-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">35</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t2</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">35</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">36</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">t2</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">36</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">tuple</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO8-1" id="callout_python__numpy__matplotlib__pandas_CO8-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Constructs a <code>tuple</code> object with parentheses.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO8-2" id="callout_python__numpy__matplotlib__pandas_CO8-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Prints out the <code>str</code> representation.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO8-3" id="callout_python__numpy__matplotlib__pandas_CO8-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Constructs a <code>tuple</code> object without parentheses.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="nested structures" data-type="indexterm" id="idm45785332786248"/>Nested structures are also possible:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">37</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="n">t1</code><code class="p">,</code><code> </code><code class="n">t2</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO9-1" id="co_python__numpy__matplotlib__pandas_CO9-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">38</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">38</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">(</code><code class="p">(</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">39</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">t</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO9-2" id="co_python__numpy__matplotlib__pandas_CO9-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">39</code><code class="p">]</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO9-1" id="callout_python__numpy__matplotlib__pandas_CO9-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Constructs a <code>tuple</code> object out of two others.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO9-2" id="callout_python__numpy__matplotlib__pandas_CO9-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Accesses the third element of the first object.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="list objects" data-type="indexterm" id="idm45785332658776"/><code>list</code> objects are mutable collections of other objects and are generally constructed by providing a comma-separated collection of objects in brackets:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">40</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="n">a</code><code class="p">,</code><code> </code><code class="n">b</code><code class="p">,</code><code> </code><code class="n">st</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO10-1" id="co_python__numpy__matplotlib__pandas_CO10-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">41</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">41</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">]</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">42</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">l</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">42</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">list</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">43</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code class="o">.</code><code class="n">append</code><code class="p">(</code><code class="n">s</code><code class="o">.</code><code class="n">split</code><code class="p">(</code><code class="p">)</code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO10-2" id="co_python__numpy__matplotlib__pandas_CO10-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">44</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">44</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Trading.</code><code class="s1">'</code><code class="p">]</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO10-1" id="callout_python__numpy__matplotlib__pandas_CO10-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Generates a <code>list</code> object using brackets.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO10-2" id="callout_python__numpy__matplotlib__pandas_CO10-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Appends a new element (final word of <code>s</code>) to the <code>list</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="list constructor" data-type="indexterm" id="idm45785332513528"/><a data-primary="sorting list objects" data-type="indexterm" id="idm45785332512824"/>Sorting is a typical operation on <code>list</code> objects, which can also be constructed using the <code>list</code> constructor (here applied to a tuple object):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">45</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code> </code><code class="o">=</code><code> </code><code class="nb">list</code><code class="p">(</code><code class="p">(</code><code class="s1">'</code><code class="s1">Z</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Q</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">D</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">J</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">H</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">5.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO11-1" id="co_python__numpy__matplotlib__pandas_CO11-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">46</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">46</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="s1">'</code><code class="s1">Z</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Q</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">D</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">J</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">H</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">5.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">]</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">47</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code class="o">.</code><code class="n">sort</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO11-2" id="co_python__numpy__matplotlib__pandas_CO11-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">48</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">48</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="s1">'</code><code class="s1">5.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">D</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">H</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">J</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Q</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Z</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">]</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO11-1" id="callout_python__numpy__matplotlib__pandas_CO11-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Creates a <code>list</code> object from a <code>tuple</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO11-2" id="callout_python__numpy__matplotlib__pandas_CO11-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Sorts all elements in-place (that is, changes the object itself).</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="dictionary (dict) objects" data-type="indexterm" id="idm45785332320392"/><a data-primary="key-value stores" data-type="indexterm" id="idm45785332319720"/>Dictionary (<code>dict</code>) objects are so-called key-value stores and are generally constructed with curly brackets:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">49</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code> </code><code class="o">=</code><code> </code><code class="p">{</code><code class="s1">'</code><code class="s1">int_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="n">a</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">float_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="n">b</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">string_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="n">st</code><code class="p">}</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO12-1" id="co_python__numpy__matplotlib__pandas_CO12-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">50</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">d</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">50</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">dict</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">51</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">51</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">{</code><code class="s1">'</code><code class="s1">int_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">float_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">string_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">}</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">52</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code class="p">[</code><code class="s1">'</code><code class="s1">float_obj</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO12-2" id="co_python__numpy__matplotlib__pandas_CO12-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">52</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">5.0</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">53</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code class="p">[</code><code class="s1">'</code><code class="s1">int_obj_long</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">10</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">20</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO12-3" id="co_python__numpy__matplotlib__pandas_CO12-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">54</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">54</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">{</code><code class="s1">'</code><code class="s1">int_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">3</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="s1">'</code><code class="s1">float_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="s1">'</code><code class="s1">string_obj</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="s1">'</code><code class="s1">int_obj_long</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">100000000000000000000</code><code class="p">}</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">55</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code class="o">.</code><code class="n">keys</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO12-4" id="co_python__numpy__matplotlib__pandas_CO12-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">55</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">dict_keys</code><code class="p">(</code><code class="p">[</code><code class="s1">'</code><code class="s1">int_obj</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">float_obj</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">string_obj</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">int_obj_long</code><code class="s1">'</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">56</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">d</code><code class="o">.</code><code class="n">values</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO12-5" id="co_python__numpy__matplotlib__pandas_CO12-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">56</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">dict_values</code><code class="p">(</code><code class="p">[</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mf">5.0</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">100000000000000000000</code><code class="p">]</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO12-1" id="callout_python__numpy__matplotlib__pandas_CO12-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Creates a <code>dict</code> object using curly brackets and key-value pairs.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO12-2" id="callout_python__numpy__matplotlib__pandas_CO12-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Accesses the value given a key.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO12-3" id="callout_python__numpy__matplotlib__pandas_CO12-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Adds a new key-value pair.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO12-4" id="callout_python__numpy__matplotlib__pandas_CO12-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Selects and shows all keys.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO12-5" id="callout_python__numpy__matplotlib__pandas_CO12-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Selects and shows all values.<a data-startref="ix_A_python_numpy_pandas_-asciidoc3" data-type="indexterm" id="idm45785332013096"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc2" data-type="indexterm" id="idm45785332012424"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Control Structures" data-type="sect2"><div class="sect2" id="idm45785331985640">&#13;
<h2>Control Structures</h2>&#13;
&#13;
<p><a data-primary="control structures" data-type="indexterm" id="idm45785332010744"/><a data-primary="iterations" data-type="indexterm" id="idm45785331942792"/><a data-primary="Python (generally)" data-secondary="control structures" data-type="indexterm" id="idm45785331942184"/>Iterations are very important operations in programming in general and financial analytics in particular. Many Python objects are iterable, which proves rather convenient in many circumstances. <a data-primary="range (iterator object)" data-type="indexterm" id="idm45785331941000"/>Consider the special iterator object <code>range</code>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">57</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO13-1" id="co_python__numpy__matplotlib__pandas_CO13-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">57</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">58</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">15</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO13-2" id="co_python__numpy__matplotlib__pandas_CO13-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">58</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">15</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">59</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO13-3" id="co_python__numpy__matplotlib__pandas_CO13-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>             </code><code class="k">print</code><code class="p">(</code><code class="n">i</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">end</code><code class="o">=</code><code class="s1">'</code><code class="s1"> </code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO13-4" id="co_python__numpy__matplotlib__pandas_CO13-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>         </code><code class="mi">0</code><code> </code><code class="mi">1</code><code> </code><code class="mi">4</code><code> </code><code class="mi">9</code><code> </code><code class="mi">16</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">60</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">15</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>             </code><code class="k">print</code><code class="p">(</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">end</code><code class="o">=</code><code class="s1">'</code><code class="s1"> </code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="mi">3</code><code> </code><code class="mi">5</code><code> </code><code class="mi">7</code><code> </code><code class="mi">9</code><code> </code><code class="mi">11</code><code> </code><code class="mi">13</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">61</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">l</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">b</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">c</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">d</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">e</code><code class="s1">'</code><code class="p">]</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">62</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">for</code><code> </code><code class="n">_</code><code> </code><code class="ow">in</code><code> </code><code class="n">l</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO13-5" id="co_python__numpy__matplotlib__pandas_CO13-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>             </code><code class="k">print</code><code class="p">(</code><code class="n">_</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">a</code><code>&#13;
</code><code>         </code><code class="n">b</code><code>&#13;
</code><code>         </code><code class="n">c</code><code>&#13;
</code><code>         </code><code class="n">d</code><code>&#13;
</code><code>         </code><code class="n">e</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">63</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">s</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">Python Trading</code><code class="s1">'</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">64</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">for</code><code> </code><code class="n">c</code><code> </code><code class="ow">in</code><code> </code><code class="n">s</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO13-6" id="co_python__numpy__matplotlib__pandas_CO13-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>             </code><code class="k">print</code><code class="p">(</code><code class="n">c</code><code> </code><code class="o">+</code><code> </code><code class="s1">'</code><code class="s1">|</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">end</code><code class="o">=</code><code class="s1">'</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>         </code><code class="n">P</code><code class="o">|</code><code class="n">y</code><code class="o">|</code><code class="n">t</code><code class="o">|</code><code class="n">h</code><code class="o">|</code><code class="n">o</code><code class="o">|</code><code class="n">n</code><code class="o">|</code><code> </code><code class="o">|</code><code class="n">T</code><code class="o">|</code><code class="n">r</code><code class="o">|</code><code class="n">a</code><code class="o">|</code><code class="n">d</code><code class="o">|</code><code class="n">i</code><code class="o">|</code><code class="n">n</code><code class="o">|</code><code class="n">g</code><code class="o">|</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO13-1" id="callout_python__numpy__matplotlib__pandas_CO13-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>` object given a single parameter (end value + 1).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO13-2" id="callout_python__numpy__matplotlib__pandas_CO13-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Creates a <code>range</code> object with <code>start</code>, <code>end</code>, and <code>step</code> parameter values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO13-3" id="callout_python__numpy__matplotlib__pandas_CO13-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Iterates over a <code>range</code> object and prints the squared values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO13-4" id="callout_python__numpy__matplotlib__pandas_CO13-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Iterates over a <code>range</code> object using <code>start, end</code>, and <code>step</code> parameters.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO13-5" id="callout_python__numpy__matplotlib__pandas_CO13-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Iterates over a <code>list</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO13-6" id="callout_python__numpy__matplotlib__pandas_CO13-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Iterates over a <code>str</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="while loops" data-type="indexterm" id="idm45785331602184"/><code>while</code> loops are similar to their counterparts in other languages:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">65</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">i</code><code> </code><code class="o">=</code><code> </code><code class="mi">0</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO14-1" id="co_python__numpy__matplotlib__pandas_CO14-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">66</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">while</code><code> </code><code class="n">i</code><code> </code><code class="o">&lt;</code><code> </code><code class="mi">5</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO14-2" id="co_python__numpy__matplotlib__pandas_CO14-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>             </code><code class="k">print</code><code class="p">(</code><code class="n">i</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mf">0.5</code><code class="p">,</code><code> </code><code class="n">end</code><code class="o">=</code><code class="s1">'</code><code class="s1"> </code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO14-3" id="co_python__numpy__matplotlib__pandas_CO14-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>             </code><code class="n">i</code><code> </code><code class="o">+</code><code class="o">=</code><code> </code><code class="mi">1</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO14-4" id="co_python__numpy__matplotlib__pandas_CO14-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>         </code><code class="mf">0.0</code><code> </code><code class="mf">1.0</code><code> </code><code class="mf">1.4142135623730951</code><code> </code><code class="mf">1.7320508075688772</code><code> </code><code class="mf">2.0</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO14-1" id="callout_python__numpy__matplotlib__pandas_CO14-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Sets the counter value to 0.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO14-2" id="callout_python__numpy__matplotlib__pandas_CO14-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>As long as the value of <code>i</code> is smaller than 5…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO14-3" id="callout_python__numpy__matplotlib__pandas_CO14-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>…print the square root of <code>i</code> and…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO14-4" id="callout_python__numpy__matplotlib__pandas_CO14-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>…increase the value of <code>i</code> by 1.</p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Python Idioms" data-type="sect2"><div class="sect2" id="idm45785331483144">&#13;
<h2>Python Idioms</h2>&#13;
&#13;
<p><a data-primary="Python (generally)" data-secondary="idioms" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc4"/>Python in many places relies on a number of special idioms. <a data-primary="list comprehension" data-type="indexterm" id="idm45785331480728"/>Let us start with a rather popular one, the <em>list comprehension</em>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">67</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">lc</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">2</code><code> </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO15-1" id="co_python__numpy__matplotlib__pandas_CO15-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">68</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">lc</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">68</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">9</code><code class="p">,</code><code> </code><code class="mi">16</code><code class="p">,</code><code> </code><code class="mi">25</code><code class="p">,</code><code> </code><code class="mi">36</code><code class="p">,</code><code> </code><code class="mi">49</code><code class="p">,</code><code> </code><code class="mi">64</code><code class="p">,</code><code> </code><code class="mi">81</code><code class="p">]</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">69</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">type</code><code class="p">(</code><code class="n">lc</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">69</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">list</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO15-1" id="callout_python__numpy__matplotlib__pandas_CO15-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Creates a new <code>list</code> object based on the <em>list comprehension</em> syntax (<code>for</code> loop in brackets).</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="anonymous functions" data-type="indexterm" id="idm45785331389576"/><a data-primary="lambda functions" data-type="indexterm" id="idm45785331388872"/>So-called <em>lambda</em> or <em>anonymous functions</em> are useful helpers in many places:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">70</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">f</code><code> </code><code class="o">=</code><code> </code><code class="k">lambda</code><code> </code><code class="n">x</code><code class="p">:</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">cos</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO16-1" id="co_python__numpy__matplotlib__pandas_CO16-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">71</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">f</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO16-2" id="co_python__numpy__matplotlib__pandas_CO16-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">71</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">0.2836621854632263</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">72</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">list</code><code class="p">(</code><code class="nb">map</code><code class="p">(</code><code class="k">lambda</code><code> </code><code class="n">x</code><code class="p">:</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">cos</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code class="p">,</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO16-3" id="co_python__numpy__matplotlib__pandas_CO16-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">72</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="mf">1.0</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">0.5403023058681398</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="mf">0.4161468365471424</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="mf">0.9899924966004454</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="mf">0.6536436208636119</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">0.2836621854632263</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">0.9601702866503661</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">0.7539022543433046</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="mf">0.14550003380861354</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="mf">0.9111302618846769</code><code class="p">]</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO16-1" id="callout_python__numpy__matplotlib__pandas_CO16-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Defines a new function <code>f</code> via the <code>lambda</code> syntax.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO16-2" id="callout_python__numpy__matplotlib__pandas_CO16-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Evaluates the function <code>f</code> for a value of 5.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO16-3" id="callout_python__numpy__matplotlib__pandas_CO16-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Maps the function <code>f</code> to all elements of the <code>range</code> object and creates a <code>list</code> object with the results, which is printed.</p></dd>&#13;
</dl>&#13;
&#13;
<p>In general, one works with regular Python functions (as opposed to lambda functions), which are constructed as follows:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">73</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">def</code><code> </code><code class="nf">f</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-1" id="co_python__numpy__matplotlib__pandas_CO17-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>             </code><code class="k">return</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">exp</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-2" id="co_python__numpy__matplotlib__pandas_CO17-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">74</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">f</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">74</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">148.4131591025766</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">75</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">def</code><code> </code><code class="nf">f</code><code class="p">(</code><code class="o">*</code><code class="n">args</code><code class="p">)</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-3" id="co_python__numpy__matplotlib__pandas_CO17-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>             </code><code class="k">for</code><code> </code><code class="n">arg</code><code> </code><code class="ow">in</code><code> </code><code class="n">args</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-4" id="co_python__numpy__matplotlib__pandas_CO17-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>                 </code><code class="k">print</code><code class="p">(</code><code class="n">arg</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-5" id="co_python__numpy__matplotlib__pandas_CO17-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>             </code><code class="k">return</code><code> </code><code class="bp">None</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-6" id="co_python__numpy__matplotlib__pandas_CO17-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">76</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">f</code><code class="p">(</code><code class="n">l</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO17-7" id="co_python__numpy__matplotlib__pandas_CO17-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code>         </code><code class="p">[</code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">b</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">c</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">d</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">e</code><code class="s1">'</code><code class="p">]</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-1" id="callout_python__numpy__matplotlib__pandas_CO17-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Regular functions use the <code>def</code> statement for the definition.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-2" id="callout_python__numpy__matplotlib__pandas_CO17-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>With the <code>return</code> statement, one defines what gets returned when the execution/evaluation is successful; multiple <code>return</code> statements are possible (for example, for different cases).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-3" id="callout_python__numpy__matplotlib__pandas_CO17-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p><code>0</code> allows for multiple arguments to be passed as an iterable object (for example, <code>list</code> object).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-4" id="callout_python__numpy__matplotlib__pandas_CO17-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Iterates over the arguments.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-5" id="callout_python__numpy__matplotlib__pandas_CO17-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Does something with every argument: here, printing.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-6" id="callout_python__numpy__matplotlib__pandas_CO17-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Returns something: here, <code>None</code>; not necessary for a valid Python function.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO17-7" id="callout_python__numpy__matplotlib__pandas_CO17-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Passes the <code>list</code> object <code>l</code> to the function <code>f</code>, which interprets it as a list of &#13;
<span class="keep-together">arguments.</span></p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="if-elif-else control structure" data-type="indexterm" id="idm45785331078168"/>Consider the following function definition, which returns different values/strings based on an <code>if-elif-else</code> control structure:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">77</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">random</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-1" id="co_python__numpy__matplotlib__pandas_CO18-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">78</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">=</code><code> </code><code class="n">random</code><code class="o">.</code><code class="n">randint</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">1000</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-2" id="co_python__numpy__matplotlib__pandas_CO18-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">79</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">f</code><code class="s1">'</code><code class="s1">Random number is {a}</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-3" id="co_python__numpy__matplotlib__pandas_CO18-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>         </code><code class="n">Random</code><code> </code><code class="n">number</code><code> </code><code class="ow">is</code><code> </code><code class="mi">188</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">80</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">def</code><code> </code><code class="nf">number_decide</code><code class="p">(</code><code class="n">number</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>             </code><code class="k">if</code><code> </code><code class="n">a</code><code> </code><code class="o">&lt;</code><code> </code><code class="mi">10</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-4" id="co_python__numpy__matplotlib__pandas_CO18-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>                 </code><code class="k">return</code><code> </code><code class="s2">"</code><code class="s2">Number is single digit.</code><code class="s2">"</code><code>&#13;
</code><code>             </code><code class="k">elif</code><code> </code><code class="mi">10</code><code> </code><code class="o">&lt;</code><code class="o">=</code><code> </code><code class="n">a</code><code> </code><code class="o">&lt;</code><code> </code><code class="mi">100</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-5" id="co_python__numpy__matplotlib__pandas_CO18-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>                 </code><code class="k">return</code><code> </code><code class="s2">"</code><code class="s2">Number is double digit.</code><code class="s2">"</code><code>&#13;
</code><code>             </code><code class="k">else</code><code class="p">:</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-6" id="co_python__numpy__matplotlib__pandas_CO18-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>                 </code><code class="k">return</code><code> </code><code class="s2">"</code><code class="s2">Number is triple digit.</code><code class="s2">"</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">81</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">number_decide</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO18-7" id="co_python__numpy__matplotlib__pandas_CO18-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">81</code><code class="p">]</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Number is triple digit.</code><code class="s1">'</code></pre>&#13;
<dl class="calloutlist pagebreak-before">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-1" id="callout_python__numpy__matplotlib__pandas_CO18-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Imports the <code>random</code> module to draw random numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-2" id="callout_python__numpy__matplotlib__pandas_CO18-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Draws a random integer between 0 and 1,000.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-3" id="callout_python__numpy__matplotlib__pandas_CO18-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Prints the value of the drawn number.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-4" id="callout_python__numpy__matplotlib__pandas_CO18-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Checks for a single digit number, and if <code>False</code>…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-5" id="callout_python__numpy__matplotlib__pandas_CO18-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>…checks for a double digit number; if also <code>False</code>…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-6" id="callout_python__numpy__matplotlib__pandas_CO18-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>…the only case that remains is the triple digit case.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO18-7" id="callout_python__numpy__matplotlib__pandas_CO18-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Calls the function with the random number value <code>a</code>.<a data-startref="ix_A_python_numpy_pandas_-asciidoc4" data-type="indexterm" id="idm45785330833000"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="NumPy" data-type="sect1"><div class="sect1" id="idm45785335537880">&#13;
<h1>NumPy</h1>&#13;
&#13;
<p><a data-primary="NumPy" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc5"/>Many operations in computational finance take place over large arrays of numerical data. <code>NumPy</code> is a Python package that allows the efficient handling of and operation on such data structures. Although quite a mighty package with a wealth of functionality, it suffices for the purposes of this book to cover the basics of <code>NumPy</code>. A neat online book that is available for free about <code>NumPy</code> is <a href="https://oreil.ly/Yxequ"><em>From Python to NumPy</em></a>. It covers many important aspects in detail that are omitted in the following sections.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Regular ndarray Object" data-type="sect2"><div class="sect2" id="idm45785330827976">&#13;
<h2>Regular ndarray Object</h2>&#13;
&#13;
<p><a data-primary="ndarray objects" data-secondary="regular" data-type="indexterm" id="idm45785330826728"/><a data-primary="NumPy" data-secondary="regular ndarray object" data-type="indexterm" id="idm45785330825656"/>The workhorse is the <code>NumPy</code> <code>ndarray</code> class, which provides the data structure for n-dimensional array objects. You can generate an <code>ndarray</code> object, for instance, from a <code>list</code> object:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">82</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">numpy</code><code> </code><code class="kn">as</code><code> </code><code class="nn">np</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-1" id="co_python__numpy__matplotlib__pandas_CO19-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">83</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="mi">24</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-2" id="co_python__numpy__matplotlib__pandas_CO19-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">84</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-3" id="co_python__numpy__matplotlib__pandas_CO19-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">84</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code> </code><code class="mi">0</code><code class="p">,</code><code>  </code><code class="mi">1</code><code class="p">,</code><code>  </code><code class="mi">2</code><code class="p">,</code><code>  </code><code class="mi">3</code><code class="p">,</code><code>  </code><code class="mi">4</code><code class="p">,</code><code>  </code><code class="mi">5</code><code class="p">,</code><code>  </code><code class="mi">6</code><code class="p">,</code><code>  </code><code class="mi">7</code><code class="p">,</code><code>  </code><code class="mi">8</code><code class="p">,</code><code>  </code><code class="mi">9</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">11</code><code class="p">,</code><code> </code><code class="mi">12</code><code class="p">,</code><code> </code><code class="mi">13</code><code class="p">,</code><code> </code><code class="mi">14</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mi">15</code><code class="p">,</code><code> </code><code class="mi">16</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="mi">17</code><code class="p">,</code><code> </code><code class="mi">18</code><code class="p">,</code><code> </code><code class="mi">19</code><code class="p">,</code><code> </code><code class="mi">20</code><code class="p">,</code><code> </code><code class="mi">21</code><code class="p">,</code><code> </code><code class="mi">22</code><code class="p">,</code><code> </code><code class="mi">23</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">85</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code> </code><code class="o">=</code><code> </code><code class="n">a</code><code class="o">.</code><code class="n">reshape</code><code class="p">(</code><code class="p">(</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-4" id="co_python__numpy__matplotlib__pandas_CO19-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">86</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-5" id="co_python__numpy__matplotlib__pandas_CO19-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">86</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code> </code><code class="mi">0</code><code class="p">,</code><code>  </code><code class="mi">1</code><code class="p">,</code><code>  </code><code class="mi">2</code><code class="p">,</code><code>  </code><code class="mi">3</code><code class="p">,</code><code>  </code><code class="mi">4</code><code class="p">,</code><code>  </code><code class="mi">5</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code> </code><code class="mi">6</code><code class="p">,</code><code>  </code><code class="mi">7</code><code class="p">,</code><code>  </code><code class="mi">8</code><code class="p">,</code><code>  </code><code class="mi">9</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">11</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mi">12</code><code class="p">,</code><code> </code><code class="mi">13</code><code class="p">,</code><code> </code><code class="mi">14</code><code class="p">,</code><code> </code><code class="mi">15</code><code class="p">,</code><code> </code><code class="mi">16</code><code class="p">,</code><code> </code><code class="mi">17</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mi">18</code><code class="p">,</code><code> </code><code class="mi">19</code><code class="p">,</code><code> </code><code class="mi">20</code><code class="p">,</code><code> </code><code class="mi">21</code><code class="p">,</code><code> </code><code class="mi">22</code><code class="p">,</code><code> </code><code class="mi">23</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">87</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">c</code><code> </code><code class="o">=</code><code> </code><code class="n">a</code><code class="o">.</code><code class="n">reshape</code><code class="p">(</code><code class="p">(</code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-6" id="co_python__numpy__matplotlib__pandas_CO19-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">88</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">c</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-7" id="co_python__numpy__matplotlib__pandas_CO19-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">88</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="p">[</code><code> </code><code class="mi">0</code><code class="p">,</code><code>  </code><code class="mi">1</code><code class="p">,</code><code>  </code><code class="mi">2</code><code class="p">,</code><code>  </code><code class="mi">3</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code> </code><code class="mi">4</code><code class="p">,</code><code>  </code><code class="mi">5</code><code class="p">,</code><code>  </code><code class="mi">6</code><code class="p">,</code><code>  </code><code class="mi">7</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code> </code><code class="mi">8</code><code class="p">,</code><code>  </code><code class="mi">9</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">11</code><code class="p">]</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="p">[</code><code class="mi">12</code><code class="p">,</code><code> </code><code class="mi">13</code><code class="p">,</code><code> </code><code class="mi">14</code><code class="p">,</code><code> </code><code class="mi">15</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="mi">16</code><code class="p">,</code><code> </code><code class="mi">17</code><code class="p">,</code><code> </code><code class="mi">18</code><code class="p">,</code><code> </code><code class="mi">19</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="mi">20</code><code class="p">,</code><code> </code><code class="mi">21</code><code class="p">,</code><code> </code><code class="mi">22</code><code class="p">,</code><code> </code><code class="mi">23</code><code class="p">]</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">89</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="n">b</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="o">=</code><code class="n">np</code><code class="o">.</code><code class="n">float</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-8" id="co_python__numpy__matplotlib__pandas_CO19-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">90</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO19-9" id="co_python__numpy__matplotlib__pandas_CO19-9"><img alt="9" src="assets/9.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">90</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code> </code><code class="mf">0.</code><code class="p">,</code><code>  </code><code class="mf">1.</code><code class="p">,</code><code>  </code><code class="mf">2.</code><code class="p">,</code><code>  </code><code class="mf">3.</code><code class="p">,</code><code>  </code><code class="mf">4.</code><code class="p">,</code><code>  </code><code class="mf">5.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code> </code><code class="mf">6.</code><code class="p">,</code><code>  </code><code class="mf">7.</code><code class="p">,</code><code>  </code><code class="mf">8.</code><code class="p">,</code><code>  </code><code class="mf">9.</code><code class="p">,</code><code> </code><code class="mf">10.</code><code class="p">,</code><code> </code><code class="mf">11.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">12.</code><code class="p">,</code><code> </code><code class="mf">13.</code><code class="p">,</code><code> </code><code class="mf">14.</code><code class="p">,</code><code> </code><code class="mf">15.</code><code class="p">,</code><code> </code><code class="mf">16.</code><code class="p">,</code><code> </code><code class="mf">17.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">18.</code><code class="p">,</code><code> </code><code class="mf">19.</code><code class="p">,</code><code> </code><code class="mf">20.</code><code class="p">,</code><code> </code><code class="mf">21.</code><code class="p">,</code><code> </code><code class="mf">22.</code><code class="p">,</code><code> </code><code class="mf">23.</code><code class="p">]</code><code class="p">]</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-1" id="callout_python__numpy__matplotlib__pandas_CO19-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Imports <code>NumPy</code> as <code>np</code> by convention.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-2" id="callout_python__numpy__matplotlib__pandas_CO19-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Instantiates an <code>ndarray</code> object from the <code>range</code> object; <code>np.arange</code> could also be used, for instance.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-3" id="callout_python__numpy__matplotlib__pandas_CO19-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Prints out the values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-4" id="callout_python__numpy__matplotlib__pandas_CO19-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Reshapes the object to a two-dimensional one…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-5" id="callout_python__numpy__matplotlib__pandas_CO19-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>…and prints out the result.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-6" id="callout_python__numpy__matplotlib__pandas_CO19-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Reshapes the object to a three-dimensional one…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-7" id="callout_python__numpy__matplotlib__pandas_CO19-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>…and prints out the result.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-8" id="callout_python__numpy__matplotlib__pandas_CO19-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p>This changes the <code>dtype</code> of the object to <code>np.float</code> and…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO19-9" id="callout_python__numpy__matplotlib__pandas_CO19-9"><img alt="9" src="assets/9.png"/></a></dt>&#13;
<dd><p>…shows the new set of (now floating point) numbers.</p></dd>&#13;
</dl>&#13;
<div data-type="note" epub:type="note">&#13;
<p><a data-primary="list objects" data-type="indexterm" id="idm45785330473768"/>Many Python data structures are designed to be quite general. An example are mutable <code>list</code> objects that can be easily manipulated in many ways (adding and removing elements, storing other complex data structures, and so on). The strategy of <code>NumPy</code> with the regular <code>ndarray</code> object is to provide a more specialized data structure for which all elements are of the same atomic type and which in turn allows the contiguous storage in memory. This makes the <code>ndarray</code> object much better at solving problems in certain settings, such as when operating on larger, or even large, numerical data sets. In the case of <code>NumPy</code>, this specialization also comes along with convenience for the programmer on the one hand and often increased speed on the other hand.</p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Vectorized Operations" data-type="sect2"><div class="sect2" id="idm45785330527672">&#13;
<h2>Vectorized Operations</h2>&#13;
&#13;
<p><a data-primary="NumPy" data-secondary="vectorized operations" data-type="indexterm" id="idm45785330526200"/><a data-primary="vectorized operations" data-type="indexterm" id="idm45785330525224"/>A major strength of <code>NumPy</code> are <em>vectorized operations</em>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">91</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2</code><code> </code><code class="o">*</code><code> </code><code class="n">b</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO20-1" id="co_python__numpy__matplotlib__pandas_CO20-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">91</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code> </code><code class="mf">0.</code><code class="p">,</code><code>  </code><code class="mf">2.</code><code class="p">,</code><code>  </code><code class="mf">4.</code><code class="p">,</code><code>  </code><code class="mf">6.</code><code class="p">,</code><code>  </code><code class="mf">8.</code><code class="p">,</code><code> </code><code class="mf">10.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">12.</code><code class="p">,</code><code> </code><code class="mf">14.</code><code class="p">,</code><code> </code><code class="mf">16.</code><code class="p">,</code><code> </code><code class="mf">18.</code><code class="p">,</code><code> </code><code class="mf">20.</code><code class="p">,</code><code> </code><code class="mf">22.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">24.</code><code class="p">,</code><code> </code><code class="mf">26.</code><code class="p">,</code><code> </code><code class="mf">28.</code><code class="p">,</code><code> </code><code class="mf">30.</code><code class="p">,</code><code> </code><code class="mf">32.</code><code class="p">,</code><code> </code><code class="mf">34.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">36.</code><code class="p">,</code><code> </code><code class="mf">38.</code><code class="p">,</code><code> </code><code class="mf">40.</code><code class="p">,</code><code> </code><code class="mf">42.</code><code class="p">,</code><code> </code><code class="mf">44.</code><code class="p">,</code><code> </code><code class="mf">46.</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">92</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">2</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO20-2" id="co_python__numpy__matplotlib__pandas_CO20-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">92</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code>  </code><code class="mf">0.</code><code class="p">,</code><code>   </code><code class="mf">1.</code><code class="p">,</code><code>   </code><code class="mf">4.</code><code class="p">,</code><code>   </code><code class="mf">9.</code><code class="p">,</code><code>  </code><code class="mf">16.</code><code class="p">,</code><code>  </code><code class="mf">25.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code> </code><code class="mf">36.</code><code class="p">,</code><code>  </code><code class="mf">49.</code><code class="p">,</code><code>  </code><code class="mf">64.</code><code class="p">,</code><code>  </code><code class="mf">81.</code><code class="p">,</code><code> </code><code class="mf">100.</code><code class="p">,</code><code> </code><code class="mf">121.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">144.</code><code class="p">,</code><code> </code><code class="mf">169.</code><code class="p">,</code><code> </code><code class="mf">196.</code><code class="p">,</code><code> </code><code class="mf">225.</code><code class="p">,</code><code> </code><code class="mf">256.</code><code class="p">,</code><code> </code><code class="mf">289.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">324.</code><code class="p">,</code><code> </code><code class="mf">361.</code><code class="p">,</code><code> </code><code class="mf">400.</code><code class="p">,</code><code> </code><code class="mf">441.</code><code class="p">,</code><code> </code><code class="mf">484.</code><code class="p">,</code><code> </code><code class="mf">529.</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">93</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">f</code><code> </code><code class="o">=</code><code> </code><code class="k">lambda</code><code> </code><code class="n">x</code><code class="p">:</code><code> </code><code class="n">x</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">2</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code> </code><code class="o">*</code><code> </code><code class="n">x</code><code> </code><code class="o">+</code><code> </code><code class="mf">0.5</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO20-3" id="co_python__numpy__matplotlib__pandas_CO20-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">94</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">f</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO20-4" id="co_python__numpy__matplotlib__pandas_CO20-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">94</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code>  </code><code class="mf">0.5</code><code class="p">,</code><code>  </code><code class="o">-</code><code class="mf">0.5</code><code class="p">,</code><code>   </code><code class="mf">0.5</code><code class="p">,</code><code>   </code><code class="mf">3.5</code><code class="p">,</code><code>   </code><code class="mf">8.5</code><code class="p">,</code><code>  </code><code class="mf">15.5</code><code class="p">,</code><code>  </code><code class="mf">24.5</code><code class="p">,</code><code>  </code><code class="mf">35.5</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">48.5</code><code class="p">,</code><code>&#13;
</code><code>         </code><code class="mf">63.5</code><code class="p">,</code><code>  </code><code class="mf">80.5</code><code class="p">,</code><code>  </code><code class="mf">99.5</code><code class="p">,</code><code> </code><code class="mf">120.5</code><code class="p">,</code><code> </code><code class="mf">143.5</code><code class="p">,</code><code> </code><code class="mf">168.5</code><code class="p">,</code><code> </code><code class="mf">195.5</code><code class="p">,</code><code> </code><code class="mf">224.5</code><code class="p">,</code><code> </code><code class="mf">255.5</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="mf">288.5</code><code class="p">,</code><code> </code><code class="mf">323.5</code><code class="p">,</code><code> </code><code class="mf">360.5</code><code class="p">,</code><code> </code><code class="mf">399.5</code><code class="p">,</code><code> </code><code class="mf">440.5</code><code class="p">,</code><code> </code><code class="mf">483.5</code><code class="p">]</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO20-1" id="callout_python__numpy__matplotlib__pandas_CO20-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Implements a scalar multiplication on the one-dimensional <code>ndarray</code> object &#13;
<span class="keep-together">(vector).</span></p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO20-2" id="callout_python__numpy__matplotlib__pandas_CO20-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Calculates the square of each number of <code>b</code> in vectorized fashion.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO20-3" id="callout_python__numpy__matplotlib__pandas_CO20-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Defines a function <code>f</code> via a <code>lambda</code> constructor.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO20-4" id="callout_python__numpy__matplotlib__pandas_CO20-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Applies <code>f</code> to the <code>ndarray</code> object <code>a</code> using vectorization.</p></dd>&#13;
</dl>&#13;
&#13;
<p class="pagebreak-before">In many scenarios, only a (small) part of the data stored in an <code>ndarray</code> object is of interest. <code>NumPy</code> supports basic and advanced slicing and other selection features:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">95</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code class="p">[</code><code class="mi">2</code><code class="p">:</code><code class="mi">6</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO21-1" id="co_python__numpy__matplotlib__pandas_CO21-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">95</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">96</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code class="p">[</code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO21-2" id="co_python__numpy__matplotlib__pandas_CO21-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">96</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">16.0</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">97</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code class="p">[</code><code class="mi">1</code><code class="p">:</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">:</code><code class="mi">4</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO21-3" id="co_python__numpy__matplotlib__pandas_CO21-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">97</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code> </code><code class="mf">8.</code><code class="p">,</code><code>  </code><code class="mf">9.</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="mf">14.</code><code class="p">,</code><code> </code><code class="mf">15.</code><code class="p">]</code><code class="p">]</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO21-1" id="callout_python__numpy__matplotlib__pandas_CO21-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Selects the third to sixth elements.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO21-2" id="callout_python__numpy__matplotlib__pandas_CO21-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Selects the third row and fifth (final) row.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO21-3" id="callout_python__numpy__matplotlib__pandas_CO21-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Picks out the middle square from the <code>b</code> object.</p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Boolean Operations" data-type="sect2"><div class="sect2" id="idm45785329762808">&#13;
<h2>Boolean Operations</h2>&#13;
&#13;
<p><a data-primary="Boolean operations" data-secondary="NumPy" data-type="indexterm" id="idm45785329761608"/><a data-primary="NumPy" data-secondary="Boolean operations" data-type="indexterm" id="idm45785329760632"/>Boolean operations are also supported in many places:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">98</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code> </code><code class="o">&gt;</code><code> </code><code class="mi">10</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO22-1" id="co_python__numpy__matplotlib__pandas_CO22-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">98</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code> </code><code class="bp">False</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code> </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="p">[</code><code> </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="bp">True</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">99</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code class="p">[</code><code class="n">b</code><code> </code><code class="o">&gt;</code><code> </code><code class="mi">10</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO22-2" id="co_python__numpy__matplotlib__pandas_CO22-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">99</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mf">11.</code><code class="p">,</code><code> </code><code class="mf">12.</code><code class="p">,</code><code> </code><code class="mf">13.</code><code class="p">,</code><code> </code><code class="mf">14.</code><code class="p">,</code><code> </code><code class="mf">15.</code><code class="p">,</code><code> </code><code class="mf">16.</code><code class="p">,</code><code> </code><code class="mf">17.</code><code class="p">,</code><code> </code><code class="mf">18.</code><code class="p">,</code><code> </code><code class="mf">19.</code><code class="p">,</code><code> </code><code class="mf">20.</code><code class="p">,</code><code> </code><code class="mf">21.</code><code class="p">,</code><code> </code><code class="mf">22.</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">23.</code><code class="p">]</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO22-1" id="callout_python__numpy__matplotlib__pandas_CO22-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Which numbers are greater than 10?</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO22-2" id="callout_python__numpy__matplotlib__pandas_CO22-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Return all those numbers greater than 10.</p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="ndarray Methods and NumPy Functions" data-type="sect2"><div class="sect2" id="idm45785329638792">&#13;
<h2>ndarray Methods and NumPy Functions</h2>&#13;
&#13;
<p><a data-primary="ndarray objects" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc6"/><a data-primary="NumPy" data-secondary="ndarray methods" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc7"/>Furthermore, <code>ndarray</code> objects have multiple (convenience) methods already built in:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">100</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code class="o">.</code><code class="n">sum</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO23-1" id="co_python__numpy__matplotlib__pandas_CO23-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">100</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">276</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">101</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO23-2" id="co_python__numpy__matplotlib__pandas_CO23-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">101</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">11.5</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">102</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">axis</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO23-3" id="co_python__numpy__matplotlib__pandas_CO23-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">102</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code> </code><code class="mf">9.</code><code class="p">,</code><code> </code><code class="mf">10.</code><code class="p">,</code><code> </code><code class="mf">11.</code><code class="p">,</code><code> </code><code class="mf">12.</code><code class="p">,</code><code> </code><code class="mf">13.</code><code class="p">,</code><code> </code><code class="mf">14.</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">103</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">b</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">axis</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO23-4" id="co_python__numpy__matplotlib__pandas_CO23-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">103</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code> </code><code class="mf">2.5</code><code class="p">,</code><code>  </code><code class="mf">8.5</code><code class="p">,</code><code> </code><code class="mf">14.5</code><code class="p">,</code><code> </code><code class="mf">20.5</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">104</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">c</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO23-5" id="co_python__numpy__matplotlib__pandas_CO23-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">104</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">6.922186552431729</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO23-1" id="callout_python__numpy__matplotlib__pandas_CO23-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>The sum of all elements.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO23-2" id="callout_python__numpy__matplotlib__pandas_CO23-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>The mean of all elements.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO23-3" id="callout_python__numpy__matplotlib__pandas_CO23-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>The mean along the first axis.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO23-4" id="callout_python__numpy__matplotlib__pandas_CO23-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>The mean along the second axis.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO23-5" id="callout_python__numpy__matplotlib__pandas_CO23-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>The standard deviation over all elements.</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="NumPy" data-secondary="universal functions" data-type="indexterm" id="idm45785329384760"/><a data-primary="universal functions, NumPy" data-type="indexterm" id="idm45785329339144"/>Similarly, there is a wealth of so-called <em>universal functions</em> that the <code>NumPy</code> package provides. They are universal in the sense that they can be applied in general to <code>NumPy</code> <code>ndarray</code> objects and to standard numerical Python data types. For details, see <a href="https://oreil.ly/Ogiah">Universal functions (ufunc)</a>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">105</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">sum</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO24-1" id="co_python__numpy__matplotlib__pandas_CO24-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">105</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">276</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">106</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">b</code><code class="p">,</code><code> </code><code class="n">axis</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO24-2" id="co_python__numpy__matplotlib__pandas_CO24-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">106</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code> </code><code class="mf">9.</code><code class="p">,</code><code> </code><code class="mf">10.</code><code class="p">,</code><code> </code><code class="mf">11.</code><code class="p">,</code><code> </code><code class="mf">12.</code><code class="p">,</code><code> </code><code class="mf">13.</code><code class="p">,</code><code> </code><code class="mf">14.</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">107</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">sin</code><code class="p">(</code><code class="n">b</code><code class="p">)</code><code class="o">.</code><code class="n">round</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO24-3" id="co_python__numpy__matplotlib__pandas_CO24-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">107</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code> </code><code class="mf">0.</code><code>  </code><code class="p">,</code><code>  </code><code class="mf">0.84</code><code class="p">,</code><code>  </code><code class="mf">0.91</code><code class="p">,</code><code>  </code><code class="mf">0.14</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.76</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.96</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="o">-</code><code class="mf">0.28</code><code class="p">,</code><code>  </code><code class="mf">0.66</code><code class="p">,</code><code>  </code><code class="mf">0.99</code><code class="p">,</code><code>  </code><code class="mf">0.41</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.54</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">1.</code><code>  </code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="o">-</code><code class="mf">0.54</code><code class="p">,</code><code>  </code><code class="mf">0.42</code><code class="p">,</code><code>  </code><code class="mf">0.99</code><code class="p">,</code><code>  </code><code class="mf">0.65</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.29</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.96</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="o">-</code><code class="mf">0.75</code><code class="p">,</code><code>  </code><code class="mf">0.15</code><code class="p">,</code><code>  </code><code class="mf">0.91</code><code class="p">,</code><code>  </code><code class="mf">0.84</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.01</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.85</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">108</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">sin</code><code class="p">(</code><code class="mf">4.5</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO24-4" id="co_python__numpy__matplotlib__pandas_CO24-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">108</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">-</code><code class="mf">0.977530117665097</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO24-1" id="callout_python__numpy__matplotlib__pandas_CO24-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>The sum of all elements.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO24-2" id="callout_python__numpy__matplotlib__pandas_CO24-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>The mean along the first axis.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO24-3" id="callout_python__numpy__matplotlib__pandas_CO24-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>The sine value for all elements rounded to two digits.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO24-4" id="callout_python__numpy__matplotlib__pandas_CO24-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>The sine value of a Python <code>float</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p class="pagebreak-before">However, you should be aware that applying <code>NumPy</code> universal functions to standard Python data types generally comes with a significant performance burden:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">109</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">%</code><code class="n">time</code><code> </code><code class="n">l</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="n">np</code><code class="o">.</code><code class="n">sin</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code> </code><code class="k">for</code><code> </code><code class="n">x</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">1000000</code><code class="p">)</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO25-1" id="co_python__numpy__matplotlib__pandas_CO25-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>          </code><code class="n">CPU</code><code> </code><code class="n">times</code><code class="p">:</code><code> </code><code class="n">user</code><code> </code><code class="mf">1.21</code><code> </code><code class="n">s</code><code class="p">,</code><code> </code><code class="n">sys</code><code class="p">:</code><code> </code><code class="mf">22.9</code><code> </code><code class="n">ms</code><code class="p">,</code><code> </code><code class="n">total</code><code class="p">:</code><code> </code><code class="mf">1.24</code><code> </code><code class="n">s</code><code>&#13;
</code><code>          </code><code class="n">Wall</code><code> </code><code class="n">time</code><code class="p">:</code><code> </code><code class="mf">1.24</code><code> </code><code class="n">s</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">110</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">%</code><code class="n">time</code><code> </code><code class="n">l</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="n">math</code><code class="o">.</code><code class="n">sin</code><code class="p">(</code><code class="n">x</code><code class="p">)</code><code> </code><code class="k">for</code><code> </code><code class="n">x</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">1000000</code><code class="p">)</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO25-2" id="co_python__numpy__matplotlib__pandas_CO25-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>          </code><code class="n">CPU</code><code> </code><code class="n">times</code><code class="p">:</code><code> </code><code class="n">user</code><code> </code><code class="mi">215</code><code> </code><code class="n">ms</code><code class="p">,</code><code> </code><code class="n">sys</code><code class="p">:</code><code> </code><code class="mf">22.9</code><code> </code><code class="n">ms</code><code class="p">,</code><code> </code><code class="n">total</code><code class="p">:</code><code> </code><code class="mi">238</code><code> </code><code class="n">ms</code><code>&#13;
</code><code>          </code><code class="n">Wall</code><code> </code><code class="n">time</code><code class="p">:</code><code> </code><code class="mi">239</code><code> </code><code class="n">ms</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO25-1" id="callout_python__numpy__matplotlib__pandas_CO25-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>List comprehension using <code>NumPy</code> universal function on Python <code>float</code> objects.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO25-2" id="callout_python__numpy__matplotlib__pandas_CO25-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>List comprehension using <code>math</code> function on Python <code>float</code> objects.</p></dd>&#13;
</dl>&#13;
&#13;
<p>On the other hand, using the vectorized operations from <code>NumPy</code> on <code>ndarray</code> objects is faster than both of the preceding alternatives that result in <code>list</code> objects. However, the speed advantage often comes at the cost of a larger, or even huge, memory footprint:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">111</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">%</code><code class="n">time</code><code> </code><code class="n">a</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">sin</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mi">1000000</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO26-1" id="co_python__numpy__matplotlib__pandas_CO26-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>          </code><code class="n">CPU</code><code> </code><code class="n">times</code><code class="p">:</code><code> </code><code class="n">user</code><code> </code><code class="mf">20.7</code><code> </code><code class="n">ms</code><code class="p">,</code><code> </code><code class="n">sys</code><code class="p">:</code><code> </code><code class="mf">5.32</code><code> </code><code class="n">ms</code><code class="p">,</code><code> </code><code class="n">total</code><code class="p">:</code><code> </code><code class="mi">26</code><code> </code><code class="n">ms</code><code>&#13;
</code><code>          </code><code class="n">Wall</code><code> </code><code class="n">time</code><code class="p">:</code><code> </code><code class="mf">24.6</code><code> </code><code class="n">ms</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">112</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">sys</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO26-2" id="co_python__numpy__matplotlib__pandas_CO26-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">113</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">sys</code><code class="o">.</code><code class="n">getsizeof</code><code class="p">(</code><code class="n">a</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO26-3" id="co_python__numpy__matplotlib__pandas_CO26-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">113</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">8000096</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">114</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code class="o">.</code><code class="n">nbytes</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO26-4" id="co_python__numpy__matplotlib__pandas_CO26-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">114</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">8000000</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO26-1" id="callout_python__numpy__matplotlib__pandas_CO26-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Vectorized calculation of the sine values with <code>NumPy</code>, which is much faster in &#13;
<span class="keep-together">general.</span></p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO26-2" id="callout_python__numpy__matplotlib__pandas_CO26-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Imports the <code>sys</code> module with many system-related functions.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO26-3" id="callout_python__numpy__matplotlib__pandas_CO26-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Shows the size of the <code>a</code> object in memory.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO26-4" id="callout_python__numpy__matplotlib__pandas_CO26-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Shows the number of bytes used to store the data in the <code>a</code> object.</p></dd>&#13;
</dl>&#13;
<div data-type="caution">&#13;
<p>Vectorization sometimes is a very useful approach to write concise code that is often also much faster than Python code. However, be aware of the memory footprint that vectorization can have in many scenarios relevant to finance. Often, there are alternative implementations of algorithms available that are memory efficient and that, by using performance libraries such as <code>Numba</code> or <code>Cython</code>, can even be faster. See Hilpisch (2018, ch. 10).<a data-startref="ix_A_python_numpy_pandas_-asciidoc7" data-type="indexterm" id="idm45785328765976"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc6" data-type="indexterm" id="idm45785328765368"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="ndarray Creation" data-type="sect2"><div class="sect2" id="idm45785329638200">&#13;
<h2>ndarray Creation</h2>&#13;
&#13;
<p><a data-primary="ndarray objects" data-secondary="creating" data-type="indexterm" id="idm45785328763624"/><a data-primary="np.arange()" data-type="indexterm" id="idm45785328762776"/><a data-primary="NumPy" data-secondary="ndarray creation" data-type="indexterm" id="idm45785328762168"/>Here, we use the ndarray object constructor <code>np.arange()</code>, which yields an <code>ndarray</code> object of integers. The following is a simple example:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">115</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">ai</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-1" id="co_python__numpy__matplotlib__pandas_CO27-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">116</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">ai</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-2" id="co_python__numpy__matplotlib__pandas_CO27-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">116</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">,</code><code> </code><code class="mi">7</code><code class="p">,</code><code> </code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">9</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">117</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">ai</code><code class="o">.</code><code class="n">dtype</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-3" id="co_python__numpy__matplotlib__pandas_CO27-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">117</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">dtype</code><code class="p">(</code><code class="s1">'</code><code class="s1">int64</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">118</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">af</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mf">0.5</code><code class="p">,</code><code> </code><code class="mf">9.5</code><code class="p">,</code><code> </code><code class="mf">0.5</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-4" id="co_python__numpy__matplotlib__pandas_CO27-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">119</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">af</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-5" id="co_python__numpy__matplotlib__pandas_CO27-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">119</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mf">0.5</code><code class="p">,</code><code> </code><code class="mf">1.</code><code> </code><code class="p">,</code><code> </code><code class="mf">1.5</code><code class="p">,</code><code> </code><code class="mf">2.</code><code> </code><code class="p">,</code><code> </code><code class="mf">2.5</code><code class="p">,</code><code> </code><code class="mf">3.</code><code> </code><code class="p">,</code><code> </code><code class="mf">3.5</code><code class="p">,</code><code> </code><code class="mf">4.</code><code> </code><code class="p">,</code><code> </code><code class="mf">4.5</code><code class="p">,</code><code> </code><code class="mf">5.</code><code> </code><code class="p">,</code><code> </code><code class="mf">5.5</code><code class="p">,</code><code> </code><code class="mf">6.</code><code> </code><code class="p">,</code><code>&#13;
</code><code>           </code><code class="mf">6.5</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="mf">7.</code><code> </code><code class="p">,</code><code> </code><code class="mf">7.5</code><code class="p">,</code><code> </code><code class="mf">8.</code><code> </code><code class="p">,</code><code> </code><code class="mf">8.5</code><code class="p">,</code><code> </code><code class="mf">9.</code><code> </code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">120</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">af</code><code class="o">.</code><code class="n">dtype</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-6" id="co_python__numpy__matplotlib__pandas_CO27-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">120</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">dtype</code><code class="p">(</code><code class="s1">'</code><code class="s1">float64</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">121</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">linspace</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">12</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO27-7" id="co_python__numpy__matplotlib__pandas_CO27-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">121</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code> </code><code class="mf">0.</code><code>        </code><code class="p">,</code><code>  </code><code class="mf">0.90909091</code><code class="p">,</code><code>  </code><code class="mf">1.81818182</code><code class="p">,</code><code>  </code><code class="mf">2.72727273</code><code class="p">,</code><code>&#13;
</code><code>           </code><code class="mf">3.63636364</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="mf">4.54545455</code><code class="p">,</code><code>  </code><code class="mf">5.45454545</code><code class="p">,</code><code>  </code><code class="mf">6.36363636</code><code class="p">,</code><code>  </code><code class="mf">7.27272727</code><code class="p">,</code><code>  </code><code class="mf">8.18181818</code><code class="p">,</code><code>&#13;
</code><code>                  </code><code class="mf">9.09090909</code><code class="p">,</code><code> </code><code class="mf">10.</code><code>        </code><code class="p">]</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-1" id="callout_python__numpy__matplotlib__pandas_CO27-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Instantiates an <code>ndarray</code> object via the <code>np.arange()</code> constructor.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-2" id="callout_python__numpy__matplotlib__pandas_CO27-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Prints out the values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-3" id="callout_python__numpy__matplotlib__pandas_CO27-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>The resulting <code>dtype</code> is <code>np.int64</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-4" id="callout_python__numpy__matplotlib__pandas_CO27-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Uses <code>arange()</code> again, but this time with <code>start</code>, <code>end</code>, and <code>step</code> parameters.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-5" id="callout_python__numpy__matplotlib__pandas_CO27-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Prints out the values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-6" id="callout_python__numpy__matplotlib__pandas_CO27-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>The resulting <code>dtype</code> is <code>np.float64</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO27-7" id="callout_python__numpy__matplotlib__pandas_CO27-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Uses the <code>linspace()</code> constructor, which evenly spaces the interval between 0 and 10 in 11 intervals, giving back an <code>ndarray</code> object with 12 values.</p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Random Numbers" data-type="sect2"><div class="sect2" id="idm45785328456776">&#13;
<h2>Random Numbers</h2>&#13;
&#13;
<p><a data-primary="NumPy" data-secondary="random numbers" data-type="indexterm" id="idm45785328418392"/><a data-primary="random numbers" data-type="indexterm" id="idm45785328417320"/>In financial analytics, one often needs random<sup><a data-type="noteref" href="app01.html#idm45785328416584" id="idm45785328416584-marker">1</a></sup> numbers. <code>NumPy</code> provides many functions to sample from different distributions. Those regularly needed in quantitative finance are the standard normal distribution and the Poisson distribution. <a data-primary="numpy.random sub-package" data-type="indexterm" id="idm45785328414616"/>The respective functions are found in the sub-package <code>numpy.random</code>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">122</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">standard_normal</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code><code>   </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-1" id="co_python__numpy__matplotlib__pandas_CO28-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">122</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="o">-</code><code class="mf">1.06384884</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.22662171</code><code class="p">,</code><code>  </code><code class="mf">1.2615483</code><code> </code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.45626608</code><code class="p">,</code><code>&#13;
</code><code>           </code><code class="o">-</code><code class="mf">1.23231112</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="mf">1.51309987</code><code class="p">,</code><code>  </code><code class="mf">1.23938439</code><code class="p">,</code><code>  </code><code class="mf">0.22411366</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.84616512</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">1.09923136</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">123</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">poisson</code><code class="p">(</code><code class="mf">0.5</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-2" id="co_python__numpy__matplotlib__pandas_CO28-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">123</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">0</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">124</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">seed</code><code class="p">(</code><code class="mi">1000</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-3" id="co_python__numpy__matplotlib__pandas_CO28-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">125</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">standard_normal</code><code class="p">(</code><code class="p">(</code><code class="mi">5</code><code class="p">,</code><code> </code><code class="mi">100</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-4" id="co_python__numpy__matplotlib__pandas_CO28-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">126</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code> </code><code class="p">:</code><code class="mi">3</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-5" id="co_python__numpy__matplotlib__pandas_CO28-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">126</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="p">[</code><code class="o">-</code><code class="mf">0.8044583</code><code> </code><code class="p">,</code><code>  </code><code class="mf">0.32093155</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.02548288</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="o">-</code><code class="mf">0.39031935</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.58069634</code><code class="p">,</code><code>  </code><code class="mf">1.94898697</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="o">-</code><code class="mf">1.11573322</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">1.34477121</code><code class="p">,</code><code>  </code><code class="mf">0.75334374</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code> </code><code class="mf">0.42400699</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">1.56680276</code><code class="p">,</code><code>  </code><code class="mf">0.76499895</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="p">[</code><code class="o">-</code><code class="mf">1.74866738</code><code class="p">,</code><code> </code><code class="o">-</code><code class="mf">0.06913021</code><code class="p">,</code><code>  </code><code class="mf">1.52621653</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">127</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-6" id="co_python__numpy__matplotlib__pandas_CO28-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">127</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">-</code><code class="mf">0.02714981205311327</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">128</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-7" id="co_python__numpy__matplotlib__pandas_CO28-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">128</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">1.0016799134894265</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">129</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">data</code><code> </code><code class="o">-</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-8" id="co_python__numpy__matplotlib__pandas_CO28-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">130</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-9" id="co_python__numpy__matplotlib__pandas_CO28-9"><img alt="9" src="assets/9.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">130</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">3.552713678800501e-18</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">131</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">data</code><code> </code><code class="o">/</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-10" id="co_python__numpy__matplotlib__pandas_CO28-10"><img alt="10" src="assets/10.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">132</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO28-11" id="co_python__numpy__matplotlib__pandas_CO28-11"><img alt="11" src="assets/11.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">132</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">1.0</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-1" id="callout_python__numpy__matplotlib__pandas_CO28-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Draws ten standard normally distributed random numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-2" id="callout_python__numpy__matplotlib__pandas_CO28-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Draws ten Poisson distributed random numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-3" id="callout_python__numpy__matplotlib__pandas_CO28-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Fixes the seed value of the random number generator for repeatability.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-4" id="callout_python__numpy__matplotlib__pandas_CO28-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Generates a two-dimensional <code>ndarray</code> object with random numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-5" id="callout_python__numpy__matplotlib__pandas_CO28-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Prints a small selection of the numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-6" id="callout_python__numpy__matplotlib__pandas_CO28-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>The mean of all values is close to <code>0</code> but not exactly <code>0</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-7" id="callout_python__numpy__matplotlib__pandas_CO28-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>The standard deviation is close to <code>1</code> but not exactly <code>1</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-8" id="callout_python__numpy__matplotlib__pandas_CO28-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p>The first moment is corrected in vectorized fashion.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-9" id="callout_python__numpy__matplotlib__pandas_CO28-9"><img alt="9" src="assets/9.png"/></a></dt>&#13;
<dd><p>The mean now is “almost equal” to <code>0</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-10" id="callout_python__numpy__matplotlib__pandas_CO28-10"><img alt="10" src="assets/10.png"/></a></dt>&#13;
<dd><p>The second moment is corrected in vectorized fashion.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO28-11" id="callout_python__numpy__matplotlib__pandas_CO28-11"><img alt="11" src="assets/11.png"/></a></dt>&#13;
<dd><p>The standard deviation is now exactly <code>1</code>.<a data-startref="ix_A_python_numpy_pandas_-asciidoc5" data-type="indexterm" id="idm45785327949352"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="matplotlib" data-type="sect1"><div class="sect1" id="idm45785327970808">&#13;
<h1>matplotlib</h1>&#13;
&#13;
<p><a data-primary="matplotlib" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc8"/><a data-primary="seaborn library" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc9"/>At this point, it makes sense to introduce plotting with <a href="http://matplotlib.org"><code>matplotlib</code></a>, the plotting workhorse in the Python ecosystem. We use <code>matplotlib</code> with the settings of another library throughout, namely <a href="https://oreil.ly/SWvT6"><code>seaborn</code></a>. This results in a more modern plotting style. The following code generates <a data-type="xref" href="#plot_01">Figure A-1</a>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">133</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">matplotlib.pyplot</code><code> </code><code class="kn">as</code><code> </code><code class="nn">plt</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-1" id="co_python__numpy__matplotlib__pandas_CO29-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">134</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">style</code><code class="o">.</code><code class="n">use</code><code class="p">(</code><code class="s1">'</code><code class="s1">seaborn</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-2" id="co_python__numpy__matplotlib__pandas_CO29-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">135</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">matplotlib</code><code> </code><code class="kn">as</code><code> </code><code class="nn">mpl</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-3" id="co_python__numpy__matplotlib__pandas_CO29-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">136</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">mpl</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s1">'</code><code class="s1">savefig.dpi</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">300</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-4" id="co_python__numpy__matplotlib__pandas_CO29-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>          </code><code class="n">mpl</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s1">'</code><code class="s1">font.family</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="s1">'</code><code class="s1">serif</code><code class="s1">'</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-4" id="co_python__numpy__matplotlib__pandas_CO29-5"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>          </code><code class="o">%</code><code class="n">matplotlib</code><code> </code><code class="n">inline</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">137</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">standard_normal</code><code class="p">(</code><code class="p">(</code><code class="mi">5</code><code class="p">,</code><code> </code><code class="mi">100</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-5" id="co_python__numpy__matplotlib__pandas_CO29-6"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">138</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-6" id="co_python__numpy__matplotlib__pandas_CO29-7"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">data</code><code class="o">.</code><code class="n">cumsum</code><code class="p">(</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO29-7" id="co_python__numpy__matplotlib__pandas_CO29-8"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">138</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">[</code><code class="o">&lt;</code><code class="n">matplotlib</code><code class="o">.</code><code class="n">lines</code><code class="o">.</code><code class="n">Line2D</code><code> </code><code class="n">at</code><code> </code><code class="mh">0x7faceaaeed30</code><code class="o">&gt;</code><code class="p">]</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-1" id="callout_python__numpy__matplotlib__pandas_CO29-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Imports the main plotting library.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-2" id="callout_python__numpy__matplotlib__pandas_CO29-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Sets new plot style defaults.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-3" id="callout_python__numpy__matplotlib__pandas_CO29-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Imports the top level module.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-4" id="callout_python__numpy__matplotlib__pandas_CO29-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Sets the resolution to 300 DPI (for saving) and the font to <code>serif</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-6" id="callout_python__numpy__matplotlib__pandas_CO29-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Generates an <code>ndarray</code> object with random numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-7" id="callout_python__numpy__matplotlib__pandas_CO29-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Instantiates a new <code>figure</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO29-8" id="callout_python__numpy__matplotlib__pandas_CO29-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>First calculates the cumulative sum over all elements of the <code>ndarray</code> object and then plots the result.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="plot_01">&#13;
<img alt="pfat aa01" src="assets/pfat_aa01.png"/>&#13;
<h6><span class="label">Figure A-1. </span>Line plot with <code>matplotlib</code></h6>&#13;
</div></figure>&#13;
&#13;
<p>Multiple line plots in a single <code>figure</code> object are also easy to generate (see <a data-type="xref" href="#plot_02">Figure A-2</a>):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">139</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO30-1" id="co_python__numpy__matplotlib__pandas_CO30-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">data</code><code class="o">.</code><code class="n">T</code><code class="o">.</code><code class="n">cumsum</code><code class="p">(</code><code class="n">axis</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">line</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO30-2" id="co_python__numpy__matplotlib__pandas_CO30-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO30-3" id="co_python__numpy__matplotlib__pandas_CO30-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">data point</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO30-4" id="co_python__numpy__matplotlib__pandas_CO30-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">value</code><code class="s1">'</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO30-5" id="co_python__numpy__matplotlib__pandas_CO30-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s1">'</code><code class="s1">random series</code><code class="s1">'</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO30-6" id="co_python__numpy__matplotlib__pandas_CO30-6"><img alt="6" src="assets/6.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO30-1" id="callout_python__numpy__matplotlib__pandas_CO30-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Instantiates a new <code>figure</code> objects and defines the size.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO30-2" id="callout_python__numpy__matplotlib__pandas_CO30-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Plots five lines by calculating the cumulative sum along the first axis and defines a label.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO30-3" id="callout_python__numpy__matplotlib__pandas_CO30-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Puts a legend in the optimal position (<code>loc=0</code>).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO30-4" id="callout_python__numpy__matplotlib__pandas_CO30-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Adds a label to the x-axis.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO30-5" id="callout_python__numpy__matplotlib__pandas_CO30-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Adds a label to the y-axis.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO30-6" id="callout_python__numpy__matplotlib__pandas_CO30-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Adds a title to the figure.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="plot_02">&#13;
<img alt="pfat aa02" src="assets/pfat_aa02.png"/>&#13;
<h6><span class="label">Figure A-2. </span>Plot with multiple lines</h6>&#13;
</div></figure>&#13;
&#13;
<p><a data-primary="histograms" data-type="indexterm" id="idm45785327568376"/>Other important plotting types are histograms and bar charts. A histogram for all 500 values of the <code>data</code> object is shown as <a data-type="xref" href="#plot_03">Figure A-3</a>. <a data-primary=".flatten() method" data-primary-sortas="flatten" data-type="indexterm" id="idm45785327566408"/>In the code, the <code>.flatten()</code> method is used to generate a one-dimensional array from the two-dimensional one:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">140</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">hist</code><code class="p">(</code><code class="n">data</code><code class="o">.</code><code class="n">flatten</code><code class="p">(</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">bins</code><code class="o">=</code><code class="mi">30</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO31-1" id="co_python__numpy__matplotlib__pandas_CO31-1"><img alt="1" src="assets/1.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO31-1" id="callout_python__numpy__matplotlib__pandas_CO31-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Plots the histogram with 30 bins (data groups).</p></dd>&#13;
</dl>&#13;
&#13;
<p><a data-primary="bar charts" data-type="indexterm" id="idm45785327528648"/>Finally, consider the bar chart presented in <a data-type="xref" href="#plot_04">Figure A-4</a>, generated by the following code:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">141</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">12</code><code class="p">)</code><code> </code><code class="o">-</code><code> </code><code class="mf">0.25</code><code class="p">,</code><code>&#13;
</code><code>                  </code><code class="n">data</code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="p">:</code><code class="mi">11</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">width</code><code class="o">=</code><code class="mf">0.5</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO32-1" id="co_python__numpy__matplotlib__pandas_CO32-1"><img alt="1" src="assets/1.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO32-1" id="callout_python__numpy__matplotlib__pandas_CO32-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Plots a bar chart based on a small sub-set of the original data set.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="plot_03">&#13;
<img alt="pfat aa03" src="assets/pfat_aa03.png"/>&#13;
<h6><span class="label">Figure A-3. </span>Histogram of random data</h6>&#13;
</div></figure>&#13;
&#13;
<figure><div class="figure" id="plot_04">&#13;
<img alt="pfat aa04" src="assets/pfat_aa04.png"/>&#13;
<h6><span class="label">Figure A-4. </span>Bar chart of random data</h6>&#13;
</div></figure>&#13;
&#13;
<p><a data-primary="OLS (ordinary least squares) regression" data-type="indexterm" id="idm45785327439064"/><a data-primary="ordinary least squares (OLS) regression" data-type="indexterm" id="idm45785327415672"/>To conclude the introduction to <code>matplotlib</code>, consider the ordinary least squares (OLS) regression of the sample data displayed in <a data-type="xref" href="#plot_05">Figure A-5</a>. <a data-primary="polyfit()/polyval() convenience functions" data-type="indexterm" id="idm45785327413816"/><code>NumPy</code> provides with the two functions <code>polyfit</code> and <code>polyval</code> convenience functions to implement OLS based on simple monomials, <math alttext="x comma x squared comma x cubed comma period period period comma x Superscript n">&#13;
  <mrow>&#13;
    <mi>x</mi>&#13;
    <mo>,</mo>&#13;
    <msup><mi>x</mi> <mn>2</mn> </msup>&#13;
    <mo>,</mo>&#13;
    <msup><mi>x</mi> <mn>3</mn> </msup>&#13;
    <mo>,</mo>&#13;
    <mo>.</mo>&#13;
    <mo>.</mo>&#13;
    <mo>.</mo>&#13;
    <mo>,</mo>&#13;
    <msup><mi>x</mi> <mi>n</mi> </msup>&#13;
  </mrow>&#13;
</math>. For illustration purposes, consider linear, cubic, and ninth degree OLS regression (see <a data-type="xref" href="#plot_05">Figure A-5</a>):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">142</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="o">.</code><code class="n">cumsum</code><code class="p">(</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-1" id="co_python__numpy__matplotlib__pandas_CO33-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">143</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.2</code><code> </code><code class="o">*</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">cumsum</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">2</code><code> </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-2" id="co_python__numpy__matplotlib__pandas_CO33-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">144</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rg1</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyfit</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-3" id="co_python__numpy__matplotlib__pandas_CO33-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">145</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rg3</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyfit</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-4" id="co_python__numpy__matplotlib__pandas_CO33-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">146</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rg9</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyfit</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">,</code><code> </code><code class="mi">9</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-5" id="co_python__numpy__matplotlib__pandas_CO33-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">147</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-6" id="co_python__numpy__matplotlib__pandas_CO33-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">r</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">data</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-7" id="co_python__numpy__matplotlib__pandas_CO33-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyval</code><code class="p">(</code><code class="n">rg1</code><code class="p">,</code><code> </code><code class="n">x</code><code class="p">)</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">b--</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">linear</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-8" id="co_python__numpy__matplotlib__pandas_CO33-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyval</code><code class="p">(</code><code class="n">rg3</code><code class="p">,</code><code> </code><code class="n">x</code><code class="p">)</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">b-.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">cubic</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-8" id="co_python__numpy__matplotlib__pandas_CO33-9"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyval</code><code class="p">(</code><code class="n">rg9</code><code class="p">,</code><code> </code><code class="n">x</code><code class="p">)</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">b:</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">9th degree</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-8" id="co_python__numpy__matplotlib__pandas_CO33-10"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO33-9" id="co_python__numpy__matplotlib__pandas_CO33-11"><img alt="9" src="assets/9.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-1" id="callout_python__numpy__matplotlib__pandas_CO33-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Creates an <code>ndarray</code> object for the <code>x</code> values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-2" id="callout_python__numpy__matplotlib__pandas_CO33-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Defines the <code>y</code> values as the cumulative sum of the <code>data</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-3" id="callout_python__numpy__matplotlib__pandas_CO33-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Linear regression.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-4" id="callout_python__numpy__matplotlib__pandas_CO33-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Cubic regression.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-5" id="callout_python__numpy__matplotlib__pandas_CO33-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Ninth degree regression.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-6" id="callout_python__numpy__matplotlib__pandas_CO33-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>The new <code>figure</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-7" id="callout_python__numpy__matplotlib__pandas_CO33-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>The base data.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-8" id="callout_python__numpy__matplotlib__pandas_CO33-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p>The regression results visualized.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO33-11" id="callout_python__numpy__matplotlib__pandas_CO33-9"><img alt="9" src="assets/9.png"/></a></dt>&#13;
<dd><p>Places a legend.<a data-startref="ix_A_python_numpy_pandas_-asciidoc9" data-type="indexterm" id="idm45785327061192"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc8" data-type="indexterm" id="idm45785327060584"/></p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="plot_05">&#13;
<img alt="pfat aa05" src="assets/pfat_aa05.png"/>&#13;
<h6><span class="label">Figure A-5. </span>Linear, cubic, and 9th degree regression</h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="pandas" data-type="sect1"><div class="sect1" id="idm45785327947832">&#13;
<h1>pandas</h1>&#13;
&#13;
<p><a data-primary="pandas" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc10"/><code>pandas</code> is a package with which one can manage and operate on time series data and other tabular data structures efficiently. It allows implementation of even sophisticated data analytics tasks on pretty large data sets in-memory. While the focus lies on in-memory operations, there are also multiple options for out-of-memory (on-disk) operations. Although <code>pandas</code> provides a number of different data structures, embodied by powerful classes, the most commonly used structure is the <code>DataFrame</code> class, which resembles a typical table of a relational (SQL) database and is used to manage, for instance, financial time series data. This is what we focus on in this section.</p>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="DataFrame Class" data-type="sect2"><div class="sect2" id="idm45785327054760">&#13;
<h2>DataFrame Class</h2>&#13;
&#13;
<p><a data-primary="DataFrame class" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc11"/><a data-primary="pandas" data-secondary="DataFrame class" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc12"/>In its most basic form, a <code>DataFrame</code> object is characterized by an index, column names, and tabular data. To make this more specific, consider the following sample data set:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">148</code><code class="p">]</code><code class="p">:</code><code> </code><code class="kn">import</code><code> </code><code class="nn">pandas</code><code> </code><code class="kn">as</code><code> </code><code class="nn">pd</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-1" id="co_python__numpy__matplotlib__pandas_CO34-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">149</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">seed</code><code class="p">(</code><code class="mi">1000</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-2" id="co_python__numpy__matplotlib__pandas_CO34-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">150</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">raw</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">standard_normal</code><code class="p">(</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">)</code><code class="p">)</code><code class="o">.</code><code class="n">cumsum</code><code class="p">(</code><code class="n">axis</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-3" id="co_python__numpy__matplotlib__pandas_CO34-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">151</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">index</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">date_range</code><code class="p">(</code><code class="s1">'</code><code class="s1">2022-1-1</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">periods</code><code class="o">=</code><code class="nb">len</code><code class="p">(</code><code class="n">raw</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">freq</code><code class="o">=</code><code class="s1">'</code><code class="s1">M</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-4" id="co_python__numpy__matplotlib__pandas_CO34-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">152</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">columns</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s1">'</code><code class="s1">no1</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">no2</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">no3</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-5" id="co_python__numpy__matplotlib__pandas_CO34-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">153</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="n">raw</code><code class="p">,</code><code> </code><code class="n">index</code><code class="o">=</code><code class="n">index</code><code class="p">,</code><code> </code><code class="n">columns</code><code class="o">=</code><code class="n">columns</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-6" id="co_python__numpy__matplotlib__pandas_CO34-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">154</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO34-7" id="co_python__numpy__matplotlib__pandas_CO34-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">154</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.804458</code><code>  </code><code class="mf">0.320932</code><code> </code><code class="o">-</code><code class="mf">0.025483</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code> </code><code class="o">-</code><code class="mf">0.160134</code><code>  </code><code class="mf">0.020135</code><code>  </code><code class="mf">0.363992</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.267572</code><code> </code><code class="o">-</code><code class="mf">0.459848</code><code>  </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.732239</code><code>  </code><code class="mf">0.207433</code><code>  </code><code class="mf">0.152912</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.928309</code><code> </code><code class="o">-</code><code class="mf">0.198527</code><code> </code><code class="o">-</code><code class="mf">0.029466</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">1.825116</code><code> </code><code class="o">-</code><code class="mf">0.336949</code><code>  </code><code class="mf">0.676227</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.553321</code><code> </code><code class="o">-</code><code class="mf">1.323696</code><code>  </code><code class="mf">0.341391</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.652803</code><code> </code><code class="o">-</code><code class="mf">0.916504</code><code>  </code><code class="mf">1.260779</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.723832</code><code> </code><code class="o">-</code><code class="mf">0.206284</code><code>  </code><code class="mf">2.310688</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-1" id="callout_python__numpy__matplotlib__pandas_CO34-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Imports the <code>pandas</code> package.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-2" id="callout_python__numpy__matplotlib__pandas_CO34-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Fixes the seed value of the random number generator of <code>NumPy</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-3" id="callout_python__numpy__matplotlib__pandas_CO34-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Creates an <code>ndarray</code> object with random numbers.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-4" id="callout_python__numpy__matplotlib__pandas_CO34-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Defines a <code>DatetimeIndex</code> object with some dates.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-5" id="callout_python__numpy__matplotlib__pandas_CO34-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Defines a <code>list</code> object containing the column names (labels).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-6" id="callout_python__numpy__matplotlib__pandas_CO34-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Instantiates a <code>DataFrame</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO34-7" id="callout_python__numpy__matplotlib__pandas_CO34-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Shows the <code>str</code> (HTML) representation of the new object.</p></dd>&#13;
</dl>&#13;
&#13;
<p><code>DataFrame</code> objects have built in a multitude of basic, advanced, and convenience methods, a few of which are illustrated in the Python code that follows:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">155</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">head</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO35-1" id="co_python__numpy__matplotlib__pandas_CO35-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">155</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.804458</code><code>  </code><code class="mf">0.320932</code><code> </code><code class="o">-</code><code class="mf">0.025483</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code> </code><code class="o">-</code><code class="mf">0.160134</code><code>  </code><code class="mf">0.020135</code><code>  </code><code class="mf">0.363992</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.267572</code><code> </code><code class="o">-</code><code class="mf">0.459848</code><code>  </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.732239</code><code>  </code><code class="mf">0.207433</code><code>  </code><code class="mf">0.152912</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.928309</code><code> </code><code class="o">-</code><code class="mf">0.198527</code><code> </code><code class="o">-</code><code class="mf">0.029466</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">156</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">tail</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO35-2" id="co_python__numpy__matplotlib__pandas_CO35-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">156</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">1.825116</code><code> </code><code class="o">-</code><code class="mf">0.336949</code><code>  </code><code class="mf">0.676227</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.553321</code><code> </code><code class="o">-</code><code class="mf">1.323696</code><code>  </code><code class="mf">0.341391</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.652803</code><code> </code><code class="o">-</code><code class="mf">0.916504</code><code>  </code><code class="mf">1.260779</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.723832</code><code> </code><code class="o">-</code><code class="mf">0.206284</code><code>  </code><code class="mf">2.310688</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">157</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">index</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO35-3" id="co_python__numpy__matplotlib__pandas_CO35-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">157</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">DatetimeIndex</code><code class="p">(</code><code class="p">[</code><code class="s1">'</code><code class="s1">2022-01-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-02-28</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-03-31</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>           </code><code class="s1">'</code><code class="s1">2022-04-30</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="s1">'</code><code class="s1">2022-05-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-06-30</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-07-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-08-31</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                         </code><code class="s1">'</code><code class="s1">2022-09-30</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-10-31</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                        </code><code class="n">dtype</code><code class="o">=</code><code class="s1">'</code><code class="s1">datetime64[ns]</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">freq</code><code class="o">=</code><code class="s1">'</code><code class="s1">M</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">158</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">columns</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO35-4" id="co_python__numpy__matplotlib__pandas_CO35-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">158</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">Index</code><code class="p">(</code><code class="p">[</code><code class="s1">'</code><code class="s1">no1</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">no2</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">no3</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="o">=</code><code class="s1">'</code><code class="s1">object</code><code class="s1">'</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">159</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO35-5" id="co_python__numpy__matplotlib__pandas_CO35-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>          </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">DatetimeIndex</code><code class="p">:</code><code> </code><code class="mi">10</code><code> </code><code class="n">entries</code><code class="p">,</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="n">to</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code>&#13;
</code><code>          </code><code class="n">Data</code><code> </code><code class="n">columns</code><code> </code><code class="p">(</code><code class="n">total</code><code> </code><code class="mi">3</code><code> </code><code class="n">columns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>           </code><code class="c1">#   Column  Non-Null Count  Dtype</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>&#13;
</code><code>           </code><code class="mi">0</code><code>   </code><code class="n">no1</code><code>     </code><code class="mi">10</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>     </code><code class="n">float64</code><code>&#13;
</code><code>           </code><code class="mi">1</code><code>   </code><code class="n">no2</code><code>     </code><code class="mi">10</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>     </code><code class="n">float64</code><code>&#13;
</code><code>           </code><code class="mi">2</code><code>   </code><code class="n">no3</code><code>     </code><code class="mi">10</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>     </code><code class="n">float64</code><code>&#13;
</code><code>          </code><code class="n">dtypes</code><code class="p">:</code><code> </code><code class="n">float64</code><code class="p">(</code><code class="mi">3</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">memory</code><code> </code><code class="n">usage</code><code class="p">:</code><code> </code><code class="mf">320.0</code><code> </code><code class="nb">bytes</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">160</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">describe</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO35-6" id="co_python__numpy__matplotlib__pandas_CO35-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">160</code><code class="p">]</code><code class="p">:</code><code>              </code><code class="n">no1</code><code>        </code><code class="n">no2</code><code>        </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="n">count</code><code>  </code><code class="mf">10.000000</code><code>  </code><code class="mf">10.000000</code><code>  </code><code class="mf">10.000000</code><code>&#13;
</code><code>          </code><code class="n">mean</code><code>   </code><code class="o">-</code><code class="mf">0.798847</code><code>  </code><code class="o">-</code><code class="mf">0.227665</code><code>   </code><code class="mf">0.672067</code><code>&#13;
</code><code>          </code><code class="n">std</code><code>     </code><code class="mf">0.607430</code><code>   </code><code class="mf">0.578071</code><code>   </code><code class="mf">0.712430</code><code>&#13;
</code><code>          </code><code class="nb">min</code><code>    </code><code class="o">-</code><code class="mf">1.928309</code><code>  </code><code class="o">-</code><code class="mf">1.323696</code><code>  </code><code class="o">-</code><code class="mf">0.029466</code><code>&#13;
</code><code>          </code><code class="mi">25</code><code class="o">%</code><code>    </code><code class="o">-</code><code class="mf">0.786404</code><code>  </code><code class="o">-</code><code class="mf">0.429123</code><code>   </code><code class="mf">0.200031</code><code>&#13;
</code><code>          </code><code class="mi">50</code><code class="o">%</code><code>    </code><code class="o">-</code><code class="mf">0.688317</code><code>  </code><code class="o">-</code><code class="mf">0.202406</code><code>   </code><code class="mf">0.520109</code><code>&#13;
</code><code>          </code><code class="mi">75</code><code class="o">%</code><code>    </code><code class="o">-</code><code class="mf">0.393844</code><code>   </code><code class="mf">0.160609</code><code>   </code><code class="mf">0.896922</code><code>&#13;
</code><code>          </code><code class="nb">max</code><code>    </code><code class="o">-</code><code class="mf">0.160134</code><code>   </code><code class="mf">0.616657</code><code>   </code><code class="mf">2.310688</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO35-1" id="callout_python__numpy__matplotlib__pandas_CO35-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Shows the first five data rows.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO35-2" id="callout_python__numpy__matplotlib__pandas_CO35-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Shows the last five data rows.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO35-3" id="callout_python__numpy__matplotlib__pandas_CO35-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Prints the <code>index</code> attribute of the object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO35-4" id="callout_python__numpy__matplotlib__pandas_CO35-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Prints the <code>column</code> attribute of the object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO35-5" id="callout_python__numpy__matplotlib__pandas_CO35-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Shows some meta data about the object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO35-6" id="callout_python__numpy__matplotlib__pandas_CO35-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Provides selected summary statistics about the data.</p></dd>&#13;
</dl>&#13;
<div data-type="tip">&#13;
<p>While <code>NumPy</code> provides a specialized data structure for multi-dimensional arrays (with numerical data in general), <code>pandas</code> takes specialization one step further to tabular (two-dimensional) data with the <code>DataFrame</code> class. In particular, <code>pandas</code> is strong in handling financial time series data, as subsequent examples illustrate.<a data-startref="ix_A_python_numpy_pandas_-asciidoc12" data-type="indexterm" id="idm45785326156776"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc11" data-type="indexterm" id="idm45785326156104"/></p>&#13;
</div>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Numerical Operations" data-type="sect2"><div class="sect2" id="idm45785326155336">&#13;
<h2>Numerical Operations</h2>&#13;
&#13;
<p><a data-primary="numerical operations, pandas" data-type="indexterm" id="idm45785326154168"/><a data-primary="pandas" data-secondary="numerical operations" data-type="indexterm" id="idm45785326153496"/>Numerical operations are in general as easy with <code>DataFrame</code> objects as with <code>NumPy</code> <code>ndarray</code> objects. They are also quite close in terms of syntax:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">161</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">print</code><code class="p">(</code><code class="n">df</code><code> </code><code class="o">*</code><code> </code><code class="mi">2</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO36-1" id="co_python__numpy__matplotlib__pandas_CO36-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>                           </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.608917</code><code>  </code><code class="mf">0.641863</code><code> </code><code class="o">-</code><code class="mf">0.050966</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code> </code><code class="o">-</code><code class="mf">0.320269</code><code>  </code><code class="mf">0.040270</code><code>  </code><code class="mf">0.727983</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.535144</code><code> </code><code class="o">-</code><code class="mf">0.919696</code><code>  </code><code class="mf">1.918054</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">1.464479</code><code>  </code><code class="mf">0.414866</code><code>  </code><code class="mf">0.305823</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">3.856618</code><code> </code><code class="o">-</code><code class="mf">0.397054</code><code> </code><code class="o">-</code><code class="mf">0.058932</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">3.650232</code><code> </code><code class="o">-</code><code class="mf">0.673898</code><code>  </code><code class="mf">1.352453</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.106642</code><code> </code><code class="o">-</code><code class="mf">2.647393</code><code>  </code><code class="mf">0.682782</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.305605</code><code> </code><code class="o">-</code><code class="mf">1.833009</code><code>  </code><code class="mf">2.521557</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.681369</code><code>  </code><code class="mf">1.233314</code><code>  </code><code class="mf">1.421210</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.447664</code><code> </code><code class="o">-</code><code class="mf">0.412568</code><code>  </code><code class="mf">4.621376</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">162</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO36-2" id="co_python__numpy__matplotlib__pandas_CO36-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">162</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">no1</code><code>    </code><code class="mf">0.607430</code><code>&#13;
</code><code>          </code><code class="n">no2</code><code>    </code><code class="mf">0.578071</code><code>&#13;
</code><code>          </code><code class="n">no3</code><code>    </code><code class="mf">0.712430</code><code>&#13;
</code><code>          </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">163</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO36-3" id="co_python__numpy__matplotlib__pandas_CO36-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">163</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">no1</code><code>   </code><code class="o">-</code><code class="mf">0.798847</code><code>&#13;
</code><code>          </code><code class="n">no2</code><code>   </code><code class="o">-</code><code class="mf">0.227665</code><code>&#13;
</code><code>          </code><code class="n">no3</code><code>    </code><code class="mf">0.672067</code><code>&#13;
</code><code>          </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">164</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">axis</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO36-4" id="co_python__numpy__matplotlib__pandas_CO36-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">164</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.169670</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code>    </code><code class="mf">0.074664</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">0.077202</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code>   </code><code class="o">-</code><code class="mf">0.123965</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.718767</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code>   </code><code class="o">-</code><code class="mf">0.495280</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.511875</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.102843</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.328859</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">0.460191</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">165</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="n">df</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO36-5" id="co_python__numpy__matplotlib__pandas_CO36-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">165</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">no1</code><code>   </code><code class="o">-</code><code class="mf">0.798847</code><code>&#13;
</code><code>          </code><code class="n">no2</code><code>   </code><code class="o">-</code><code class="mf">0.227665</code><code>&#13;
</code><code>          </code><code class="n">no3</code><code>    </code><code class="mf">0.672067</code><code>&#13;
</code><code>          </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO36-1" id="callout_python__numpy__matplotlib__pandas_CO36-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Scalar (vectorized) multiplication of all elements.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO36-2" id="callout_python__numpy__matplotlib__pandas_CO36-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Calculates the column-wise standard deviation…</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO36-3" id="callout_python__numpy__matplotlib__pandas_CO36-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>…and mean value. With <code>DataFrame</code> objects, column-wise operations are the default.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO36-4" id="callout_python__numpy__matplotlib__pandas_CO36-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Calculates the mean value per index value (that is, row-wise).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO36-5" id="callout_python__numpy__matplotlib__pandas_CO36-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Applies a function of <code>NumPy</code> to the <code>DataFrame</code> object.</p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Data Selection" data-type="sect2"><div class="sect2" id="idm45785325459560">&#13;
<h2>Data Selection</h2>&#13;
&#13;
<p><a data-primary="pandas" data-secondary="data selection" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc13"/>Pieces of data can be looked up via different mechanisms:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">166</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="p">[</code><code class="s1">'</code><code class="s1">no2</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-1" id="co_python__numpy__matplotlib__pandas_CO37-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">166</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">0.320932</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code>    </code><code class="mf">0.020135</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.459848</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.207433</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.198527</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code>   </code><code class="o">-</code><code class="mf">0.336949</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">1.323696</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.916504</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.616657</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.206284</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code class="p">,</code><code> </code><code class="n">Name</code><code class="p">:</code><code> </code><code class="n">no2</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">167</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-2" id="co_python__numpy__matplotlib__pandas_CO37-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">167</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">no1</code><code>   </code><code class="o">-</code><code class="mf">0.804458</code><code>&#13;
</code><code>          </code><code class="n">no2</code><code>    </code><code class="mf">0.320932</code><code>&#13;
</code><code>          </code><code class="n">no3</code><code>   </code><code class="o">-</code><code class="mf">0.025483</code><code>&#13;
</code><code>          </code><code class="n">Name</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="mo">00</code><code class="p">:</code><code class="mo">00</code><code class="p">:</code><code class="mo">00</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">168</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">2</code><code class="p">:</code><code class="mi">4</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-3" id="co_python__numpy__matplotlib__pandas_CO37-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">168</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.267572</code><code> </code><code class="o">-</code><code class="mf">0.459848</code><code>  </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.732239</code><code>  </code><code class="mf">0.207433</code><code>  </code><code class="mf">0.152912</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">169</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">2</code><code class="p">:</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-4" id="co_python__numpy__matplotlib__pandas_CO37-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">169</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.459848</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.207433</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code class="p">,</code><code> </code><code class="n">Name</code><code class="p">:</code><code> </code><code class="n">no2</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">170</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">no3</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">3</code><code class="p">:</code><code class="mi">7</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-5" id="co_python__numpy__matplotlib__pandas_CO37-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">170</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.152912</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.029466</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.676227</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">0.341391</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code class="p">,</code><code> </code><code class="n">Name</code><code class="p">:</code><code> </code><code class="n">no3</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">171</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">loc</code><code class="p">[</code><code class="s1">'</code><code class="s1">2022-3-31</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-6" id="co_python__numpy__matplotlib__pandas_CO37-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">171</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">no1</code><code>   </code><code class="o">-</code><code class="mf">0.267572</code><code>&#13;
</code><code>          </code><code class="n">no2</code><code>   </code><code class="o">-</code><code class="mf">0.459848</code><code>&#13;
</code><code>          </code><code class="n">no3</code><code>    </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="n">Name</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="mo">00</code><code class="p">:</code><code class="mo">00</code><code class="p">:</code><code class="mo">00</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">172</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">loc</code><code class="p">[</code><code class="s1">'</code><code class="s1">2022-5-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">no3</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-7" id="co_python__numpy__matplotlib__pandas_CO37-7"><img alt="7" src="assets/7.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">172</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">-</code><code class="mf">0.02946577492329111</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">173</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="p">[</code><code class="s1">'</code><code class="s1">no1</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">+</code><code> </code><code class="mi">3</code><code> </code><code class="o">*</code><code> </code><code class="n">df</code><code class="p">[</code><code class="s1">'</code><code class="s1">no3</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO37-8" id="co_python__numpy__matplotlib__pandas_CO37-8"><img alt="8" src="assets/8.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">173</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">0.880907</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code>    </code><code class="mf">0.931841</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">2.609510</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code>   </code><code class="o">-</code><code class="mf">0.273505</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code>   </code><code class="o">-</code><code class="mf">2.016706</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">0.203564</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">0.470852</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">3.129533</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="mf">1.791130</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="mf">6.208233</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-1" id="callout_python__numpy__matplotlib__pandas_CO37-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Selects a column by name.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-2" id="callout_python__numpy__matplotlib__pandas_CO37-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Selects a row by index position.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-3" id="callout_python__numpy__matplotlib__pandas_CO37-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Selects two rows by index position.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-4" id="callout_python__numpy__matplotlib__pandas_CO37-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Selects two row values from one column by index positions.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-5" id="callout_python__numpy__matplotlib__pandas_CO37-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Uses the dot lookup syntax to select a column.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-6" id="callout_python__numpy__matplotlib__pandas_CO37-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Selects a row by index value.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-7" id="callout_python__numpy__matplotlib__pandas_CO37-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Selects a single data point by index value and column name.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO37-8" id="callout_python__numpy__matplotlib__pandas_CO37-8"><img alt="8" src="assets/8.png"/></a></dt>&#13;
<dd><p>Implements a vectorized arithmetic operation.<a data-startref="ix_A_python_numpy_pandas_-asciidoc13" data-type="indexterm" id="idm45785324931128"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Boolean Operations" data-type="sect2"><div class="sect2" id="idm45785325287688">&#13;
<h2>Boolean Operations</h2>&#13;
&#13;
<p><a data-primary="Boolean operations" data-secondary="pandas" data-type="indexterm" id="idm45785324929224"/><a data-primary="pandas" data-secondary="Boolean operations" data-type="indexterm" id="idm45785324928248"/>Data selection based on Boolean operations is also a strength of pandas:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">174</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="p">[</code><code class="s1">'</code><code class="s1">no3</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="mf">0.5</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-1" id="co_python__numpy__matplotlib__pandas_CO38-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">174</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="bp">False</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code>    </code><code class="bp">False</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code>     </code><code class="bp">True</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code>    </code><code class="bp">False</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="bp">False</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code>     </code><code class="bp">True</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code>    </code><code class="bp">False</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code>     </code><code class="bp">True</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code>     </code><code class="bp">True</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code>     </code><code class="bp">True</code><code>&#13;
</code><code>          </code><code class="n">Freq</code><code class="p">:</code><code> </code><code class="n">M</code><code class="p">,</code><code> </code><code class="n">Name</code><code class="p">:</code><code> </code><code class="n">no3</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="nb">bool</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">175</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="p">[</code><code class="n">df</code><code class="p">[</code><code class="s1">'</code><code class="s1">no3</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="mf">0.5</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-2" id="co_python__numpy__matplotlib__pandas_CO38-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">175</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.267572</code><code> </code><code class="o">-</code><code class="mf">0.459848</code><code>  </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">1.825116</code><code> </code><code class="o">-</code><code class="mf">0.336949</code><code>  </code><code class="mf">0.676227</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.652803</code><code> </code><code class="o">-</code><code class="mf">0.916504</code><code>  </code><code class="mf">1.260779</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.723832</code><code> </code><code class="o">-</code><code class="mf">0.206284</code><code>  </code><code class="mf">2.310688</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">176</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="p">[</code><code class="p">(</code><code class="n">df</code><code class="o">.</code><code class="n">no3</code><code> </code><code class="o">&gt;</code><code> </code><code class="mf">0.5</code><code class="p">)</code><code> </code><code class="o">&amp;</code><code> </code><code class="p">(</code><code class="n">df</code><code class="o">.</code><code class="n">no2</code><code> </code><code class="o">&gt;</code><code> </code><code class="o">-</code><code class="mf">0.25</code><code class="p">)</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-3" id="co_python__numpy__matplotlib__pandas_CO38-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">176</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.723832</code><code> </code><code class="o">-</code><code class="mf">0.206284</code><code>  </code><code class="mf">2.310688</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">177</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="p">[</code><code class="n">df</code><code class="o">.</code><code class="n">index</code><code> </code><code class="o">&gt;</code><code> </code><code class="s1">'</code><code class="s1">2022-5-15</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-4" id="co_python__numpy__matplotlib__pandas_CO38-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">177</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.928309</code><code> </code><code class="o">-</code><code class="mf">0.198527</code><code> </code><code class="o">-</code><code class="mf">0.029466</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">1.825116</code><code> </code><code class="o">-</code><code class="mf">0.336949</code><code>  </code><code class="mf">0.676227</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.553321</code><code> </code><code class="o">-</code><code class="mf">1.323696</code><code>  </code><code class="mf">0.341391</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.652803</code><code> </code><code class="o">-</code><code class="mf">0.916504</code><code>  </code><code class="mf">1.260779</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.723832</code><code> </code><code class="o">-</code><code class="mf">0.206284</code><code>  </code><code class="mf">2.310688</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">178</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">query</code><code class="p">(</code><code class="s1">'</code><code class="s1">no2 &gt; 0.1</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-5" id="co_python__numpy__matplotlib__pandas_CO38-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">178</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.804458</code><code>  </code><code class="mf">0.320932</code><code> </code><code class="o">-</code><code class="mf">0.025483</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.732239</code><code>  </code><code class="mf">0.207433</code><code>  </code><code class="mf">0.152912</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">179</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">a</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mf">0.5</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-5" id="co_python__numpy__matplotlib__pandas_CO38-6"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">180</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">query</code><code class="p">(</code><code class="s1">'</code><code class="s1">no1 &gt; @a</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO38-5" id="co_python__numpy__matplotlib__pandas_CO38-7"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">180</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code> </code><code class="o">-</code><code class="mf">0.160134</code><code>  </code><code class="mf">0.020135</code><code>  </code><code class="mf">0.363992</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.267572</code><code> </code><code class="o">-</code><code class="mf">0.459848</code><code>  </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO38-1" id="callout_python__numpy__matplotlib__pandas_CO38-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Which values in column <code>no3</code> are greater than 0.5?</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO38-2" id="callout_python__numpy__matplotlib__pandas_CO38-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Select all such rows for which the condition is <code>True</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO38-3" id="callout_python__numpy__matplotlib__pandas_CO38-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Combines two conditions with the <code>&amp;</code> (bitwise <code>and</code>) operator; <code>|</code> is the bitwise <code>or</code> operator.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO38-4" id="callout_python__numpy__matplotlib__pandas_CO38-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Selects all rows with index values greater (later) than <code>'2020-5-15'</code> (here, based on <code>str</code> object sorting).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO38-5" id="callout_python__numpy__matplotlib__pandas_CO38-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Uses the <code>.query()</code> method to select rows given conditions as <code>str</code> objects.</p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Plotting with pandas" data-type="sect2"><div class="sect2" id="idm45785324728952">&#13;
<h2>Plotting with pandas</h2>&#13;
&#13;
<p><a data-primary="matplotlib" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc14"/><a data-primary="pandas" data-secondary="plotting" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc15"/><a data-primary="plotting, with pandas" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc16"/><code>pandas</code> is well integrated with the <code>matplotlib</code> plotting package, which makes it convenient to plot data stored in <code>DataFrame</code> objects. In general, a single method call does the trick already (see <a data-type="xref" href="#plot_06">Figure A-6</a>):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">181</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO39-1" id="co_python__numpy__matplotlib__pandas_CO39-1"><img alt="1" src="assets/1.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO39-1" id="callout_python__numpy__matplotlib__pandas_CO39-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Plots the data as a line plot (column-wise) and fixes the figure size.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="plot_06">&#13;
<img alt="pfat aa06" src="assets/pfat_aa06.png"/>&#13;
<h6><span class="label">Figure A-6. </span>Line plot with <code>pandas</code></h6>&#13;
</div></figure>&#13;
&#13;
<p><code>pandas</code> takes care of the proper formatting of the index values, dates in this case. This only works for a <code>DatetimeIndex</code> properly. <a data-primary="DatetimeIndex() constructor" data-type="indexterm" id="idm45785325795512"/>If the date-time information is available as <code>str</code> objects only, the <code>DatetimeIndex()</code> constructor can be used to transform the date-time information easily:</p>&#13;
&#13;
<pre class="pagebreak-before" data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">182</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">index</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s1">'</code><code class="s1">2022-01-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-02-28</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-03-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-04-30</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                   </code><code class="s1">'</code><code class="s1">2022-05-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-06-30</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-07-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-08-31</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                   </code><code class="s1">'</code><code class="s1">2022-09-30</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-10-31</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO40-1" id="co_python__numpy__matplotlib__pandas_CO40-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">183</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DatetimeIndex</code><code class="p">(</code><code class="n">df</code><code class="o">.</code><code class="n">index</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO40-2" id="co_python__numpy__matplotlib__pandas_CO40-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">183</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">DatetimeIndex</code><code class="p">(</code><code class="p">[</code><code class="s1">'</code><code class="s1">2022-01-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-02-28</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-03-31</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>           </code><code class="s1">'</code><code class="s1">2022-04-30</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="s1">'</code><code class="s1">2022-05-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-06-30</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-07-31</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-08-31</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                         </code><code class="s1">'</code><code class="s1">2022-09-30</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">2022-10-31</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                        </code><code class="n">dtype</code><code class="o">=</code><code class="s1">'</code><code class="s1">datetime64[ns]</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">freq</code><code class="o">=</code><code class="s1">'</code><code class="s1">M</code><code class="s1">'</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO40-1" id="callout_python__numpy__matplotlib__pandas_CO40-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Date-time index data as a <code>list</code> object of <code>str</code> objects.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO40-2" id="callout_python__numpy__matplotlib__pandas_CO40-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Generates a <code>DatetimeIndex</code> object out of the <code>list</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Histograms are also generated this way. In both cases, <code>pandas</code> takes care of the handling of the single columns and automatically generates single lines (with respective legend entries, see <a data-type="xref" href="#plot_06">Figure A-6</a>) and generates respective sub-plots with three different histograms (as in <a data-type="xref" href="#plot_07">Figure A-7</a>):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">184</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">hist</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO41-1" id="co_python__numpy__matplotlib__pandas_CO41-1"><img alt="1" src="assets/1.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO41-1" id="callout_python__numpy__matplotlib__pandas_CO41-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Generates a histogram for each column.<a data-startref="ix_A_python_numpy_pandas_-asciidoc16" data-type="indexterm" id="idm45785324097048"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc15" data-type="indexterm" id="idm45785324096376"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc14" data-type="indexterm" id="idm45785324095736"/></p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="plot_07">&#13;
<img alt="pfat aa07" src="assets/pfat_aa07.png"/>&#13;
<h6><span class="label">Figure A-7. </span>Histograms with <code>pandas</code></h6>&#13;
</div></figure>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Input-Output Operations" data-type="sect2"><div class="sect2" id="idm45785324442920">&#13;
<h2>Input-Output Operations</h2>&#13;
&#13;
<p><a data-primary="CSV files" data-secondary="input-output operations" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc17"/><a data-primary="pandas" data-secondary="input-output operations" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc18"/>Yet another strength of <code>pandas</code> is the exporting and importing of data to and from diverse data storage formats (see also <a data-type="xref" href="ch03.html#financial_data">Chapter 3</a>). Consider the case of comma separated value (CSV) files:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">185</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">to_csv</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.csv</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO42-1" id="co_python__numpy__matplotlib__pandas_CO42-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">186</code><code class="p">]</code><code class="p">:</code><code> </code><code class="k">with</code><code> </code><code class="nb">open</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.csv</code><code class="s1">'</code><code class="p">)</code><code> </code><code class="k">as</code><code> </code><code class="n">f</code><code class="p">:</code><code>&#13;
</code><code>              </code><code class="k">for</code><code> </code><code class="n">line</code><code> </code><code class="ow">in</code><code> </code><code class="n">f</code><code class="o">.</code><code class="n">readlines</code><code class="p">(</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>                  </code><code class="k">print</code><code class="p">(</code><code class="n">line</code><code class="p">,</code><code> </code><code class="n">end</code><code class="o">=</code><code class="s1">'</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO42-2" id="co_python__numpy__matplotlib__pandas_CO42-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>          </code><code class="p">,</code><code class="n">no1</code><code class="p">,</code><code class="n">no2</code><code class="p">,</code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code class="p">,</code><code class="o">-</code><code class="mf">0.8044583035248052</code><code class="p">,</code><code class="mf">0.3209315470898572</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="p">,</code><code class="o">-</code><code class="mf">0.025482880472072204</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code class="p">,</code><code class="o">-</code><code class="mf">0.16013447509799061</code><code class="p">,</code><code class="mf">0.020134874302836725</code><code class="p">,</code><code class="mf">0.363991673815235</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code class="p">,</code><code class="o">-</code><code class="mf">0.26757177678888727</code><code class="p">,</code><code class="o">-</code><code class="mf">0.4598482010579319</code><code class="p">,</code><code class="mf">0.9590271758917923</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code class="p">,</code><code class="o">-</code><code class="mf">0.7322393029842283</code><code class="p">,</code><code class="mf">0.2074331059300848</code><code class="p">,</code><code class="mf">0.15291156544935125</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code class="p">,</code><code class="o">-</code><code class="mf">1.9283091368170622</code><code class="p">,</code><code class="o">-</code><code class="mf">0.19852705542997268</code><code class="p">,</code><code>&#13;
</code><code>          </code><code class="p">,</code><code class="o">-</code><code class="mf">0.02946577492329111</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code class="p">,</code><code class="o">-</code><code class="mf">1.8251162427820806</code><code class="p">,</code><code class="o">-</code><code class="mf">0.33694904401573555</code><code class="p">,</code><code class="mf">0.6762266000356951</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code class="p">,</code><code class="o">-</code><code class="mf">0.5533209663746153</code><code class="p">,</code><code class="o">-</code><code class="mf">1.3236963728130973</code><code class="p">,</code><code class="mf">0.34139114682415433</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code class="p">,</code><code class="o">-</code><code class="mf">0.6528026643843922</code><code class="p">,</code><code class="o">-</code><code class="mf">0.9165042724715742</code><code class="p">,</code><code class="mf">1.2607786860286034</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code class="p">,</code><code class="o">-</code><code class="mf">0.34068465431802875</code><code class="p">,</code><code class="mf">0.6166567928863607</code><code class="p">,</code><code class="mf">0.7106048210003031</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code class="p">,</code><code class="o">-</code><code class="mf">0.7238320652023266</code><code class="p">,</code><code class="o">-</code><code class="mf">0.20628417055270565</code><code class="p">,</code><code class="mf">2.310688189060956</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">187</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">from_csv</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">read_csv</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.csv</code><code class="s1">'</code><code class="p">,</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO42-3" id="co_python__numpy__matplotlib__pandas_CO42-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>                                </code><code class="n">index_col</code><code class="o">=</code><code class="mi">0</code><code class="p">,</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO42-4" id="co_python__numpy__matplotlib__pandas_CO42-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>                                </code><code class="n">parse_dates</code><code class="o">=</code><code class="bp">True</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO42-5" id="co_python__numpy__matplotlib__pandas_CO42-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">188</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">from_csv</code><code class="o">.</code><code class="n">head</code><code class="p">(</code><code class="p">)</code><code> </code><code class="c1">#  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO42-6" id="co_python__numpy__matplotlib__pandas_CO42-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">188</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.804458</code><code>  </code><code class="mf">0.320932</code><code> </code><code class="o">-</code><code class="mf">0.025483</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">02</code><code class="o">-</code><code class="mi">28</code><code> </code><code class="o">-</code><code class="mf">0.160134</code><code>  </code><code class="mf">0.020135</code><code>  </code><code class="mf">0.363992</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">03</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.267572</code><code> </code><code class="o">-</code><code class="mf">0.459848</code><code>  </code><code class="mf">0.959027</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">04</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.732239</code><code>  </code><code class="mf">0.207433</code><code>  </code><code class="mf">0.152912</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">05</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">1.928309</code><code> </code><code class="o">-</code><code class="mf">0.198527</code><code> </code><code class="o">-</code><code class="mf">0.029466</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO42-1" id="callout_python__numpy__matplotlib__pandas_CO42-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Writes the data to disk as a CSV file.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO42-2" id="callout_python__numpy__matplotlib__pandas_CO42-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Opens that file and prints the contents line by line.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO42-3" id="callout_python__numpy__matplotlib__pandas_CO42-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Reads the data stored in the CSV file into a new <code>DataFrame</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO42-4" id="callout_python__numpy__matplotlib__pandas_CO42-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Defines the first column to be the <code>index</code> column.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO42-5" id="callout_python__numpy__matplotlib__pandas_CO42-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Date-time information in the index column shall be transformed to <code>Timestamp</code> objects.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO42-6" id="callout_python__numpy__matplotlib__pandas_CO42-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Prints the first five rows of the new <code>DataFrame</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p>However, in general, you would store <code>DataFrame</code> objects on disk in more efficient binary formats like <a href="http://hdfgroup.org">HDF5</a>. <code>pandas</code> in this case wraps the functionality of the <a href="http://pytables.org"><code>PyTables</code> package</a>. The constructor function to be used is <code>HDFStore</code>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">189</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">h5</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">HDFStore</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.h5</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">w</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-1" id="co_python__numpy__matplotlib__pandas_CO43-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">190</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">h5</code><code class="p">[</code><code class="s1">'</code><code class="s1">df</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="n">df</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-2" id="co_python__numpy__matplotlib__pandas_CO43-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">191</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">h5</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-3" id="co_python__numpy__matplotlib__pandas_CO43-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">191</code><code class="p">]</code><code class="p">:</code><code> </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">io</code><code class="o">.</code><code class="n">pytables</code><code class="o">.</code><code class="n">HDFStore</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">File</code><code> </code><code class="n">path</code><code class="p">:</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">h5</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">192</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">from_h5</code><code> </code><code class="o">=</code><code> </code><code class="n">h5</code><code class="p">[</code><code class="s1">'</code><code class="s1">df</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-4" id="co_python__numpy__matplotlib__pandas_CO43-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">193</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">h5</code><code class="o">.</code><code class="n">close</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-5" id="co_python__numpy__matplotlib__pandas_CO43-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">194</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">from_h5</code><code class="o">.</code><code class="n">tail</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-6" id="co_python__numpy__matplotlib__pandas_CO43-6"><img alt="6" src="assets/6.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">194</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">no1</code><code>       </code><code class="n">no2</code><code>       </code><code class="n">no3</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">06</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">1.825116</code><code> </code><code class="o">-</code><code class="mf">0.336949</code><code>  </code><code class="mf">0.676227</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mo">07</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.553321</code><code> </code><code class="o">-</code><code class="mf">1.323696</code><code>  </code><code class="mf">0.341391</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">08</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.652803</code><code> </code><code class="o">-</code><code class="mf">0.916504</code><code>  </code><code class="mf">1.260779</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">09</code><code class="o">-</code><code class="mi">30</code><code> </code><code class="o">-</code><code class="mf">0.340685</code><code>  </code><code class="mf">0.616657</code><code>  </code><code class="mf">0.710605</code><code>&#13;
</code><code>          </code><code class="mi">2022</code><code class="o">-</code><code class="mi">10</code><code class="o">-</code><code class="mi">31</code><code> </code><code class="o">-</code><code class="mf">0.723832</code><code> </code><code class="o">-</code><code class="mf">0.206284</code><code>  </code><code class="mf">2.310688</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">195</code><code class="p">]</code><code class="p">:</code><code> </code><code class="err">!</code><code class="n">rm</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">csv</code><code> </code><code class="n">data</code><code class="o">.</code><code class="n">h5</code><code> </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO43-7" id="co_python__numpy__matplotlib__pandas_CO43-7"><img alt="7" src="assets/7.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-1" id="callout_python__numpy__matplotlib__pandas_CO43-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Opens an <code>HDFStore</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-2" id="callout_python__numpy__matplotlib__pandas_CO43-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Writes the <code>DataFrame</code> object (the data) to the <code>HDFStore</code>.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-3" id="callout_python__numpy__matplotlib__pandas_CO43-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Shows the structure/contents of the database file.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-4" id="callout_python__numpy__matplotlib__pandas_CO43-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Reads the data into a new <code>DataFrame</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-5" id="callout_python__numpy__matplotlib__pandas_CO43-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Closes the <code>HDFStore</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-6" id="callout_python__numpy__matplotlib__pandas_CO43-6"><img alt="6" src="assets/6.png"/></a></dt>&#13;
<dd><p>Shows the final five rows of the new <code>DataFrame</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO43-7" id="callout_python__numpy__matplotlib__pandas_CO43-7"><img alt="7" src="assets/7.png"/></a></dt>&#13;
<dd><p>Removes the CSV and HDF5 files<a data-startref="ix_A_python_numpy_pandas_-asciidoc18" data-type="indexterm" id="idm45785323801448"/><a data-startref="ix_A_python_numpy_pandas_-asciidoc17" data-type="indexterm" id="idm45785323800680"/>.<a data-startref="ix_A_python_numpy_pandas_-asciidoc10" data-type="indexterm" id="idm45785323799864"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section class="pagebreak-before less_space" data-pdf-bookmark="Case Study" data-type="sect1"><div class="sect1" id="idm45785323701560">&#13;
<h1>Case Study</h1>&#13;
&#13;
<p><a data-primary="pandas" data-secondary="case study" data-type="indexterm" id="ix_A_python_numpy_pandas_-asciidoc19"/>When it comes to financial data, there are useful data importing functions available in the <code>pandas</code> package (see also <a data-type="xref" href="ch03.html#financial_data">Chapter 3</a>). The following code reads historical daily data for the S&amp;P 500 index and the VIX volatility index from a CSV file stored on a remote server using the <code>pd.read_csv()</code> function:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">196</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">raw</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">read_csv</code><code class="p">(</code><code class="s1">'</code><code class="s1">http://hilpisch.com/pyalgo_eikon_eod_data.csv</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                           </code><code class="n">index_col</code><code class="o">=</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="n">parse_dates</code><code class="o">=</code><code class="bp">True</code><code class="p">)</code><code class="o">.</code><code class="n">dropna</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO44-1" id="co_python__numpy__matplotlib__pandas_CO44-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">197</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spx</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="n">raw</code><code class="p">[</code><code class="s1">'</code><code class="s1">.SPX</code><code class="s1">'</code><code class="p">]</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO44-2" id="co_python__numpy__matplotlib__pandas_CO44-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">198</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spx</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO44-3" id="co_python__numpy__matplotlib__pandas_CO44-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>          </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">DatetimeIndex</code><code class="p">:</code><code> </code><code class="mi">2516</code><code> </code><code class="n">entries</code><code class="p">,</code><code> </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">04</code><code> </code><code class="n">to</code><code> </code><code class="mi">2019</code><code class="o">-</code><code class="mi">12</code><code class="o">-</code><code class="mi">31</code><code>&#13;
</code><code>          </code><code class="n">Data</code><code> </code><code class="n">columns</code><code> </code><code class="p">(</code><code class="n">total</code><code> </code><code class="mi">1</code><code> </code><code class="n">columns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>           </code><code class="c1">#   Column  Non-Null Count  Dtype</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>&#13;
</code><code>           </code><code class="mi">0</code><code>   </code><code class="o">.</code><code class="n">SPX</code><code>    </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>          </code><code class="n">dtypes</code><code class="p">:</code><code> </code><code class="n">float64</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">memory</code><code> </code><code class="n">usage</code><code class="p">:</code><code> </code><code class="mf">39.3</code><code> </code><code class="n">KB</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">199</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">vix</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="n">raw</code><code class="p">[</code><code class="s1">'</code><code class="s1">.VIX</code><code class="s1">'</code><code class="p">]</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO44-4" id="co_python__numpy__matplotlib__pandas_CO44-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">200</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">vix</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO44-5" id="co_python__numpy__matplotlib__pandas_CO44-5"><img alt="5" src="assets/5.png"/></a><code>&#13;
</code><code>          </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">DatetimeIndex</code><code class="p">:</code><code> </code><code class="mi">2516</code><code> </code><code class="n">entries</code><code class="p">,</code><code> </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">04</code><code> </code><code class="n">to</code><code> </code><code class="mi">2019</code><code class="o">-</code><code class="mi">12</code><code class="o">-</code><code class="mi">31</code><code>&#13;
</code><code>          </code><code class="n">Data</code><code> </code><code class="n">columns</code><code> </code><code class="p">(</code><code class="n">total</code><code> </code><code class="mi">1</code><code> </code><code class="n">columns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>           </code><code class="c1">#   Column  Non-Null Count  Dtype</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>&#13;
</code><code>           </code><code class="mi">0</code><code>   </code><code class="o">.</code><code class="n">VIX</code><code>    </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>          </code><code class="n">dtypes</code><code class="p">:</code><code> </code><code class="n">float64</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">memory</code><code> </code><code class="n">usage</code><code class="p">:</code><code> </code><code class="mf">39.3</code><code> </code><code class="n">KB</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO44-1" id="callout_python__numpy__matplotlib__pandas_CO44-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Imports the <code>pandas</code> package.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO44-2" id="callout_python__numpy__matplotlib__pandas_CO44-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Reads historical data for the S&amp;P 500 stock index from a CSV file (data from Refinitiv Eikon Data API).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO44-3" id="callout_python__numpy__matplotlib__pandas_CO44-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Shows the meta information for the resulting <code>DataFrame</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO44-4" id="callout_python__numpy__matplotlib__pandas_CO44-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Reads historical data for the VIX volatility index.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO44-5" id="callout_python__numpy__matplotlib__pandas_CO44-5"><img alt="5" src="assets/5.png"/></a></dt>&#13;
<dd><p>Shows the meta information for the resulting <code>DataFrame</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Let us combine the respective <code>Close</code> columns into a single <code>DataFrame</code> object. Multiple ways are possible to accomplish this goal:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">201</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="n">spx</code><code class="p">)</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="n">vix</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO45-1" id="co_python__numpy__matplotlib__pandas_CO45-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">202</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">DatetimeIndex</code><code class="p">:</code><code> </code><code class="mi">2516</code><code> </code><code class="n">entries</code><code class="p">,</code><code> </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">04</code><code> </code><code class="n">to</code><code> </code><code class="mi">2019</code><code class="o">-</code><code class="mi">12</code><code class="o">-</code><code class="mi">31</code><code>&#13;
</code><code>          </code><code class="n">Data</code><code> </code><code class="n">columns</code><code> </code><code class="p">(</code><code class="n">total</code><code> </code><code class="mi">2</code><code> </code><code class="n">columns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>           </code><code class="c1">#   Column  Non-Null Count  Dtype</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>&#13;
</code><code>           </code><code class="mi">0</code><code>   </code><code class="o">.</code><code class="n">SPX</code><code>    </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>           </code><code class="mi">1</code><code>   </code><code class="o">.</code><code class="n">VIX</code><code>    </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>          </code><code class="n">dtypes</code><code class="p">:</code><code> </code><code class="n">float64</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">memory</code><code> </code><code class="n">usage</code><code class="p">:</code><code> </code><code class="mf">139.0</code><code> </code><code class="n">KB</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">203</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">merge</code><code class="p">(</code><code class="n">spx</code><code class="p">,</code><code> </code><code class="n">vix</code><code class="p">,</code><code>&#13;
</code><code>                            </code><code class="n">left_index</code><code class="o">=</code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="c1"># merge on left index</code><code>&#13;
</code><code>                            </code><code class="n">right_index</code><code class="o">=</code><code class="bp">True</code><code class="p">,</code><code>  </code><code class="c1"># merge on right index</code><code>&#13;
</code><code>                           </code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO45-2" id="co_python__numpy__matplotlib__pandas_CO45-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">204</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">DatetimeIndex</code><code class="p">:</code><code> </code><code class="mi">2516</code><code> </code><code class="n">entries</code><code class="p">,</code><code> </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">04</code><code> </code><code class="n">to</code><code> </code><code class="mi">2019</code><code class="o">-</code><code class="mi">12</code><code class="o">-</code><code class="mi">31</code><code>&#13;
</code><code>          </code><code class="n">Data</code><code> </code><code class="n">columns</code><code> </code><code class="p">(</code><code class="n">total</code><code> </code><code class="mi">2</code><code> </code><code class="n">columns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>           </code><code class="c1">#   Column  Non-Null Count  Dtype</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>&#13;
</code><code>           </code><code class="mi">0</code><code>   </code><code class="o">.</code><code class="n">SPX</code><code>    </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>           </code><code class="mi">1</code><code>   </code><code class="o">.</code><code class="n">VIX</code><code>    </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>          </code><code class="n">dtypes</code><code class="p">:</code><code> </code><code class="n">float64</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">memory</code><code> </code><code class="n">usage</code><code class="p">:</code><code> </code><code class="mf">139.0</code><code> </code><code class="n">KB</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">205</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="n">spx</code><code class="p">[</code><code class="s1">'</code><code class="s1">.SPX</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                                 </code><code class="s1">'</code><code class="s1">VIX</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="n">vix</code><code class="p">[</code><code class="s1">'</code><code class="s1">.VIX</code><code class="s1">'</code><code class="p">]</code><code class="p">}</code><code class="p">,</code><code>&#13;
</code><code>                                 </code><code class="n">index</code><code class="o">=</code><code class="n">spx</code><code class="o">.</code><code class="n">index</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO45-3" id="co_python__numpy__matplotlib__pandas_CO45-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">206</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">frame</code><code class="o">.</code><code class="n">DataFrame</code><code class="s1">'</code><code class="s1">&gt;</code><code>&#13;
</code><code>          </code><code class="n">DatetimeIndex</code><code class="p">:</code><code> </code><code class="mi">2516</code><code> </code><code class="n">entries</code><code class="p">,</code><code> </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">04</code><code> </code><code class="n">to</code><code> </code><code class="mi">2019</code><code class="o">-</code><code class="mi">12</code><code class="o">-</code><code class="mi">31</code><code>&#13;
</code><code>          </code><code class="n">Data</code><code> </code><code class="n">columns</code><code> </code><code class="p">(</code><code class="n">total</code><code> </code><code class="mi">2</code><code> </code><code class="n">columns</code><code class="p">)</code><code class="p">:</code><code>&#13;
</code><code>           </code><code class="c1">#   Column  Non-Null Count  Dtype</code><code>&#13;
</code><code>          </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>  </code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code class="o">-</code><code>&#13;
</code><code>           </code><code class="mi">0</code><code>   </code><code class="n">SPX</code><code>     </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>           </code><code class="mi">1</code><code>   </code><code class="n">VIX</code><code>     </code><code class="mi">2516</code><code> </code><code class="n">non</code><code class="o">-</code><code class="n">null</code><code>   </code><code class="n">float64</code><code>&#13;
</code><code>          </code><code class="n">dtypes</code><code class="p">:</code><code> </code><code class="n">float64</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code>&#13;
</code><code>          </code><code class="n">memory</code><code> </code><code class="n">usage</code><code class="p">:</code><code> </code><code class="mf">139.0</code><code> </code><code class="n">KB</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO45-1" id="callout_python__numpy__matplotlib__pandas_CO45-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Uses the <code>join</code> method to combine the relevant data sub-sets.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO45-2" id="callout_python__numpy__matplotlib__pandas_CO45-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Uses the <code>merge</code> function for the combination.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO45-3" id="callout_python__numpy__matplotlib__pandas_CO45-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Uses the <code>DataFrame</code> constructor in combination with a <code>dict</code> object as input.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Having available the combined data in a single object makes visual analysis straightforward (see <a data-type="xref" href="#example_01">Figure A-8</a>):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">207</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">spxvix</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">subplots</code><code class="o">=</code><code class="bp">True</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO46-1" id="co_python__numpy__matplotlib__pandas_CO46-1"><img alt="1" src="assets/1.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO46-1" id="callout_python__numpy__matplotlib__pandas_CO46-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Plots the two data sub-sets into separate sub-plots.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="example_01">&#13;
<img alt="pfat aa08" src="assets/pfat_aa08.png"/>&#13;
<h6><span class="label">Figure A-8. </span>Historical end-of-day closing values for the S&amp;P 500 and VIX</h6>&#13;
</div></figure>&#13;
&#13;
<p><code>pandas</code> also allows vectorized operations on whole <code>DataFrame</code> objects. The following code calculates the log returns over the two columns of the <code>spxvix</code> object simultaneously in vectorized fashion. The <code>shift</code> method shifts the data set by the number of index values as provided (in this particular case, by one trading day):</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">208</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rets</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">log</code><code class="p">(</code><code class="n">spxvix</code><code> </code><code class="o">/</code><code> </code><code class="n">spxvix</code><code class="o">.</code><code class="n">shift</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO47-1" id="co_python__numpy__matplotlib__pandas_CO47-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">209</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rets</code><code> </code><code class="o">=</code><code> </code><code class="n">rets</code><code class="o">.</code><code class="n">dropna</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO47-2" id="co_python__numpy__matplotlib__pandas_CO47-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">210</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rets</code><code class="o">.</code><code class="n">head</code><code class="p">(</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO47-3" id="co_python__numpy__matplotlib__pandas_CO47-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">210</code><code class="p">]</code><code class="p">:</code><code>                  </code><code class="n">SPX</code><code>       </code><code class="n">VIX</code><code>&#13;
</code><code>          </code><code class="n">Date</code><code>&#13;
</code><code>          </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">05</code><code>  </code><code class="mf">0.003111</code><code> </code><code class="o">-</code><code class="mf">0.035038</code><code>&#13;
</code><code>          </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">06</code><code>  </code><code class="mf">0.000545</code><code> </code><code class="o">-</code><code class="mf">0.009868</code><code>&#13;
</code><code>          </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mo">07</code><code>  </code><code class="mf">0.003993</code><code> </code><code class="o">-</code><code class="mf">0.005233</code><code>&#13;
</code><code>          </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">08</code><code>  </code><code class="mf">0.002878</code><code> </code><code class="o">-</code><code class="mf">0.050024</code><code>&#13;
</code><code>          </code><code class="mi">2010</code><code class="o">-</code><code class="mo">01</code><code class="o">-</code><code class="mi">11</code><code>  </code><code class="mf">0.001745</code><code> </code><code class="o">-</code><code class="mf">0.032514</code></pre>&#13;
<dl class="calloutlist pagebreak-before">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO47-1" id="callout_python__numpy__matplotlib__pandas_CO47-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Calculates the log returns for the two time series in fully vectorized fashion.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO47-2" id="callout_python__numpy__matplotlib__pandas_CO47-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Drops all rows containing <code>NaN</code> values (“not a number”).</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO47-3" id="callout_python__numpy__matplotlib__pandas_CO47-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Shows the first five rows of the new <code>DataFrame</code> object.</p></dd>&#13;
</dl>&#13;
&#13;
<p>Consider the plot in <a data-type="xref" href="#example_02">Figure A-9</a> showing the VIX log returns against the SPX log returns in a scatter plot with a linear regression. It illustrates a strong negative correlation between the two indexes:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">211</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rg</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyfit</code><code class="p">(</code><code class="n">rets</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">rets</code><code class="p">[</code><code class="s1">'</code><code class="s1">VIX</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO48-1" id="co_python__numpy__matplotlib__pandas_CO48-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">212</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rets</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">kind</code><code class="o">=</code><code class="s1">'</code><code class="s1">scatter</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">x</code><code class="o">=</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">y</code><code class="o">=</code><code class="s1">'</code><code class="s1">VIX</code><code class="s1">'</code><code class="p">,</code><code>&#13;
</code><code>                    </code><code class="n">style</code><code class="o">=</code><code class="s1">'</code><code class="s1">.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO48-2" id="co_python__numpy__matplotlib__pandas_CO48-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">rets</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyval</code><code class="p">(</code><code class="n">rg</code><code class="p">,</code><code> </code><code class="n">rets</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="p">)</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">r-</code><code class="s1">'</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO48-3" id="co_python__numpy__matplotlib__pandas_CO48-3"><img alt="3" src="assets/3.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO48-1" id="callout_python__numpy__matplotlib__pandas_CO48-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Implements a linear regression on the two log return data sets.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO48-2" id="callout_python__numpy__matplotlib__pandas_CO48-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Creates a scatter plot of the log returns.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO48-3" id="callout_python__numpy__matplotlib__pandas_CO48-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Plots the linear regression line in the existing scatter plot.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="example_02">&#13;
<img alt="pfat aa09" src="assets/pfat_aa09.png"/>&#13;
<h6><span class="label">Figure A-9. </span>Scatter plot of S&amp;P 500 and VIX log returns with linear regression line</h6>&#13;
</div></figure>&#13;
&#13;
<p class="pagebreak-before">Having financial time series data stored in a <code>pandas</code> <code>DataFrame</code> object makes the calculation of typical statistics straightforward:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">213</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">ret</code><code> </code><code class="o">=</code><code> </code><code class="n">rets</code><code class="o">.</code><code class="n">mean</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="mi">252</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO49-1" id="co_python__numpy__matplotlib__pandas_CO49-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">214</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">ret</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">214</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">SPX</code><code>    </code><code class="mf">0.104995</code><code>&#13;
</code><code>          </code><code class="n">VIX</code><code>   </code><code class="o">-</code><code class="mf">0.037526</code><code>&#13;
</code><code>          </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">215</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">vol</code><code> </code><code class="o">=</code><code> </code><code class="n">rets</code><code class="o">.</code><code class="n">std</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="n">math</code><code class="o">.</code><code class="n">sqrt</code><code class="p">(</code><code class="mi">252</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO49-2" id="co_python__numpy__matplotlib__pandas_CO49-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">216</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">vol</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">216</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">SPX</code><code>    </code><code class="mf">0.147902</code><code>&#13;
</code><code>          </code><code class="n">VIX</code><code>    </code><code class="mf">1.229086</code><code>&#13;
</code><code>          </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">217</code><code class="p">]</code><code class="p">:</code><code> </code><code class="p">(</code><code class="n">ret</code><code> </code><code class="o">-</code><code> </code><code class="mf">0.01</code><code class="p">)</code><code> </code><code class="o">/</code><code> </code><code class="n">vol</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO49-3" id="co_python__numpy__matplotlib__pandas_CO49-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">217</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">SPX</code><code>    </code><code class="mf">0.642279</code><code>&#13;
</code><code>          </code><code class="n">VIX</code><code>   </code><code class="o">-</code><code class="mf">0.038667</code><code>&#13;
</code><code>          </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="n">float64</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO49-1" id="callout_python__numpy__matplotlib__pandas_CO49-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Calculates the annualized mean return for the two indexes.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO49-2" id="callout_python__numpy__matplotlib__pandas_CO49-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Calculates the annualized standard deviation.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO49-3" id="callout_python__numpy__matplotlib__pandas_CO49-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Calculates the Sharpe ratio for a risk-free short rate of 1%.</p></dd>&#13;
</dl>&#13;
&#13;
<p>The maximum drawdown, which we only calculate for the S&amp;P 500 index, is a bit more involved. <a data-primary=".cummax() method" data-primary-sortas="cummax" data-type="indexterm" id="idm45785322243272"/>For its calculation, we use the <code>.cummax()</code> method, which records the running, historical maximum of the time series up to a certain date. Consider the following code that generates the plot in <a data-type="xref" href="#example_03">Figure A-10</a>:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">218</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO50-1" id="co_python__numpy__matplotlib__pandas_CO50-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>          </code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">S&amp;P 500</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO50-2" id="co_python__numpy__matplotlib__pandas_CO50-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>          </code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="o">.</code><code class="n">cummax</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">running maximum</code><code class="s1">'</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO50-3" id="co_python__numpy__matplotlib__pandas_CO50-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code>          </code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="mi">0</code><code class="p">)</code><code class="p">;</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO50-4" id="co_python__numpy__matplotlib__pandas_CO50-4"><img alt="4" src="assets/4.png"/></a></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO50-1" id="callout_python__numpy__matplotlib__pandas_CO50-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Instantiates a new <code>figure</code> object.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO50-2" id="callout_python__numpy__matplotlib__pandas_CO50-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Plots the historical closing values for the S&amp;P 500 index.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO50-3" id="callout_python__numpy__matplotlib__pandas_CO50-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Calculates and plots the running maximum over time.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO50-4" id="callout_python__numpy__matplotlib__pandas_CO50-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Places a legend on the canvas.</p></dd>&#13;
</dl>&#13;
&#13;
<figure><div class="figure" id="example_03">&#13;
<img alt="pfat aa10" src="assets/pfat_aa10.png"/>&#13;
<h6><span class="label">Figure A-10. </span>Historical closing prices of S&amp;P 500 index and running maximum</h6>&#13;
</div></figure>&#13;
&#13;
<p><a data-primary="absolute maximum drawdown" data-type="indexterm" id="idm45785321749768"/><a data-primary="maximum drawdown" data-type="indexterm" id="idm45785321749160"/>The <em>absolute maximum drawdown</em> is the largest difference between the running maximum and the current index level. In our particular case, it is about 580 index points. <a data-primary="relative maximum drawdown" data-type="indexterm" id="idm45785321747880"/>The <em>relative maximum drawdown</em> might sometimes be a bit more meaningful. It is here a value of about 20%:</p>&#13;
&#13;
<pre data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">219</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">adrawdown</code><code> </code><code class="o">=</code><code> </code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="o">.</code><code class="n">cummax</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">-</code><code> </code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO51-1" id="co_python__numpy__matplotlib__pandas_CO51-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">220</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">adrawdown</code><code class="o">.</code><code class="n">max</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">220</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">579.6500000000001</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">221</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rdrawdown</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="p">(</code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="o">.</code><code class="n">cummax</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">-</code><code> </code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="p">)</code><code> </code><code class="o">/</code><code>&#13;
</code><code>                        </code><code class="n">spxvix</code><code class="p">[</code><code class="s1">'</code><code class="s1">SPX</code><code class="s1">'</code><code class="p">]</code><code class="o">.</code><code class="n">cummax</code><code class="p">(</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO51-2" id="co_python__numpy__matplotlib__pandas_CO51-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">222</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">rdrawdown</code><code class="o">.</code><code class="n">max</code><code class="p">(</code><code class="p">)</code><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">222</code><code class="p">]</code><code class="p">:</code><code> </code><code class="mf">0.1977821376780688</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO51-1" id="callout_python__numpy__matplotlib__pandas_CO51-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Derives the <em>absolute</em> maximum drawdown.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO51-2" id="callout_python__numpy__matplotlib__pandas_CO51-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Derives the <em>relative</em> maximum drawdown.</p></dd>&#13;
</dl>&#13;
&#13;
<p>The longest drawdown period is calculated as follows. The following code selects all those data points where the drawdown is zero (where a new maximum is reached). It then calculates the difference between two consecutive index values (trading dates) for which the drawdown is zero and takes the maximum value. Given the data set we are analyzing, the longest drawdown period is 417 days:</p>&#13;
&#13;
<pre class="pagebreak-before" data-code-language="python" data-type="programlisting"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">223</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">temp</code><code> </code><code class="o">=</code><code> </code><code class="n">adrawdown</code><code class="p">[</code><code class="n">adrawdown</code><code> </code><code class="o">==</code><code> </code><code class="mi">0</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO52-1" id="co_python__numpy__matplotlib__pandas_CO52-1"><img alt="1" src="assets/1.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">224</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">periods_spx</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="n">temp</code><code class="o">.</code><code class="n">index</code><code class="p">[</code><code class="mi">1</code><code class="p">:</code><code class="p">]</code><code class="o">.</code><code class="n">to_pydatetime</code><code class="p">(</code><code class="p">)</code><code> </code><code class="o">-</code><code>&#13;
</code><code>                         </code><code class="n">temp</code><code class="o">.</code><code class="n">index</code><code class="p">[</code><code class="p">:</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code><code class="o">.</code><code class="n">to_pydatetime</code><code class="p">(</code><code class="p">)</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO52-2" id="co_python__numpy__matplotlib__pandas_CO52-2"><img alt="2" src="assets/2.png"/></a><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">225</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">periods_spx</code><code class="p">[</code><code class="mi">50</code><code class="p">:</code><code class="mi">60</code><code class="p">]</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO52-3" id="co_python__numpy__matplotlib__pandas_CO52-3"><img alt="3" src="assets/3.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">225</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">array</code><code class="p">(</code><code class="p">[</code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">67</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">301</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">3</code><code class="p">)</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">2</code><code class="p">)</code><code class="p">,</code><code>&#13;
</code><code>                 </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">12</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">2</code><code class="p">)</code><code class="p">]</code><code class="p">,</code><code>&#13;
</code><code>                </code><code class="n">dtype</code><code class="o">=</code><code class="nb">object</code><code class="p">)</code><code>&#13;
</code><code>&#13;
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">226</code><code class="p">]</code><code class="p">:</code><code> </code><code class="nb">max</code><code class="p">(</code><code class="n">periods_spx</code><code class="p">)</code><code>  </code><a class="co" href="#callout_python__numpy__matplotlib__pandas_CO52-4" id="co_python__numpy__matplotlib__pandas_CO52-4"><img alt="4" src="assets/4.png"/></a><code>&#13;
</code><code class="n">Out</code><code class="p">[</code><code class="mi">226</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">datetime</code><code class="o">.</code><code class="n">timedelta</code><code class="p">(</code><code class="n">days</code><code class="o">=</code><code class="mi">417</code><code class="p">)</code></pre>&#13;
<dl class="calloutlist">&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO52-1" id="callout_python__numpy__matplotlib__pandas_CO52-1"><img alt="1" src="assets/1.png"/></a></dt>&#13;
<dd><p>Picks out all index positions where the drawdown is 0.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO52-2" id="callout_python__numpy__matplotlib__pandas_CO52-2"><img alt="2" src="assets/2.png"/></a></dt>&#13;
<dd><p>Calculates the <code>timedelta</code> values between all such index positions.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO52-3" id="callout_python__numpy__matplotlib__pandas_CO52-3"><img alt="3" src="assets/3.png"/></a></dt>&#13;
<dd><p>Shows a select few of these values.</p></dd>&#13;
<dt><a class="co" href="#co_python__numpy__matplotlib__pandas_CO52-4" id="callout_python__numpy__matplotlib__pandas_CO52-4"><img alt="4" src="assets/4.png"/></a></dt>&#13;
<dd><p>Picks out the maximum value for the result.<a data-startref="ix_A_python_numpy_pandas_-asciidoc19" data-type="indexterm" id="idm45785321372328"/></p></dd>&#13;
</dl>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Conclusions" data-type="sect1"><div class="sect1" id="idm45785323798232">&#13;
<h1>Conclusions</h1>&#13;
&#13;
<p>This appendix provides a concise, introductory overview of selected topics relevant to use Python, <code>NumPy</code>, <code>matplotlib</code>, and <code>pandas</code> in the context of algorithmic trading. It cannot, of course, replace a thorough training and practical experience, but it helps those who want to get started quickly and who are willing to dive deeper into the details where necessary.</p>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<section data-pdf-bookmark="Further Resources" data-type="sect1"><div class="sect1" id="idm45785321368952">&#13;
<h1>Further Resources</h1>&#13;
&#13;
<p>A valuable, free source for the topics covered in this appendix are the <a href="http://scipy-lectures.org">Scipy Lecture Notes</a> that are available in multiple electronic formats. Also freely available is the online book <a href="https://oreil.ly/vo54e">From Python to NumPy</a> by Nicolas Rougier.</p>&#13;
&#13;
<p>Books cited in this appendix:</p>&#13;
&#13;
<ul class="author-date-bib">&#13;
<li>&#13;
<p>Hilpisch, Yves. 2018. <em>Python for Finance</em>. 2nd ed. Sebastopol: O’Reilly.</p>&#13;
</li>&#13;
<li>&#13;
<p>McKinney, Wes. 2017. <em>Python for Data Analysis</em>. 2nd ed. Sebastopol: O’Reilly.</p>&#13;
</li>&#13;
<li>&#13;
<p>VanderPlas, Jake. 2017. <em>Python Data Science Handbook</em>. Sebastopol: O’Reilly.</p>&#13;
</li>&#13;
</ul>&#13;
</div></section>&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
<div data-type="footnotes"><p data-type="footnote" id="idm45785328416584"><sup><a href="app01.html#idm45785328416584-marker">1</a></sup> Note that computers can only generate <em>pseudorandom</em> numbers as approximations for <em>truly random</em> numbers.</p></div></div></section></body></html>