- en: Chapter 3\. Descriptive Statistics and Data Analysis
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第三章。描述性统计和数据分析
- en: '*Descriptive statistics* is a field that describes data and extracts as much
    information as possible from it. Basically, descriptive statistics can act like
    the representative of the data since it summarizes its tendencies, behavior, and
    trends.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '*描述性统计* 是描述数据并尽可能多地从中提取信息的领域。基本上，描述性统计可以像数据的代表一样，因为它总结了其趋势、行为和趋势。'
- en: Trading and analysis borrows a lot from the metrics used in descriptive statistics.
    This chapter covers the main concepts of descriptive statistics and data analysis.
    I always found that the best educational tools are practical examples, so I will
    explain these concepts using an example of an economic time series, the consumer
    price index (CPI).
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 交易和分析从描述性统计中借用了许多指标。本章介绍了描述性统计和数据分析的主要概念。我总是发现最好的教育工具是实际的例子，因此我将使用经济时间序列的例子，即消费者价格指数（CPI），来解释这些概念。
- en: The CPI measures the prices paid monthly by urban consumers for a selection
    of products and services; every month a new observation is released to the public,
    thus forming a continuous time series. The inflation rate between any two time
    periods is measured by percentage changes in the price index. For example, if
    the price of bread last year was $1.00 and the price today is $1.01, then the
    inflation is 1.00%. The CPI is typically released on a year-on-year basis, which
    means that it is reported as the difference between the current monthly observation
    and the observation 12 months ago.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: CPI测量城市居民每月支付的一系列产品和服务的价格；每个月都会向公众发布新的观测值，从而形成连续的时间序列。在任意两个时间段之间的通货膨胀率通过价格指数的百分比变化来衡量。例如，如果去年面包的价格是$1.00，而今天的价格是$1.01，则通胀率为1.00%。CPI通常以年度基础发布，这意味着它报告了当前月度观察值与12个月前观察值之间的差异。
- en: 'Import the CPI data as follows:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 导入CPI数据如下：
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Note
  id: totrans-6
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: You can download all the code samples throughout the book from the book’s dedicated
    [GitHub page](https://oreil.ly/5YGHI).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从书的专用[GitHub页面](https://oreil.ly/5YGHI)下载全书中的所有代码示例。
- en: The year-on-year change is the most observed transformation on the CPI, as it
    gives a clear and simple measurement of the change in the overall price level
    over a sufficient period of time to account for short-term swings and seasonal
    impacts.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 年度变化是CPI上最常见的变换，因为它清晰简明地测量了总体价格水平在足够时间内的变化，以解释短期波动和季节性影响。
- en: Hence, the yearly change of the CPI serves as a gauge of the general trend in
    inflation. It is also simple to comprehend and compare across other nations and
    historical times, making it a popular measure among policymakers and economists
    (despite the flaw of element weightings in the baskets between countries). The
    following sections show how to make statistical sense of time series data using
    the CPI example.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，CPI的年度变化作为通货膨胀趋势的一个指标。这也简单易懂，并可与其他国家和历史时期进行比较，因此在决策者和经济学家中很受欢迎（尽管存在国家之间购物篮权重的缺陷）。以下部分展示了如何利用CPI示例对时间序列数据进行统计分析。
- en: Measures of Central Tendency
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 中心趋势测量
- en: '*Central tendency* refers to the metrics that summarize the dataset into a
    value that can represent them. The best-known central tendency measure is the
    mean (average). The *mean* is simply the sum of the values divided by their quantity.
    It is the value that represents the data the best. The mathematical formula of
    the mean is as follows:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '*中心趋势* 指的是将数据集总结成一个能代表它们的值的度量。最著名的中心趋势测量是均值（平均值）。*均值* 简单地是数值总和除以它们的数量。它是最能代表数据的值。均值的数学公式如下：'
- en: <math alttext="x overbar equals StartFraction 1 Over n EndFraction sigma-summation
    Underscript n Overscript i equals 1 Endscripts x Subscript i Baseline equals StartFraction
    1 Over n EndFraction left-parenthesis x 1 plus period period period plus x Subscript
    n Baseline right-parenthesis"><mrow><mover accent="true"><mi>x</mi> <mo>¯</mo></mover>
    <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn> <mi>n</mi></mfrac></mstyle>
    <msubsup><mo>∑</mo> <mrow><mi>n</mi></mrow> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></msubsup>
    <msub><mi>x</mi> <mi>i</mi></msub> <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn>
    <mi>n</mi></mfrac></mstyle> <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub>
    <mo>+</mo> <mo lspace="0%" rspace="0%">.</mo> <mo lspace="0%" rspace="0%">.</mo>
    <mo lspace="0%" rspace="0%">.</mo> <mo>+</mo> <msub><mi>x</mi> <mi>n</mi></msub>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="x overbar equals StartFraction 1 Over n EndFraction sigma-summation
    Underscript n Overscript i equals 1 Endscripts x Subscript i Baseline equals StartFraction
    1 Over n EndFraction left-parenthesis x 1 plus period period period plus x Subscript
    n Baseline right-parenthesis"><mrow><mover accent="true"><mi>x</mi> <mo>¯</mo></mover>
    <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn> <mi>n</mi></mfrac></mstyle>
    <msubsup><mo>∑</mo> <mrow><mi>n</mi></mrow> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></msubsup>
    <msub><mi>x</mi> <mi>i</mi></msub> <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn>
    <mi>n</mi></mfrac></mstyle> <mrow><mo>(</mo> <msub><mi>x</mi> <mn>1</mn></msub>
    <mo>+</mo> <mo lspace="0%" rspace="0%">.</mo> <mo lspace="0%" rspace="0%">.</mo>
    <mo lspace="0%" rspace="0%">.</mo> <mo>+</mo> <msub><mi>x</mi> <mi>n</mi></msub>
    <mo>)</mo></mrow></mrow></math>
- en: Let’s take a simple example of two datasets. Suppose you want to calculate the
    mean on dataset A and dataset B. How would you do it?
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以两个数据集的简单例子来说明。假设您想在数据集A和数据集B上计算均值。你会怎么做呢？
- en: Dataset A = [1, 2, 3, 4, 5]
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集A = [1, 2, 3, 4, 5]
- en: Dataset B = [1, 1, 1, 1]
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集B = [1, 1, 1, 1]
- en: Dataset A contains five values (quantity) with a total sum of 15\. Using the
    preceding formula, the mean is equal to 3\. Dataset B contains four values with
    a total sum of 4\. This means that the mean is equal to 1.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集A包含五个值（数量），总和为15。使用上述公式，均值等于3。数据集B包含四个值，总和为4。这意味着均值为1。
- en: '[Figure 3-1](#figure-3-1) shows the US CPI year-on-year values since 2003\.
    The higher dashed line is the monthly mean calculated since 2003\. The lower dashed
    line symbolizes zero, and below it are deflationary periods.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3-1](#figure-3-1)展示了自2003年以来的美国CPI同比值。较高的虚线是自2003年以来计算的月度平均值。较低的虚线象征着零，下面是通货紧缩期。'
- en: Note
  id: totrans-18
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: When all the values in a dataset are the same, the mean is the same as the values.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 当数据集中的所有值都相同时，平均值与这些值相同。
- en: '![](assets/dlff_0301.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0301.png)'
- en: Figure 3-1\. US CPI year-on-year values since 2003, with the higher dashed line
    representing the mean
  id: totrans-21
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-1\. 自2003年以来的美国CPI同比值，其中较高的虚线代表平均值
- en: 'You can create [Figure 3-1](#figure-3-1) by using the following code:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用以下代码创建[图 3-1](#figure-3-1)：
- en: '[PRE1]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The output of the mean should be as follows.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 平均值的输出应如下所示。
- en: '[PRE2]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This means that the average yearly inflation is around 2.50%. Even though the
    Federal Reserve does not have a clearly defined inflation target, it is generally
    believed that there is a consensus to maintain the annual change in inflation
    at around 2.00%, which is not far from the historical observations. With the high
    inflation numbers recorded since 2021 as a result of political and economic turmoil,
    it becomes necessary to revert back to the mean to stabilize the current situation.
    This example gives a numerical value to what is referred to as normality (~2.50%)
    since 2003.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着年度平均通货膨胀率约为2.50%。尽管美联储没有明确的通货膨胀目标，但普遍认为共识是维持年度通胀变化在约2.00%左右，这与历史观察值相差不远。由于政治和经济动荡导致的高通胀数字自2021年以来，有必要回归到平均水平以稳定当前局势。这个例子为所谓的正常性（约2.50%）自2003年以来提供了一个数值参考。
- en: Clearly, with the high inflation numbers (~6.00%) around the beginning of 2023,
    the situation is a bit far from normality, but how far? This question is answered
    in the next section, which discusses measures of variability. For now, let’s continue
    the discussion on central tendency.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，由于2023年初高达约6.00%的高通胀率，情况有些偏离正常，但有多偏离？这个问题将在接下来的部分得到回答，该部分讨论了变异性的度量。现在，让我们继续讨论中心趋势。
- en: The next measure is the *median*, which in simple terms is the value that splits
    the dataset into two equal sides. In other words, if you arrange the dataset in
    an ascending order, the middle value is the median. The median is used whenever
    there are many outliers or there is skew in the distribution (which may bias the
    mean and make it less representative).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个度量是*中位数*，简单来说就是将数据集分成两个相等的部分的值。换句话说，如果你按升序排列数据集，中间的值就是中位数。在数据中有许多异常值或分布偏斜（可能会使平均值产生偏差并使其不太具代表性）时使用中位数。
- en: 'There are generally two topics associated with calculating the median. The
    first one relates to a dataset that contains an even number of values (e.g., 24
    observations), and the second one relates to a dataset that contains an uneven
    number of values (e.g., 47 observations):'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 通常有两个与计算中位数相关的主题。第一个与包含偶数值的数据集有关（例如，24个观察结果），第二个与包含奇数值的数据集有关（例如，47个观察结果）：
- en: Calculating the median of an even dataset
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 计算偶数数据集的中位数
- en: If the arranged dataset has an even number of values, the median is the average
    of the two middle values.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如果排列的数据集具有偶数个值，则中位数是两个中间值的平均值。
- en: Calculating the median of an uneven dataset
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 计算奇数数据集的中位数
- en: If the arranged dataset has an uneven (odd) number of values, the median is
    simply the middle value.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 如果排列的数据集具有奇数个值，中位数就是中间值。
- en: Let’s take a simple example of two datasets. Suppose you want to calculate the
    median on dataset A and dataset B. How would you do it?
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们举一个简单的例子来说明两个数据集。假设你想在数据集A和数据集B上计算中位数。你会怎么做？
- en: Dataset A = [1, 2, 3, 4, 5]
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集A = [1, 2, 3, 4, 5]
- en: Dataset B = [1, 2, 3, 4]
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集B = [1, 2, 3, 4]
- en: Dataset A contains five values, which is an uneven number. This means that the
    middle value is the median. In this case, it is 3 (notice how it is also the mean
    of the dataset). Dataset B contains four values, which is an even number. This
    means that the average between the two middle values is the median. In this case,
    it is 2.5, which is the average between 2 and 3.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集A包含五个值，这是一个奇数。这意味着中间值是中位数。在这种情况下，它是3（注意它也是数据集的平均值）。数据集B包含四个值，这是一个偶数。这意味着两个中间值的平均值是中位数。在这种情况下，它是2.5，这是2和3之间的平均值。
- en: '[Figure 3-2](#figure-3-2) shows the US CPI year-on-year values since 2003\.
    The higher dashed line is the monthly median calculated since 2003\. The lower
    dashed line symbolizes zero. Basically, this is like [Figure 3-1](#figure-3-1),
    but instead of the mean, the median is plotted.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3-2](#figure-3-2)显示自 2003 年以来的美国消费者物价指数同比值。较高的虚线是自 2003 年以来计算的月中位数。较低的虚线象征着零。基本上，这类似于[图
    3-1](#figure-3-1)，但绘制的是中位数而不是均值。'
- en: '![](assets/dlff_0302.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0302.png)'
- en: Figure 3-2\. US CPI year-on-year values since 2003, with the higher dashed line
    representing the median
  id: totrans-40
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-2。自 2003 年以来的美国消费者物价指数同比值，其中较高的虚线表示中位数
- en: 'You can create [Figure 3-2](#figure-3-2) by using the following code:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用以下代码创建[图 3-2](#figure-3-2)：
- en: '[PRE3]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The output of the median should be as follows:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 中位数的输出应该如下所示：
- en: '[PRE4]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Clearly, the median is less impacted by the recent outliers that are coming
    from unusual environments. The median is around 2.12%, which is more in line with
    the implied target of 2.00%.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，中位数受最近来自不寻常环境的异常值影响较小。中位数约为2.12%，这与暗示的目标2.00%更加一致。
- en: Note
  id: totrans-46
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Remember that [Chapter 6](ch06.html#ch06) will give you all you need to know
    about the Python snippets you are seeing in this chapter, so you don’t need to
    worry if you are missing out on the coding concepts.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，[第 6 章](ch06.html#ch06)将为您提供关于本章节中所见 Python 代码的所有信息，因此您不必担心是否会错过编码概念。
- en: The last central tendency measure in this section is the *mode*, which is the
    value that is the most frequently observed (but also the least used in data analysis).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 本节最后的中心趋势度量是*众数*，它是最常见的值（但在数据分析中使用最少的）。
- en: Let’s take a simple example of two datasets. Suppose you want to calculate the
    mode on the following datasets. How would you do it?
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以两个数据集的简单示例为例。假设您要计算以下数据集的众数。您将如何做呢？
- en: Dataset A = [1, 2, 2, 4, 5]
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集 A = [1, 2, 2, 4, 5]
- en: Dataset B = [1, 2, 3, 4]
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集 B = [1, 2, 3, 4]
- en: Dataset C = [1, 1, 2, 2, 3]
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集 C = [1, 1, 2, 2, 3]
- en: Dataset A contains two times the value 2, which makes it the mode. Dataset B
    doesn’t have a mode, as every value is observed once. Dataset C is *multimodal*
    since it contains multiple modes (which are 1 and 2).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集 A 包含两次值为 2，这使其成为众数。数据集 B 没有众数，因为每个值仅观察一次。数据集 C 是*多峰的*，因为它包含多个众数（即 1 和 2）。
- en: Note
  id: totrans-54
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: The mode is useful with categorical variables (like credit rankings) as opposed
    to continuous variables (like price and returns time series).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 众数在处理分类变量（如信用评级）时很有用，而不适用于连续变量（如价格和回报时间序列）。
- en: 'You are unlikely to use the mode to analyze time series, as the mean and the
    median are more useful. Here are a few examples that use the mean and the median
    in financial analysis:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 您不太可能使用众数来分析时间序列，因为均值和中位数更为有用。以下是在金融分析中使用均值和中位数的几个示例：
- en: Calculating a moving mean (average) on price data to detect an underlying trend.
    You will see more about moving averages in [Chapter 5](ch05.html#ch05).
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在价格数据上计算移动平均值以检测潜在趋势。您将在[第 5 章](ch05.html#ch05)中了解更多关于移动平均线的内容。
- en: Calculating a rolling median on a price-derived indicator to detect its neutrality
    zone.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算基于价格衍生指标的滚动中位数以检测其中性区域。
- en: Calculating the expected return of a security using the historical mean.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用历史均值计算证券的预期回报。
- en: Central tendency metrics are important to understand, especially since the mean
    and the median are heavily used not only as standalone indicators but also as
    components in more complex measures.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 中心趋势度量是理解重要的，特别是因为均值和中位数不仅作为独立指标广泛使用，还作为更复杂的度量的组成部分。
- en: Note
  id: totrans-61
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'The key takeaways from this section are as follows:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的关键要点如下：
- en: 'There are mainly three central tendency measures: the mean, the median, and
    the mode.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主要有三种中心趋势度量：均值、中位数和众数。
- en: The mean is the sum divided by the quantity, while the median is the value that
    splits the data in half. The mode is the value that occurs most frequently in
    the dataset.
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 均值是总和除以数量，而中位数是将数据分成两半的值。众数是数据集中出现最频繁的值。
- en: Measures of Variability
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 变异性的度量
- en: '*Measures of variability* describe how spread out the values in a dataset are
    relative to the central tendency measures (mostly the mean). The best-known measure
    of variability is the variance.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*变异性的度量*描述数据集中数值相对于中心趋势度量（主要是均值）的散布程度。最知名的变异性度量是方差。'
- en: The *variance* describes the variability of a set of numbers from their mean.
    The idea behind the variance’s formula is to determine how far away from the mean
    each data point is, then to square those deviations to make sure all the numbers
    are positive (this is because distance cannot be negative), and finally to divide
    the deviations by the number of observations.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '*方差*描述了一组数字与它们的平均值之间的变异性。方差公式背后的理念是确定每个数据点距离均值的距离，然后对这些偏差进行平方以确保所有数字都是正数（因为距离不能是负数），最后将偏差除以观察次数。'
- en: 'The formula to find the variance is as follows:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 计算方差的公式如下：
- en: <math alttext="sigma squared equals StartFraction 1 Over n EndFraction sigma-summation
    Underscript n Overscript i equals 1 Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis squared"><mrow><msup><mi>σ</mi> <mn>2</mn></msup>
    <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn> <mi>n</mi></mfrac></mstyle>
    <msubsup><mo>∑</mo> <mrow><mi>n</mi></mrow> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></msubsup>
    <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>x</mi>
    <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></mrow></math>
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sigma squared equals StartFraction 1 Over n EndFraction sigma-summation
    Underscript n Overscript i equals 1 Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis squared"><mrow><msup><mi>σ</mi> <mn>2</mn></msup>
    <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn> <mi>n</mi></mfrac></mstyle>
    <msubsup><mo>∑</mo> <mrow><mi>n</mi></mrow> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></msubsup>
    <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>x</mi>
    <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></mrow></math>
- en: This formula calculates the sum of the squared deviations of each data point
    from the mean, thus giving different distance observations, and then calculates
    the mean of these distance observations.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 此公式计算每个数据点与均值之间偏差的平方和，从而给出不同的距离观察值，然后计算这些距离观察值的平均值。
- en: Let’s take a simple example of two datasets. Suppose you want to calculate the
    variance of dataset A and dataset B. How would you do it?
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看两个数据集的简单例子。假设你想计算数据集A和数据集B的方差。你会怎么做？
- en: Dataset A = [1, 2, 3, 4, 5]
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集A = [1, 2, 3, 4, 5]
- en: Dataset B = [5, 5, 5, 5]
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据集B = [5, 5, 5, 5]
- en: 'The first step is to calculate the mean of the dataset as that is the benchmark
    from where you will calculate the variability of the data. Dataset A has a mean
    of 3\. The next step calculates the variance:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是计算数据集的均值，因为这是你将计算数据变异性的基准。数据集A的均值为3。下一步计算方差：
- en: <math alttext="left-parenthesis x 1 minus x overbar right-parenthesis squared
    equals left-parenthesis 1 minus 3 right-parenthesis squared equals 4"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>1</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>1</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>4</mn></mrow></math>
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 1 minus x overbar right-parenthesis squared
    equals left-parenthesis 1 minus 3 right-parenthesis squared equals 4"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>1</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>1</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>4</mn></mrow></math>
- en: <math alttext="left-parenthesis x 2 minus x overbar right-parenthesis squared
    equals left-parenthesis 2 minus 3 right-parenthesis squared equals 1"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>2</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>2</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>1</mn></mrow></math>
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 2 minus x overbar right-parenthesis squared
    equals left-parenthesis 2 minus 3 right-parenthesis squared equals 1"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>2</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>2</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>1</mn></mrow></math>
- en: <math alttext="left-parenthesis x 3 minus x overbar right-parenthesis squared
    equals left-parenthesis 3 minus 3 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>3</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>3</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 3 minus x overbar right-parenthesis squared
    equals left-parenthesis 3 minus 3 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>3</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>3</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
- en: <math alttext="left-parenthesis x 4 minus x overbar right-parenthesis squared
    equals left-parenthesis 4 minus 3 right-parenthesis squared equals 1"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>4</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>4</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>1</mn></mrow></math>
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 4 minus x overbar right-parenthesis squared
    equals left-parenthesis 4 minus 3 right-parenthesis squared equals 1"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>4</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>4</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>1</mn></mrow></math>
- en: <math alttext="left-parenthesis x 5 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 3 right-parenthesis squared equals 4"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>5</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>4</mn></mrow></math>
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 5 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 3 right-parenthesis squared equals 4"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>5</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>3</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>4</mn></mrow></math>
- en: 'The previous results are summed as follows:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 前述结果总结如下：
- en: <math alttext="4 plus 1 plus 0 plus 1 plus 4 equals 10"><mrow><mn>4</mn> <mo>+</mo>
    <mn>1</mn> <mo>+</mo> <mn>0</mn> <mo>+</mo> <mn>1</mn> <mo>+</mo> <mn>4</mn> <mo>=</mo>
    <mn>10</mn></mrow></math>
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="4 plus 1 plus 0 plus 1 plus 4 equals 10"><mrow><mn>4</mn> <mo>+</mo>
    <mn>1</mn> <mo>+</mo> <mn>0</mn> <mo>+</mo> <mn>1</mn> <mo>+</mo> <mn>4</mn> <mo>=</mo>
    <mn>10</mn></mrow></math>
- en: 'And finally, the result is divided by the quantity of the observations to find
    the variance:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，结果除以观察数以找到方差：
- en: <math alttext="sigma squared equals StartFraction 10 Over 5 EndFraction equals
    2"><mrow><msup><mi>σ</mi> <mn>2</mn></msup> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mn>10</mn> <mn>5</mn></mfrac></mstyle> <mo>=</mo> <mn>2</mn></mrow></math>
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sigma squared equals StartFraction 10 Over 5 EndFraction equals
    2"><mrow><msup><mi>σ</mi> <mn>2</mn></msup> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mn>10</mn> <mn>5</mn></mfrac></mstyle> <mo>=</mo> <mn>2</mn></mrow></math>
- en: As for dataset B, you should think about it intuitively. If the observations
    are all equal, they all represent the dataset, which also means that they are
    their own mean. What would you say about the variance of the data in this case,
    considering that all the values are equal to the mean?
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 至于数据集B，你应该从直觉上考虑。如果观察值全部相等，它们都代表数据集，这也意味着它们是自己的均值。在这种情况下，考虑数据的方差会怎么说？
- en: 'If your response is that the variance is zero, then you are correct. Mathematically,
    you can calculate it as follows:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的回答是方差为零，那么你是正确的。在数学上，你可以如下计算它：
- en: <math alttext="left-parenthesis x 1 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>1</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 1 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>1</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
- en: <math alttext="left-parenthesis x 2 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>2</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 2 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>2</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
- en: <math alttext="left-parenthesis x 3 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>3</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 3 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>3</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
- en: <math alttext="left-parenthesis x 4 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>4</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="left-parenthesis x 4 minus x overbar right-parenthesis squared
    equals left-parenthesis 5 minus 5 right-parenthesis squared equals 0"><mrow><msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mn>4</mn></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <msup><mrow><mo>(</mo><mn>5</mn><mo>-</mo><mn>5</mn><mo>)</mo></mrow>
    <mn>2</mn></msup> <mo>=</mo> <mn>0</mn></mrow></math>
- en: 'The previous results sum to zero, and if you divide zero by 4 (the quantity
    of the dataset), you will get zero. Intuitively, there is no variance because
    all the values are constant and they do not deviate from their mean:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 前述结果总和为零，如果你将零除以4（数据集的数量），你将得到零。直觉上，没有方差，因为所有值都是常数，它们不偏离其均值：
- en: <math alttext="sigma squared equals StartFraction 0 Over 4 EndFraction equals
    0"><mrow><msup><mi>σ</mi> <mn>2</mn></msup> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mn>0</mn> <mn>4</mn></mfrac></mstyle> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sigma squared equals StartFraction 0 Over 4 EndFraction equals
    0"><mrow><msup><mi>σ</mi> <mn>2</mn></msup> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mn>0</mn> <mn>4</mn></mfrac></mstyle> <mo>=</mo> <mn>0</mn></mrow></math>
- en: 'Remaining in the inflation example, you can calculate the variance using the
    following code:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在通货膨胀的例子中，你可以使用以下代码计算方差：
- en: '[PRE5]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The output of the variance should be as follows:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 方差的输出应该如下所示：
- en: '[PRE6]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: There is a flaw nonetheless, and it is that the variance represents squared
    values that are not comparable to the mean since they use different units. This
    is easily fixed by taking the square root of the variance. Doing so brings the
    next measure of variability, the *standard deviation.* It is the square root of
    the variance and is the average deviation of the values from the mean.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '尽管如此，存在一个缺陷，即方差代表的是不可与均值比较的平方值，因为它们使用不同的单位。通过对方差取平方根轻松修正此问题。这带来了下一个变异性度量，*标准差*。它是方差的平方根，是值与均值的平均偏差。  '
- en: A low standard deviation indicates that the values tend to be close to the mean
    (low volatility), while a high standard deviation indicates that the values are
    spread out over a wider range relative to their mean (high volatility).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 低标准差表明值倾向于接近均值（低波动性），而高标准差表明值相对于其均值分布在更广的范围内（高波动性）。
- en: Note
  id: totrans-98
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: The terms *standard deviation* and *volatility* are used interchangeably. They
    refer to the same thing.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '*标准差*和*波动率*这两个术语可以互换使用，它们指的是同一件事情。'
- en: 'The formula to find the standard deviation is as follows:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 计算标准差的公式如下：
- en: <math alttext="sigma equals StartRoot StartFraction 1 Over n EndFraction sigma-summation
    Underscript n Overscript i equals 1 Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis squared EndRoot"><mrow><mi>σ</mi> <mo>=</mo>
    <msqrt><mrow><mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn> <mi>n</mi></mfrac></mstyle>
    <msubsup><mo>∑</mo> <mrow><mi>n</mi></mrow> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></msubsup>
    <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>x</mi>
    <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></mrow></msqrt></mrow></math>
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sigma equals StartRoot StartFraction 1 Over n EndFraction sigma-summation
    Underscript n Overscript i equals 1 Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis squared EndRoot"><mrow><mi>σ</mi> <mo>=</mo>
    <msqrt><mrow><mstyle displaystyle="false" scriptlevel="0"><mfrac><mn>1</mn> <mi>n</mi></mfrac></mstyle>
    <msubsup><mo>∑</mo> <mrow><mi>n</mi></mrow> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow></msubsup>
    <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>x</mi>
    <mo>¯</mo></mover><mo>)</mo></mrow> <mn>2</mn></msup></mrow></msqrt></mrow></math>
- en: 'If you consider the previous examples with the variance, then the standard
    deviation can be found as follows:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如果考虑前面的方差示例，则可以如下找到标准差：
- en: <math alttext="sigma Subscript upper D a t a s e t upper A Baseline equals StartRoot
    2 EndRoot equals 1.41"><mrow><msub><mi>σ</mi> <mrow><mi>D</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>A</mi></mrow></msub>
    <mo>=</mo> <msqrt><mn>2</mn></msqrt> <mo>=</mo> <mn>1</mn> <mo lspace="0%" rspace="0%">.</mo>
    <mn>41</mn></mrow></math>
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sigma Subscript upper D a t a s e t upper A Baseline equals StartRoot
    2 EndRoot equals 1.41"><mrow><msub><mi>σ</mi> <mrow><mi>D</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>A</mi></mrow></msub>
    <mo>=</mo> <msqrt><mn>2</mn></msqrt> <mo>=</mo> <mn>1</mn> <mo lspace="0%" rspace="0%">.</mo>
    <mn>41</mn></mrow></math>
- en: <math alttext="sigma Subscript upper D a t a s e t upper B Baseline equals StartRoot
    0 EndRoot equals 0"><mrow><msub><mi>σ</mi> <mrow><mi>D</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>B</mi></mrow></msub>
    <mo>=</mo> <msqrt><mn>0</mn></msqrt> <mo>=</mo> <mn>0</mn></mrow></math>
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="sigma Subscript upper D a t a s e t upper B Baseline equals StartRoot
    0 EndRoot equals 0"><mrow><msub><mi>σ</mi> <mrow><mi>D</mi><mi>a</mi><mi>t</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>B</mi></mrow></msub>
    <mo>=</mo> <msqrt><mn>0</mn></msqrt> <mo>=</mo> <mn>0</mn></mrow></math>
- en: Standard deviation is commonly used with the mean since they both use the same
    units. You will soon understand the importance of this stat when I discuss the
    normal distribution function in the next section.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 由于标准差和均值使用相同的单位，所以标准差通常与均值一起使用。当我在下一节讨论正态分布函数时，您很快就会理解这个统计量的重要性。
- en: 'You can calculate the standard deviation in Python using the following code:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用以下代码在Python中计算标准差：
- en: '[PRE7]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The output of the standard deviation should be as follows:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 标准差的输出应如下所示：
- en: '[PRE8]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: How are you supposed to interpret the standard deviation? On average, the CPI
    year-on-year values tend to be ±1.90% from the mean of the same period, which
    is at 2.49%. In [“Measures of Shape”](#measures_of_shape), you will see how to
    make better use of standard deviation figures.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该如何解释标准差？平均而言，CPI年度同比值 tend to be ±1.90%，而同期均值为2.49%。在[“形状的度量”](#measures_of_shape)中，您将看到如何更好地利用标准差数据。
- en: 'The last measure of variability discussed in this section is the range. The
    *range* is a very simple stat that shows the distance between the highest value
    and the lowest value in the dataset. This gives you a quick glance at the two
    historical extreme values. The formula to find the range is as follows:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 本节讨论的最后一个变异性度量是范围。*范围*是一个非常简单的统计量，显示了数据集中最大值和最小值之间的距离。这让您快速了解了两个历史极端值。查找范围的公式如下：
- en: <math alttext="upper R a n g e equals m a x left-parenthesis x right-parenthesis
    minus m i n left-parenthesis x right-parenthesis"><mrow><mi>R</mi> <mi>a</mi>
    <mi>n</mi> <mi>g</mi> <mi>e</mi> <mo>=</mo> <mi>m</mi> <mi>a</mi> <mi>x</mi> <mo>(</mo>
    <mi>x</mi> <mo>)</mo> <mo>-</mo> <mi>m</mi> <mi>i</mi> <mi>n</mi> <mo>(</mo> <mi>x</mi>
    <mo>)</mo></mrow></math>
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper R a n g e equals m a x left-parenthesis x right-parenthesis
    minus m i n left-parenthesis x right-parenthesis"><mrow><mi>R</mi> <mi>a</mi>
    <mi>n</mi> <mi>g</mi> <mi>e</mi> <mo>=</mo> <mi>m</mi> <mi>a</mi> <mi>x</mi> <mo>(</mo>
    <mi>x</mi> <mo>)</mo> <mo>-</mo> <mi>m</mi> <mi>i</mi> <mi>n</mi> <mo>(</mo> <mi>x</mi>
    <mo>)</mo></mrow></math>
- en: 'In Python, you can easily do this, as there are built-in functions that show
    the maximum and the minimum values given a set of data:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在Python中，您可以轻松地做到这一点，因为有内置函数可以在给定一组数据的情况下显示最大值和最小值：
- en: '[PRE9]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The output of the preceding code should be as follows:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码的输出应如下所示：
- en: '[PRE10]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '[Figure 3-3](#figure-3-3) shows the CPI values since 1951\. The diagonal dashed
    line represents the range, and the horizontal dashed line represents the zero
    threshold.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3-3](#figure-3-3) 显示了自 1951 年以来的CPI值。对角虚线表示范围，水平虚线表示零阈值。'
- en: The range of the CPI shows the size of the variations in inflation measures
    from one period to another. Yearly changes in inflation numbers vary from one
    country to another. Generally, developed countries such as France and the United
    States have stable variations (in times of stability), while emerging and frontier
    world countries such as Turkey and Argentina have more volatile and more extreme
    inflation numbers.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: CPI的范围显示了通货膨胀衡量值从一个时期到另一个时期的变化大小。不同国家通胀数字的年度变化各不相同。一般来说，像法国和美国这样的发达国家在稳定时期具有稳定的变化（在稳定时期），而像土耳其和阿根廷这样的新兴和前沿世界国家的通胀数字则更具波动性和更极端。
- en: '![](assets/dlff_0303.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0303.png)'
- en: Figure 3-3\. US CPI year-on-year change since 1951, with a diagonal dashed line
    that represents the range
  id: totrans-120
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-3\. 自 1951 年以来美国CPI年度同比变化，带有表示范围的对角虚线
- en: Note
  id: totrans-121
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注
- en: 'The key takeaways from this section are as follows:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的要点如下：
- en: The three key variability metrics that you should know are the variance, the
    standard deviation, and the range.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您应该知道的三个关键变异性指标是方差、标准差和范围。
- en: The standard deviation is the square root of the variance. This is done so that
    it becomes comparable to the mean.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准差是方差的平方根。这样做是为了使其可与均值进行比较。
- en: The range is the difference between the highest and the lowest values in a dataset.
    It is a quick snapshot of the overall stretch of the observations.
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 范围是数据集中最高值和最低值之间的差异。它是对观察值总体延伸的快速概览。
- en: Measures of Shape
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 形状的度量
- en: '*Measures of shape* describe the distribution of the values around the central
    tendency measures in a dataset. The mean and the standard deviation are the two
    factors that describe the normal distribution. The standard deviation depicts
    the spread or dispersion of the data, and the mean reflects the distribution’s
    center.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '*形状的度量*描述了数据集中各个值围绕中心趋势度量的分布。均值和标准差是描述正态分布的两个因素。标准差描述了数据的扩散或分散程度，而均值反映了分布的中心。'
- en: A *probability distribution* is a mathematical function that describes the likelihood
    of different outcomes or events in a random experiment. In other words, it gives
    the probabilities of all possible values of a random variable.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '*概率分布*是描述随机实验中不同结果或事件发生可能性的数学函数。换句话说，它给出了随机变量所有可能值的概率。'
- en: There are many types of probability distributions, including discrete and continuous
    distributions. *Discrete distributions* take on a finite number of values. The
    best-known discrete distributions are the Bernoulli distribution, binomial distribution,
    and Poisson distribution.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多类型的概率分布，包括离散和连续分布。*离散分布* 只能取有限数量的值。最著名的离散分布包括伯努利分布、二项分布和泊松分布。
- en: '*Continuous distributions* are used for random variables that can take on any
    value within a given range (such as stock prices and returns). The best-known
    distribution is the normal distribution.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '*连续分布* 用于可以在给定范围内取任意值的随机变量（如股票价格和回报）。最著名的分布是正态分布。'
- en: The *normal distribution* (also known as the *Gaussian distribution*) is a type
    of continuous probability distribution that is symmetrical around the mean and
    has a bell shape. It is one of the most widely used distributions in statistical
    analysis and is often used to describe natural phenomena such as age, weight,
    and test scores. [Figure 3-4](#figure-3-4) shows the shape of a normal distribution.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '*正态分布*（也称为*高斯分布*）是一种连续概率分布，其在均值周围对称且呈钟形。它是统计分析中最广泛使用的分布之一，通常用于描述诸如年龄、体重和考试成绩等自然现象。[图 3-4](#figure-3-4)
    展示了正态分布的形状。'
- en: '![](assets/dlff_0304.png)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0304.png)'
- en: Figure 3-4\. A normal distribution plot with mean = 0 and standard deviation
    = 1
  id: totrans-133
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-4\. 均值 = 0，标准差 = 1 的正态分布图
- en: 'You can generate [Figure 3-4](#figure-3-4) using the following code block:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用以下代码块生成[图 3-4](#figure-3-4)：
- en: '[PRE11]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Note
  id: totrans-136
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注
- en: Since normally distributed variables are common, most statistical tests and
    models assume that the analyzed data is normal. With financial returns, they are
    assumed normal even though they experience a form of skew and kurtosis, two measures
    of shape discussed in this section.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 由于正态分布变量很常见，大多数统计测试和模型假设分析的数据是正态的。在金融回报中，它们被假设为正态，即使它们经历了一种称为偏度和峰度的形状，这两个测量在本节中讨论。
- en: In a normal distribution, the data is distributed symmetrically around the mean,
    which also means that the mean is equal to the median and to the mode. Furthermore,
    around 68% of the data falls within one standard deviation from the mean, around
    95% falls within two standard deviations, and around 99.7% falls within three
    standard deviations. This property makes the normal distribution a useful tool
    for making inferences.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在正态分布中，数据围绕平均值对称分布，这也意味着平均数等于中位数和众数。此外，约 68% 的数据落在均值的一个标准差范围内，约 95% 落在两个标准差范围内，约
    99.7% 落在三个标准差范围内。这一特性使得正态分布成为推断的有用工具。
- en: 'To sum up, what you should retain from the normal distribution is the following:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，您应从正态分布中保留以下内容：
- en: The mean and the standard deviation describe the distribution.
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平均数和标准差描述了分布。
- en: The mean splits the distribution halfway, making it equal to the median. Due
    to the symmetrical property, the mode is also equal to the mean and the median.
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平均数将分布一分为二，使其等于中位数。由于对称性质，众数也等于平均数和中位数。
- en: Now let’s discuss the measures of shape. The first measure of shape is skewness.
    *Skewness *describes a distribution’s asymmetry. It analyzes how far from being
    symmetrical the distribution deviates.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们讨论形状的测量。形状的第一个测量是偏度。*偏度* 描述了分布的不对称性。它分析了分布偏离对称的程度。
- en: The skewness of a normal distribution is equal to zero. This means that the
    distribution is perfectly symmetrical around its mean, with an equal number of
    data points on either side of the mean.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布的偏度等于零。这意味着分布在其平均值周围完全对称，均值两侧的数据点数量相等。
- en: A *positive skew* indicates that the distribution has a long tail to the right,
    which means that the mean is greater than the median because the mean is sensible
    to outliers, which will push it upward (therefore, to the right of the *x*-axis).
    Similarly, the mode will be the lowest value between the three central tendency
    measures. [Figure 3-5](#figure-3-5) shows a positive skew.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '*正偏* 表示分布向右有一个长尾，这意味着平均数大于中位数，因为平均数对异常值敏感，这些异常值会使平均数上升（因此，在*x*轴的右侧）。类似地，众数将是三个中心趋势测量中的最小值。[图 3-5](#figure-3-5)
    展示了正偏。'
- en: '![](assets/dlff_0305.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0305.png)'
- en: Figure 3-5\. An example of a positively skewed distribution
  id: totrans-146
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-5\. 正偏分布的示例
- en: A *negative skew* indicates that the distribution has a long tail to the left,
    which means that the mean is lower than the median. Similarly, the mode will be
    the greatest value between the three central tendency measures. [Figure 3-6](#figure-3-6)
    shows a negative skew.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 负偏表示分布的左侧尾部较长，这意味着均值低于中位数。类似地，众数将是三种中心趋势测量之间的最大值。[图 3-6](#figure-3-6) 显示了负偏斜。
- en: '![](assets/dlff_0306.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0306.png)'
- en: Figure 3-6\. An example of a negatively skewed distribution
  id: totrans-149
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-6\. 一个负偏斜分布的示例
- en: Note
  id: totrans-150
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注
- en: How can skewness be interpreted in the world of financial markets? If the distribution
    is positively skewed, it means that there are more returns above the mean than
    below it (the tail of the distribution is longer on the positive side).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融市场中如何解释偏度？如果分布呈正偏斜，则意味着高于均值的收益更多（分布的尾部在正侧更长）。
- en: If the distribution is negatively skewed, it means that there are more returns
    below the mean than above it (the tail of the distribution is longer on the negative
    side).
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 如果分布呈负偏斜，则意味着低于均值的收益更多（分布的尾部在负侧更长）。
- en: The skew of a returns series can provide information about the risk and return
    of an investment. For example, a positively skewed returns series may indicate
    that the investment has a potential for a few large gains with a risk of frequent
    small losses.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 一个收益系列的偏度可以提供有关投资的风险和回报的信息。例如，一个呈正偏的收益系列可能表明投资存在大量大额收益的潜力，但也伴随着频繁的小额损失的风险。
- en: 'The formula to find skewness is as follows:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 计算偏度的公式如下：
- en: <math alttext="mu overTilde Subscript 3 Baseline equals StartFraction sigma-summation
    Underscript n equals 1 Overscript i Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis cubed Over upper N sigma cubed EndFraction"><mrow><msub><mover
    accent="true"><mi>μ</mi> <mo>˜</mo></mover> <mn>3</mn></msub> <mo>=</mo> <mstyle
    displaystyle="false" scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo> <mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>i</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub>
    <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>3</mn></msup></mrow> <mrow><mi>N</mi><msup><mi>σ</mi> <mn>3</mn></msup></mrow></mfrac></mstyle></mrow></math>
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="mu overTilde Subscript 3 Baseline equals StartFraction sigma-summation
    Underscript n equals 1 Overscript i Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis cubed Over upper N sigma cubed EndFraction"><mrow><msub><mover
    accent="true"><mi>μ</mi> <mo>˜</mo></mover> <mn>3</mn></msub> <mo>=</mo> <mstyle
    displaystyle="false" scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo> <mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>i</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub>
    <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>3</mn></msup></mrow> <mrow><mi>N</mi><msup><mi>σ</mi> <mn>3</mn></msup></mrow></mfrac></mstyle></mrow></math>
- en: 'Let’s check the skewness of the US CPI year-on-year data since 2003:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们检查自2003年以来美国CPI年同比数据的偏度：
- en: '[PRE12]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The output of the preceding code should be as follows:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码的输出应如下所示：
- en: '[PRE13]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The skew of the data is 1.17, but what does that mean? Let’s chart the distribution
    of the data to facilitate interpretation. You can do this using the following
    code snippet:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 数据的偏度为1.17，但这意味着什么？让我们绘制数据分布图来便于解释。您可以使用以下代码片段来完成这一点：
- en: '[PRE14]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[Figure 3-7](#figure-3-7) shows the result of the previous code snippet. The
    data is clearly positively skewed since the mean is greater than the median and
    the skewness is positive (above zero).'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3-7](#figure-3-7) 显示了上一个代码片段的结果。由于均值大于中位数且偏度为正（大于零），数据显然呈正偏斜。'
- en: '![](assets/dlff_0307.png)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0307.png)'
- en: Figure 3-7\. Data distribution of the US CPI year-on-year values, indicating
    positive skew
  id: totrans-164
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-7\. 美国CPI年同比数据分布，显示正偏斜
- en: 'Remember, skewness is a measure of the asymmetry of a probability distribution. It
    therefore measures the degree to which the distribution deviates from normality.
    The rules of thumb to interpret skewness are as follows:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，偏度是概率分布的不对称性度量。因此，它衡量分布偏离正态分布的程度。解释偏度的经验法则如下：
- en: If skewness is between –0.5 and 0.5, the data is considered symmetrical.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果偏度在–0.5到0.5之间，则数据被认为是对称的。
- en: If skewness is between –1.0 and –0.5 or between 0.5 and 1.0, the data is considered
    mildly skewed.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果偏度在–1.0到–0.5或者0.5到1.0之间，则数据被认为是轻微偏斜的。
- en: If skewness is less than –1.0 or greater than 1.0, the data is considered highly
    skewed.
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果偏度小于–1.0或大于1.0，则数据被认为是高度偏斜的。
- en: What does a positive skew mean? In this case, 1.17 represents highly skewed
    data (in the positive side), which is in line with a monetary policy that favors
    inflation as the economy grows (with a few inflationary spikes that cause the
    skew).
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 正偏表示什么？在这种情况下，1.17表示高度正偏的数据（在正侧），这与在经济增长时支持通货膨胀的货币政策一致（存在少数导致偏度的通货膨胀性波动）。
- en: Note
  id: totrans-170
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注
- en: It may be interesting to know that with a skewed distribution, the median may
    be the preferred metric since the mean tends to be pulled by outliers, thus distorting
    its value.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，对于偏斜分布来说，中位数可能是首选的度量，因为均值往往会被异常值拉动，从而扭曲其值。
- en: The next measure of shape is *kurtosis,* which is a description of the peakedness
    or flatness of a distribution relative to a normal distribution. Kurtosis describes
    the tails of a distribution, in particular, whether the tails are thicker or thinner
    than those of a normal distribution.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个形状的度量是*kurtosis*，它描述了一个分布相对于正态分布的尖峰或平坦程度。Kurtosis描述了一个分布的尾部，特别是尾部是否比正态分布的更厚或更薄。
- en: A normal distribution has a kurtosis of 3, which means it is a *mesokurtic*
    distribution. If a distribution has a kurtosis greater than 3, it is referred
    to as *leptokurtic*, meaning it has a higher peak and fatter tails than a normal
    distribution. If a distribution has a kurtosis less than 3, it is referred to
    as *platykurtic*, meaning it has a flatter peak and thinner tails than a normal
    distribution.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布的峰度为3，这意味着它是一个*中峰态*分布。如果一个分布的峰度大于3，则被称为*尖峰态*，意味着比正态分布更高的峰值和更胖的尾巴。如果一个分布的峰度小于3，则被称为*低峰态*，意味着比正态分布更扁平的峰值和更细的尾巴。
- en: 'The formula to find kurtosis is as follows:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 计算峰度的公式如下：
- en: <math alttext="k equals StartFraction sigma-summation Underscript n equals 1
    Overscript i Endscripts left-parenthesis x Subscript i Baseline minus x overbar
    right-parenthesis Superscript 4 Baseline Over upper N sigma Superscript 4 Baseline
    EndFraction"><mrow><mi>k</mi> <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo>
    <mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow> <mi>i</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>4</mn></msup></mrow> <mrow><mi>N</mi><msup><mi>σ</mi> <mn>4</mn></msup></mrow></mfrac></mstyle></mrow></math>
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="k equals StartFraction sigma-summation Underscript n equals 1
    Overscript i Endscripts left-parenthesis x Subscript i Baseline minus x overbar
    right-parenthesis Superscript 4 Baseline Over upper N sigma Superscript 4 Baseline
    EndFraction"><mrow><mi>k</mi> <mo>=</mo> <mstyle displaystyle="false" scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo>
    <mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow> <mi>i</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi>
    <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>4</mn></msup></mrow> <mrow><mi>N</mi><msup><mi>σ</mi> <mn>4</mn></msup></mrow></mfrac></mstyle></mrow></math>
- en: 'Sometimes kurtosis is measured as *excess kurtosis* to give it a starting value
    of zero (for a normal distribution). This means that the kurtosis measure is subtracted
    from 3 so as to calculate the excess kurtosis. Let’s calculate excess kurtosis
    for the US CPI year-on-year data:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 有时峰度被测量为*过量峰度*，以使其起始值为零（对于正态分布）。这意味着从3中减去峰度测量值以计算过量峰度。让我们计算美国CPI年度数据的过量峰度：
- en: '[PRE15]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The output of the preceding code should be as follows:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 前述代码的输出应如下所示：
- en: '[PRE16]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: In the case of the US CPI year-on-year values of the past 20 years, excess kurtosis
    is 2.15, which is more in line with a leptokurtic (peakier with fatter tails)
    distribution. A positive value indicates a distribution more peaked than normal,
    and a negative kurtosis indicates a shape flatter than normal.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去20年的美国CPI年度值的情况下，过量峰度为2.15，这更符合尖峰态（峰值更高且尾部更胖）分布。正值表示分布比正态更尖峭，而负峰度表示形状比正态更扁平。
- en: The final metric we will discuss in the descriptive statistics category is quantiles.
    *Quantiles* are measures of both shape and variability since they provide information
    about the distribution of values (shape) and about the dispersion of those values
    (variability). The most used type of quantiles is the quartile.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在描述统计类别中讨论的最终指标是分位数。*分位数*是形状和变异性的度量，因为它们提供有关值的分布（形状）和这些值的离散度（变异性）的信息。最常用的类型是四分位数。
- en: '*Quartiles* divide the dataset into four equal parts. This is done by arranging
    the data in order and then performing the split. Consider [Table 3-1](#table-3-1)
    as an example.'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '*四分位数*将数据集分为四等份。通过将数据按顺序排列然后执行分割来完成此操作。考虑[表 3-1](#table-3-1)作为一个例子。'
- en: Table 3-1\. Numbers in ascending order
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 表 3-1\. 按升序排列的数字
- en: '| Value |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| Value |'
- en: '| --- |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| --- |'
- en: '| 1 |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| 1 |'
- en: '| 2 |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| 2 |'
- en: '| 4 |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| 4 |'
- en: '| 5 |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| 5 |'
- en: '| 7 |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| 7 |'
- en: '| 8 |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| 8 |'
- en: '| 9 |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| 9 |'
- en: 'The quartiles are as follows:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 四分位数如下：
- en: The lower quartile (Q1) is the first quarter, which in this case is 2.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下四分位数（Q1）是第一四分位数，在本例中为2。
- en: The middle quartile (Q2) is also the median, which in this case is 5.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中间四分位数（Q2）也是中位数，在本例中为5。
- en: The upper quartile (Q3) in this case is 8.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在本例中，上四分位数（Q3）为8。
- en: 'Mathematically, you can calculate Q1 and Q3 using the following formulas:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 从数学上讲，可以使用以下公式计算Q1和Q3：
- en: <math alttext="upper Q 1 equals left-parenthesis StartFraction n plus 1 Over
    4 EndFraction right-parenthesis"><mrow><msub><mi>Q</mi> <mn>1</mn></msub> <mo>=</mo>
    <mrow><mo>(</mo> <mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow> <mn>4</mn></mfrac>
    <mo>)</mo></mrow></mrow></math>
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper Q 1 equals left-parenthesis StartFraction n plus 1 Over
    4 EndFraction right-parenthesis"><mrow><msub><mi>Q</mi> <mn>1</mn></msub> <mo>=</mo>
    <mrow><mo>(</mo> <mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow> <mn>4</mn></mfrac>
    <mo>)</mo></mrow></mrow></math>
- en: <math alttext="upper Q 3 equals 3 left-parenthesis StartFraction n plus 1 Over
    4 EndFraction right-parenthesis"><mrow><msub><mi>Q</mi> <mn>3</mn></msub> <mo>=</mo>
    <mn>3</mn> <mrow><mo>(</mo> <mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow>
    <mn>4</mn></mfrac> <mo>)</mo></mrow></mrow></math>
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper Q 3 equals 3 left-parenthesis StartFraction n plus 1 Over
    4 EndFraction right-parenthesis"><mrow><msub><mi>Q</mi> <mn>3</mn></msub> <mo>=</mo>
    <mn>3</mn> <mrow><mo>(</mo> <mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow>
    <mn>4</mn></mfrac> <mo>)</mo></mrow></mrow></math>
- en: 'Keep in mind that the results of the formulas give you the ranking of the values
    but not the values themselves:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，公式的结果给出的是值的排名，而不是值本身：
- en: <math alttext="upper Q 1 equals left-parenthesis StartFraction 7 plus 1 Over
    4 EndFraction right-parenthesis equals 2 Superscript n d Baseline t e r m equals
    2"><mrow><msub><mi>Q</mi> <mn>1</mn></msub> <mo>=</mo> <mrow><mo>(</mo> <mfrac><mrow><mn>7</mn><mo>+</mo><mn>1</mn></mrow>
    <mn>4</mn></mfrac> <mo>)</mo></mrow> <mo>=</mo> <msup><mn>2</mn> <mrow><mi>n</mi><mi>d</mi></mrow></msup>
    <mi>t</mi> <mi>e</mi> <mi>r</mi> <mi>m</mi> <mo>=</mo> <mn>2</mn></mrow></math>
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper Q 1 equals left-parenthesis StartFraction 7 plus 1 Over
    4 EndFraction right-parenthesis equals 2 Superscript n d Baseline t e r m equals
    2"><mrow><msub><mi>Q</mi> <mn>1</mn></msub> <mo>=</mo> <mrow><mo>(</mo> <mfrac><mrow><mn>7</mn><mo>+</mo><mn>1</mn></mrow>
    <mn>4</mn></mfrac> <mo>)</mo></mrow> <mo>=</mo> <msup><mn>2</mn> <mrow><mi>n</mi><mi>d</mi></mrow></msup>
    <mi>t</mi> <mi>e</mi> <mi>r</mi> <mi>m</mi> <mo>=</mo> <mn>2</mn></mrow></math>
- en: <math alttext="upper Q 3 equals 3 left-parenthesis StartFraction 7 plus 1 Over
    4 EndFraction right-parenthesis equals 6 Superscript t h Baseline t e r m equals
    8"><mrow><msub><mi>Q</mi> <mn>3</mn></msub> <mo>=</mo> <mn>3</mn> <mrow><mo>(</mo>
    <mfrac><mrow><mn>7</mn><mo>+</mo><mn>1</mn></mrow> <mn>4</mn></mfrac> <mo>)</mo></mrow>
    <mo>=</mo> <msup><mn>6</mn> <mrow><mi>t</mi><mi>h</mi></mrow></msup> <mi>t</mi>
    <mi>e</mi> <mi>r</mi> <mi>m</mi> <mo>=</mo> <mn>8</mn></mrow></math>
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper Q 3 equals 3 left-parenthesis StartFraction 7 plus 1 Over
    4 EndFraction right-parenthesis equals 6 Superscript t h Baseline t e r m equals
    8"><mrow><msub><mi>Q</mi> <mn>3</mn></msub> <mo>=</mo> <mn>3</mn> <mrow><mo>(</mo>
    <mfrac><mrow><mn>7</mn><mo>+</mo><mn>1</mn></mrow> <mn>4</mn></mfrac> <mo>)</mo></mrow>
    <mo>=</mo> <msup><mn>6</mn> <mrow><mi>t</mi><mi>h</mi></mrow></msup> <mi>t</mi>
    <mi>e</mi> <mi>r</mi> <mi>m</mi> <mo>=</mo> <mn>8</mn></mrow></math>
- en: 'The *interquartile range* (IQR) is the difference between Q3 and Q1 and provides
    a measure of the spread of the middle 50% of the values in a dataset. The IQR
    is robust to outliers (since it relies on middle values) and provides a brief
    summary of the spread of the bulk of the values. The IQR of the data in [Table 3-1](#table-3-1)
    is 6 as per the following formula:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '*四分位间距*（IQR）是Q3和Q1之间的差异，并提供数据集中前50%值的扩展度量。由于依赖中间值，IQR对异常值具有鲁棒性，并提供大部分值扩展的简要摘要。根据以下公式，表 3-1中数据的IQR为6：'
- en: <math alttext="upper I upper Q upper R equals upper Q 3 minus upper Q 1"><mrow><mi>I</mi>
    <mi>Q</mi> <mi>R</mi> <mo>=</mo> <msub><mi>Q</mi> <mn>3</mn></msub> <mo>-</mo>
    <msub><mi>Q</mi> <mn>1</mn></msub></mrow></math>
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper I upper Q upper R equals upper Q 3 minus upper Q 1"><mrow><mi>I</mi>
    <mi>Q</mi> <mi>R</mi> <mo>=</mo> <msub><mi>Q</mi> <mn>3</mn></msub> <mo>-</mo>
    <msub><mi>Q</mi> <mn>1</mn></msub></mrow></math>
- en: <math alttext="upper I upper Q upper R equals 8 minus 2 equals 6"><mrow><mi>I</mi>
    <mi>Q</mi> <mi>R</mi> <mo>=</mo> <mn>8</mn> <mo>-</mo> <mn>2</mn> <mo>=</mo> <mn>6</mn></mrow></math>
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="upper I upper Q upper R equals 8 minus 2 equals 6"><mrow><mi>I</mi>
    <mi>Q</mi> <mi>R</mi> <mo>=</mo> <mn>8</mn> <mo>-</mo> <mn>2</mn> <mo>=</mo> <mn>6</mn></mrow></math>
- en: The IQR is a valuable indicator and can be used as an input or a risk metric
    in many different models. It can also be used to detect outliers in the data since
    it is immune to them. Also, the IQR can help evaluate the current volatility of
    the analyzed asset, which in turn can be used with other methods to create more
    powerful models. As understood, the IQR outperforms the range metric in terms
    of usefulness and interpretation as the former is prone to outliers.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: IQR是一个有价值的指标，可以用作许多不同模型中的输入或风险度量。它还可以用于检测数据中的异常值，因为它对它们是免疫的。此外，IQR可以帮助评估所分析资产的当前波动性，进而与其他方法结合使用以创建更强大的模型。如理解的那样，IQR在有用性和解释性上优于范围度量，因为前者容易受到异常值的影响。
- en: Be careful when calculating quartiles, as there are many methods that use different
    calculations for the same dataset. Most importantly, make sure you use the same
    method throughout your analyses. The method used to calculate the quartiles in
    [Table 3-1](#table-3-1) is called the *Tukey’s hinges* method.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 计算四分位数时要小心，因为有许多方法用于对同一数据集进行不同的计算。最重要的是确保在所有分析中使用相同的方法。用于计算表3-1中四分位数的方法称为*图基的铰链*方法。
- en: Note
  id: totrans-208
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'The key takeaways from this section are the following:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的主要要点如下：
- en: The normal distribution is a continuous probability distribution that has a
    bell-shaped curve. The majority of the data clusters around the mean. The mean,
    median, and mode of a normal distribution curve are all equal.
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正态分布是一种连续的概率分布，具有钟形曲线。大多数数据聚集在均值附近。正态分布曲线的均值、中位数和众数都相等。
- en: Skewness measures the asymmetry of a probability distribution.
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 偏度测量概率分布的不对称性。
- en: Kurtosis measures the peakedness of a probability distribution. Excess kurtosis
    is commonly used to describe the current probability distribution.
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 峰度度量概率分布的尖峰程度。超额峰度通常用于描述当前的概率分布。
- en: Quantiles divide the arranged dataset into equal parts. The most commonly used
    quantiles are quartiles that divide the data into four equal parts.
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分位数将排列好的数据集分为相等的部分。最常用的分位数是将数据分为四等份的四分位数。
- en: The IQR is the difference between the third quartile and the first quartile.
    It is immune to outliers and thus is very helpful in data analysis.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IQR是第三四分位数与第一四分位数之间的差异。它对离群值免疫，因此在数据分析中非常有帮助。
- en: Visualizing Data
  id: totrans-215
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 数据可视化
- en: In [Chapter 1](ch01.html#ch01), I presented the six steps in the data science
    process. Step 4 was data visualization. This section will show you a few ways
    to present data in a clear visual manner that allows you to interpret it.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第1章](ch01.html#ch01)中，我介绍了数据科学过程中的六个步骤。第4步是数据可视化。本节将展示几种以清晰的视觉方式呈现数据的方法，使您能够对其进行解释。
- en: Many types of statistical plots are commonly used to visualize data. Let’s discuss
    some of them.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 许多类型的统计图用于可视化数据。让我们讨论其中一些。
- en: '*Scatterplots* are used to graph the relationship between two variables through
    points that correspond to the intersection between the variables. To create a
    scatterplot, use the following code on the CPI data:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '*散点图*用于绘制两个变量之间的关系，通过对应于变量交集的点。要创建散点图，请在CPI数据上使用以下代码：'
- en: '[PRE17]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '[Figure 3-8](#figure-3-8) shows the result of a scatterplot in time. This means
    that you have the CPI data as the first variable (*y*-axis) and time as the second
    variable (*x*-axis). However, scatterplots are more commonly used to compare variables;
    thus, removing the time variable can give more insights.'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 图3-8显示了一个时间散点图的结果。这意呈现了CPI数据作为第一个变量（y轴）和时间作为第二个变量（x轴）。然而，散点图更常用于比较变量；因此，移除时间变量可以提供更多的见解。
- en: '![](assets/dlff_0308.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0308.png)'
- en: Figure 3-8\. Scatterplot of US CPI data versus the time axis
  id: totrans-222
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-8. 美国CPI数据与时间轴的散点图
- en: 'Compare the UK CPI year-on-year change with the US CPI year-on-year change.
    Notice the positive association between the two in [Figure 3-9](#figure-3-9),
    as higher values of one are correlated with higher values of the other. Correlation
    is a key measure that you will see in detail in the next section. The code to
    plot [Figure 3-9](#figure-3-9) is as follows:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 将英国CPI年度变化与美国CPI年度变化进行比较。注意在图3-9中它们之间的正相关性，因为其中一个变量的较高值与另一个变量的较高值相关。相关性是您将在下一节详细了解的关键度量。绘制图3-9的代码如下：
- en: '[PRE18]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![](assets/dlff_0309.png)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0309.png)'
- en: Figure 3-9\. Scatterplot of UK CPI data versus US CPI data
  id: totrans-226
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-9. 英国CPI数据与美国CPI数据的散点图
- en: Scatterplots are good when visualizing the correlation between data. They are
    also easy to draw and interpret. Generally, when the points are scattered in such
    a way that a diagonal upward-sloping line can be drawn to represent them, the
    correlation is assumed to be positive, since whenever variables on the *x*-axis
    increase, variables on the *y*-axis also increase.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 当可视化数据之间的相关性时，散点图非常有效。它们也很容易绘制和解释。通常，当点分散成一条向上倾斜的对角线时，可以假定相关性为正，因为当x轴上的变量增加时，y轴上的变量也会增加。
- en: On the other hand, when a diagonal downward-sloping line can be drawn to represent
    the different variables, a negative correlation may exist. A negative correlation
    implies that whenever variables on the *x*-axis move, it is likely that variables
    on the *y*-axis move in the opposite way.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，当可以画出一条斜向下的对角线来表示不同变量时，可能存在负相关。负相关意味着无论*x*轴上的变量如何移动，*y*轴上的变量很可能以相反的方式移动。
- en: '[Figure 3-10](#figure-3-10) shows a best-fit line between the two inflation
    datasets from [Figure 3-9](#figure-3-9). Notice how it is upward sloping.'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3-10](#figure-3-10)展示了来自[图 3-9](#figure-3-9)的两个通胀数据集之间的最佳拟合线。请注意它是向上倾斜的。'
- en: '![](assets/dlff_0310.png)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0310.png)'
- en: Figure 3-10\. Scatterplot of UK CPI data versus US CPI data with a best-fit
    line
  id: totrans-231
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-10\. 英国CPI数据与美国CPI数据的散点图及最佳拟合线
- en: Let’s now move to another charting method. *Line plots*, the most basic type
    of plot, are essentially scatterplots that are joined and are mostly charted against
    the time axis (*x*-axis). You saw line plots in Figures [3-1](#figure-3-1) and
    [3-2](#figure-3-2).
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们来看另一种图表方法。*折线图*是最基本的绘图类型，本质上是联结的散点图，大多数情况下都是针对时间轴（*x*轴）绘制的。你在[图 3-1](#figure-3-1)和[图 3-2](#figure-3-2)中看到了折线图。
- en: The advantage of line plots is their simplicity and ease of implementation.
    They also show the evolution of the series through time, which helps in detecting
    trends and patterns. In [Chapter 5](ch05.html#ch05), you will learn about candlestick
    plots, a more elaborate way to plot financial time series. [Figure 3-11](#figure-3-11)
    shows a basic line plot of US CPI data since 1951.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 折线图的优点在于简单易行。它们还展示了时间序列的演变，有助于检测趋势和模式。在[第五章](ch05.html#ch05)中，你将学习更复杂的蜡烛图，用于绘制金融时间序列。[图 3-11](#figure-3-11)展示了自1951年以来美国CPI数据的基本折线图。
- en: '![](assets/dlff_0311.png)'
  id: totrans-234
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0311.png)'
- en: Figure 3-11\. Line plot of US CPI data versus the time axis
  id: totrans-235
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-11\. 美国CPI数据的折线图与时间轴
- en: 'To create [Figure 3-11](#figure-3-11), you can use the following code snippet:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建[图 3-11](#figure-3-11)，你可以使用以下代码片段：
- en: '[PRE19]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Next up are *bar plots*, which display the distribution of variables (generally,
    categorical). [Figure 3-12](#figure-3-12) shows a bar plot of the US CPI data
    since the beginning of 2022.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是*条形图*，用于显示变量（通常是分类的）的分布。[图 3-12](#figure-3-12)展示了自2022年初以来的美国CPI数据的条形图。
- en: '![](assets/dlff_0312.png)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0312.png)'
- en: Figure 3-12\. Bar plot of US CPI data versus the time axis
  id: totrans-240
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-12\. 美国CPI数据的条形图与时间轴
- en: 'To create [Figure 3-12](#figure-3-12), you can use the following code snippet:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建[图 3-12](#figure-3-12)，你可以使用以下代码片段：
- en: '[PRE20]'
  id: totrans-242
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Bar plots can be limited for plotting continuous data such as the US CPI or
    stock prices. They can also be misleading when the scale is off. Bar plots are
    also not recommended for large datasets since they clutter up the space. For the
    latter reason, histograms are a better fit.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 条形图在绘制美国CPI或股票价格等连续数据时存在局限性。当比例失调时，它们也可能误导。由于后一原因，当处理大型数据集时，直方图更为合适。
- en: A *histogram* is a specific sort of bar chart that is used to display the frequency
    distribution of continuous data by using bars to represent statistical information.
    It indicates the number of observations that fall into the class or bin of values.
    An example of a histogram is shown in [Figure 3-13](#figure-3-13) (also see [Figure 3-7](#figure-3-7)).
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '*直方图*是一种特定类型的条形图，用于显示连续数据的频率分布，通过条形来表示统计信息。它指示落入特定类别或数值区间的观察次数。直方图的示例见[图 3-13](#figure-3-13)（还参见[图 3-7](#figure-3-7)）。'
- en: '![](assets/dlff_0313.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0313.png)'
- en: Figure 3-13\. Histogram plot of US CPI data
  id: totrans-246
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-13\. 美国CPI数据的直方图
- en: 'To create [Figure 3-13](#figure-3-13), you can use the following code snippet:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建[图 3-13](#figure-3-13)，你可以使用以下代码片段：
- en: '[PRE21]'
  id: totrans-248
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Notice how the bar plot is charted against the time axis, but the histogram
    plot does not have a time horizon because it is a group of values with the aim
    of showing the overall distribution points. Visually, you can see the positive
    skewness of the distribution.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 注意条形图是针对时间轴绘制的，而直方图则没有时间范围，因为它是一组数值，旨在显示整体分布情况。从视觉上看，你可以看到分布的正偏度。
- en: 'Another classic plotting technique in statistics is the *box and whisker plot*.
    It is used to visualize the distribution of continuous variables while including
    the median and the quartiles, as well as the outliers. The way to understand the
    box and whisker plot is as follows:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 统计学中另一种经典绘图技术是*箱形图*。它用于可视化连续变量的分布，同时包括中位数和四分位数以及异常值。理解箱形图的方法如下：
- en: The box represents the IQR. The box is drawn between the first quartile and
    the third quartile. The height of the box indicates the spread of the data in
    this range.
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 箱子代表IQR。箱子在第一四分位数和第三四分位数之间绘制。箱子的高度表示该范围内数据的分布。
- en: The line inside the box represents the median.
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 箱子内的线表示中位数。
- en: The whiskers extend from the top and bottom of the box to the highest and lowest
    data points that are still within 1.5 times the IQR. These data points are called
    *outliers* and are represented as individual points on the plot.
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “须”从箱子的顶部和底部延伸到最高和最低数据点，这些点仍然在1.5倍IQR范围内。这些数据点称为*异常值*，在图上表示为单个点。
- en: '[Figure 3-14](#figure-3-14) shows a box and whisker plot on the US CPI data
    since 1950.'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '[图3-14](#figure-3-14)显示了自1950年以来美国CPI数据的箱形图。'
- en: '![](assets/dlff_0314.png)'
  id: totrans-255
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0314.png)'
- en: Figure 3-14\. Box and whisker plot of US CPI data
  id: totrans-256
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-14\. 美国CPI数据的箱形图
- en: 'You can also plot the data without the outliers (any value that lies more than
    1.5 times the length of the box from either end of the box). To create [Figure 3-14](#figure-3-14),
    you can use the following code snippet:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以绘制不带异常值的数据（任何值，其值超过箱子长度的1.5倍）。要创建[图3-14](#figure-3-14)，您可以使用以下代码片段：
- en: '[PRE22]'
  id: totrans-258
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'To remove the outliers from the plot, you simply use the following tweak:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 要从图中去除异常值，您只需使用以下小调整：
- en: '[PRE23]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: This will give you [Figure 3-15](#figure-3-15).
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 这将为您提供[图3-15](#figure-3-15)。
- en: '![](assets/dlff_0315.png)'
  id: totrans-262
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0315.png)'
- en: Figure 3-15\. Box and whisker plot of US CPI data with no outliers
  id: totrans-263
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-15\. 不含异常值的美国CPI数据箱形图
- en: Many more data visualization techniques exist, such as *heatmaps* (commonly
    used with correlation data and temperature mapping) and *pie charts* (commonly
    used for budgeting and segmentation). Which technique to use depends on what you
    need to understand and what fits better with your needs. For example, a line plot
    is better suited for time series that only have one feature (e.g., only the close
    price of a certain security is available). A histogram plot is better suited for
    use with probability distribution data.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 存在许多其他数据可视化技术，例如*热力图*（通常与相关数据和温度映射一起使用）和*饼图*（通常用于预算和分割）。使用哪种技术取决于您需要理解的内容及其适合您需求的情况。例如，折线图更适合仅具有一个特征的时间序列（例如，仅有某种证券的收盘价）。直方图更适合与概率分布数据一起使用。
- en: Note
  id: totrans-265
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'The key takeaways from this section are the following:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 此部分的主要要点如下：
- en: Which data visualization technique to use depends on the type of analysis and
    interpretation you want to perform. Some plots are better suited for use with
    certain types of data.
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用哪种数据可视化技术取决于您要执行的分析和解释类型。某些图表更适合与特定类型的数据一起使用。
- en: Data visualization helps with the initial interpretation before confirming it
    numerically.
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据可视化有助于在数值确认之前进行初步解释。
- en: You are more likely to use line plots and candlestick plots when dealing with
    financial time series.
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在处理金融时间序列时，您更有可能使用折线图和蜡烛图。
- en: Correlation
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相关性
- en: '*Correlation* is a measure used to calculate the degree of the linear relationship
    between two variables. It is a number between –1.0 and 1.0, with –1.0 designating
    a strong negative relationship between the variables and 1.0 designating a strong
    positive relationship.'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '*相关性* 是用来计算两个变量之间线性关系程度的指标。它是一个介于-1.0和1.0之间的数字，其中-1.0表示变量之间强烈的负相关关系，1.0表示强烈的正相关关系。'
- en: A value of zero indicates that there is no linear association between the variables.
    However, correlation does not imply causation. Two variables are said to be correlated
    if they move in the same direction, but this does not imply that one causes the
    other to move or that they move as a result of the same events.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 零值表示变量之间没有线性关联。然而，相关性并不意味着因果关系。如果两个变量同向运动，则它们被认为是相关的，但这并不意味着一个变量导致另一个变量移动，或者它们因相同事件而移动。
- en: Most people agree that some assets have natural correlations. For instance,
    because they are both part of the same industry and are affected by the same trends
    and events, the stocks of Apple and Microsoft are positively connected (which
    means their general trend is in the same direction). [Figure 3-16](#figure-3-16)
    shows the chart between the two stocks. Notice how they move together.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数人认为某些资产具有自然的相关性。例如，因为它们都属于同一行业并受相同趋势和事件的影响，苹果和微软的股票呈正相关（这意味着它们的总体趋势方向相同）。[图 3-16](#figure-3-16)显示了这两只股票之间的图表。请注意它们如何一起移动。
- en: '![](assets/dlff_0316.png)'
  id: totrans-274
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0316.png)'
- en: Figure 3-16\. Apple and Microsoft stock prices since 2021
  id: totrans-275
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-16。自2021年以来的苹果和微软股票价格
- en: The tops and bottoms of both stocks occur at almost the exact same time. Similarly,
    as the United States and the UK have similar economic drivers and impacts, they
    are also likely to have positively correlated inflation numbers, as you saw earlier
    in the chapter.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 这两只股票的高点和低点几乎同时发生。同样，由于美国和英国有相似的经济驱动因素和影响，它们的通货膨胀数据也可能呈正相关，正如您在本章中早些时候看到的。
- en: Checking for correlation is done through visual interpretation and mathematical
    formulas. Before seeing an example, let’s discuss the roots of calculating correlation
    so that you know where it comes from and what its limitations are.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 通过视觉解释和数学公式来检查相关性。在看一个例子之前，让我们讨论计算相关性的根源，以便您了解它的来源及其局限性。
- en: Note
  id: totrans-278
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Simply put, to calculate correlation, you need to measure how close the points
    in a scatterplot of the two variables are to a straight line. The more they look
    like a straight line, the more they are positively correlated, hence the term
    *linear correlation*.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 简单地说，要计算相关性，您需要测量两个变量散点图中的点有多接近一条直线。它们看起来越像一条直线，它们的正相关性就越强，因此称为*线性相关*。
- en: 'There are two main methods for calculating correlation: the Spearman method
    and the Pearson method.^([1](ch03.html#id418))'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种主要计算相关性的方法：Spearman方法和Pearson方法。^([1](ch03.html#id418))
- en: The *Pearson* correlation coefficient is a measure of the linear association
    between two variables calculated from the standard deviation and the covariance
    between them.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '*皮尔逊*相关系数是从它们之间的标准差和协方差计算的两个变量之间线性关联的度量。'
- en: '*Covariance* calculates the average of the difference between the means of
    the two variables. If the two variables have a tendency to move together, the
    covariance is positive, and if the two variables typically move in opposite directions,
    the covariance is negative. It ranges between positive infinity and negative infinity.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '*协方差*计算两个变量均值之间差异的平均值。如果两个变量有一起移动的倾向，协方差为正，如果两个变量通常反向移动，协方差为负。它的范围在正无穷和负无穷之间。'
- en: 'The formula for calculating the covariance between variables *x* and *y* is
    as follows:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 计算变量*x*和*y*之间协方差的公式如下：
- en: <math alttext="c o v Subscript x y Baseline equals StartFraction sigma-summation
    Underscript i equals 1 Overscript n Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis left-parenthesis y Subscript i Baseline
    minus y overbar right-parenthesis Over n EndFraction"><mrow><mi>c</mi> <mi>o</mi>
    <msub><mi>v</mi> <mrow><mi>x</mi><mi>y</mi></mrow></msub> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover
    accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow><mrow><mo>(</mo><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>y</mi> <mo>¯</mo></mover><mo>)</mo></mrow></mrow>
    <mi>n</mi></mfrac></mstyle></mrow></math>
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="c o v Subscript x y Baseline equals StartFraction sigma-summation
    Underscript i equals 1 Overscript n Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis left-parenthesis y Subscript i Baseline
    minus y overbar right-parenthesis Over n EndFraction"><mrow><mi>c</mi> <mi>o</mi>
    <msub><mi>v</mi> <mrow><mi>x</mi><mi>y</mi></mrow></msub> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover
    accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow><mrow><mo>(</mo><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>y</mi> <mo>¯</mo></mover><mo>)</mo></mrow></mrow>
    <mi>n</mi></mfrac></mstyle></mrow></math>
- en: 'Therefore, covariance is the sum of the products of the average deviations
    between the variables and their respective means (i.e., covariance measures the
    degree of their association). An average is taken to normalize this calculation.
    The Pearson correlation coefficient is calculated as follows:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，协方差是变量之间平均偏差及其各自均值乘积之和（即，协方差度量它们关联的程度）。取平均值以标准化此计算。皮尔逊相关系数计算如下：
- en: <math alttext="r Subscript x y Baseline equals StartFraction sigma-summation
    Underscript i equals 1 Overscript n Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis left-parenthesis y Subscript i Baseline
    minus y overbar right-parenthesis Over StartRoot sigma-summation Underscript i
    equals 1 Overscript n Endscripts left-parenthesis x Subscript i Baseline minus
    x overbar right-parenthesis squared EndRoot StartRoot sigma-summation Underscript
    i equals 1 Overscript n Endscripts left-parenthesis y Subscript i Baseline minus
    y overbar right-parenthesis squared EndRoot EndFraction"><mrow><msub><mi>r</mi>
    <mrow><mi>x</mi><mi>y</mi></mrow></msub> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover
    accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow><mrow><mo>(</mo><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>y</mi> <mo>¯</mo></mover><mo>)</mo></mrow></mrow>
    <mrow><msqrt><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub>
    <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup></mrow></msqrt> <msqrt><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>y</mi> <mi>i</mi></msub>
    <mo>-</mo><mover accent="true"><mi>y</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mstyle></mrow></math>
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="r Subscript x y Baseline equals StartFraction sigma-summation
    Underscript i equals 1 Overscript n Endscripts left-parenthesis x Subscript i
    Baseline minus x overbar right-parenthesis left-parenthesis y Subscript i Baseline
    minus y overbar right-parenthesis Over StartRoot sigma-summation Underscript i
    equals 1 Overscript n Endscripts left-parenthesis x Subscript i Baseline minus
    x overbar right-parenthesis squared EndRoot StartRoot sigma-summation Underscript
    i equals 1 Overscript n Endscripts left-parenthesis y Subscript i Baseline minus
    y overbar right-parenthesis squared EndRoot EndFraction"><mrow><msub><mi>r</mi>
    <mrow><mi>x</mi><mi>y</mi></mrow></msub> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub> <mo>-</mo><mover
    accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow><mrow><mo>(</mo><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>-</mo><mover accent="true"><mi>y</mi> <mo>¯</mo></mover><mo>)</mo></mrow></mrow>
    <mrow><msqrt><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>x</mi> <mi>i</mi></msub>
    <mo>-</mo><mover accent="true"><mi>x</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup></mrow></msqrt> <msqrt><mrow><msubsup><mo>∑</mo> <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow>
    <mi>n</mi></msubsup> <msup><mrow><mo>(</mo><msub><mi>y</mi> <mi>i</mi></msub>
    <mo>-</mo><mover accent="true"><mi>y</mi> <mo>¯</mo></mover><mo>)</mo></mrow>
    <mn>2</mn></msup></mrow></msqrt></mrow></mfrac></mstyle></mrow></math>
- en: 'Simplifying the previous correlation formula gives you the following:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 简化前述相关公式得到以下结果：
- en: <math alttext="r Subscript x y Baseline equals StartFraction c o v Subscript
    x y Baseline Over sigma Subscript x Baseline sigma Subscript y Baseline EndFraction"><mrow><msub><mi>r</mi>
    <mrow><mi>x</mi><mi>y</mi></mrow></msub> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mrow><mi>c</mi><mi>o</mi><msub><mi>v</mi> <mrow><mi>x</mi><mi>y</mi></mrow></msub></mrow>
    <mrow><msub><mi>σ</mi> <mi>x</mi></msub> <msub><mi>σ</mi> <mi>y</mi></msub></mrow></mfrac></mstyle></mrow></math>
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="r Subscript x y Baseline equals StartFraction c o v Subscript
    x y Baseline Over sigma Subscript x Baseline sigma Subscript y Baseline EndFraction"><mrow><msub><mi>r</mi>
    <mrow><mi>x</mi><mi>y</mi></mrow></msub> <mo>=</mo> <mstyle displaystyle="false"
    scriptlevel="0"><mfrac><mrow><mi>c</mi><mi>o</mi><msub><mi>v</mi> <mrow><mi>x</mi><mi>y</mi></mrow></msub></mrow>
    <mrow><msub><mi>σ</mi> <mi>x</mi></msub> <msub><mi>σ</mi> <mi>y</mi></msub></mrow></mfrac></mstyle></mrow></math>
- en: 'Therefore, the Pearson correlation coefficient is simply the covariance between
    two variables divided by the product of their standard deviation. Let’s calculate
    the correlation between the US CPI year-on-year values and the UK CPI year-on-year
    values. The intuition is that the correlation is above zero, as the UK and the
    US are economically related. The following code block calculates the Pearson correlation
    coefficient for the two time series:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，皮尔逊相关系数简单地是两个变量之间的协方差除以它们标准差的乘积。让我们计算美国CPI年同比值和英国CPI年同比值之间的相关性。直觉上，由于英国和美国在经济上有关联，相关性大于零。以下代码块计算了这两个时间序列的皮尔逊相关系数：
- en: '[PRE24]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The output is as follows:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE25]'
  id: totrans-292
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: The correlation between the two is a whopping 0.73\. This is in line with the
    expectations. Pearson correlation is usually used with variables that have proportional
    changes and are normally distributed.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 这两者之间的相关系数高达0.73。这符合预期。皮尔逊相关通常与具有比例变化且正态分布的变量一起使用。
- en: '*Spearman’s rank correlation* is a nonparametric rank correlation that measures
    the strength of the relationship between the variables. It is suitable for variables
    that do not follow a normal distribution.'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '*斯皮尔曼秩相关*是一种非参数秩相关，用于衡量变量之间关系的强度。它适用于不符合正态分布的变量。'
- en: Note
  id: totrans-295
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Remember, financial returns are not normally distributed but are sometimes treated
    that way for simplicity.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，财务收益不服从正态分布，但有时出于简单起见会这样处理。
- en: 'Unlike Pearson correlation, Spearman’s rank correlation takes into account
    the order of the values, rather than the actual values. To calculate Spearman’s
    rank correlation, follow these steps:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 与皮尔逊相关不同，斯皮尔曼秩相关考虑值的顺序，而不是实际值。要计算斯皮尔曼秩相关，请按照以下步骤进行：
- en: Rank the values of each variable. This is done by inputting 1 instead of the
    smallest variable and inputting the length of the dataset instead of the largest
    number.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给每个变量的值排名。这是通过将最小变量替换为1并将数据集的长度替换为最大数字来完成的。
- en: Calculate the difference in ranks. Mathematically, the difference in ranks is
    represented by the letter *d* in the mathematical formula to come. Then, calculate
    their squared differences.
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算秩的差异。在数学上，秩的差异用数学公式中的字母*d*表示。然后，计算它们的平方差。
- en: Sum the squared differences you have calculated from step 2.
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 求出第2步中计算的平方差的总和。
- en: 'Use the following formula to calculate Spearman’s rank correlation:'
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下公式计算斯皮尔曼秩相关：
- en: <math alttext="rho equals 1 minus StartFraction 6 sigma-summation Underscript
    i equals 1 Overscript n Endscripts d Subscript i Superscript 2 Baseline Over n
    cubed minus n EndFraction"><mrow><mi>ρ</mi> <mo>=</mo> <mn>1</mn> <mo>-</mo> <mfrac><mrow><mn>6</mn><msubsup><mo>∑</mo>
    <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow> <mi>n</mi></msubsup> <msubsup><mi>d</mi>
    <mrow><mi>i</mi></mrow> <mn>2</mn></msubsup></mrow> <mrow><msup><mi>n</mi> <mn>3</mn></msup>
    <mo>-</mo><mi>n</mi></mrow></mfrac></mrow></math>
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: <math alttext="rho equals 1 minus StartFraction 6 sigma-summation Underscript
    i equals 1 Overscript n Endscripts d Subscript i Superscript 2 Baseline Over n
    cubed minus n EndFraction"><mrow><mi>ρ</mi> <mo>=</mo> <mn>1</mn> <mo>-</mo> <mfrac><mrow><mn>6</mn><msubsup><mo>∑</mo>
    <mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow> <mi>n</mi></msubsup> <msubsup><mi>d</mi>
    <mrow><mi>i</mi></mrow> <mn>2</mn></msubsup></mrow> <mrow><msup><mi>n</mi> <mn>3</mn></msup>
    <mo>-</mo><mi>n</mi></mrow></mfrac></mrow></math>
- en: As with Pearson correlation, Spearman’s rank correlation also ranges from –1.00
    to 1.00 with the same interpretation.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 与皮尔逊相关类似，斯皮尔曼秩相关的范围也是从–1.00到1.00，并具有相同的解释。
- en: Note
  id: totrans-304
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Strong positive correlations are generally upward of 0.70, while strong negative
    correlations are generally downward of –0.70.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 强正相关通常大于0.70，而强负相关通常小于–0.70。
- en: 'The following code block calculates Spearman’s rank correlation coefficient
    for the two time series:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码块计算了两个时间序列的斯皮尔曼秩相关系数：
- en: '[PRE26]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The output is as follows:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE27]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Let’s answer a very important question after getting this difference in results.
    Why are the two measures so different?
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 在得到这个结果差异后，让我们回答一个非常重要的问题。为什么这两个测量结果如此不同？
- en: The first thing to keep in mind is what they measure. Pearson correlation measures
    the linear relationship (trend) between the variables while Spearman’s rank correlation
    measures the monotonic trend. The word *monotonic* refers to moving in the same
    direction but not exactly at the same rate or magnitude. Also, Spearman’s rank
    correlation transforms the data to an ordinal type (through the ranks) as opposed
    to Pearson correlation, which uses the actual values.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 首先要记住的是它们测量的内容。皮尔逊相关测量变量之间的线性关系（趋势），而斯皮尔曼秩相关测量单调趋势。单调一词指的是以相同方向移动，但不完全以相同速率或大小移动。此外，斯皮尔曼秩相关将数据转换为序数类型（通过秩），而不是像皮尔逊相关那样使用实际值。
- en: '*Autocorrelation* (also referred to as *serial correlation*) is a statistical
    method used to look at the relationship between a given time series and a lagged
    version of it. It is generally used to predict future values through patterns
    in data, such as seasonality or trends. Autocorrelation is therefore the values’
    relationship with the previous values—for example, comparing each day’s Microsoft
    stock price to the preceding day and seeing if there is a discernible correlation
    there. Algorithmically speaking, this can be represented as shown in [Table 3-2](#table-3-2).'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '*自相关*（也称为*串行相关*）是一种统计方法，用于查看给定时间序列与其滞后版本之间的关系。通常用于通过数据模式（例如季节性或趋势）来预测未来值。自相关因此是值与先前值的关系—例如，比较每一天的微软股票价格与前一天并查看是否存在可辨识的相关性。从算法的角度来看，这可以表示如下[表 3-2](#table-3-2)。'
- en: Table 3-2\. Lagged values
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 表 3-2\. 滞后值
- en: '|      t |      t–1 |'
  id: totrans-314
  prefs: []
  type: TYPE_TB
  zh: '|      t |      t–1 |'
- en: '| --- | --- |'
  id: totrans-315
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '|  $       1.25 |  $       1.65 |'
  id: totrans-316
  prefs: []
  type: TYPE_TB
  zh: '|  $       1.25 |  $       1.65 |'
- en: '|  $       1.77 |  $       1.25 |'
  id: totrans-317
  prefs: []
  type: TYPE_TB
  zh: '|  $       1.77 |  $       1.25 |'
- en: '|  $       1.78 |  $       1.77 |'
  id: totrans-318
  prefs: []
  type: TYPE_TB
  zh: '|  $       1.78 |  $       1.77 |'
- en: '|  $       1.25 |  $       1.78 |'
  id: totrans-319
  prefs: []
  type: TYPE_TB
  zh: '|  $       1.25 |  $       1.78 |'
- en: '|  $       1.90 |  $       1.25 |'
  id: totrans-320
  prefs: []
  type: TYPE_TB
  zh: '|  $       1.90 |  $       1.25 |'
- en: Each row represents a time period. Column *t* is the current price and column
    *t-1* is the previous price put on the row that represents the present. This is
    done when creating machine learning models to understand the relationship between
    the current values and the previous ones at every time step (row).
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 每一行代表一个时间段。列*t*是当前价格，列*t-1*是将先前价格放在代表当前的行上。这是在创建机器学习模型时，为了了解当前值与每个时间步长（行）中先前值之间的关系而完成的。
- en: Positive autocorrelation frequently occurs in trending assets and is associated
    with the idea of persistence (trend following). Negative autocorrelation is exhibited
    in ranging markets and is associated with the idea of antipersistence (mean reversion).
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 正自相关在趋势资产中经常发生，并与持续性（趋势跟随）的概念相关联。负自相关在波动市场中表现出来，并与反向性（均值回归）的概念相关联。
- en: Note
  id: totrans-323
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Measures of short-term correlation between different time series (e.g., NVIDIA
    and Oracle stocks) are typically computed using returns (such as differences) on
    prices rather than real prices. However, it is possible to utilize the prices
    directly to identify long-term trends.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 计算不同时间序列（例如NVIDIA和Oracle股票）之间的短期相关性的度量通常使用价格的回报（例如差异）而不是实际价格。但是，可以直接利用价格来识别长期趋势。
- en: 'The following code block calculates the autocorrelation of the US CPI year-on-year
    values:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的代码块计算美国CPI年度值的自相关：
- en: '[PRE28]'
  id: totrans-326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'A lag of 12 means that every data value is compared to the data from 12 periods
    ago and then a correlation measure is calculated. The output of the code is as
    follows:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 滞后12期意味着每个数据值都与12期前的数据进行比较，然后计算相关性指标。以下是代码的输出：
- en: '[PRE29]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Now, before proceeding to the next section, let’s revert back to information
    theory and discuss one interesting correlation coefficient that is able to pick
    up on nonlinear relationships.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在进入下一节之前，让我们回到信息理论，讨论一个能够发现非线性关系的有趣相关系数。
- en: The *maximal information coefficient* (MIC) is a nonparametric measure of association
    between two variables designed to handle large and complex data. It is generally
    seen as a more robust alternative to traditional measures of correlation, such
    as Pearson correlation and Spearman’s rank correlation. Introduced by David N.
    Reshef et al.,^([2](ch03.html#id424)) the MIC uses concepts from information theory
    that you saw in [Chapter 2](ch02.html#ch02).
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '*最大信息系数*（MIC）是两个变量之间的非参数相关性度量，旨在处理大规模和复杂的数据。它通常被视为传统相关性度量的更稳健的替代方法，如皮尔逊相关系数和斯皮尔曼秩相关系数。由大卫·N·雷舍夫等人引入，^（[2](ch03.html#id424)）MIC使用了信息理论中的概念，您在[第2章](ch02.html#ch02)中看到过。'
- en: The MIC measures the strength of the association between two variables by counting
    the number of cells in a contingency table that are maximally informative about
    the relationship between the variables. The MIC value ranges from 0 to 1, with
    higher values indicating stronger associations. It can handle high-dimensional
    data and can identify nonlinear relationships between variables.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: MIC通过计算对两个变量之间的关系最具信息量的列在列联表中的数量来衡量两个变量之间的关联强度。MIC值的范围从0到1，较高的值表示较强的关联。它可以处理高维数据，并且可以识别变量之间的非线性关系。
- en: It is, however, nondirectional, which means that values close to 1 only suggest
    a strong correlation between the two variables; they do not say whether the correlation
    is positive or negative. In other words, the mutual information between the two
    variables within each bin is calculated after the range of each variable has been
    divided into a set of bins. The strength of the association between the two variables
    is then estimated using the maximum mutual information value across all bins.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，它是无方向的，这意味着接近1的值仅表明两个变量之间存在强烈的相关性；它们并不表示相关性是正还是负。换句话说，在将每个变量的范围划分为一组箱之后，将计算每个箱内两个变量之间的相互信息。然后，通过在所有箱中获取最大相互信息值来估计两个变量之间的关联强度。
- en: Let’s check out a practical example that showcases the strength of the MIC in
    detecting nonlinear relationships. The following example simulates two wave series
    (sine and cosine). Intuitively, looking at [Figure 3-17](#figure-3-17), it seems
    that there is a lag–lead relationship between the two.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看一个实际的例子，展示了MIC在检测非线性关系方面的优势。以下示例模拟了两个波形序列（正弦和余弦）。直觉上，从[图3-17](#figure-3-17)中看，似乎两者之间存在滞后-领先关系。
- en: '![](assets/dlff_0317.png)'
  id: totrans-334
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0317.png)'
- en: Figure 3-17\. The two wave series showing a form of nonlinear relationship
  id: totrans-335
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-17\. 显示非线性关系形式的两个波形系列
- en: 'The following Python code snippet creates the two time series and plots [Figure 3-17](#figure-3-17):'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的 Python 代码片段创建了两个时间序列并绘制了[图 3-17](#figure-3-17)：
- en: '[PRE30]'
  id: totrans-337
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Now the job is to calculate the three correlation measures and analyze their
    results. For simplicity, the code will be omitted from this section and will be
    shared in [Chapter 6](ch06.html#ch06), as there are a few things to understand
    in Python first. The results are as follows:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 现在的任务是计算三种相关性度量并分析它们的结果。为了简化起见，本节将省略代码，并在[第 6 章](ch06.html#ch06)中分享，因为首先需要了解
    Python 中的一些内容。结果如下：
- en: '[PRE31]'
  id: totrans-339
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Let’s interpret the results:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们解释一下结果：
- en: '*Pearson correlation*: Notice the absence of any type of correlation here due
    to it missing out on the nonlinear association.'
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Pearson 相关性*: 注意到这里没有任何类型的相关性，因为它未能捕捉到非线性关联。'
- en: '*Spearman’s rank correlation*: The same situation applies here with an extremely
    weak correlation.'
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Spearman 等级相关性*: 同样的情况也适用于这里，相关性非常弱。'
- en: '*MIC*: The measure returned a strong relationship of 0.60 between the two,
    which is closer to reality. It seems that the MIC states that both waves have
    a strong, albeit nonlinear, relationship.'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*MIC*: 该指标显示了两者之间0.60的强关系，更接近实际情况。MIC 表明这两个波形有着强有力的非线性关系。'
- en: The MIC is useful in economic analysis, financial analysis, and even finding
    trading signals if used properly. Nonlinear relationships are abundant in such
    complex fields, and being able to detect them may provide a sizable edge.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 如果正确使用，MIC 在经济分析、金融分析甚至发现交易信号中非常有用。在这些复杂领域中非线性关系非常丰富，能够检测到它们可能会提供相当大的优势。
- en: Note
  id: totrans-345
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'The key takeaways from this section are the following:'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的关键要点如下：
- en: Correlation is a measure that is used to calculate the degree of the linear
    relationship between variables. It is a number between –1.0 and 1.0, with –1.0
    designating a strong negative relationship between the variables and 1.0 designating
    a strong positive relationship.
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相关性是用于计算变量之间线性关系程度的一个度量。它是一个介于–1.0和1.0之间的数字，–1.0表示变量之间有强烈的负相关关系，而1.0表示有强烈的正相关关系。
- en: 'There are two main types of correlation: Spearman’s rank correlation and Pearson
    correlation. Both have their advantages and limitations.'
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有两种主要类型的相关性：Spearman 等级相关性和 Pearson 相关性。它们各自有其优点和局限性。
- en: Autocorrelation is the correlation of the variable with its own lagged values.
    For example, if the autocorrelation of Walmart’s stock returns is positive, it
    denotes a trending configuration.
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自相关是变量与其自身滞后值的相关性。例如，如果沃尔玛股票收益的自相关是正的，则表示趋势配置。
- en: Correlation measures can also refer to nonlinear relationships when you use
    the right tool, for example, the MIC.
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当你使用适当的工具，例如 MIC 时，相关度测量也可以指代非线性关系。
- en: The Concept of Stationarity
  id: totrans-351
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 平稳性的概念
- en: Stationarity is a key concept in statistical analysis and machine learning.
    *Stationarity* occurs when the statistical characteristics of the time series
    (mean, variance, etc.) are constant over time. In other words, no discernable
    trend is detectable when plotting the data across time.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 在统计分析和机器学习中，**平稳性**是一个关键概念。*平稳性*发生在时间序列的统计特征（均值、方差等）随时间保持不变的情况下。换句话说，当在时间轴上绘制数据时，没有可识别的趋势。
- en: The different learning models rely on data stationarity, as it is one of the
    basics of statistical modeling, and this is mainly for simplicity. In finance,
    price time series are not stationary, as they show trends with varying variance
    (volatility). Take a look at [Figure 3-18](#figure-3-18) and see if you can detect
    a trend. Would you say that this time series is stationary?
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的学习模型依赖于数据的平稳性，因为这是统计建模的基础之一，这主要是为了简化。在金融领域，价格时间序列不是平稳的，因为它们显示出具有变化方差（波动性）的趋势。看看[图 3-18](#figure-3-18)，看看你能否检测到趋势。你认为这个时间序列是平稳的吗？
- en: '![](assets/dlff_0318.png)'
  id: totrans-354
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0318.png)'
- en: Figure 3-18\. Simulated data with a varying mean across time
  id: totrans-355
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-18\. 具有随时间变化的均值的模拟数据
- en: 'Naturally, the answer is no, as a rising trend is clearly in progress. States
    like this are undesirable for statistical analyses and machine learning. Luckily,
    there are transformations that you can apply to the time series to make them stationary.
    But first, let’s see how to check for stationarity the mathematical way, as the
    visual way does not prove anything. The right way to deal with data stationarity
    problems is to follow these steps:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 自然地，答案是否定的，因为一个上升的趋势正在明显进行中。这种状态对统计分析和机器学习来说是不可取的。幸运的是，您可以对时间序列应用转换使其平稳。但首先，让我们看看如何通过数学方式检查平稳性，因为视觉方式并不能证明任何事情。解决数据平稳性问题的正确方法是按照以下步骤进行：
- en: Check for stationarity using the different statistical tests that you will see
    in this section.
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您将在本节中看到的不同统计测试检查平稳性。
- en: If the tests show data stationarity, you are ready to use the data for the algorithms.
    If the tests show that the data is not stationary, you have to proceed to step
    3.
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果测试显示数据平稳，您就可以使用数据进行算法处理。如果测试显示数据不是平稳的，则必须进行第三步。
- en: Subtract every value from the value before it (difference the values).
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从前一个值中减去每个值（对值进行差分）。
- en: Recheck for stationarity using the same tests on the new transformed data.
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用相同的测试重新检查新转换的数据的平稳性。
- en: If the test shows data stationarity, then you have successfully transformed
    your data. Otherwise, redo the transformation and check again until you have stationary
    data.
  id: totrans-361
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果测试显示数据平稳，那么您已成功转换了您的数据。否则，请重新进行转换并再次检查，直到您获得平稳的数据。
- en: Note
  id: totrans-362
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: Ascending or descending time series have varying mean and variances through
    time and are therefore most likely nonstationary. There are exceptions to this,
    and you will see why later.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 升序或降序的时间序列在时间上具有变化的均值和方差，因此很可能是非平稳的。当然，也有例外情况，稍后您将了解原因。
- en: Remember, the aim of stationarity is stable and constant mean and variance over
    time. Therefore, when you look at [Figure 3-19](#figure-3-19), what can you infer?
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，平稳性的目标是随时间稳定和恒定的均值和方差。因此，当您看 [Figure 3-19](#figure-3-19)时，您可以推断出什么？
- en: '![](assets/dlff_0319.png)'
  id: totrans-365
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0319.png)'
- en: Figure 3-19\. Simulated data with a mean around zero across time
  id: totrans-366
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图3-19。模拟数据在时间上的均值约为零
- en: Visually, it looks like the data does not have a trend, and it also looks like
    it fluctuates around a stable mean with stable variance around it. The first impression
    is that the data is stationary. Of course, this must be proved through statistical
    tests.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 从视觉上看，数据看起来没有趋势，而且看起来围绕着稳定的均值波动，其方差也在稳定的均值附近变化。第一印象是数据是平稳的。当然，这必须通过统计测试来证明。
- en: The first and most basic test is the *augmented Dickey—Fuller* (ADF) test. This
    tests for stationarity using hypothesis testing.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个也是最基本的测试是 *增强的迪基—富勒*（ADF）测试。这是使用假设检验来检验平稳性的。
- en: 'The ADF test searches for a unit root in the data. A *unit root* is a property
    of nonstationary data, and in the context of time series analysis, it refers to
    a characteristic of a stochastic process where the series has a root equal to
    1\. In simpler terms, it means that its statistical properties, such as the mean
    and variance, change over time. Here’s what you need to know:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: ADF测试搜索数据中的单位根。*单位根*是非平稳数据的属性，在时间序列分析的背景下，它指的是一种随机过程的特征，其中系列的根等于1。简单来说，这意味着其统计特性，如均值和方差，会随时间变化。这是你需要知道的：
- en: The null hypothesis assumes the presence of a unit root. This means that if
    you are trying to prove that the data is stationary, you are looking to reject
    the null hypothesis (as seen in [“Sampling and Hypothesis Testing”](ch02.html#sampling_and_hypothesis_testing)).
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 零假设假设存在单位根。这意味着，如果您试图证明数据是平稳的，您需要拒绝零假设（如[“抽样与假设检验”](ch02.html#sampling_and_hypothesis_testing)所示）。
- en: The alternative hypothesis is therefore the absence of a unit root and the stationarity
    of the data.
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 因此，备择假设是不存在单位根且数据具有平稳性。
- en: The p-value obtained from the test must be less than the significance level
    chosen (in most cases, it is 5%).
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从测试中获得的 p 值必须小于选择的显著性水平（在大多数情况下，为 5%）。
- en: 'Let’s test the US CPI year-on-year data for stationarity. The following code
    snippet checks for stationarity using the ADF test:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来测试美国CPI年同比数据的平稳性。以下代码片段使用ADF测试检查平稳性：
- en: '[PRE32]'
  id: totrans-374
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'The output of the code is as follows:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 代码的输出如下：
- en: '[PRE33]'
  id: totrans-376
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: Assuming a 5% significance level, it seems that it is possible to accept that
    the year-on-year data is stationary (however, if you want to be stricter and use
    a 1% significance level, then the p-value suggests that the data is nonstationary).
    Either way, even looking at the chart can make you scratch your head. Remember
    that in [Figure 3-11](#figure-3-11), the yearly changes in the US CPI seem to
    be stable but do not resemble stationary data. This is why numerical and statistical
    tests are used.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 假设5%显著水平，看起来可以接受同比数据是平稳的（然而，如果你想更严格，使用1%显著水平，那么p值表明数据是非平稳的）。无论如何，即使看图表也可能让你百思不得其解。请记住，在
    [Figure 3-11](#figure-3-11) 中，美国CPI的年度变化似乎是稳定的，但并不像平稳数据。这就是为什么需要使用数值和统计测试的原因。
- en: 'Now, let’s apply the code on the raw US CPI data and not take the year-on-year
    changes. Here’s the code:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们对美国CPI的原始数据应用代码，而不是考虑同比变化。以下是代码：
- en: '[PRE34]'
  id: totrans-379
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'The output of the code is as follows:'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 代码的输出如下：
- en: '[PRE35]'
  id: totrans-381
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Clearly, the p-value is greater than all the significance levels, which means
    that the time series is nonstationary. Let’s sum up these results:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，p值大于所有显著水平，这意味着时间序列是非平稳的。让我们总结一下这些结果：
- en: It seems that you can reject the null hypothesis using a 5% significance level
    when it comes to the year-on-year changes in the US CPI data. The dataset is assumed
    to be stationary.
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 看起来在涉及美国CPI数据的同比变化时，可以在5%显著水平下拒绝零假设。数据集被假定为平稳。
- en: It seems that you cannot reject the null hypothesis using a 5% significance
    level when it comes to the raw values of the US CPI data. The dataset is assumed
    to be nonstationary.
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 看起来当涉及美国CPI数据的原始值时，无法在5%显著水平下拒绝零假设。数据集被假定为非平稳。
- en: This becomes obvious when you plot the raw values of the US CPI data, as shown
    in [Figure 3-20](#figure-3-20).
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 当你绘制美国CPI数据的原始值时，如图 [Figure 3-20](#figure-3-20) 所示，这变得显而易见。
- en: '![](assets/dlff_0320.png)'
  id: totrans-386
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0320.png)'
- en: Figure 3-20\. Absolute values of the US CPI data showing a clearly trending
    nature
  id: totrans-387
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-20\. 美国CPI数据的绝对值显示出明显的趋势性质
- en: The other test that you must be aware of is the *Kwiatkowski–Phillips–Schmidt–Shin*
    (KPSS) test, which is also a statistical test with the aim of determining whether
    the time series is stationary or nonstationary. However, the KPSS test can detect
    stationarity in trending time series, which makes it a powerful tool.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个你必须了解的测试是*Kwiatkowski–Phillips–Schmidt–Shin*（KPSS）测试，这也是一个用于确定时间序列是平稳还是非平稳的统计测试。然而，KPSS测试可以检测到趋势时间序列中的平稳性，使其成为一个强大的工具。
- en: Trending time series can actually be stationary on the condition they have a
    stable mean.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 趋势时间序列实际上可以在其具有稳定均值的条件下是平稳的。
- en: Warning
  id: totrans-390
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 警告
- en: The ADF test has a null hypothesis that argues for nonstationarity and an alternative
    hypothesis that argues for stationarity. The KPSS test has a null hypothesis that
    argues for stationarity and an alternative hypothesis that argues for nonstationarity.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: ADF 测试的零假设认为序列是非平稳的，备择假设则认为序列是平稳的。KPSS 测试的零假设认为序列是平稳的，备择假设则认为序列是非平稳的。
- en: 'Before analyzing the inflation data, let’s see how a trending time series can
    be stationary. Remember that stationarity refers to a stable mean and standard
    deviation, so if somehow you have a gradually ascending or descending time series
    with stable statistical properties, it may be stationary. The next code snippet
    simulates a sine wave and then adds a touch of trending to it:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 在分析通胀数据之前，让我们看看趋势时间序列如何可以是平稳的。记住，平稳性指的是稳定的均值和标准差，因此如果某种方式你有一个逐渐上升或下降的时间序列，但具有稳定的统计特性，它可能是平稳的。下一个代码片段模拟了一个正弦波然后为其添加了一点趋势：
- en: '[PRE36]'
  id: totrans-393
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Plotting the two series, as shown in [Figure 3-21](#figure-3-21), shows that
    the trending sine wave seems to be stable. But let’s prove this through statistical
    tests.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 如图 [Figure 3-21](#figure-3-21) 所示，绘制两个序列表明趋势正弦波似乎是稳定的。但让我们通过统计测试来证明这一点。
- en: '![](assets/dlff_0321.png)'
  id: totrans-395
  prefs: []
  type: TYPE_IMG
  zh: '![](assets/dlff_0321.png)'
- en: Figure 3-21\. A normal sine wave simulated series with a trending sine wave
  id: totrans-396
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图 3-21\. 模拟具有趋势正弦波的正常正弦波序列
- en: '[Figure 3-21](#figure-3-21) is generated using the following code (make sure
    you have defined the series using the previous code block):'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: '[Figure 3-21](#figure-3-21) 是使用以下代码生成的（确保你已经使用前面的代码块定义了系列）：'
- en: '[PRE37]'
  id: totrans-398
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Let’s try the ADF test on both series and see what the results are:'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们分别对这两个序列进行ADF测试，看看结果如何：
- en: '[PRE38]'
  id: totrans-400
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'The output is as follows:'
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE39]'
  id: totrans-402
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Clearly, the ADF test is consistent with the idea that trending markets cannot
    be stationary. But what about the KPSS test? The following code uses the KPSS
    test on the same data to check for stationarity:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，ADF检验与趋势市场不能平稳的观点一致。但是KPSS检验呢？以下代码使用KPSS检验在同一数据上检查平稳性：
- en: '[PRE40]'
  id: totrans-404
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'The output is as follows:'
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 输出如下：
- en: '[PRE41]'
  id: totrans-406
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: Remember that the null hypothesis of the KPSS test is that the data is stationary;
    therefore, if the p-value is greater than the significance level, the data is
    considered stationary since it is not possible to reject the null hypothesis.
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，KPSS检验的零假设是数据是平稳的；因此，如果p值大于显著性水平，则认为数据是平稳的，因为不能拒绝零假设。
- en: The KPSS statistic, when taking into account the trend, states that the ascending
    sine wave is a stationary time series. This is a basic example of how you can
    find stationary data in trending time series.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 当考虑趋势时，KPSS统计量表明上升的正弦波是一个平稳时间序列。这是如何在趋势时间序列中找到平稳数据的基本示例。
- en: 'Let’s test the US CPI year-on-year data for stationarity. The following code
    snippet checks for stationarity using the KPSS test:'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们测试美国CPI年度数据的平稳性。以下代码片段使用KPSS检验检查平稳性：
- en: '[PRE42]'
  id: totrans-410
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'The output of the code is as follows:'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 代码的输出如下：
- en: '[PRE43]'
  id: totrans-412
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: It seems that the results from the KPSS test contradict the results from the
    ADF test. This may happen from time to time, and differencing may solve the issue
    (bear in mind that the year-on-year data is already a differenced time series
    from the absolute CPI values, but some time series may need more than one differencing
    to become stationary, and it also depends on the period of differencing). The
    safest solution in this case is to transform the data again.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来KPSS检验的结果与ADF检验的结果相矛盾。这种情况可能会时有发生，差分可能会解决这个问题（请注意，年度数据已经是从绝对CPI值差分得来的时间序列，但有些时间序列可能需要多次差分才能变得平稳，而这也取决于差分的期间）。在这种情况下，最安全的解决方案是再次转换数据。
- en: Before finishing this section on stationarity, let’s discuss a complex topic
    that you will see in action in [Chapter 9](ch09.html#ch09). Transforming the data
    may cause the unusual problem of memory loss. In his book *Advances in Financial
    Machine Learning* (Wiley), Marcos López de Prado proposed a technique called fractional
    differentiation with the aim of making data stationary while preserving some memory.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成关于平稳性的本节之前，让我们讨论一个复杂的主题，您将在[第9章](ch09.html#ch09)中看到它的实际应用。转换数据可能会导致异常的记忆丢失问题。在他的书籍《金融机器学习进展》（Wiley）中，Marcos
    López de Prado提出了一种称为分数阶差分的技术，旨在使数据保持平稳同时保留一些记忆。
- en: When a nonstationary time series is differenced to make it stationary, memory
    loss occurs, which is another way of saying that the autocorrelation between the
    values is greatly reduced, thus removing the trend component and the DNA of the
    underlying asset. The degree of differencing and the persistence of the autocorrelation
    structure in the original series determines how much memory loss occurs.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个非平稳时间序列进行差分以使其平稳时，会发生记忆丢失，这另一种说法是值之间的自相关显著降低，从而移除趋势成分和基础资产的DNA。原始序列中的差分程度和自相关结构的持久性决定了记忆丢失的程度。
- en: Note
  id: totrans-416
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'The key takeaways from this section are the following:'
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的关键要点如下：
- en: Stationarity refers to the concept of stable mean and variance through time.
    It is a desired characteristic, as most machine learning models rely on it.
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平稳性是指时间内稳定的均值和方差的概念。这是一个期望的特征，因为大多数机器学习模型依赖于此。
- en: Financial price time series are most likely nonstationary and require first-order
    differencing to become stationary and ready for statistical modeling. Some may
    even require a second order transformation to become stationary.
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 金融价格时间序列很可能是非平稳的，并且需要进行一阶差分以使其变得平稳并准备好进行统计建模。有些甚至可能需要进行二阶转换才能变得平稳。
- en: The ADF and KPSS tests check for stationarity in the data, with the latter being
    able to check for stationarity in trending data.
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ADF和KPSS检验检查数据的平稳性，后者能够检查趋势数据的平稳性。
- en: Trending data may be stationary. Although this characteristic is rare, the KPSS
    test can detect the stationarity, while the ADF test cannot.
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 趋势数据可能是平稳的。尽管这种特征很少见，但KPSS检验可以检测到平稳性，而ADF检验则不能。
- en: Regression Analysis and Statistical Inference
  id: totrans-422
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 回归分析与统计推断
- en: Whereas descriptive statistics describe data and extract as much information
    as possible from it, inferential statistics uses the data or a sample of the data
    to make inferences (forecasts). The main tool in statistical inference is linear
    regression.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 描述性统计描述数据并尽可能多地从中提取信息，而推断统计使用数据或数据样本进行推断（预测）。统计推断中的主要工具是线性回归。
- en: '*Linear regression* is a basic machine learning algorithm you will see in this
    book in [Chapter 7](ch07.html#ch07), when we cover the other machine learning
    algorithms. Hence, we will only briefly discuss regression analysis in this section.
    The most basic form of a linear regression equation is as follows:'
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: '*线性回归*是你在本书中将在[第7章](ch07.html#ch07)看到的基本机器学习算法之一，当我们讨论其他机器学习算法时，我们将简要讨论回归分析。线性回归方程的最基本形式如下所示：'
- en: <math alttext="y equals alpha plus beta x plus epsilon"><mrow><mi>y</mi> <mo>=</mo>
    <mi>α</mi> <mo>+</mo> <mi>β</mi> <mi>x</mi> <mo>+</mo> <mi>ϵ</mi></mrow></math>
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="y equals alpha plus beta x plus epsilon"><mrow><mi>y</mi> <mo>=</mo>
    <mi>α</mi> <mo>+</mo> <mi>β</mi> <mi>x</mi> <mo>+</mo> <mi>ϵ</mi></mrow></math>
- en: '*y* is the dependent variable; it is what you want to forecast'
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*y* 是因变量；这是你想要预测的内容。'
- en: '*x* is the independent variable; it is what you use as an input to forecast
    *y*'
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*x* 是自变量；这是你用作输入来预测*y*的内容。'
- en: α is the expected value of the dependent variable when the independent variables
    are equal to zero
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: α 是因变量在独立变量等于零时的期望值。
- en: β represents the change in the dependent variable per unit change in the independent
    variable
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: β 表示独立变量每单位变化对因变量的影响。
- en: <math alttext="epsilon"><mi>ϵ</mi></math> is the residual or the unexplained
    variation
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: <math alttext="epsilon"><mi>ϵ</mi></math> 是残差或未解释的变化
- en: The basic linear regression equation states that a dependent variable (what
    you want to forecast) is explained by a constant, a sensitivity-adjusted variable,
    and a residual (error term to account for unexplained variations). Consider [Table 3-3](#table-3-3).
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 基本的线性回归方程说明，一个因变量（你想要预测的内容）由一个常数、一个经过调整的敏感变量以及一个残差（用于解释未解释的变化）来解释。参考[表 3-3](#table-3-3)。
- en: Table 3-3\. Predicting *y* given *x*
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 表 3-3\. 给定*x*预测*y*
- en: '| y | x |'
  id: totrans-433
  prefs: []
  type: TYPE_TB
  zh: '| y | x |'
- en: '| --- | --- |'
  id: totrans-434
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 100 | 49 |'
  id: totrans-435
  prefs: []
  type: TYPE_TB
  zh: '| 100 | 49 |'
- en: '| 200 | 99 |'
  id: totrans-436
  prefs: []
  type: TYPE_TB
  zh: '| 200 | 99 |'
- en: '| 300 | 149 |'
  id: totrans-437
  prefs: []
  type: TYPE_TB
  zh: '| 300 | 149 |'
- en: '| 400 | 199 |'
  id: totrans-438
  prefs: []
  type: TYPE_TB
  zh: '| 400 | 199 |'
- en: '| ? | 249 |'
  id: totrans-439
  prefs: []
  type: TYPE_TB
  zh: '| ? | 249 |'
- en: 'The linear equation to predict *y* given *x* is as follows:'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 预测给定*x*时预测*y*的线性方程如下所示：
- en: <math alttext="y Subscript i Baseline equals 2 plus 2 x Subscript i"><mrow><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>=</mo> <mn>2</mn> <mo>+</mo> <mn>2</mn> <msub><mi>x</mi>
    <mi>i</mi></msub></mrow></math>
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="y Subscript i Baseline equals 2 plus 2 x Subscript i"><mrow><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>=</mo> <mn>2</mn> <mo>+</mo> <mn>2</mn> <msub><mi>x</mi>
    <mi>i</mi></msub></mrow></math>
- en: 'Therefore, the latest *y* given *x* = 249 should be 500:'
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，给定*x*=249时的最新*y*应该是500：
- en: <math alttext="y Subscript i Baseline equals 2 plus 2 x Subscript i Baseline
    equals 2 plus left-parenthesis 2 times 249 right-parenthesis equals 500"><mrow><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>=</mo> <mn>2</mn> <mo>+</mo> <mn>2</mn> <msub><mi>x</mi>
    <mi>i</mi></msub> <mo>=</mo> <mn>2</mn> <mo>+</mo> <mrow><mo>(</mo> <mn>2</mn>
    <mo>×</mo> <mn>249</mn> <mo>)</mo></mrow> <mo>=</mo> <mn>500</mn></mrow></math>
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="y Subscript i Baseline equals 2 plus 2 x Subscript i Baseline
    equals 2 plus left-parenthesis 2 times 249 right-parenthesis equals 500"><mrow><msub><mi>y</mi>
    <mi>i</mi></msub> <mo>=</mo> <mn>2</mn> <mo>+</mo> <mn>2</mn> <msub><mi>x</mi>
    <mi>i</mi></msub> <mo>=</mo> <mn>2</mn> <mo>+</mo> <mrow><mo>(</mo> <mn>2</mn>
    <mo>×</mo> <mn>249</mn> <mo>)</mo></mrow> <mo>=</mo> <mn>500</mn></mrow></math>
- en: Notice how linear regression perfectly captures the linear relationship between
    the two variables since there is no residual (unexplained variations). When a
    linear regression perfectly captures the relationship between two variables, it
    means that their coordinate points are perfectly aligned on a linear line across
    the *x*-axis.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 注意线性回归如何完美捕捉到两个变量之间的线性关系，因为没有残差（未解释的变化）。当线性回归完美捕捉到两个变量之间的关系时，这意味着它们的坐标点在*x*轴上完美对齐成一条线性线。
- en: 'A multiple linear regression can take the following form:'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 多元线性回归可以采用以下形式：
- en: <math alttext="y Subscript i Baseline equals alpha plus beta 1 x 1 plus period
    period period plus beta Subscript n Baseline x Subscript n Baseline plus epsilon
    Subscript i Baseline"><mrow><msub><mi>y</mi> <mi>i</mi></msub> <mo>=</mo> <mi>α</mi>
    <mo>+</mo> <msub><mi>β</mi> <mn>1</mn></msub> <msub><mi>x</mi> <mn>1</mn></msub>
    <mo>+</mo> <mo lspace="0%" rspace="0%">.</mo> <mo lspace="0%" rspace="0%">.</mo>
    <mo lspace="0%" rspace="0%">.</mo> <mo>+</mo> <msub><mi>β</mi> <mi>n</mi></msub>
    <msub><mi>x</mi> <mi>n</mi></msub> <mo>+</mo> <msub><mi>ϵ</mi> <mi>i</mi></msub></mrow></math>
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: <math alttext="y Subscript i Baseline equals alpha plus beta 1 x 1 plus period
    period period plus beta Subscript n Baseline x Subscript n Baseline plus epsilon
    Subscript i Baseline"><mrow><msub><mi>y</mi> <mi>i</mi></msub> <mo>=</mo> <mi>α</mi>
    <mo>+</mo> <msub><mi>β</mi> <mn>1</mn></msub> <msub><mi>x</mi> <mn>1</mn></msub>
    <mo>+</mo> <mo lspace="0%" rspace="0%">.</mo> <mo lspace="0%" rspace="0%">.</mo>
    <mo lspace="0%" rspace="0%">.</mo> <mo>+</mo> <msub><mi>β</mi> <mi>n</mi></msub>
    <msub><mi>x</mi> <mi>n</mi></msub> <mo>+</mo> <msub><mi>ϵ</mi> <mi>i</mi></msub></mrow></math>
- en: This basically means that the dependent variable *y* may be impacted by more
    than one variable. For instance, if you want to estimate housing prices, you may
    want to take into account the number of rooms, the surface area, the neighborhood,
    and any other variable that is likely to impact the price.  Similarly, if you
    want to predict commodity prices, you may want to take into account the different
    macroeconomic factors, exchange rates, and any other alternative data.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 这基本上意味着因变量*y*可能受到多个变量的影响。例如，如果你想估计房价，可能需要考虑房间数量、面积、社区以及可能影响价格的任何其他变量。同样，如果你想预测商品价格，可能需要考虑不同的宏观经济因素、汇率以及任何其他的备选数据。
- en: 'It is important to understand what every variable refers to. Linear regression
    makes a few assumptions:'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 理解每个变量指代的内容非常重要。线性回归有一些假设：
- en: Linear relationship
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 线性关系
- en: The relationship between the dependent variable and the independent variable(s)
    should be linear, meaning that a straight line across the plane can describe the
    relationship. This is rare in real life when dealing with complex variables.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 因变量与自变量之间的关系应该是线性的，意味着平面上的一条直线可以描述这种关系。在处理复杂变量时，这在现实生活中很少见。
- en: Independence of variables
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 变量的独立性
- en: The observations should be independent of each other, meaning that the value
    of one observation does not influence the value of another observation.
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 观察值应该彼此独立，意味着一个观察值的值不会影响另一个观察值的值。
- en: Homoscedasticity
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 同方差性
- en: The variance of the residuals (the difference between the predicted and actual
    values of the dependent variable) should be constant across all levels of the
    independent variable(s).
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 残差的方差（因变量的预测值与实际值之间的差异）应在所有独立变量的所有水平上保持恒定。
- en: Normality of the residuals
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 残差的正态性
- en: The residuals should be normally distributed, meaning that the majority of the
    residuals are close to zero and the distribution is symmetrical.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 残差应呈正态分布，意味着大多数残差接近零，并且分布是对称的。
- en: 'In the case of a multiple linear regression, you can add a new assumption:
    the absence of *multicollinearity*. The independent variables should not be highly
    correlated with each other; otherwise, it can make it difficult to determine the
    unique effect of each independent variable on the dependent variable. In other
    words, this prevents redundancy.'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 在多元线性回归的情况下，你可以添加一个新的假设：*多重共线性*的缺失。独立变量不应高度相关；否则，这可能会使确定每个独立变量对因变量的独特影响变得困难。换句话说，这可以防止冗余。
- en: Note
  id: totrans-458
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: 'The key takeaways from this section are the following:'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的关键要点如下：
- en: Linear regression is part of the inferential statistics field, and it is a linear
    equation that describes the relationship between variables.
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 线性回归是推断统计学领域的一部分，它是描述变量之间关系的线性方程。
- en: Linear regression interprets and predicts data following an equation that you
    obtain when you train past data and expect the relationship to hold in the future.
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 线性回归解释并预测遵循一个方程，当你训练过去的数据并期望关系在未来保持时获得。
- en: Summary
  id: totrans-462
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: Being able to perform data analysis is key to deploying the right algorithms
    so that you can predict the future values of a time series. Understanding data
    is done through a wide selection of tools coming from the statistics world. Make
    sure that you understand what stationarity and correlation are, as they offer
    extremely valuable insights in modeling.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 能够进行数据分析对于部署正确的算法以便你可以预测时间序列的未来值至关重要。通过来自统计学世界的大量工具来理解数据。确保你理解什么是平稳性和相关性，因为它们提供了极有价值的建模见解。
- en: ^([1](ch03.html#id418-marker)) Among others, but these two ways are the most
    popular representations.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](ch03.html#id418-marker)) 还有其他方式，但这两种方式是最受欢迎的表示形式。
- en: '^([2](ch03.html#id424-marker)) David N. Reshef et al., “Detecting Novel Associations
    in Large Data Sets,” *Science* 334, no. 6062 (December 2011): 1518-24.'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: '^([2](ch03.html#id424-marker)) David N. Reshef等人，“在大数据集中检测新的关联”，*Science* 334,
    no. 6062 (2011年12月): 1518-24。'
