<html><head></head><body>
<div id="sbo-rt-content"><section data-pdf-bookmark="Chapter 4. Classic Trend-Following Patterns" data-type="chapter" epub:type="chapter"><div class="chapter" id="chapter4">
<h1><span class="label">Chapter 4. </span>Classic Trend-Following Patterns</h1>
<p><em>Trend following</em>, a concept<a contenteditable="false" data-primary="trend-following patterns" data-type="indexterm" id="ix_trend_follow_ch4_5"/><a contenteditable="false" data-primary="classic trend-following patterns" data-type="indexterm" id="ix_class_trend_ch4"/> so simple yet so complicated. It may be easy not to worry about timing the market and just riding it, but the reality is that doing so can be challenging due to a plethora of random variables impacting the price. A steadily rising market may get destabilized by one economic or political event but then continue to move smoothly, discombobulating the traders who got stopped out during the volatility tsunami.</p>
<p>This chapter covers the classic (already known and established in the world of technical analysis) trend-following candlestick patterns. These are simple and complex configurations that have been around since the dawn of technical analysis and are taught in many introductory and advanced technical analysis courses. The purpose of this chapter is to create the patterns’ objective conditions and back-test them so that you can form a basic opinion about their frequency and predictability. Some patterns may occur quite often, while others occur once in a blue moon, thus hindering the ability to properly judge them.</p>
<p>As previously mentioned<a contenteditable="false" data-primary="back-testing" data-secondary="method and time frame" data-type="indexterm" id="idm46762872190160"/>, the way I back-test the patterns is to assume that I initiate the buy or sell position upon the next open after having validated the signal on the previous close. The time frame chosen for the back-tests in this book is hourly.</p>
<section data-pdf-bookmark="The Marubozu Pattern" data-type="sect1"><div class="sect1" id="idm46762872188496">
<h1>The Marubozu Pattern</h1>
<p>The first<a contenteditable="false" data-primary="Marubozu pattern" data-type="indexterm" id="ix_marubozu"/><a contenteditable="false" data-primary="trend-following patterns" data-secondary="Marubozu pattern" data-type="indexterm" id="ix_trend_patt_marubozu"/><a contenteditable="false" data-primary="classic trend-following patterns" data-secondary="Marubozu pattern" data-type="indexterm" id="ix_class_trend_marubozu"/> classic trend-following pattern is the <em>Marubozu</em>. The word refers to baldness or close-cropped head in Japanese, and you should soon understand why.</p>
<p>It is relatively easy to distinguish between Marubozu candlesticks and normal candlesticks because Marubozu candlesticks do not have any wicks. This means that a bullish Marubozu candlestick has the same open and low price as well as the same close and high price. In contrast, a bearish Marubozu candlestick has the same open and high price as well as the same close and low price. <a data-type="xref" href="#figure4-1">Figure 4-1</a> shows these two versions of a Marubozu candlestick.</p>
<figure><div class="figure" id="figure4-1"><img height="310" src="assets/mfpr_0401.png" width="364"/>
<h6><span class="label">Figure 4-1. </span>On the left, a bullish Marubozu candlestick; on the right, a bearish Marubozu candlestick</h6>
</div></figure>
<p>The Marubozu pattern typically occurs during shorter time frames, as candles have less time to fluctuate and go out of their bounds. This can be seen when analyzing 1-minute and 5-minute charts and comparing them to daily charts.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>A candlestick has more probability to assume a Marubozu pattern when it has less time between the open and close prices.</p>
</div>
<p>Before<a contenteditable="false" data-primary="intuition of a pattern" data-type="indexterm" id="idm46762872176256"/> you use any pattern, you must understand the reason for its existence. After all, patterns are not discovered randomly; they must have a rationale behind them. More important, you need to know why you should expect a certain reaction after the validation of the pattern.</p>
<p>The answer lies in market psychology, which leaves its footprints everywhere so that focused and knowledgeable traders pick up on any hints and ride (or fade) the move.</p>
<p>When the market is in a strong uptrend, it rarely makes lower lows and generally closes around the highs due to the sheer force of demand for the underlying security. The maximum force of demand in one candlestick is demonstrated by the absence of a low and by a close at the high, and this is precisely what the bullish Marubozu is all about. When an asset closes at the high price, you get the signal that the buyers are hungry for more, and when no low is lower than the open price, you should have further conviction that there is no interest in selling since no one has managed to push the price lower than its opening.</p>
<p>Similarly, when the market is in a strong downtrend<a contenteditable="false" data-primary="downtrend, asset direction on timeline" data-type="indexterm" id="idm46762872173808"/>, it rarely makes higher highs and generally closes around the lows due to the overwhelming force of supply for the underlying security. The maximum force of supply in one candlestick is demonstrated by the absence of a high and a close at the low, as demonstrated by the bearish Marubozu.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>The bullish Marubozu candlestick is the most powerful representation of a bullish activity, while the bearish Marubozu candlestick is the most powerful representation of a bearish activity.</p>
</div>
<p>Detecting<a contenteditable="false" data-primary="rounding numbers" data-secondary="for currency patterns" data-secondary-sortas="currency patterns" data-type="indexterm" id="idm46762872170976"/> the Marubozu pattern can be tricky in some markets that use more than a few decimal points because of the probability of occurrence. For instance, in the currencies market, if you use five decimals on EURUSD, you are likely to not find any Marubozu patterns anytime soon, but when you stick to the usual, less-accurate convention of four decimals (see <a data-type="xref" href="ch02.xhtml#chapter2">Chapter 2</a>), you start seeing the pattern more often. This holds true for all markets; therefore, to be able to analyze this pattern, you need to make a small tweak with regard to decimals.</p>
<p><a data-type="xref" href="#figure4-2">Figure 4-2</a> shows a clean chart<a contenteditable="false" data-primary="rounding() function" data-type="indexterm" id="idm46762872166768"/> on USDCHF with the rounding function applied as follows:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="n">my_data</code> <code class="o">=</code> <code class="n">rounding</code><code class="p">(</code><code class="n">my_data</code><code class="p">,</code> <code class="mi">4</code><code class="p">)</code></pre>
<figure><div class="figure" id="figure4-2"><img alt="" class="image" height="294" src="assets/mfpr_0402.png" width="600"/>
<h6><span class="label">Figure 4-2. </span>Candlestick chart on USDCHF</h6>
</div></figure>
<p>The next step is to code the signal function.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>The<em> signal function</em> is the core<a contenteditable="false" data-primary="signal() function" data-type="indexterm" id="ix_signal_func"/> of the algorithm, as it is in charge of finding the patterns and pinpointing them chronologically and, therefore, outputting buy and sell signals according to specific <span class="keep-together">conditions</span>.</p>
</div>
<p class="pagebreak-before">Algorithmically, the conditions need to be as follows:</p>
<ul>
<li>If the close price is greater than the open price, the high price equals the close price, and the low price equals the open price, then print 1 in the next row of the column reserved for buy signals.</li>
<li>If the close price is lower than the open price, the high price equals the open price, and the low price equals the close price, then print −1 in the next row of the column reserved for sell signals.</li>
</ul>
<p>In the Python language, use the following syntax to code the Marubozu signal <span class="keep-together">function</span>:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code><code> </code><code class="nf">signal</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">,</code><code> </code><code>
</code><code>           </code><code class="n">buy_column</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">)</code><code>    </code><code>
</code><code>    </code><code>
</code><code>    </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)</code><code class="p">)</code><code class="p">:</code><code>  </code><code>
</code><code>        </code><code>
</code><code>       </code><code class="k">try</code><code class="p">:</code><code>
</code><code>  </code><strong><code>         </code><code>
</code><code>           </code><code class="c1"># Bullish pattern</code></strong><code>
</code><code>           </code><code class="k">if</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="mi">0</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">1</code><code> </code><code>
</code><code>                    </code><code>
</code><code>           </code><strong><code class="c1"># Bearish pattern</code></strong><code>
</code><code>           </code><code class="k">elif</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="mi">0</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mi">1</code><code> </code><code>
</code><code>                    </code><code>
</code><code>       </code><code class="k">except</code><code> </code><code class="ne">IndexError</code><code class="p">:</code><code>
</code><code>            </code><code>
</code><code>            </code><code class="k">pass</code><code>
</code><code>        </code><code>
</code><code>    </code><code class="k">return</code><code> </code><code class="n">data</code><code>
</code></pre>
<p class="pagebreak-before"><a data-type="xref" href="#figure4-3">Figure 4-3</a> shows the trades generated on EURUSD following the signals given by the function. </p>
<figure><div class="figure" id="figure4-3"><img alt="" height="294" src="assets/mfpr_0403.png" width="600"/>
<h6><span class="label">Figure 4-3. </span>Signal chart on EURUSD</h6>
</div></figure>
<p>Upward-pointing arrows refer to bullish signals, while downward-pointing arrows refer to bearish signals. <a data-type="xref" href="#figure4-4">Figure 4-4</a> shows another example of the signals on USDCHF<a contenteditable="false" data-primary="" data-startref="ix_signal_func" data-type="indexterm" id="idm46762871956384"/>.</p>
<figure><div class="figure" id="figure4-4"><img alt="" height="294" src="assets/mfpr_0404.png" width="600"/>
<h6><span class="label">Figure 4-4. </span>Signal chart on USDCHF</h6>
</div></figure>
<p class="pagebreak-before">Let’s now back-test the pattern using the performance evaluation metrics discussed in <a data-type="xref" href="ch02.xhtml#chapter2">Chapter 2</a>.</p>
<p><a data-type="xref" href="#table4-1">Table 4-1</a> shows the performance summary on the Marubozu pattern. The trading conditions are as follows:</p>
<ul>
<li>The entry is done on the next open price after the validation of the signal on the current close price.</li>
<li>The exit is done upon getting another signal in either direction (bullish or <span class="keep-together">bearish</span>).</li>
<li>The transaction costs are omitted from the performance evaluation metrics.</li>
<li>No risk management system is used.</li>
</ul>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>A <em>risk management</em> system<a contenteditable="false" data-primary="risk management" data-secondary="Marubozu pattern" data-type="indexterm" id="idm46762871831696"/> entails the use of simple and complex order management techniques that regulate the maximum loss and expected targets.</p>
</div>
<table id="table4-1">
<caption><span class="label">Table 4-1. </span>Marubozu pattern: performance summary table</caption>
<thead>
<tr>
<th>
<p>Asset</p>
</th>
<th>
<p>Hit Ratio</p>
</th>
<th>
<p>Profit Factor</p>
</th>
<th>
<p>Risk-Reward Ratio</p>
</th>
<th>
<p>Signals</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>EURUSD</p>
</td>
<td>
<p>47.14%</p>
</td>
<td>
<p>1.06</p>
</td>
<td>
<p>1.19</p>
</td>
<td>
<p>963</p>
</td>
</tr>
<tr>
<td>
<p>USDCHF</p>
</td>
<td>
<p>47.01%</p>
</td>
<td>
<p>0.95</p>
</td>
<td>
<p>1.07</p>
</td>
<td>
<p>1355</p>
</td>
</tr>
<tr>
<td>
<p>GBPUSD</p>
</td>
<td>
<p>47.27%</p>
</td>
<td>
<p>0.79</p>
</td>
<td>
<p>0.89</p>
</td>
<td>
<p>605</p>
</td>
</tr>
<tr>
<td>
<p>USDCAD</p>
</td>
<td>
<p>49.06%</p>
</td>
<td>
<p>0.99</p>
</td>
<td>
<p>1.03</p>
</td>
<td>
<p>958</p>
</td>
</tr>
<tr>
<td>
<p>BTCUSD</p>
</td>
<td>
<p>47.81%</p>
</td>
<td>
<p>1.38</p>
</td>
<td>
<p>1.51</p>
</td>
<td>
<p>433</p>
</td>
</tr>
<tr>
<td>
<p>ETHUSD</p>
</td>
<td>
<p>39.76%</p>
</td>
<td>
<p>0.93</p>
</td>
<td>
<p>1.41</p>
</td>
<td>
<p>3687</p>
</td>
</tr>
<tr>
<td>
<p>GOLD</p>
</td>
<td>
<p>43.33%</p>
</td>
<td>
<p>0.96</p>
</td>
<td>
<p>1.25</p>
</td>
<td>
<p>8443</p>
</td>
</tr>
<tr>
<td>
<p>S&amp;P500</p>
</td>
<td>
<p>41.92%</p>
</td>
<td>
<p>0.66</p>
</td>
<td>
<p>0.91</p>
</td>
<td>
<p>260</p>
</td>
</tr>
<tr>
<td>
<p>FTSE100</p>
</td>
<td>
<p>50.00%</p>
</td>
<td>
<p>1.09</p>
</td>
<td>
<p>1.09</p>
</td>
<td>
<p>90</p>
</td>
</tr>
</tbody>
</table>
<p>The back-tested assets<a contenteditable="false" data-primary="hit ratio" data-secondary="Marubozu pattern" data-type="indexterm" id="idm46762871769984"/> show that the Marubozu pattern is relatively rare and does not seem to add great value. All of the predictions are random as evidenced by the hit ratio. A hit ratio around 50% means that you are as likely to be right as you are to be wrong.</p>
<p>Similarly, the profit factor<a contenteditable="false" data-primary="performance evaluation" data-secondary="profit factor" data-type="indexterm" id="idm46762871768064"/><a contenteditable="false" data-primary="profit factor" data-type="indexterm" id="idm46762871766688"/> shows that you are barely generating gross profits to cover gross losses. This is amplified when accounting for transaction costs. A profit factor close to 1.00 is insignificant and is unlikely to give more information as to whether the pattern performs well or not.</p>
<p>If you analyze the risks taken by trading the pattern, you would find that it confirms the randomness of the strategy. By having an average of around 1.00, you are basically risking $1 to earn $1, which can go either way. Finally, the signals are not very frequent<a contenteditable="false" data-primary="frequency of signals" data-type="indexterm" id="idm46762871764464"/><a contenteditable="false" data-primary="signal frequency" data-type="indexterm" id="idm46762871763360"/> but are above the 30 threshold, which is needed to make any statistical interpretations.</p>
<p>The main conclusion<a contenteditable="false" data-primary="back-testing" data-secondary="limitations of" data-type="indexterm" id="idm46762871761600"/> is that the Marubozu pattern is unlikely to deliver a profitable strategy on its own. Nevertheless, keep in mind the following points for the <span class="keep-together">back-tests</span>:</p>
<ul>
<li>The positions are taken solely based on one pattern and are not combined with other confirming indicators. Most of the time, patterns work better when combined with other techniques and indicators.</li>
<li>The back-tested universe is limited; therefore, it is possible that the pattern works well on other markets.</li>
<li>The back-tested time frame is limited since the results reflect only the hourly time frame. Remember, other time frames exist such as five-minute, daily, and weekly. </li>
<li>The exit technique is variable and depends on the next signal, which may not come before long. Other exit techniques may be more suited such as a fixed one or one that depends on volatility.</li>
</ul>
<p>Hence, even though the back-test gives a general approximate idea on the ability of the patterns, you must always understand its limitations<a contenteditable="false" data-primary="" data-startref="ix_trend_patt_marubozu" data-type="indexterm" id="idm46762871756368"/><a contenteditable="false" data-primary="" data-startref="ix_class_trend_marubozu" data-type="indexterm" id="idm46762871754992"/><a contenteditable="false" data-primary="" data-startref="ix_marubozu" data-type="indexterm" id="idm46762871753616"/>.</p>
</div></section>
<section data-pdf-bookmark="The Three Candles Pattern" data-type="sect1"><div class="sect1" id="idm46762872187552">
<h1>The Three Candles Pattern</h1>
<p>The <em>Three Candles</em> pattern<a contenteditable="false" data-primary="Three Candles pattern" data-type="indexterm" id="ix_3candle_patt"/><a contenteditable="false" data-primary="trend-following patterns" data-secondary="Three Candles pattern" data-type="indexterm" id="ix_trend_patt_3candle"/><a contenteditable="false" data-primary="classic trend-following patterns" data-secondary="Three Candles pattern" data-type="indexterm" id="ix_class_trend_3candle"/> is a trend-confirmation<a contenteditable="false" data-primary="trend-confirmation configuration" data-type="indexterm" id="idm46762871744912"/> configuration where the signal is given after printing three same-color candles that have a minimum specified size. A bullish<a contenteditable="false" data-primary="Three White Soldiers pattern" data-type="indexterm" id="idm46762871743712"/> Three Candles pattern is also called the Three White Soldiers and has three big bullish candles with each having a close higher than the previous one. In contrast<a contenteditable="false" data-primary="Three Black Crows pattern" data-type="indexterm" id="idm46762871742512"/>, a bearish Three Candles pattern is called the Three Black Crows and has three big bearish candles, with each having a close lower than the previous one.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>The names Three White Soldiers and Three Black Crows come from the fact that candlesticks were previously charted in black and white with the former representing bearish candles and the latter representing bullish candles.</p>
</div>
<p><a data-type="xref" href="#figure4-5">Figure 4-5</a> illustrates the Three White Soldiers. Notice that every close price is greater than the one preceding it.</p>
<figure><div class="figure" id="figure4-5"><img alt="" height="577" src="assets/mfpr_0405.png" width="480"/>
<h6><span class="label">Figure 4-5. </span>A Three White Soldiers pattern</h6>
</div></figure>
<p><a data-type="xref" href="#figure4-6">Figure 4-6</a> illustrates the Three<a contenteditable="false" data-primary="Three Black Crows pattern" data-type="indexterm" id="idm46762871735744"/> Black Crows. Notice that every close price is lower than the one preceding it.</p>
<figure><div class="figure" id="figure4-6"><img alt="" height="577" src="assets/mfpr_0406.png" width="480"/>
<h6><span class="label">Figure 4-6. </span>A Three Black Crows pattern</h6>
</div></figure>
<p>The intuition<a contenteditable="false" data-primary="biases" data-secondary="herding" data-type="indexterm" id="idm46762871732288"/><a contenteditable="false" data-primary="herding bias" data-type="indexterm" id="idm46762871730880"/> of the pattern is quite simple. It stems from a type of psychological bias called <em>herding</em>, where market participants follow the trend because others are doing so. This does not mean that the pattern is based on human deficiency and lack of effort; it simply refers to a common behavior observed in humans where they tend to follow the aggregate trend.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>People follow the latest fashion trend because it delivers a psychological reward. Trend-following traders follow the latest trend because they believe it delivers a financial reward or because they have a form of fear of missing out (FOMO).</p>
</div>
<p>Financial herding can be defined as the act of following the majority in an attempt to profit as much as possible from the current persistent move. Hence, in essence, herding is actually trend following. When you see three big candles within the same direction, you typically interpret it as a healthy move filled with motivation, conviction, and desire to continue in the same direction. Compare these three big candles to a timid move of small candles where their type alternates between bullish and bearish.</p>
<p>Humans are attracted to confidence and strength and are more likely to follow it. A pattern of three healthy candlesticks is the embodiment of strength and confidence.</p>
<p>Detecting this pattern is easy but must have strict algorithmic rules that dictate more than just three big candles with the same colors; otherwise, you would have plenty of signals. Algorithmically, the conditions need to be as follows:</p>
<ul>
<li>If the latest three close prices are each greater than the close prices preceding them and each candlestick respects a minimum body size,<sup><a data-type="noteref" href="ch04.xhtml#idm46762871725168" id="idm46762871725168-marker">1</a></sup> then print 1 in the next row of the column reserved for buy signals.</li>
<li>If the latest three close prices are each lower than the close prices preceding them and each candlestick respects a minimum body size, then print −1 in the next row of the column reserved for sell signals.</li>
</ul>
<p>The body of the candlestick is the difference between the close and open prices in absolute terms. Therefore, to find the body, follow this mathematical formula:</p>
<div data-type="equation">
<math alttext="Candlestick body Subscript i Baseline equals StartAbsoluteValue Close price Subscript i Baseline minus Open price Subscript i Baseline EndAbsoluteValue">
<mrow>
<mtext>Candlestick</mtext>
<mspace width="4.pt"/>
<msub><mtext>body</mtext> <mi>i</mi> </msub>
<mo>=</mo>
<mrow>
<mo>|</mo>
<mtext>Close</mtext>
<mspace width="4.pt"/>
<msub><mtext>price</mtext> <mi>i</mi> </msub>
<mo>-</mo>
<mtext>Open</mtext>
<mspace width="4.pt"/>
<msub><mtext>price</mtext> <mi>i</mi> </msub>
<mo>|</mo>
</mrow>
</mrow>
</math>
</div>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code><code> </code><code class="nf">signal</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">)</code><code>
</code><code>    </code><code>
</code><code>    </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)</code><code class="p">)</code><code class="p">:</code><code>
</code><code>        </code><code>
</code><code>       </code><code class="k">try</code><code class="p">:</code><code>
</code><code>           </code><code>
</code><strong><code>           </code><code class="c1"># Bullish pattern</code></strong><code>
</code><code>           </code><code class="k">if</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">-</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">body</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">-</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code>\
</code><code>              </code><code class="n">body</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">-</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">body</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="mi">0</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">1</code><code>
</code><code>                    </code><code>
</code><code>          </code><strong><code> </code><code class="c1"># Bearish pattern</code></strong><code>
</code><code>           </code><code class="k">elif</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">-</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">body</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">-</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code>\
</code><code>                </code><code class="n">body</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">-</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">body</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code>\</code><code> </code><code>
</code><code>                </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code>\
</code><code>                </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code>\
</code><code>                </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">]</code><code> </code><code class="o">==</code><code> </code><code class="mi">0</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mi">1</code><code>
</code><code>                    </code><code>
</code><code>       </code><code class="k">except</code><code> </code><code class="ne">IndexError</code><code class="p">:</code><code>
</code><code>            </code><code>
</code><code>            </code><code class="k">pass</code><code>
</code></pre>
<p>The function applies the conditions shown previously in order to generate buy and sell signals.  The bodies of the candlestick may actually hinder the objectivity of this pattern to some extent since it differs according to volatility. Theoretically, the Three Candles pattern merely refers to the candles as “big” and does not indicate how size should be adjusted; therefore, I use fixed values depending on the asset and the time frame (which is hourly). <a data-type="xref" href="#table4-2">Table 4-2</a> shows a summary.</p>
<table id="table4-2">
<caption><span class="label">Table 4-2. </span>Three Candles pattern: candle size choice</caption>
<thead>
<tr>
<th>
<p>Asset</p>
</th>
<th>
<p>Body</p>
</th>
<th>
<p>Type</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>EURUSD</p>
</td>
<td>
<p>0.0005</p>
</td>
<td>
<p>USD</p>
</td>
</tr>
<tr>
<td>
<p>USDCHF</p>
</td>
<td>
<p>0.0005</p>
</td>
<td>
<p>CHF</p>
</td>
</tr>
<tr>
<td>
<p>GBPUSD</p>
</td>
<td>
<p>0.0005</p>
</td>
<td>
<p>USD</p>
</td>
</tr>
<tr>
<td>
<p>USDCAD</p>
</td>
<td>
<p>0.0005</p>
</td>
<td>
<p>CAD</p>
</td>
</tr>
<tr>
<td>
<p>BTCUSD</p>
</td>
<td>
<p>50</p>
</td>
<td>
<p>USD</p>
</td>
</tr>
<tr>
<td>
<p>ETHUSD</p>
</td>
<td>
<p>10</p>
</td>
<td>
<p>USD</p>
</td>
</tr>
<tr>
<td>
<p>GOLD</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>USD</p>
</td>
</tr>
<tr>
<td>
<p>S&amp;P500</p>
</td>
<td>
<p>10</p>
</td>
<td>
<p>Points</p>
</td>
</tr>
<tr>
<td>
<p>FTSE100</p>
</td>
<td>
<p>10</p>
</td>
<td>
<p>Points</p>
</td>
</tr>
</tbody>
</table>
<p>You can also adjust the variable <code>body</code> depending on volatility, but I will show you another pattern that adjusts to volatility. For now, I will keep the theoretical conditions of the classic patterns untouched and leave the creativity to the modern patterns in Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch05.xhtml#chapter5">5</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch07.xhtml#chapter7">7</a>.</p>
<p class="pagebreak-before"><a data-type="xref" href="#figure4-7">Figure 4-7</a> shows a signal chart on EURUSD.</p>
<figure><div class="figure" id="figure4-7"><img alt="" height="294" src="assets/mfpr_0407.png" width="600"/>
<h6><span class="label">Figure 4-7. </span>Signal chart on EURUSD</h6>
</div></figure>
<p><a data-type="xref" href="#table4-3">Table 4-3</a> shows the performance summary of the Three Candles pattern.</p>
<table id="table4-3">
<caption><span class="label">Table 4-3. </span>Three Candles pattern: performance summary table</caption>
<thead>
<tr>
<th>
<p>Asset</p>
</th>
<th>
<p>Hit Ratio</p>
</th>
<th>
<p>Profit Factor</p>
</th>
<th>
<p>Risk-Reward Ratio</p>
</th>
<th>
<p>Signals</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>EURUSD</p>
</td>
<td>
<p>61.45%</p>
</td>
<td>
<p>1.05</p>
</td>
<td>
<p>0.66</p>
</td>
<td>
<p>2672</p>
</td>
</tr>
<tr>
<td>
<p>USDCHF</p>
</td>
<td>
<p>62.04%</p>
</td>
<td>
<p>0.98</p>
</td>
<td>
<p>0.60</p>
</td>
<td>
<p>2005</p>
</td>
</tr>
<tr>
<td>
<p>GBPUSD</p>
</td>
<td>
<p>61.53%</p>
</td>
<td>
<p>0.96</p>
</td>
<td>
<p>0.60</p>
</td>
<td>
<p>3611</p>
</td>
</tr>
<tr>
<td>
<p>USDCAD</p>
</td>
<td>
<p>60.97%</p>
</td>
<td>
<p>0.97</p>
</td>
<td>
<p>0.62</p>
</td>
<td>
<p>2844</p>
</td>
</tr>
<tr>
<td>
<p>BTCUSD</p>
</td>
<td>
<p>62.30%</p>
</td>
<td>
<p>1.00</p>
</td>
<td>
<p>0.61</p>
</td>
<td>
<p>1085</p>
</td>
</tr>
<tr>
<td>
<p>ETHUSD</p>
</td>
<td>
<p>61.22%</p>
</td>
<td>
<p>0.96</p>
</td>
<td>
<p>0.61</p>
</td>
<td>
<p>392</p>
</td>
</tr>
<tr>
<td>
<p>GOLD</p>
</td>
<td>
<p>61.11%</p>
</td>
<td>
<p>1.04</p>
</td>
<td>
<p>0.66</p>
</td>
<td>
<p>828</p>
</td>
</tr>
<tr>
<td>
<p>S&amp;P500</p>
</td>
<td>
<p>65.99%</p>
</td>
<td>
<p>1.10</p>
</td>
<td>
<p>0.57</p>
</td>
<td>
<p>741</p>
</td>
</tr>
<tr>
<td>
<p>FTSE100</p>
</td>
<td>
<p>64.54%</p>
</td>
<td>
<p>0.97</p>
</td>
<td>
<p>0.53</p>
</td>
<td>
<p>1018</p>
</td>
</tr>
</tbody>
</table>
<p>Even though<a contenteditable="false" data-primary="hit ratio" data-secondary="Three Candles pattern" data-type="indexterm" id="idm46762871574592"/> the results show a relatively higher hit ratio than with the Marubozu pattern, you have to be careful as the hit ratio as a standalone metric is not useful. You must look at it in parallel to the risk-reward ratio to understand if the predictive ability can be profitable or not.</p>
<p>The first thing you notice is the crucially low risk-reward values, which range between 0.53 and 0.66. This is the first red light that the hit ratio is not impressive at all. In fact, it may not even be enough to deliver positive results<a contenteditable="false" data-primary="" data-startref="ix_trend_patt_3candle" data-type="indexterm" id="idm46762871572192"/><a contenteditable="false" data-primary="" data-startref="ix_class_trend_3candle" data-type="indexterm" id="idm46762871570816"/><a contenteditable="false" data-primary="" data-startref="ix_3candle_patt" data-type="indexterm" id="idm46762871597024"/>.</p>
</div></section>
<section data-pdf-bookmark="The Tasuki Pattern" data-type="sect1"><div class="sect1" id="idm46762871751200">
<h1>The Tasuki Pattern</h1>
<p>The <em>Tasuki </em>pattern<a contenteditable="false" data-primary="trend-following patterns" data-secondary="Tasuki pattern" data-type="indexterm" id="ix_trend_patt_tasuki"/><a contenteditable="false" data-primary="classic trend-following patterns" data-secondary="Tasuki pattern" data-type="indexterm" id="ix_class_trend_tasuki"/><a contenteditable="false" data-primary="Tasuki pattern" data-type="indexterm" id="ix_tasuki_patt_ch4"/> is a trend-confirmation<a contenteditable="false" data-primary="trend-confirmation configuration" data-type="indexterm" id="idm46762871639472"/> configuration where the market gives a continuation signal after an unfilled gap. Before I go any further, you need to understand what gaps are.</p>
<p><em>Gaps</em> form<a contenteditable="false" data-primary="gaps" data-type="indexterm" id="ix_gaps_ch4"/> an important part of price action. They vary in rareness from market to market. For instance, in the currencies market, they usually happen on the open of the retail market following the weekend or whenever there is a big announcement. In stocks, gaps are fairly common from one day to another.</p>
<p>A gap<a contenteditable="false" data-primary="bullish gap" data-type="indexterm" id="idm46762871352080"/> is a discontinuation or a hole between two successive close prices mainly caused by low liquidity. When a market is trading at $100 and suddenly trades at $102 without ever quoting at $101, it has formed a bullish gap. This can be seen in the charts where it appears to have a missing piece between candlesticks. <a data-type="xref" href="#figure4-8">Figure 4-8</a> illustrates a bullish gap. Notice the empty space between candlesticks.</p>
<figure><div class="figure" id="figure4-8"><img alt="" height="626" src="assets/mfpr_0408.png" width="430"/>
<h6><span class="label">Figure 4-8. </span>A bullish gap</h6>
</div></figure>
<p>Gaps can occur due to fundamental and technical reasons, but you should be interested in identifying and trading on them regardless of the reason for their appearance. In the currencies market, the visible gaps are the ones that occur over the weekend. <a data-type="xref" href="#figure4-9">Figure 4-9</a> illustrates a bearish<a contenteditable="false" data-primary="bearish gap" data-type="indexterm" id="idm46762871460432"/> gap.</p>
<figure><div class="figure" id="figure4-9"><img alt="" height="626" src="assets/mfpr_0409.png" width="430"/>
<h6><span class="label">Figure 4-9. </span>A bearish gap</h6>
</div></figure>
<p>There are different<a contenteditable="false" data-primary="cognitive biases" data-type="indexterm" id="idm46762870960288"/><a contenteditable="false" data-primary="hindsight bias" data-type="indexterm" id="idm46762870959152"/><a contenteditable="false" data-primary="biases" data-secondary="cognitive" data-type="indexterm" id="idm46762870958048"/> types of gaps, and categorizing them can be difficult when they appear due to hindsight bias (a cognitive bias that causes the analyst to overestimate the predictive power of a technique due to already knowing the outcome):</p>
<dl>
<dt>Common gaps</dt>
<dd>These generally<a contenteditable="false" data-primary="common gaps" data-type="indexterm" id="idm46762870951952"/> occur in a sideways market. They are likely to be filled because of the market’s mean-reversion dynamic.</dd>
<dt>Breakaway gaps</dt>
<dd>These generally<a contenteditable="false" data-primary="breakaway gaps" data-type="indexterm" id="idm46762870949696"/> resemble a common gap, but the gap occurs above a graphical resistance or below a graphical support. They signal acceleration in the new trend.</dd>
<dt>Runaway gaps</dt>
<dd>These generally<a contenteditable="false" data-primary="runaway gaps" data-type="indexterm" id="idm46762870947568"/> occur within the trend, but confirm it more; therefore, this is a continuation pattern.</dd>
<dt>Exhaustion gaps</dt>
<dd>These generally<a contenteditable="false" data-primary="exhaustion gaps" data-type="indexterm" id="idm46762870928640"/> occur at the end of a trend and close to a support or resistance level. It is a reversal pattern.</dd>
</dl>
<p>There is no sure way to determine the type of gap the moment it occurs, but that is not essential in detecting the Tasuki pattern. The pattern is named after an accessory used to hold the Japanese kimono dress, but why is unclear.</p>
<p>A bullish Tasuki pattern is composed of three candlesticks where the first one is a bullish candlestick, the second one is another bullish candlestick that gaps over the first candlestick, and the third candlestick is bearish but does not close below the close of the first candlestick.</p>
<p class="pagebreak-before"><a data-type="xref" href="#figure4-10">Figure 4-10</a> illustrates a bullish Tasuki.</p>
<figure><div class="figure" id="figure4-10"><img alt="" height="542" src="assets/mfpr_0410.png" width="506"/>
<h6><span class="label">Figure 4-10. </span>A bullish Tasuki</h6>
</div></figure>
<p>A bearish Tasuki pattern (see <a data-type="xref" href="#figure4-11">Figure 4-11</a>) is the mirror image of the bullish Tasuki. It is composed of three candlesticks where the first one is a bearish candlestick, the second one is another bearish candlestick that gaps under the first candlestick, and the third candlestick is bullish but does not close above the close of the first candlestick.</p>
<figure><div class="figure" id="figure4-11"><img alt="" height="549" src="assets/mfpr_0411.png" width="503"/>
<h6><span class="label">Figure 4-11. </span>A bearish Tasuki</h6>
</div></figure>
<p>The intuition<a contenteditable="false" data-primary="breakout principle" data-type="indexterm" id="idm46762871217504"/> of the pattern relates to the breakout principle where breaching a certain threshold, be it support or resistance, should have a gravitational pull toward the threshold before releasing it to the initial direction.</p>
<p>Whenever you see a market gapping up followed by a bearish candlestick that does not quite close the gap, it may be a signal that the sellers are not strong enough to take the lead, giving a bullish bias. Similarly, whenever you see a market gapping down followed by a bullish candlestick that does not quite close the gap, it may be a signal that the buyers are not strong enough to take the lead, giving a bearish bias.</p>
<p>Algorithmically, the conditions need to be as follows:</p>
<ul>
<li>If the close price from two periods ago is greater than the open price from two periods ago, the open price from one period ago is greater than the close two periods ago, the close price from one period ago is greater than the open price from one period ago, and the current close price is greater than the close price two periods ago, print 1 in the next row of the column reserved for buy signals.</li>
<li>If the close price from two periods ago is lower than the open price from two periods ago, the open price from one period ago is lower than the close two periods ago, the close price from one period ago is lower than the open price from one period ago, and the current close price is lower than the close price two periods ago, then print −1 in the next row of the column reserved for sell signals<a contenteditable="false" data-primary="" data-startref="ix_gaps_ch4" data-type="indexterm" id="idm46762871014048"/>.</li>
</ul>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code><code> </code><code class="nf">signal</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">)</code><code>
</code><code>    </code><code>
</code><code>    </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)</code><code class="p">)</code><code class="p">:</code><code>
</code><code>        </code><code>
</code><code>       </code><code class="k">try</code><code class="p">:</code><code>
</code><code>           </code><code>
</code><code>     </code><strong><code>      </code><code class="c1"># Bullish pattern</code></strong><code>
</code><code>           </code><code class="k">if</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">1</code><code>
</code><code>                    </code><code>
</code><strong><code>           </code><code class="c1"># Bearish pattern</code></strong><code>
</code><code>           </code><code class="k">elif</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mi">1</code><code>
</code><code>                    </code><code>
</code><code>       </code><code class="k">except</code><code> </code><code class="ne">IndexError</code><code class="p">:</code><code>
</code><code>            </code><code>
</code><code>            </code><code class="k">pass</code><code>
</code><code>        </code><code>
</code><code>    </code><code class="k">return</code><code> </code><code class="n">data</code><code>
</code></pre>
<p class="pagebreak-before">It is time to discuss the back-testing results (see <a data-type="xref" href="#table4-4">Table 4-4</a>). Keeping in mind that the pattern is quite rare, you should approach the results with a form of statistical doubt.</p>
<table id="table4-4">
<caption><span class="label">Table 4-4. </span>Tasuki pattern: performance summary table</caption>
<thead>
<tr>
<th>
<p>Asset</p>
</th>
<th>
<p>Hit Ratio</p>
</th>
<th>
<p>Profit Factor</p>
</th>
<th>
<p>Risk-Reward Ratio</p>
</th>
<th>
<p>Signals</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>EURUSD</p>
</td>
<td>
<p>58.06%</p>
</td>
<td>
<p>0.97</p>
</td>
<td>
<p>0.70</p>
</td>
<td>
<p>31</p>
</td>
</tr>
<tr>
<td>
<p>USDCHF</p>
</td>
<td>
<p>59.46%</p>
</td>
<td>
<p>1.92</p>
</td>
<td>
<p>1.31</p>
</td>
<td>
<p>37</p>
</td>
</tr>
<tr>
<td>
<p>GBPUSD</p>
</td>
<td>
<p>48.72%</p>
</td>
<td>
<p>0.93</p>
</td>
<td>
<p>0.98</p>
</td>
<td>
<p>39</p>
</td>
</tr>
<tr>
<td>
<p>USDCAD</p>
</td>
<td>
<p>40.00%</p>
</td>
<td>
<p>0.61</p>
</td>
<td>
<p>0.91</p>
</td>
<td>
<p>40</p>
</td>
</tr>
<tr>
<td>
<p>BTCUSD</p>
</td>
<td>
<p>53.57%</p>
</td>
<td>
<p>0.89</p>
</td>
<td>
<p>0.77</p>
</td>
<td>
<p>56</p>
</td>
</tr>
<tr>
<td>
<p>ETHUSD</p>
</td>
<td>
<p>50.00%</p>
</td>
<td>
<p>1.03</p>
</td>
<td>
<p>1.03</p>
</td>
<td>
<p>30</p>
</td>
</tr>
<tr>
<td>
<p>GOLD</p>
</td>
<td>
<p>51.49%</p>
</td>
<td>
<p>1.01</p>
</td>
<td>
<p>0.95</p>
</td>
<td>
<p>101</p>
</td>
</tr>
<tr>
<td>
<p>S&amp;P500</p>
</td>
<td>
<p>36.36%</p>
</td>
<td>
<p>0.33</p>
</td>
<td>
<p>0.58</p>
</td>
<td>
<p>11</p>
</td>
</tr>
<tr>
<td>
<p>FTSE100</p>
</td>
<td>
<p>50.00%</p>
</td>
<td>
<p>1.56</p>
</td>
<td>
<p>1.56</p>
</td>
<td>
<p>14</p>
</td>
</tr>
</tbody>
</table>
<p>The results confirm the initial hypothesis: the pattern is quite rare. For it to appear only 31 times over the course of around 10 years on the hourly values of EURUSD is extremely low.</p>
<p>The issue with rare patterns is that it is unclear how they made it into the literature, as there was not enough (and is not enough) data to analyze the results and the predictability of trades taken on the pattern.</p>
<p>The results are mostly mixed to negative with statistical robustness unlikely due to the low number of trades. The Tasuki pattern may have a logical intuition but lacks in terms of hard data<a contenteditable="false" data-primary="" data-startref="ix_tasuki_patt_ch4" data-type="indexterm" id="idm46762871693136"/><a contenteditable="false" data-primary="" data-startref="ix_trend_patt_tasuki" data-type="indexterm" id="idm46762871691872"/><a contenteditable="false" data-primary="" data-startref="ix_class_trend_tasuki" data-type="indexterm" id="idm46762871690496"/>.</p>
</div></section>
<section data-pdf-bookmark="The Three Methods Pattern" data-type="sect1"><div class="sect1" id="idm46762871594608">
<h1>The Three Methods Pattern</h1>
<p>The <em>Three Methods</em> pattern<a contenteditable="false" data-primary="Three Methods pattern" data-type="indexterm" id="ix_3methods_patt"/><a contenteditable="false" data-primary="trend-following patterns" data-secondary="Three Methods pattern" data-type="indexterm" id="ix_trend_patt_3method"/><a contenteditable="false" data-primary="classic trend-following patterns" data-secondary="Three Methods pattern" data-type="indexterm" id="ix_class_trend_3methods"/><a contenteditable="false" data-primary="rising Three Methods pattern" data-type="indexterm" id="idm46762871515728"/> is a complex configuration mainly composed of five candlesticks. The rising Three Methods pattern should occur in a bullish trend with the first candlestick being a big-bodied bullish one followed by three small-bodied bearish candlesticks typically contained within the range of the first candlestick. To confirm the pattern, one last big bullish candlestick must be printed with a close higher than the first candlestick’s high. This is just like a bullish breakout of a small <span class="keep-together">consolidation</span>.</p>
<p class="pagebreak-before"><a data-type="xref" href="#figure4-12">Figure 4-12</a> illustrates a rising Three Methods.</p>
<figure><div class="figure" id="figure4-12"><img alt="" height="365" src="assets/mfpr_0412.png" width="600"/>
<h6><span class="label">Figure 4-12. </span>A rising Three Methods pattern</h6>
</div></figure>
<p>The falling<a contenteditable="false" data-primary="falling Three Methods pattern" data-type="indexterm" id="idm46762871510064"/> Three Methods pattern should occur in a bearish trend with the first candlestick being a big-bodied bearish candlestick followed by three small-bodied bullish candlesticks typically contained within the range of the first candlestick. To confirm the pattern, one last big bearish candlestick must be printed with a close lower than the first candlestick’s low. This is just like a bearish breakout of a small consolidation. <a data-type="xref" href="#figure4-13">Figure 4-13</a> illustrates a falling Three Methods.</p>
<figure><div class="figure" id="figure4-13"><img alt="" height="365" src="assets/mfpr_0413.png" width="600"/>
<h6><span class="label">Figure 4-13. </span>A falling Three Methods pattern</h6>
</div></figure>
<p>Psychologically<a contenteditable="false" data-primary="correction, market" data-type="indexterm" id="idm46762870677840"/><a contenteditable="false" data-primary="consolidation, market" data-type="indexterm" id="idm46762870676704"/> speaking, the pattern relates to the concept of surpass or break as a confirmation of the initial move. Traders generally push the prices up until they begin to book their profits and thus close out of the positions. This activity has a smoothing effect on the price and should stabilize it through a phase called <em>correction</em> or <span class="keep-together"><em>consolidation</em></span>.</p>
<p class="pagebreak-before">In case the initial traders resume their buying or selling activity and manage to go beyond the range of consolidation, you can have a certain confidence that the move should continue.</p>
<p>The signal function for the Three Methods candlestick pattern can be written as <span class="keep-together">follows</span>:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code><code> </code><code class="nf">signal</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">,</code><code> </code><code>
</code><code>           </code><code class="n">buy_column</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">)</code><code>
</code><code>    </code><code>
</code><code>    </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)</code><code class="p">)</code><code class="p">:</code><code>
</code><code>        </code><code>
</code><code>       </code><code class="k">try</code><code class="p">:</code><code>
</code><code>           </code><code>
</code><code> </code><strong><code>          </code><code class="c1"># Bullish pattern</code></strong><code>
</code><code>           </code><code class="k">if</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>              </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">buy_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">1</code><code>
</code><code>                    </code><code>
</code><code> </code><strong><code>          </code><code class="c1"># Bearish pattern</code></strong><code>
</code><code>           </code><code class="k">elif</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code>\
</code><code>                </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code class="p">:</code><code>
</code><code>                  </code><code>
</code><code>                    </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">sell_column</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mi">1</code><code>
</code><code>                    </code><code>
</code><code>       </code><code class="k">except</code><code> </code><code class="ne">IndexError</code><code class="p">:</code><code>
</code><code>            </code><code>
</code><code>            </code><code class="k">pass</code><code>
</code><code>        </code><code>
</code><code>    </code><code class="k">return</code><code> </code><code class="n">data</code><code>
</code></pre>
<p class="pagebreak-before"><a data-type="xref" href="#figure4-14">Figure 4-14</a> shows a signal chart on USDCAD.</p>
<figure><div class="figure" id="figure4-14"><img alt="" height="294" src="assets/mfpr_0414.png" width="600"/>
<h6><span class="label">Figure 4-14. </span>Signal chart on the USDCAD</h6>
</div></figure>
<p>The pattern is extremely rare and does not show much added value on its own. The results from the back-tests show very few signals generated even when making the conditions more flexible; therefore, this pattern remains mysterious<a contenteditable="false" data-primary="" data-startref="ix_trend_patt_3method" data-type="indexterm" id="idm46762869339984"/><a contenteditable="false" data-primary="" data-startref="ix_class_trend_3methods" data-type="indexterm" id="idm46762869338608"/><a contenteditable="false" data-primary="" data-startref="ix_3methods_patt" data-type="indexterm" id="idm46762869787760"/>.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Depending on your data provider, some historical values may not exactly be the same and thus, you can see past patterns validated on data coming from a certain provider but not on data coming from another provider. This typically explains the slight differences in back-testing results when switching providers and brokers.</p>
</div>
</div></section>
<section data-pdf-bookmark="The Hikkake Pattern" data-type="sect1"><div class="sect1" id="idm46762869315952">
<h1>The Hikkake Pattern</h1>
<p><em>Hikkake </em>is a Japanese<a contenteditable="false" data-primary="Hikkake pattern" data-type="indexterm" id="ix_hikkake_patt_ch4"/><a contenteditable="false" data-primary="trend-following patterns" data-secondary="Hikkake pattern" data-type="indexterm" id="ix_trend_patt_hikkake"/><a contenteditable="false" data-primary="classic trend-following patterns" data-secondary="Hikkake pattern" data-type="indexterm" id="ix_class_trend_hikkake"/> verb that means “to trick” or “to trap,” and this pattern refers to an actual trap. The pattern is complex, being composed of around five candlesticks depending on the literature (some research shows that it could be a combination of multiple candlesticks but does not specify the number of candlesticks).</p>
<p>The bullish Hikkake (shown in <a data-type="xref" href="#figure4-15">Figure 4-15</a>) starts with a bullish candlestick followed by a bearish candlestick completely embedded inside the first one. Then, two candlesticks must appear with a high that does not surpass the second candle’s high. Finally, a big bullish candlestick appears with a close that surpasses the high of the second candlestick. This serves as the validation of the pattern and the upside confirmation.</p>
<p class="pagebreak-before">The bearish Hikkake starts with a bearish candlestick followed by a bullish candlestick completely embedded inside the first one. Then, two candlesticks must be printed with a low that does not surpass the second candle’s low. Finally, a big bearish candlestick must be printed with a close that breaks the low of the second candlestick. This serves as the validation of the pattern and the downside confirmation.</p>
<p>The psychology<a contenteditable="false" data-primary="entrapment, Hikkake pattern" data-type="indexterm" id="idm46762869532640"/> of the pattern is not hard to grasp even though it is subjective in nature. The term <em>entrapment </em>comes from the fact that a bullish Hikkake is historically a bearish trap for traders thinking that the market has seen a resistance and should continue lower. Therefore, whenever you see the final candlestick breaching the highs and validating the configuration, you can have a certain confidence that more strength is to come. This is because stops are getting taken out and because traders are looking at a market that is surpassing its resistance, which is theoretically a strong bullish signal.</p>
<figure><div class="figure" id="figure4-15"><img alt="" height="245" src="assets/mfpr_0415.png" width="600"/>
<h6><span class="label">Figure 4-15. </span>A bullish Hikkake</h6>
</div></figure>
<p>A bearish Hikkake (shown in <a data-type="xref" href="#figure4-16">Figure 4-16</a>) can be compared to a bullish trap for traders who think that the market has seen a support and should now bounce. Therefore, whenever you see the final candlestick breaking the lows and validating the configuration, you can start changing the bias.</p>
<figure><div class="figure" id="figure4-16"><img alt="" height="270" src="assets/mfpr_0416.png" width="600"/>
<h6><span class="label">Figure 4-16. </span>A bearish Hikkake</h6>
</div></figure>
<p class="pagebreak-before">The signal function can be written as follows:</p>
<pre data-code-language="python" data-executable="true" data-type="programlisting">
<code class="k">def</code><code> </code><code class="nf">signal</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">,</code><code> </code><code>
</code><code>           </code><code class="n">buy_signal</code><code class="p">,</code><code> </code><code class="n">sell_signal</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">add_column</code><code class="p">(</code><code class="n">data</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">)</code><code>    </code><code>
</code><code>    </code><code>
</code><code>    </code><code class="k">for</code><code> </code><code class="n">i</code><code> </code><code class="ow">in</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">data</code><code class="p">)</code><code class="p">)</code><code class="p">:</code><code>    </code><code>
</code><code>
</code><code>       </code><code class="k">try</code><code class="p">:</code><code>
</code><code>        </code><code>
</code><code>        </code><strong><code>    </code><code class="c1"># Bullish pattern</code></strong><code>
</code><code>            </code><code class="k">if</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code class="o">=</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code class="o">=</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>               </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code class="p">:</code><code> </code><code>
</code><code>                </code><code>
</code><code>                   </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">buy_signal</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="mi">1</code><code> </code><code>
</code><code>                 </code><code>
</code><code>       </code><strong><code>     </code><code class="c1"># Bearish pattern</code></strong><code>
</code><code>            </code><code class="k">elif</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code class="o">=</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code class="o">=</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="o">&gt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">low_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">high_column</code><code class="p">]</code><code> </code><code class="ow">and</code><code> </code><code>\
</code><code>                 </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">close_column</code><code class="p">]</code><code> </code><code class="o">&lt;</code><code> </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">-</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">open_column</code><code class="p">]</code><code class="p">:</code><code> </code><code>
</code><code>        </code><code>
</code><code>                     </code><code class="n">data</code><code class="p">[</code><code class="n">i</code><code> </code><code class="o">+</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="n">sell_signal</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="o">-</code><code class="mi">1</code><code>
</code><code>                   </code><code>
</code><code>       </code><code class="k">except</code><code> </code><code class="ne">IndexError</code><code class="p">:</code><code>
</code><code>            </code><code>
</code><code>            </code><code class="k">pass</code><code>
</code><code>        </code><code>
</code><code>    </code><code class="k">return</code><code> </code><code class="n">data</code><code>
</code></pre>
<p class="pagebreak-before"><a data-type="xref" href="#figure4-17">Figure 4-17</a> shows a generated signal on EURGBP. It is clear that this pattern is rare and does not have meaningful back-testing results.</p>
<figure><div class="figure" id="figure4-17"><img alt="" height="297" src="assets/mfpr_0417.png" width="600"/>
<h6><span class="label">Figure 4-17. </span>Signal chart on EURGBP</h6>
</div></figure>
<p>Because the pattern is quite rare, it does not have enough sufficient data to be evaluated properly. Surely, the conditions can be relaxed so that more signals appear, but theoretically, you would have to call it something else if you were to do that. <a data-type="xref" href="#table4-5">Table 4-5</a> summarizes the performance<a contenteditable="false" data-primary="" data-startref="ix_trend_patt_hikkake" data-type="indexterm" id="idm46762868518480"/><a contenteditable="false" data-primary="" data-startref="ix_class_trend_hikkake" data-type="indexterm" id="idm46762868556576"/><a contenteditable="false" data-primary="" data-startref="ix_hikkake_patt_ch4" data-type="indexterm" id="idm46762868555200"/><a contenteditable="false" data-primary="" data-startref="ix_class_trend_ch4" data-type="indexterm" id="idm46762868349104"/>.</p>
<table id="table4-5">
<caption><span class="label">Table 4-5. </span>Hikkake pattern: performance summary table</caption>
<thead>
<tr>
<th>
<p>Asset</p>
</th>
<th>
<p>Hit Ratio</p>
</th>
<th>
<p>Profit Factor</p>
</th>
<th>
<p>Risk-Reward Ratio</p>
</th>
<th>
<p>Signals</p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>EURUSD</p>
</td>
<td>
<p>44.83%</p>
</td>
<td>
<p>0.94</p>
</td>
<td>
<p>1.16</p>
</td>
<td>
<p>116</p>
</td>
</tr>
<tr>
<td>
<p>USDCHF</p>
</td>
<td>
<p>47.66%</p>
</td>
<td>
<p>0.74</p>
</td>
<td>
<p>0.81</p>
</td>
<td>
<p>107</p>
</td>
</tr>
<tr>
<td>
<p>GBPUSD</p>
</td>
<td>
<p>49.57%</p>
</td>
<td>
<p>1.55</p>
</td>
<td>
<p>1.57</p>
</td>
<td>
<p>115</p>
</td>
</tr>
<tr>
<td>
<p>USDCAD</p>
</td>
<td>
<p>55.14%</p>
</td>
<td>
<p>0.84</p>
</td>
<td>
<p>0.68</p>
</td>
<td>
<p>107</p>
</td>
</tr>
<tr>
<td>
<p>BTCUSD</p>
</td>
<td>
<p>56.96%</p>
</td>
<td>
<p>1.18</p>
</td>
<td>
<p>0.89</p>
</td>
<td>
<p>79</p>
</td>
</tr>
<tr>
<td>
<p>ETHUSD</p>
</td>
<td>
<p>60.00%</p>
</td>
<td>
<p>1.24</p>
</td>
<td>
<p>0.82</p>
</td>
<td>
<p>50</p>
</td>
</tr>
<tr>
<td>
<p>GOLD</p>
</td>
<td>
<p>51.81%</p>
</td>
<td>
<p>1.14</p>
</td>
<td>
<p>1.06</p>
</td>
<td>
<p>166</p>
</td>
</tr>
<tr>
<td>
<p>S&amp;P500</p>
</td>
<td>
<p>83.33%</p>
</td>
<td>
<p>6.01</p>
</td>
<td>
<p>1.20</p>
</td>
<td>
<p>12</p>
</td>
</tr>
<tr>
<td>
<p>FTSE100</p>
</td>
<td>
<p>53.33%</p>
</td>
<td>
<p>2.06</p>
</td>
<td>
<p>1.80</p>
</td>
<td>
<p>15</p>
</td>
</tr>
</tbody>
</table>
<p>The results show random performance, which likely means that the pattern is not predictive. The hit ratio of 83.33% on the S&amp;P 500 is unlikely to be statistically correct since the algorithm detected only 12 signals in the past few years.</p>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="idm46762871725168"><sup><a href="ch04.xhtml#idm46762871725168-marker">1</a></sup> Remember, the Three Candles pattern is composed of three big candles. Therefore, you need to code the condition that they must have a minimum size.</p></div></div></section></div></body></html>